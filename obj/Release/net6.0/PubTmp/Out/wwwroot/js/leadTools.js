/**************************************************
LEADTOOLS (C) 1991-2017 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.js
// Version:19.0.0.19
(function(a){function b(a){this.__typeName=a}a.ss={version:"1.0.0.0",isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},isNullOrUndefined:function(a){return null===a||void 0===a},isValue:function(a){return null!==a&&void 0!==a}};Object.__typeName="Object";Object.__baseType=null;Object.clearKeys=function(a){for(var b in a)delete a[b]};Object.keyExists=function(a,b){return void 0!==a[b]};Object.keys?Object.getKeyCount=function(a){return Object.keys(a).length}:(Object.keys=
function(a){var b=[],c;for(c in a)b.push(c);return b},Object.getKeyCount=function(a){var b=0,c;for(c in a)b++;return b});Boolean.__typeName="Boolean";Boolean.parse=function(a){return a.toLowerCase()=="true"};Number.__typeName="Number";Number.parse=function(a){return!a||!a.length?0:a.indexOf(".")>=0||a.indexOf("e")>=0||a.endsWith("f")||a.endsWith("F")?parseFloat(a):parseInt(a,10)};Number.prototype.format=function(a){return ss.isNullOrUndefined(a)||a.length==0||a=="i"?this.toString():this._netFormat(a,
false)};Number.prototype.localeFormat=function(a){return ss.isNullOrUndefined(a)||a.length==0||a=="i"?this.toLocaleString():this._netFormat(a,true)};Number._commaFormat=function(a,b,c,d){var g=null,c=a.indexOf(c);if(c>0){g=a.substr(c);a=a.substr(0,c)}(c=a.startsWith("-"))&&(a=a.substr(1));var j=0,l=b[j];if(a.length<l)return g?a+g:a;for(var i=a.length,o="",p=false;!p;){var n=l,m=i-n;if(m<0){l=l+m;n=n+m;m=0;p=true}if(!n)break;m=a.substr(m,n);o=o.length?m+d+o:m;i=i-n;if(j<b.length-1){j++;l=b[j]}}c&&
(o="-"+o);return g?o+g:o};Number.prototype._netFormat=function(a,b){var c=b?ss.CultureInfo.CurrentCulture.numberFormat:ss.CultureInfo.InvariantCulture.numberFormat,d="",g=-1;a.length>1&&(g=parseInt(a.substr(1)));var j=a.charAt(0);switch(j){case "d":case "D":d=parseInt(Math.abs(this)).toString();g!=-1&&(d=d.padLeft(g,"0"));this<0&&(d="-"+d);break;case "x":case "X":d=parseInt(Math.abs(this)).toString(16);j=="X"&&(d=d.toUpperCase());g!=-1&&(d=d.padLeft(g,"0"));break;case "e":case "E":d=g==-1?this.toExponential():
this.toExponential(g);j=="E"&&(d=d.toUpperCase());break;case "f":case "F":case "n":case "N":if(g==-1)g=c.numberDecimalDigits;d=this.toFixed(g).toString();if(g&&c.numberDecimalSeparator!="."){g=d.indexOf(".");d=d.substr(0,g)+c.numberDecimalSeparator+d.substr(g+1)}if(j=="n"||j=="N")d=Number._commaFormat(d,c.numberGroupSizes,c.numberDecimalSeparator,c.numberGroupSeparator);break;case "c":case "C":if(g==-1)g=c.currencyDecimalDigits;d=Math.abs(this).toFixed(g).toString();if(g&&c.currencyDecimalSeparator!=
"."){g=d.indexOf(".");d=d.substr(0,g)+c.currencyDecimalSeparator+d.substr(g+1)}d=Number._commaFormat(d,c.currencyGroupSizes,c.currencyDecimalSeparator,c.currencyGroupSeparator);d=this<0?String.format(c.currencyNegativePattern,d):String.format(c.currencyPositivePattern,d);break;case "p":case "P":if(g==-1)g=c.percentDecimalDigits;d=(Math.abs(this)*100).toFixed(g).toString();if(g&&c.percentDecimalSeparator!="."){g=d.indexOf(".");d=d.substr(0,g)+c.percentDecimalSeparator+d.substr(g+1)}d=Number._commaFormat(d,
c.percentGroupSizes,c.percentDecimalSeparator,c.percentGroupSeparator);d=this<0?String.format(c.percentNegativePattern,d):String.format(c.percentPositivePattern,d)}return d};String.__typeName="String";String.Empty="";String.compare=function(a,b,c){if(c){a&&(a=a.toUpperCase());b&&(b=b.toUpperCase())}a=a||"";b=b||"";return a==b?0:a<b?-1:1};String.prototype.compareTo=function(a,b){return String.compare(this,a,b)};String.concat=function(){return arguments.length===2?arguments[0]+arguments[1]:Array.prototype.join.call(arguments,
"")};String.prototype.endsWith=function(a){return!a.length?true:a.length>this.length?false:this.substr(this.length-a.length)==a};String.equals=function(a,b,c){return String.compare(a,b,c)==0};String._format=function(a,b,c){if(!String._formatRE)String._formatRE=/(\{[^\}^\{]+\})/g;return a.replace(String._formatRE,function(a,e){var d=parseInt(e.substr(1)),d=b[d+1];if(ss.isNullOrUndefined(d))return"";if(d.format){var l=null,i=e.indexOf(":");i>0&&(l=e.substring(i+1,e.length-1));return c?d.localeFormat(l):
d.format(l)}return c?d.toLocaleString():d.toString()})};String.format=function(a){return String._format(a,arguments,false)};String.fromChar=function(a,b){for(var c=a,d=1;d<b;d++)c=c+a;return c};String.prototype.htmlDecode=function(){var a=document.createElement("div");a.innerHTML=this;return a.textContent||a.innerText};String.prototype.htmlEncode=function(){var a=document.createElement("div");a.appendChild(document.createTextNode(this));return a.innerHTML.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,
"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};String.prototype.indexOfAny=function(a,b,c){var d=this.length;if(!d)return-1;b=b||0;c=b+(c||d)-1;for(c>=d&&(c=d-1);b<=c;b++)if(a.indexOf(this.charAt(b))>=0)return b;return-1};String.prototype.insert=function(a,b){if(!b)return this.valueOf();if(!a)return b+this;var c=this.substr(0,a),d=this.substr(a);return c+b+d};String.isNullOrEmpty=function(a){return!a||!a.length};String.isNullOrWhiteSpace=function(a){return String.isNullOrEmpty(a)||a.trim()===
""};String.prototype.lastIndexOfAny=function(a,b,c){var d=this.length;if(!d)return-1;b=b||d-1;c=b-(c||d)+1;for(c<0&&(c=0);b>=c;b--)if(a.indexOf(this.charAt(b))>=0)return b;return-1};String.localeFormat=function(a){return String._format(a,arguments,true)};String.prototype.padLeft=function(a,b){return this.length<a?String.fromChar(b||" ",a-this.length)+this:this.valueOf()};String.prototype.padRight=function(a,b){return this.length<a?this+String.fromChar(b||" ",a-this.length):this.valueOf()};String.prototype.remove=
function(a,b){return!b||a+b>this.length?this.substr(0,a):this.substr(0,a)+this.substr(a+b)};String.prototype.replaceAll=function(a,b){return this.split(a).join(b||"")};String.prototype.startsWith=function(a){return!a.length?true:a.length>this.length?false:this.substr(0,a.length)==a};String.prototype.trim||(String.prototype.trim=function(){return this.trimEnd().trimStart()});String.prototype.trimEnd=function(){return this.replace(/\s*$/,"")};String.prototype.trimStart=function(){return this.replace(/^\s*/,
"")};Array.__typeName="Array";Array.__interfaces=[ss.IEnumerable];Array.prototype.add=function(a){this[this.length]=a};Array.prototype.addRange=function(a){this.push.apply(this,a)};Array.prototype.clear=function(){this.length=0};Array.prototype.clone=function(){return this.length===1?[this[0]]:Array.apply(null,this)};Array.prototype.contains=function(a){return this.indexOf(a)>=0};Array.prototype.dequeue=function(){return this.shift()};Array.prototype.enqueue=function(a){this._queue=true;this.push(a)};
Array.prototype.peek=function(){return this.length?this[this._queue?0:this.length-1]:null};Array.prototype.every||(Array.prototype.every=function(a,b){for(var c=this.length,d=0;d<c;d++)if(d in this&&!a.call(b,this[d],d,this))return false;return true});Array.prototype.extract=function(a,b){return!b?this.slice(a):this.slice(a,a+b)};Array.prototype.filter||(Array.prototype.filter=function(a,b){for(var c=this.length,d=[],g=0;g<c;g++)if(g in this){var j=this[g];a.call(b,j,g,this)&&d.push(j)}return d});
Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=this.length,d=0;d<c;d++)d in this&&a.call(b,this[d],d,this)});Array.prototype.getEnumerator=function(){return new ss.ArrayEnumerator(this)};Array.prototype.groupBy=function(a,b){for(var c=this.length,d=[],g={},j=0;j<c;j++)if(j in this){var l=a.call(b,this[j],j);if(!String.isNullOrEmpty(l)){var i=g[l];if(!i){i=[];i.key=l;g[l]=i;d.add(i)}i.add(this[j])}}return d};Array.prototype.index=function(a,b){for(var c=this.length,d={},
g=0;g<c;g++)if(g in this){var j=a.call(b,this[g],g);String.isNullOrEmpty(j)||(d[j]=this[g])}return d};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length;if(c)for(var d=b||0;d<c;d++)if(this[d]===a)return d;return-1});Array.prototype.insert=function(a,b){this.splice(a,0,b)};Array.prototype.insertRange=function(a,b){if(a===0)this.unshift.apply(this,b);else for(var c=0;c<b.length;c++)this.splice(a+c,0,b[c])};Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a,
b){for(var c=b=b||this.length-1;c>=0;c--)if(this[c]===a)return c;return-1});Array.prototype.map||(Array.prototype.map=function(a,b){for(var c=this.length,d=Array(c),g=0;g<c;g++)g in this&&(d[g]=a.call(b,this[g],g,this));return d});Array.prototype.reduce||(Array.prototype.reduce=function(a,b){var c=b,d=this.length;if(d){var g=0;if(arguments.length==1){c=this[0];g++}for(;g<d;g++)c=a(c,this[g],g,this)}return c},Array.prototype.reduceRight=function(a,b){var c=b,d=this.length;if(d){d=d-1;if(arguments.length==
1){c=this[d];d--}for(;d>=0;d--)c=a(c,this[d],d,this)}return c});Array.prototype.remove=function(a){a=this.indexOf(a);if(a>=0){this.splice(a,1);return true}return false};Array.prototype.removeAt=function(a){this.splice(a,1)};Array.prototype.removeRange=function(a,b){return this.splice(a,b)};Array.prototype.some||(Array.prototype.some=function(a,b){for(var c=this.length,d=0;d<c;d++)if(d in this&&a.call(b,this[d],d,this))return true;return false});Array.toArray=function(a){return Array.prototype.slice.call(a)};
RegExp.__typeName="RegExp";RegExp.parse=function(a){if(a.startsWith("/")){var b=a.lastIndexOf("/");if(b>1){var c=a.substring(1,b),a=a.substr(b+1);return RegExp(c,a)}}return null};Date.__typeName="Date";Date.empty=null;Date.get_now=function(){return new Date};Date.get_today=function(){var a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate())};Date.isEmpty=function(a){return a===null||a.valueOf()===0};Date.prototype.format=function(a){return ss.isNullOrUndefined(a)||a.length==0||a=="i"?
this.toString():a=="id"?this.toDateString():a=="it"?this.toTimeString():this._netFormat(a,false)};Date.prototype.localeFormat=function(a){return ss.isNullOrUndefined(a)||a.length==0||a=="i"?this.toLocaleString():a=="id"?this.toLocaleDateString():a=="it"?this.toLocaleTimeString():this._netFormat(a,true)};Date.prototype._netFormat=function(a,b){var c=this,d=b?ss.CultureInfo.CurrentCulture.dateFormat:ss.CultureInfo.InvariantCulture.dateFormat;if(a.length==1)switch(a){case "f":a=d.longDatePattern+" "+
d.shortTimePattern;break;case "F":a=d.dateTimePattern;break;case "d":a=d.shortDatePattern;break;case "D":a=d.longDatePattern;break;case "t":a=d.shortTimePattern;break;case "T":a=d.longTimePattern;break;case "g":a=d.shortDatePattern+" "+d.shortTimePattern;break;case "G":a=d.shortDatePattern+" "+d.longTimePattern;break;case "R":case "r":d=ss.CultureInfo.InvariantCulture.dateFormat;a=d.gmtDateTimePattern;break;case "u":a=d.universalDateTimePattern;break;case "U":a=d.dateTimePattern;c=new Date(c.getUTCFullYear(),
c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds());break;case "s":a=d.sortableDateTimePattern}a.charAt(0)=="%"&&(a=a.substr(1));if(!Date._formatRE)Date._formatRE=/'.*?[^\\]'|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z/g;var g=Date._formatRE,j=new ss.StringBuilder;for(g.lastIndex=0;;){var l=g.lastIndex,i=g.exec(a);j.append(a.slice(l,i?i.index:a.length));if(!i)break;i=l=i[0];switch(l){case "dddd":i=d.dayNames[c.getDay()];
break;case "ddd":i=d.shortDayNames[c.getDay()];break;case "dd":i=c.getDate().toString().padLeft(2,"0");break;case "d":i=c.getDate();break;case "MMMM":i=d.monthNames[c.getMonth()];break;case "MMM":i=d.shortMonthNames[c.getMonth()];break;case "MM":i=(c.getMonth()+1).toString().padLeft(2,"0");break;case "M":i=c.getMonth()+1;break;case "yyyy":i=c.getFullYear();break;case "yy":i=(c.getFullYear()%100).toString().padLeft(2,"0");break;case "y":i=c.getFullYear()%100;break;case "h":case "hh":(i=c.getHours()%
12)?l=="hh"&&(i=i.toString().padLeft(2,"0")):i="12";break;case "HH":i=c.getHours().toString().padLeft(2,"0");break;case "H":i=c.getHours();break;case "mm":i=c.getMinutes().toString().padLeft(2,"0");break;case "m":i=c.getMinutes();break;case "ss":i=c.getSeconds().toString().padLeft(2,"0");break;case "s":i=c.getSeconds();break;case "t":case "tt":i=c.getHours()<12?d.amDesignator:d.pmDesignator;l=="t"&&(i=i.charAt(0));break;case "fff":i=c.getMilliseconds().toString().padLeft(3,"0");break;case "ff":i=
c.getMilliseconds().toString().padLeft(3).substr(0,2);break;case "f":i=c.getMilliseconds().toString().padLeft(3).charAt(0);break;case "z":i=c.getTimezoneOffset()/60;i=(i>=0?"-":"+")+Math.floor(Math.abs(i));break;case "zz":case "zzz":i=c.getTimezoneOffset()/60;i=(i>=0?"-":"+")+Math.floor(Math.abs(i)).toString().padLeft(2,"0");l=="zzz"&&(i=i+(d.timeSeparator+Math.abs(c.getTimezoneOffset()%60).toString().padLeft(2,"0")));break;default:i.charAt(0)=="'"&&(i=i.substr(1,i.length-2).replace(/\\'/g,"'"))}j.append(i)}return j.toString()};
Date.parseDate=function(a){return new Date(Date.parse(a))};Error.__typeName="Error";Error.prototype.popStackFrame=function(){if(!ss.isNullOrUndefined(this.stack)&&!ss.isNullOrUndefined(this.fileName)&&!ss.isNullOrUndefined(this.lineNumber)){for(var a=this.stack.split("\n"),b=a[0],c=this.fileName+":"+this.lineNumber;!ss.isNullOrUndefined(b)&&b.indexOf(c)===-1;){a.shift();b=a[0]}b=a[1];if(!isNullOrUndefined(b)){b=b.match(/@(.*):(\d+)$/);if(!ss.isNullOrUndefined(b)){a.shift();this.stack=a.join("\n");
this.fileName=b[1];this.lineNumber=parseInt(b[2])}}}};Error.createError=function(a,b,c){a=Error(a);if(b)for(var d in b)a[d]=b[d];if(c)a.innerException=c;a.popStackFrame();return a};a.Type=Function;Type.__typeName="Type";var c={},d=[];b.prototype={__namespace:!0,getName:function(){return this.__typeName}};Type.registerNamespace=function(e){if(!c[e]){for(var f=a,h=e.split("."),k=0;k<h.length;k++){var g=h[k],j=f[g];if(!j){f[g]=j=new b(h.slice(0,k+1).join("."));k==0&&d.add(j)}f=j}c[e]=f}};Type.prototype.registerClass=
function(a,b,c){this.prototype.constructor=this;this.__typeName=a;this.__class=true;this.__baseType=b||Object;if(b)this.__basePrototypePending=true;if(c){this.__interfaces=[];for(var d=2;d<arguments.length;d++){c=arguments[d];this.__interfaces.add(c)}}};Type.prototype.registerInterface=function(a){this.__typeName=a;this.__interface=true};Type.prototype.registerEnum=function(a,b){for(var c in this.prototype)this[c]=this.prototype[c];this.__typeName=a;this.__enum=true;if(b)this.__flags=true};Type.prototype.setupBase=
function(){if(this.__basePrototypePending){var a=this.__baseType;a.__basePrototypePending&&a.setupBase();for(var b in a.prototype){var c=Object.getOwnPropertyDescriptor(a.prototype,b);c&&(c.get||c.set)?Object.getOwnPropertyDescriptor(this.prototype,b)||Object.defineProperty(this.prototype,b,c):this.prototype[b]||(this.prototype[b]=a.prototype[b])}delete this.__basePrototypePending}};Type.prototype.resolveInheritance||(Type.prototype.resolveInheritance=Type.prototype.setupBase);Type.prototype.initializeBase=
function(a,b){this.__basePrototypePending&&this.setupBase();b?this.__baseType.apply(a,b):this.__baseType.apply(a)};Type.prototype.callBaseMethod=function(a,b,c){b=this.__baseType.prototype[b];return c?b.apply(a,c):b.apply(a)};Type.prototype.get_baseType=function(){return this.__baseType||null};Type.prototype.get_fullName=function(){return this.__typeName};Type.prototype.get_name=function(){var a=this.__typeName,b=a.lastIndexOf(".");return b>0?a.substr(b+1):a};Type.prototype.isInstanceOfType=function(a){return ss.isNullOrUndefined(a)?
false:this==Object||a instanceof this?true:this.isAssignableFrom(Type.getInstanceType(a))};Type.prototype.isAssignableFrom=function(a){if(this==Object||this==a)return true;if(this.__class)for(a=a.__baseType;a;){if(this==a)return true;a=a.__baseType}else if(this.__interface){var b=a.__interfaces;if(b&&b.contains(this))return true;for(a=a.__baseType;a;){if((b=a.__interfaces)&&b.contains(this))return true;a=a.__baseType}}return false};Type.isClass=function(a){return a.__class==true};Type.isInterface=
function(a){return a.__interface==true};Type.canCast=function(a,b){return b.isInstanceOfType(a)};Type.safeCast=function(a,b){return b.isInstanceOfType(a)?a:null};Type.getInstanceType=function(a){var b=null;try{b=a.constructor}catch(c){}if(!b||!b.__typeName)b=Object;return b};Type.getType=function(a){if(!a)return null;if(!Type.__typeCache)Type.__typeCache={};var b=Type.__typeCache[a];if(!b){var b=a.split("."),c=window;b.forEach(function(a){c=c[a]});b=c;Type.__typeCache[a]=b}return b};ss.Delegate=function(){};
ss.Delegate.registerClass("Delegate");ss.Delegate.empty=function(){};ss.Delegate._contains=function(a,b,c){for(var d=0;d<a.length;d=d+2)if(a[d]===b&&a[d+1]===c)return true;return false};ss.Delegate._create=function(a){var b=function(){if(a.length==2)return a[1].apply(a[0],arguments);for(var b=a.clone(),c=0;c<b.length;c=c+2)ss.Delegate._contains(a,b[c],b[c+1])&&b[c+1].apply(b[c],arguments);return null};b._targets=a;return b};ss.Delegate.create=function(a,b){return!a?b:ss.Delegate._create([a,b])};ss.Delegate.combine=
function(a,b){return!a?!b._targets?ss.Delegate.create(null,b):b:!b?!a._targets?ss.Delegate.create(null,a):a:ss.Delegate._create((a._targets?a._targets:[null,a]).concat(b._targets?b._targets:[null,b]))};ss.Delegate.remove=function(a,b){if(!a||a===b)return null;if(!b)return a;var c=a._targets,d=null,g;if(b._targets){d=b._targets[0];g=b._targets[1]}else g=b;for(var j=0;j<c.length;j=j+2)if(c[j]===d&&c[j+1]===g){if(c.length==2)return null;c.splice(j,2);return ss.Delegate._create(c)}return a};ss.Delegate.createExport=
function(b,c,d){d=d||"__"+(new Date).valueOf();a[d]=c?b:function(){try{delete a[d]}catch(c){a[d]=void 0}b.apply(null,arguments)};return d};ss.Delegate.deleteExport=function(b){delete a[b]};ss.Delegate.clearExport=function(b){a[b]=ss.Delegate.empty};ss.CultureInfo=function(a,b,c){this.name=a;this.numberFormat=b;this.dateFormat=c};ss.CultureInfo.registerClass("CultureInfo");ss.CultureInfo.InvariantCulture=new ss.CultureInfo("en-US",{naNSymbol:"NaN",negativeSign:"-",positiveSign:"+",negativeInfinityText:"-Infinity",
positiveInfinityText:"Infinity",percentSymbol:"%",percentGroupSizes:[3],percentDecimalDigits:2,percentDecimalSeparator:".",percentGroupSeparator:",",percentPositivePattern:"{0} %",percentNegativePattern:"-{0} %",currencySymbol:"$",currencyGroupSizes:[3],currencyDecimalDigits:2,currencyDecimalSeparator:".",currencyGroupSeparator:",",currencyNegativePattern:"(${0})",currencyPositivePattern:"${0}",numberGroupSizes:[3],numberDecimalDigits:2,numberDecimalSeparator:".",numberGroupSeparator:","},{amDesignator:"AM",
pmDesignator:"PM",dateSeparator:"/",timeSeparator:":",gmtDateTimePattern:"ddd, dd MMM yyyy HH:mm:ss 'GMT'",universalDateTimePattern:"yyyy-MM-dd HH:mm:ssZ",sortableDateTimePattern:"yyyy-MM-ddTHH:mm:ss",dateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",longDatePattern:"dddd, MMMM dd, yyyy",shortDatePattern:"M/d/yyyy",longTimePattern:"h:mm:ss tt",shortTimePattern:"h:mm tt",firstDayOfWeek:0,dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),shortDayNames:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),
minimizedDayNames:"Su,Mo,Tu,We,Th,Fr,Sa".split(","),monthNames:"January,February,March,April,May,June,July,August,September,October,November,December,".split(","),shortMonthNames:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,".split(",")});ss.CultureInfo.CurrentCulture=ss.CultureInfo.InvariantCulture;ss.IEnumerator=function(){};ss.IEnumerator.prototype={get_current:null,moveNext:null,reset:null};ss.IEnumerator.getEnumerator=function(a){return a?a.getEnumerator?a.getEnumerator():new ss.ArrayEnumerator(a):
null};ss.IEnumerator.registerInterface("IEnumerator");ss.IEnumerable=function(){};ss.IEnumerable.prototype={getEnumerator:null};ss.IEnumerable.registerInterface("IEnumerable");ss.ArrayEnumerator=function(a){this._array=a;this._index=-1;this.current=null};ss.ArrayEnumerator.prototype={moveNext:function(){this._index++;this.current=this._array[this._index];return this._index<this._array.length},reset:function(){this._index=-1;this.current=null}};ss.ArrayEnumerator.registerClass("ArrayEnumerator",null,
ss.IEnumerator);ss.IDisposable=function(){};ss.IDisposable.prototype={dispose:null};ss.IDisposable.registerInterface("IDisposable");ss.StringBuilder=function(a){this._parts=ss.isNullOrUndefined(a)||a===""?[]:[a];this.isEmpty=this._parts.length==0};ss.StringBuilder.prototype={append:function(a){if(!ss.isNullOrUndefined(a)&&a!==""){this._parts.add(a);this.isEmpty=false}return this},appendLine:function(a){this.append(a);this.append("\r\n");this.isEmpty=false;return this},clear:function(){this._parts=
[];this.isEmpty=true},toString:function(a){return this._parts.join(a||"")}};ss.StringBuilder.registerClass("StringBuilder");ss.EventHandler=function(){};ss.EventHandler.registerClass("EventHandler");ss.EventHandler.create=function(a,b,c){var d=new ss.EventHandler;d._target=a;d._addFunction=b;d._removeFunction=c;return d};ss.EventHandler.prototype={_target:null,_addFunction:null,_removeFunction:null,add:function(a){this._target?this._addFunction.call(this._target,a):this._addFunction(a);return a},
remove:function(a){this._target?this._removeFunction.call(this._target,a):this._removeFunction(a)}};ss.Tuple=function(a,b,c){this.first=a;this.second=b;if(arguments.length==3)this.third=c};ss.Tuple.registerClass("Tuple");ss.Observable=function(a){this._v=a;this._observers=null};ss.Observable.prototype={getValue:function(){this._observers=ss.Observable._captureObservers(this._observers);return this._v},setValue:function(a){if(this._v!==a){this._v=a;if(a=this._observers){this._observers=null;ss.Observable._invalidateObservers(a)}}}};
ss.Observable._observerStack=[];ss.Observable._observerRegistration={dispose:function(){ss.Observable._observerStack.pop()}};ss.Observable.registerObserver=function(a){ss.Observable._observerStack.push(a);return ss.Observable._observerRegistration};ss.Observable._captureObservers=function(a){var b=ss.Observable._observerStack,c=b.length;if(c){for(var a=a||[],d=0;d<c;d++){var g=b[d];a.contains(g)||a.push(g)}return a}return null};ss.Observable._invalidateObservers=function(a){for(var b=0,c=a.length;b<
c;b++)a[b].invalidateObserver()};ss.Observable.registerClass("Observable");ss.ObservableCollection=function(a){this._items=a||[];this._observers=null};ss.ObservableCollection.prototype={get_item:function(a){this._observers=ss.Observable._captureObservers(this._observers);return this._items[a]},set_item:function(a,b){this._items[a]=b;this._updated()},get_length:function(){this._observers=ss.Observable._captureObservers(this._observers);return this._items.length},add:function(a){this._items.push(a);
this._updated()},clear:function(){this._items.clear();this._updated()},contains:function(a){return this._items.contains(a)},getEnumerator:function(){this._observers=ss.Observable._captureObservers(this._observers);return this._items.getEnumerator()},indexOf:function(a){return this._items.indexOf(a)},insert:function(a,b){this._items.insert(a,b);this._updated()},remove:function(a){if(this._items.remove(a)){this._updated();return true}return false},removeAt:function(a){this._items.removeAt(a);this._updated()},
toArray:function(){return this._items},_updated:function(){var a=this._observers;if(a){this._observers=null;ss.Observable._invalidateObservers(a)}}};ss.ObservableCollection.registerClass("ObservableCollection",null,ss.IEnumerable);ss.Task=function(a){this._continuations=ss.isValue(a)?(this.status="done",null):(this.status="pending",[]);this.result=a;this.error=null};ss.Task.prototype={get_completed:function(){return this.status!="pending"},continueWith:function(a){if(this._continuations)this._continuations.push(a);
else{var b=this;setTimeout(function(){a(b)},0)}return this},done:function(a){return this.continueWith(function(b){b.status=="done"&&a(b.result)})},fail:function(a){return this.continueWith(function(b){b.status=="failed"&&a(b.error)})},then:function(a,b){return this.continueWith(function(c){c.status=="done"?a(c.result):b(c.error)})},_update:function(a,b){if(this.status=="pending"){if(b){this.error=b;this.status="failed"}else{this.result=a;this.status="done"}var c=this._continuations;this._continuations=
null;for(var d=0,g=c.length;d<g;d++)c[d](this)}}};ss.Task._join=function(a,b){function c(a){if(l.status=="pending"){i++;b?l._update(a):i==g&&l._update(true)}}function d(){l.status=="pending"&&(b?l._update(null):l._update(false))}var a=Array.toArray(a),g=a.length,j=0;if(g>1&&typeof a[0]=="number"){j=a[0];a=a.slice(1);g--}var l=new ss.Task,i=0;j!=0&&setTimeout(d,j);for(j=0;j<g;j++)a[j].continueWith(c);return l};ss.Task.all=function(){return ss.Task._join(arguments,false)};ss.Task.any=function(){return ss.Task._join(arguments,
true)};ss.Task.delay=function(a){var b=new ss.Task;setTimeout(function(){b._update(true)},a);return b};ss.Deferred=function(a){this.task=new ss.Task(a)};ss.Deferred.prototype={resolve:function(a){this.task._update(a)},reject:function(a){this.task._update(null,a||Error())}};ss.Deferred.registerClass("Deferred");ss.Task.registerClass("Task");ss.IApplication=function(){};ss.IApplication.registerInterface("IApplication");ss.IContainer=function(){};ss.IContainer.registerInterface("IContainer");ss.IObjectFactory=
function(){};ss.IObjectFactory.registerInterface("IObjectFactory");ss.IEventManager=function(){};ss.IEventManager.registerInterface("IEventManager");ss.IInitializable=function(){};ss.IInitializable.registerInterface("IInitializable");Type.registerNamespace("lt");lt.InvalidOperationException=function(a){this.message=a;this.stack=Error().stack};lt.InvalidOperationException.prototype=Error();lt.ArgumentNullException=function(a){this.message=String.format("'{0}' cannot be null",a);this.stack=Error().stack};
lt.ArgumentNullException.prototype=Error();lt.ArgumentOutOfRangeException=function(a,b,c){this.message=String.format("{0}\n'{1}'\nActual value:{2}",c,a,b);this.stack=Error().stack};lt.ArgumentOutOfRangeException.prototype=Error();lt.ArgumentException=function(a,b){this.message=b?String.format("{0}\n'{1}'",a,b):a;this.stack=Error().stack};lt.ArgumentException.prototype=Error()})(this);
(function(){Type.registerNamespace("lt");window.lt._lT_VersionNumber=function(){};lt.NotifyLeadCollectionChangedAction=function(){};lt.NotifyLeadCollectionChangedAction.prototype={add:0,remove:1,replace:2,move:3,reset:4};lt.NotifyLeadCollectionChangedAction.registerEnum("lt.NotifyLeadCollectionChangedAction",!1);lt.ImageLoaderUrlMode=function(){};lt.ImageLoaderUrlMode.prototype={imageUrl:0,ajaxDataUrl:1,ajaxXml:2};lt.ImageLoaderUrlMode.registerEnum("lt.ImageLoaderUrlMode",!1);lt.LTDevice=function(){};
lt.LTDevice.prototype={unknown:0,desktop:1,mobile:2,tablet:3};lt.LTDevice.registerEnum("lt.LTDevice",!1);lt.LTOS=function(){};lt.LTOS.prototype={unknown:0,windows:1,mac:2,iOS:3,android:4,linux:5,blackberry:6,webOS:7,windows7:8,windows8:9,windows10:10};lt.LTOS.registerEnum("lt.LTOS",!1);lt.LTBrowser=function(){};lt.LTBrowser.prototype={unknown:0,internetExplorer:1,firefox:2,chrome:3,safari:4,opera:5,android:6,edge:7};lt.LTBrowser.registerEnum("lt.LTBrowser",!1);lt.NotifyLeadCollectionChangedEventArgs=
function(){this._newItems$1=[];this._oldItems$1=[];lt.NotifyLeadCollectionChangedEventArgs.initializeBase(this)};lt.NotifyLeadCollectionChangedEventArgs.create=function(a){var b=new lt.NotifyLeadCollectionChangedEventArgs;b._action$1=a;return b};lt.NotifyLeadCollectionChangedEventArgs.createAdd=function(a){var b=new lt.NotifyLeadCollectionChangedEventArgs;b._action$1=0;b._newStartingIndex$1=a;return b};lt.NotifyLeadCollectionChangedEventArgs.createMove=function(a,b){var c=new lt.NotifyLeadCollectionChangedEventArgs;
c._action$1=3;c._oldStartingIndex$1=a;c._newStartingIndex$1=b;return c};lt.NotifyLeadCollectionChangedEventArgs.createRemove=function(a){var b=new lt.NotifyLeadCollectionChangedEventArgs;b._action$1=1;b._oldStartingIndex$1=a;b._newStartingIndex$1=-1;return b};lt.NotifyLeadCollectionChangedEventArgs.createReplace=function(a){var b=new lt.NotifyLeadCollectionChangedEventArgs;b._action$1=2;b._oldStartingIndex$1=a;b._newStartingIndex$1=a;return b};lt.NotifyLeadCollectionChangedEventArgs.prototype={_action$1:0,
get_action:function(){return this._action$1},get_newItems:function(){return this._newItems$1},get_oldItems:function(){return this._oldItems$1},_newStartingIndex$1:0,get_newStartingIndex:function(){return this._newStartingIndex$1},_oldStartingIndex$1:0,get_oldStartingIndex:function(){return this._oldStartingIndex$1}};Object.defineProperty(lt.NotifyLeadCollectionChangedEventArgs.prototype,"action",{get:lt.NotifyLeadCollectionChangedEventArgs.prototype.get_action,enumerable:!0,configurable:!0});Object.defineProperty(lt.NotifyLeadCollectionChangedEventArgs.prototype,
"newItems",{get:lt.NotifyLeadCollectionChangedEventArgs.prototype.get_newItems,enumerable:!0,configurable:!0});Object.defineProperty(lt.NotifyLeadCollectionChangedEventArgs.prototype,"oldItems",{get:lt.NotifyLeadCollectionChangedEventArgs.prototype.get_oldItems,enumerable:!0,configurable:!0});Object.defineProperty(lt.NotifyLeadCollectionChangedEventArgs.prototype,"newStartingIndex",{get:lt.NotifyLeadCollectionChangedEventArgs.prototype.get_newStartingIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.NotifyLeadCollectionChangedEventArgs.prototype,
"oldStartingIndex",{get:lt.NotifyLeadCollectionChangedEventArgs.prototype.get_oldStartingIndex,enumerable:!0,configurable:!0});lt.LeadCollection=function(){this._elements=[]};lt.LeadCollection.prototype={get_count:function(){return this._elements.length},clear:function(){this.clearItems()},remove:function(a){this.removeItem(this.indexOf(a))},add:function(a){this.insertItem(this.get_count(),a)},contains:function(a){return this._elements.contains(a)},getEnumerator:function(){return this._elements.getEnumerator()},
_copyTo:function(a,b,c){for(var d=0,b=ss.IEnumerator.getEnumerator(b);b.moveNext();)d<c||(a[d]=b.current,d++)},toArray:function(){var a=Array(this._elements.length);this._copyTo(a,this._elements,0);return a},insertItem:function(a,b){var c=lt.NotifyLeadCollectionChangedEventArgs.createAdd(-1!==a?a:this.get_count());c.get_newItems().add(b);this._elements.insert(a,b);this.onCollectionChanged(c)},move:function(a,b){this.moveItem(a,b)},insert:function(a,b){this.insertItem(a,b)},moveItem:function(a,b){var c=
this._elements[a];this.removeItem(a);this.insertItem(b,c);var d=lt.NotifyLeadCollectionChangedEventArgs.createMove(a,b);d.get_newItems().add(c);d.get_oldItems().add(c);this.onCollectionChanged(d)},onCollectionChanged:function(a){null!=this.__collectionChanged&&this.__collectionChanged(this,a)},removeAt:function(a){this.removeItem(a)},removeItem:function(a){var b=lt.NotifyLeadCollectionChangedEventArgs.createRemove(a),c=this._elements[a];b.get_newItems().add(c);this._elements.removeAt(a);this.onCollectionChanged(b)},
setItem:function(a,b){var c=this._elements[a];this._elements[a]=b;var d=lt.NotifyLeadCollectionChangedEventArgs.createReplace(a);d.get_oldItems().add(c);d.get_newItems().add(b);this.onCollectionChanged(d)},clearItems:function(){for(var a=lt.NotifyLeadCollectionChangedEventArgs.create(4),b=ss.IEnumerator.getEnumerator(this._elements);b.moveNext();){var c=b.current;a.get_newItems().add(c)}this._elements.clear();this.onCollectionChanged(a)},indexOf:function(a){return this._elements.indexOf(a)},add_collectionChanged:function(a){this.__collectionChanged=
ss.Delegate.combine(this.__collectionChanged,a)},remove_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.remove(this.__collectionChanged,a)},__collectionChanged_handler_get:function(){null==this.__collectionChanged_handler&&(this.__collectionChanged_handler=ss.EventHandler.create(this,this.add_collectionChanged,this.remove_collectionChanged));return this.__collectionChanged_handler},__collectionChanged:null,__collectionChanged_handler:null,get_item:function(a){return this._elements[a]},
set_item:function(a,b){return this._elements[a]=b},item:function(a,b){return void 0===b?this.get_item(a):this.set_item(a,b)}};Object.defineProperty(lt.LeadCollection.prototype,"count",{get:lt.LeadCollection.prototype.get_count,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadCollection.prototype,"collectionChanged",{get:lt.LeadCollection.prototype.__collectionChanged_handler_get,enumerable:!0,configurable:!0});lt.LeadEventArgs=function(){};lt.LeadEventArgs.addToEvent=function(a,b,c){a["__"+
b]=ss.Delegate.combine(a["__"+b],c)};lt.LeadEventArgs.removeFromEvent=function(a,b,c){a["__"+b]=ss.Delegate.remove(a["__"+b],c)};lt.LeadEvent=function(){};lt.LeadEvent.create=function(a,b){if(String.isNullOrWhiteSpace(b))throw Error("'eventName' cannot be null or empty");if(null==a)throw Error("'target' cannot be null");var c=b+"_leadEventHandler",d=b+"_leadEvent";if(a[c]||a[d])throw Error("Event '"+d+"' already defined");a[c]=null;a[d]=ss.EventHandler.create(a,function(b){a[c]=ss.Delegate.combine(a[c],
b);a[d].handler=a[c]},function(b){a[c]=ss.Delegate.remove(a[c],b);a[d].handler=a[c]});a[d].invoke=function(a,b){null!=this.handler&&this.handler(a,b)};return a[d]};lt.LeadEvent.prototype={invoke:function(a,b){null!=this.handler&&this.handler(a,b)}};lt.ImageProcessingProgressEventArgs=function(){lt.ImageProcessingProgressEventArgs.initializeBase(this)};lt.ImageProcessingProgressEventArgs.create=function(a){var b=new lt.ImageProcessingProgressEventArgs;b._percentage$1=a;b._cancel$1=!1;return b};lt.ImageProcessingProgressEventArgs.prototype=
{_percentage$1:0,get_percentage:function(){return this._percentage$1},_cancel$1:!1,get_cancel:function(){return this._cancel$1},set_cancel:function(a){return this._cancel$1=a}};Object.defineProperty(lt.ImageProcessingProgressEventArgs.prototype,"percentage",{get:lt.ImageProcessingProgressEventArgs.prototype.get_percentage,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageProcessingProgressEventArgs.prototype,"cancel",{get:lt.ImageProcessingProgressEventArgs.prototype.get_cancel,set:lt.ImageProcessingProgressEventArgs.prototype.set_cancel,
enumerable:!0,configurable:!0});lt.ImageProcessingCompletedEventArgs=function(){lt.ImageProcessingCompletedEventArgs.initializeBase(this)};lt.ImageProcessingCompletedEventArgs.create=function(a,b){var c=new lt.ImageProcessingCompletedEventArgs;c._imageData$1=a;c._results$1=b;return c};lt.ImageProcessingCompletedEventArgs.prototype={_imageData$1:null,get_imageData:function(){return this._imageData$1},_results$1:null,get_results:function(){return this._results$1}};Object.defineProperty(lt.ImageProcessingCompletedEventArgs.prototype,
"imageData",{get:lt.ImageProcessingCompletedEventArgs.prototype.get_imageData,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageProcessingCompletedEventArgs.prototype,"results",{get:lt.ImageProcessingCompletedEventArgs.prototype.get_results,enumerable:!0,configurable:!0});lt.ImageProcessingErrorEventArgs=function(){lt.ImageProcessingErrorEventArgs.initializeBase(this)};lt.ImageProcessingErrorEventArgs.create=function(a){var b=new lt.ImageProcessingErrorEventArgs;b._error$1=a;return b};
lt.ImageProcessingErrorEventArgs.prototype={_error$1:null,get_error:function(){return this._error$1}};Object.defineProperty(lt.ImageProcessingErrorEventArgs.prototype,"error",{get:lt.ImageProcessingErrorEventArgs.prototype.get_error,enumerable:!0,configurable:!0});lt.ImageProcessing=function(){this._arguments={}};lt.ImageProcessing._getFileName=function(a){var b=a.lastIndexOf("/");-1!==b&&(a=a.substr(b+1));b=a.lastIndexOf("\\");-1!==b&&(a=a.substr(b+1));return a=a.substr(0,a.length-3)};lt.ImageProcessing.prototype=
{_jsFilePath:null,get_jsFilePath:function(){return this._jsFilePath},set_jsFilePath:function(a){return this._jsFilePath=a},_command:null,get_command:function(){return this._command},set_command:function(a){return this._command=a},_imageData:null,get_imageData:function(){return this._imageData},set_imageData:function(a){return this._imageData=a},_arguments:null,get_arguments:function(){return this._arguments},add_progress:function(a){this.__progress=ss.Delegate.combine(this.__progress,a)},remove_progress:function(a){this.__progress=
ss.Delegate.remove(this.__progress,a)},__progress_handler_get:function(){null==this.__progress_handler&&(this.__progress_handler=ss.EventHandler.create(this,this.add_progress,this.remove_progress));return this.__progress_handler},__progress:null,__progress_handler:null,add_completed:function(a){this.__completed=ss.Delegate.combine(this.__completed,a)},remove_completed:function(a){this.__completed=ss.Delegate.remove(this.__completed,a)},__completed_handler_get:function(){null==this.__completed_handler&&
(this.__completed_handler=ss.EventHandler.create(this,this.add_completed,this.remove_completed));return this.__completed_handler},__completed:null,__completed_handler:null,add_error:function(a){this.__error=ss.Delegate.combine(this.__error,a)},remove_error:function(a){this.__error=ss.Delegate.remove(this.__error,a)},__error_handler_get:function(){null==this.__error_handler&&(this.__error_handler=ss.EventHandler.create(this,this.add_error,this.remove_error));return this.__error_handler},__error:null,
__error_handler:null,_isRunning:!1,get_isRunning:function(){return this._isRunning},_workerOnMessageCallback:null,_workerOnErrorCallback:null,_worker:null,_abort:!1,abort:function(){this._isRunning&&(this._abort=!0,null!=this._worker&&(this._clearWorkerEvents(this._worker),this._worker.terminate(),this._worker=null),this._isRunning=!1)},_clearWorkerEvents:function(a){null!=a&&(null!=this._workerOnMessageCallback&&this._worker.removeEventListener("message",this._workerOnMessageCallback,!1),this._workerOnMessageCallback=
null,null!=this._workerOnErrorCallback&&this._worker.removeEventListener("error",this._workerOnErrorCallback,!1),this._workerOnErrorCallback=null)},_runInMainThread:!1,get_runInMainThread:function(){return this._runInMainThread},set_runInMainThread:function(a){return this._runInMainThread=a},run:function(){if(null==this._command)throw Error("'Command' must be set before calling this method");if(null==this._imageData)throw Error("'ImageData' must be set before calling this method");if(null==this._jsFilePath)throw Error("'JSFilePath' must be set before calling this method");
this._abort=this._isRunning=!1;var a=this._worker=null,b=null,c=null,d=!1,e=null,f=null;if(lt.LTHelper.supportsWebWorker&&!this.get_runInMainThread())b=new Worker(this._jsFilePath),c=b.postMessage;else{var h=lt.ImageProcessing._getFileName(this._jsFilePath).replaceAll(".","_")+"_Main",c=window[h];if(null==c){this._isRunning=!0;lt.LTHelper.loadJS(this._jsFilePath,ss.Delegate.create(this,function(){this._isRunning=!1;c=window[h];d=null!=this.__progress;e=ss.Delegate.create(this,function(a){var a=a.data?
a.data:a,c=a.status;"Progress"===c&&d?(null!=this.__progress&&(c=lt.ImageProcessingProgressEventArgs.create(a.percentage),this.__progress(this,c),c.get_cancel()&&(this._abort=!0)),this._abort&&(null!=b?this.abort():a.abort=!0)):"Completed"===c&&(c=a.imageData,this._clearWorkerEvents(this._worker),null!=this.__completed&&(c=lt.ImageProcessingCompletedEventArgs.create(c,a),this.__completed(this,c)),this._worker=null,this._isRunning=!1)});f={imageData:this._imageData,callback:null==b?e:null,useProgress:d,
command:this._command};a=this._arguments;if(0<Object.getKeyCount(a))for(var g=ss.IEnumerator.getEnumerator(Object.keys(a));g.moveNext();){var i=g.current;f[i]=a[i]}this._isRunning=!0;this._abort=!1;this._worker=b;if(null==c)throw Error("Could not find Image Processing main entry function:"+h);c(f)}));return}}var d=null!=this.__progress,e=ss.Delegate.create(this,function(a){var a=a.data?a.data:a,c=a.status;"Progress"===c&&d?(null!=this.__progress&&(c=lt.ImageProcessingProgressEventArgs.create(a.percentage),
this.__progress(this,c),c.get_cancel()&&(this._abort=!0)),this._abort&&(null!=b?this.abort():a.abort=!0)):"Completed"===c&&(this._clearWorkerEvents(this._worker),this._abort||(c=a.imageData,null!=this.__completed&&(c=lt.ImageProcessingCompletedEventArgs.create(c,a),this.__completed(this,c))),this._worker=null,this._isRunning=!1)}),k=null;null!=b&&(k=ss.Delegate.create(this,function(a){null!=this.__error&&(a=!ss.isNullOrUndefined(a.message)?a.message:"Could not run image processing command. Make sure the library path is set",
this.__error(this,lt.ImageProcessingErrorEventArgs.create(Error(a))));this.abort()}));f={imageData:this._imageData,callback:null==b?e:null,useProgress:d,command:this._command};a=this._arguments;if(0<Object.getKeyCount(a))for(var g=ss.IEnumerator.getEnumerator(Object.keys(a));g.moveNext();){var j=g.current;f[j]=a[j]}4===lt.LTHelper.browser&&(f.width=this._imageData.width,f.height=this._imageData.height);this._isRunning=!0;this._abort=!1;this._worker=b;null!=b?(this._workerOnMessageCallback=e,this._workerOnErrorCallback=
k,b.addEventListener("message",e,!1),b.addEventListener("error",k,!1),b.postMessage(f)):c(f)}};Object.defineProperty(lt.ImageProcessing.prototype,"jsFilePath",{get:lt.ImageProcessing.prototype.get_jsFilePath,set:lt.ImageProcessing.prototype.set_jsFilePath,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageProcessing.prototype,"command",{get:lt.ImageProcessing.prototype.get_command,set:lt.ImageProcessing.prototype.set_command,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageProcessing.prototype,
"imageData",{get:lt.ImageProcessing.prototype.get_imageData,set:lt.ImageProcessing.prototype.set_imageData,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageProcessing.prototype,"arguments",{get:lt.ImageProcessing.prototype.get_arguments,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageProcessing.prototype,"progress",{get:lt.ImageProcessing.prototype.__progress_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageProcessing.prototype,"completed",{get:lt.ImageProcessing.prototype.__completed_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageProcessing.prototype,"error",{get:lt.ImageProcessing.prototype.__error_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageProcessing.prototype,"isRunning",{get:lt.ImageProcessing.prototype.get_isRunning,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageProcessing.prototype,"runInMainThread",{get:lt.ImageProcessing.prototype.get_runInMainThread,set:lt.ImageProcessing.prototype.set_runInMainThread,enumerable:!0,
configurable:!0});lt.LeadLengthD=function(){};lt.LeadLengthD.create=function(a){var b=new lt.LeadLengthD;b._value=a;return b};lt.LeadLengthD.equals=function(a,b){return lt.LeadDoubleTools.areClose(a.get_value(),b.get_value())};lt.LeadLengthD.fromJSON=function(a){var b=new lt.LeadLengthD;b._value=a.value;return b};lt.LeadLengthD.prototype={_value:0,clone:function(){return lt.LeadLengthD.create(this._value)},get_value:function(){return this._value},set_value:function(a){return this._value=a},toString:function(){return this._value.toString()},
toJSON:function(){return{value:this._value.toString()}}};Object.defineProperty(lt.LeadLengthD.prototype,"value",{get:lt.LeadLengthD.prototype.get_value,set:lt.LeadLengthD.prototype.set_value,enumerable:!0,configurable:!0});lt.LeadDoubleTools=function(){};lt.LeadDoubleTools.areClose=function(a,b){if(a===b)return!0;var c=2.22044604925031E-16*(Math.abs(a)+Math.abs(b)+10),d=a-b;return-c<d&&c>d};lt.LeadDoubleTools.lessThan=function(a,b){return a<b&&!lt.LeadDoubleTools.areClose(a,b)};lt.LeadDoubleTools.greaterThan=
function(a,b){return a>b&&!lt.LeadDoubleTools.areClose(a,b)};lt.LeadDoubleTools.lessThanOrClose=function(a,b){return a<b||lt.LeadDoubleTools.areClose(a,b)};lt.LeadDoubleTools.greaterThanOrClose=function(a,b){return a>b||lt.LeadDoubleTools.areClose(a,b)};lt.LeadDoubleTools.isOne=function(a){return 2.22044604925031E-15>Math.abs(a-1)};lt.LeadDoubleTools.isZero=function(a){return 2.22044604925031E-15>Math.abs(a)};lt.LeadDoubleTools.areClosePoints=function(a,b){return lt.LeadDoubleTools.areClose(a.get_x(),
b.get_x())&&lt.LeadDoubleTools.areClose(a.get_y(),b.get_y())};lt.LeadDoubleTools.areCloseSizes=function(a,b){return lt.LeadDoubleTools.areClose(a.get_width(),b.get_width())&&lt.LeadDoubleTools.areClose(a.get_height(),b.get_height())};lt.LeadDoubleTools.areCloseRects=function(a,b){return a.get_isEmpty()?b.get_isEmpty():!b.get_isEmpty()&&lt.LeadDoubleTools.areClose(a.get_x(),b.get_x())&&lt.LeadDoubleTools.areClose(a.get_y(),b.get_y())&&lt.LeadDoubleTools.areClose(a.get_height(),b.get_height())&&lt.LeadDoubleTools.areClose(a.get_width(),
b.get_width())};lt.LeadDoubleTools.isBetweenZeroAndOne=function(a){return lt.LeadDoubleTools.greaterThanOrClose(a,0)&&lt.LeadDoubleTools.lessThanOrClose(a,1)};lt.LeadDoubleTools.doubleToInt=function(a){return 0>=a?parseInt(a-0.5):parseInt(a+0.5)};lt.LeadDoubleTools.rectHasNaN=function(a){return lt.LeadDoubleTools.isNaN(a.get_x())||lt.LeadDoubleTools.isNaN(a.get_y())||lt.LeadDoubleTools.isNaN(a.get_height())||lt.LeadDoubleTools.isNaN(a.get_width())};lt.LeadDoubleTools.isNaN=function(a){return isNaN(a)};
lt.LeadDoubleTools.isInfinity=function(a){return a===lt.LeadDoubleTools.positiveInfinity||a===lt.LeadDoubleTools.negativeInfinity};lt.LeadDoubleTools.normalizeAngle=function(a){for(;360<a;)a-=360;for(;0>a;)a+=360;return a};lt.LeadMatrix=function(){};lt.LeadMatrix.create=function(a,b,c,d,e,f){var h=new lt.LeadMatrix;h._m11=a;h._m12=b;h._m21=c;h._m22=d;h._offsetX=e;h._offsetY=f;h._type=4;h._padding=0;h._deriveMatrixType();return h};lt.LeadMatrix.get_identity=function(){return lt.LeadMatrix._createIdentity()};
lt.LeadMatrix.multiply=function(a,b){return lt._leadMatrixUtil._multiplyMatrix(a,b)};lt.LeadMatrix._createRotationRadians=function(a){return lt.LeadMatrix._createRotationAtPointRadians(a,0,0)};lt.LeadMatrix._createRotationAtPointRadians=function(a,b,c){var d=new lt.LeadMatrix,e=Math.sin(a),a=Math.cos(a);d._setMatrix(a,e,-e,a,b*(1-a)+c*e,c*(1-a)-b*e,4);return d};lt.LeadMatrix._createScalingAtPoint=function(a,b,c,d){var e=new lt.LeadMatrix;e._setMatrix(a,0,0,b,c-a*c,d-b*d,3);return e};lt.LeadMatrix._createScaling=
function(a,b){var c=new lt.LeadMatrix;c._setMatrix(a,0,0,b,0,0,2);return c};lt.LeadMatrix._createSkewRadians=function(a,b){var c=new lt.LeadMatrix;c._setMatrix(1,Math.tan(b),Math.tan(a),1,0,0,4);return c};lt.LeadMatrix._createTranslation=function(a,b){var c=new lt.LeadMatrix;c._setMatrix(1,0,0,1,a,b,1);return c};lt.LeadMatrix._createIdentity=function(){var a=new lt.LeadMatrix;a._setMatrix(1,0,0,1,0,0,0);return a};lt.LeadMatrix.equals=function(a,b){return a.get__isDistinguishedIdentity()||b.get__isDistinguishedIdentity()?
a.get_isIdentity()===b.get_isIdentity():a.get_m11()===b.get_m11()&&a.get_m12()===b.get_m12()&&a.get_m21()===b.get_m21()&&a.get_m22()===b.get_m22()&&a.get_offsetX()===b.get_offsetX()&&a.get_offsetY()===b.get_offsetY()};lt.LeadMatrix.fromJSON=function(a){var b=new lt.LeadMatrix;b._m11=a.m11;b._m12=a.m12;b._m21=a.m21;b._m22=a.m22;b._offsetX=a.offsetX;b._offsetY=a.offsetY;return b};lt.LeadMatrix.prototype={_m11:0,_m12:0,_m21:0,_m22:0,_offsetX:0,_offsetY:0,_type:0,_padding:0,clone:function(){var a=new lt.LeadMatrix;
a._m11=this._m11;a._m12=this._m12;a._m21=this._m21;a._m22=this._m22;a._offsetX=this._offsetX;a._offsetY=this._offsetY;a._type=this._type;a._padding=0;return a},_copyFrom:function(a){this._m11=a._m11;this._m12=a._m12;this._m21=a._m21;this._m22=a._m22;this._offsetX=a._offsetX;this._offsetY=a._offsetY;this._type=a._type;this._padding=0},get_isIdentity:function(){return!this._type||1===this._m11&&0===this._m12&&0===this._m21&&1===this._m22&&0===this._offsetX&&0===this._offsetY},get_determinant:function(){switch(this._type){case 0:case 1:return 1;
case 2:case 3:return this._m11*this._m22;default:return this._m11*this._m22-this._m12*this._m21}},get_hasInverse:function(){return!lt.LeadDoubleTools.isZero(this.get_determinant())},get_m11:function(){return!this._type?1:this._m11},set_m11:function(a){if(this._type)return this._m11=a,4!==this._type&&(this._type|=2),a;this._setMatrix(a,0,0,1,0,0,2)},get_m12:function(){return!this._type?0:this._m12},set_m12:function(a){if(this._type)return this._m12=a,this._type=4,a;this._setMatrix(1,a,0,1,0,0,4)},
get_m21:function(){return!this._type?0:this._m21},set_m21:function(a){if(this._type)return this._m21=a,this._type=4,a;this._setMatrix(1,0,a,1,0,0,4)},get_m22:function(){return!this._type?1:this._m22},set_m22:function(a){if(this._type)return this._m22=a,4!==this._type&&(this._type|=2),a;this._setMatrix(1,0,0,a,0,0,2)},get_offsetX:function(){return!this._type?0:this._offsetX},set_offsetX:function(a){if(this._type)return this._offsetX=a,4!==this._type&&(this._type|=1),a;this._setMatrix(1,0,0,1,a,0,1)},
get_offsetY:function(){return!this._type?0:this._offsetY},set_offsetY:function(a){if(this._type)return this._offsetY=a,4!==this._type&&(this._type|=1),a;this._setMatrix(1,0,0,1,0,a,1)},get__isDistinguishedIdentity:function(){return!this._type},setIdentity:function(){this._type=0},append:function(a){this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(this,a))},prepend:function(a){this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(a,this))},rotate:function(a){a=lt.LeadDoubleTools.normalizeAngle(a);this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(this,
lt.LeadMatrix._createRotationRadians(0.0174532925199433*a)))},rotatePrepend:function(a){a=lt.LeadDoubleTools.normalizeAngle(a);this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(lt.LeadMatrix._createRotationRadians(0.0174532925199433*a),this))},rotateAt:function(a,b,c){a=lt.LeadDoubleTools.normalizeAngle(a);this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(this,lt.LeadMatrix._createRotationAtPointRadians(0.0174532925199433*a,b,c)))},rotateAtPrepend:function(a,b,c){a=lt.LeadDoubleTools.normalizeAngle(a);
this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(lt.LeadMatrix._createRotationAtPointRadians(0.0174532925199433*a,b,c),this))},scale:function(a,b){this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(this,lt.LeadMatrix._createScaling(a,b)))},scalePrepend:function(a,b){this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(lt.LeadMatrix._createScaling(a,b),this))},scaleAt:function(a,b,c,d){this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(this,lt.LeadMatrix._createScalingAtPoint(a,b,c,d)))},scaleAtPrepend:function(a,
b,c,d){this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(lt.LeadMatrix._createScalingAtPoint(a,b,c,d),this))},skew:function(a,b){a=lt.LeadDoubleTools.normalizeAngle(a);b=lt.LeadDoubleTools.normalizeAngle(b);this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(this,lt.LeadMatrix._createSkewRadians(0.0174532925199433*a,0.0174532925199433*b)))},skewPrepend:function(a,b){a=lt.LeadDoubleTools.normalizeAngle(a);b=lt.LeadDoubleTools.normalizeAngle(b);this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(lt.LeadMatrix._createSkewRadians(0.0174532925199433*
a,0.0174532925199433*b),this))},translate:function(a,b){this._type?4===this._type?(this._offsetX+=a,this._offsetY+=b):(this._offsetX+=a,this._offsetY+=b,this._type|=1):this._setMatrix(1,0,0,1,a,b,1)},translatePrepend:function(a,b){this._copyFrom(lt._leadMatrixUtil._multiplyMatrix(lt.LeadMatrix._createTranslation(a,b),this))},transformPoint:function(a){return this._multiplyPoint(a,!1)},transformVector:function(a){return this._multiplyPoint(a,!0)},transformRect:function(a){return lt._leadMatrixUtil._transformRect(a,
this)},transformPoints:function(a){if(null!=a)for(var b=0;b<a.length;b++)a[b]=this._multiplyPoint(a[b],!1)},invert:function(){var a=this.get_determinant();if(lt.LeadDoubleTools.isZero(a))throw Error("Transform is not invertible");switch(this._type){case 0:break;case 1:this._offsetX=-this._offsetX;this._offsetY=-this._offsetY;break;case 2:this._m11=1/this._m11;this._m22=1/this._m22;break;case 3:this._m11=1/this._m11;this._m22=1/this._m22;this._offsetX=-this._offsetX*this._m11;this._offsetY=-this._offsetY*
this._m22;break;default:a=1/a,this._setMatrix(this._m22*a,-this._m12*a,-this._m21*a,this._m11*a,(this._m21*this._offsetY-this._offsetX*this._m22)*a,(this._offsetX*this._m12-this._m11*this._offsetY)*a,4)}},_multiplyPoint:function(a,b){var c=a.clone();switch(this._type){case 0:return c;case 1:return b||(c._x+=this._offsetX,c._y+=this._offsetY),c;case 2:return c._x*=this._m11,c._y*=this._m22,c;case 3:return c._x*=this._m11,c._y*=this._m22,b||(c._x+=this._offsetX,c._y+=this._offsetY),c;default:var d=
c._y*this._m21,e=c._x*this._m12;b||(d+=this._offsetX,e+=this._offsetY);c._x*=this._m11;c._x+=d;c._y*=this._m22;c._y+=e;return c}},_setMatrix:function(a,b,c,d,e,f,h){this._m11=a;this._m12=b;this._m21=c;this._m22=d;this._offsetX=e;this._offsetY=f;this._type=h},_deriveMatrixType:function(){this._type=0;if(0!==this._m21||0!==this._m12)this._type=4;else{if(1!==this._m11||1!==this._m22)this._type=2;if(0!==this._offsetX||0!==this._offsetY)this._type|=1;this._type&3||(this._type=0)}},toString:function(){return this.get_isIdentity()?
"Identity":String.format("{0},{1},{2},{3},{4},{5}",this._m11,this._m12,this._m21,this._m22,this._offsetX,this._offsetY)},toJSON:function(){return{m11:this._m11.toString(),m12:this._m12.toString(),m21:this._m21.toString(),m22:this._m22.toString(),offsetX:this._offsetX.toString(),offsetY:this._offsetY.toString()}}};Object.defineProperty(lt.LeadMatrix,"identity",{get:lt.LeadMatrix.get_identity,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadMatrix.prototype,"isIdentity",{get:lt.LeadMatrix.prototype.get_isIdentity,
enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadMatrix.prototype,"determinant",{get:lt.LeadMatrix.prototype.get_determinant,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadMatrix.prototype,"hasInverse",{get:lt.LeadMatrix.prototype.get_hasInverse,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadMatrix.prototype,"m11",{get:lt.LeadMatrix.prototype.get_m11,set:lt.LeadMatrix.prototype.set_m11,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadMatrix.prototype,
"m12",{get:lt.LeadMatrix.prototype.get_m12,set:lt.LeadMatrix.prototype.set_m12,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadMatrix.prototype,"m21",{get:lt.LeadMatrix.prototype.get_m21,set:lt.LeadMatrix.prototype.set_m21,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadMatrix.prototype,"m22",{get:lt.LeadMatrix.prototype.get_m22,set:lt.LeadMatrix.prototype.set_m22,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadMatrix.prototype,"offsetX",{get:lt.LeadMatrix.prototype.get_offsetX,
set:lt.LeadMatrix.prototype.set_offsetX,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadMatrix.prototype,"offsetY",{get:lt.LeadMatrix.prototype.get_offsetY,set:lt.LeadMatrix.prototype.set_offsetY,enumerable:!0,configurable:!0});lt._leadMatrixUtil=function(){};lt._leadMatrixUtil._transformRect=function(a,b){var c=a.clone();if(a.get_isEmpty())return c;var d=b._type;if(!d)return c;if(d&2&&(c._x*=b._m11,c._y*=b._m22,c._width*=b._m11,c._height*=b._m22,0>c._width&&(c._x+=c._width,c._width=
-c._width),0>c._height))c._y+=c._height,c._height=-c._height;d&1&&(c._x+=b._offsetX,c._y+=b._offsetY);if(4===d){var d=b.transformPoint(c.get_topLeft()),e=b.transformPoint(c.get_topRight()),f=b.transformPoint(c.get_bottomRight()),h=b.transformPoint(c.get_bottomLeft());c._x=Math.min(Math.min(d.get_x(),e.get_x()),Math.min(f.get_x(),h.get_x()));c._y=Math.min(Math.min(d.get_y(),e.get_y()),Math.min(f.get_y(),h.get_y()));c._width=Math.max(Math.max(d.get_x(),e.get_x()),Math.max(f.get_x(),h.get_x()))-c._x;
c._height=Math.max(Math.max(d.get_y(),e.get_y()),Math.max(f.get_y(),h.get_y()))-c._y}return c};lt._leadMatrixUtil._multiplyMatrix=function(a,b){var c=a._type,d=b._type,e=a.clone();if(!d)return e;if(!c)return e=b.clone();if(1===d)return e._offsetX+=b._offsetX,e._offsetY+=b._offsetY,4!==c&&(e._type|=1),e;if(1!==c){d|=c<<4;switch(d){case 34:return e._m11*=b._m11,e._m22*=b._m22,e;case 35:return e._m11*=b._m11,e._m22*=b._m22,e._offsetX=b._offsetX,e._offsetY=b._offsetY,e._type=3,e;case 36:break;default:switch(d){case 50:return e._m11*=
b._m11,e._m22*=b._m22,e._offsetX*=b._m11,e._offsetY*=b._m22,e;case 51:return e._m11*=b._m11,e._m22*=b._m22,e._offsetX=b._m11*e._offsetX+b._offsetX,e._offsetY=b._m22*e._offsetY+b._offsetY,e;case 52:break;default:switch(d){case 66:case 67:case 68:break;default:return e}}}return e=lt.LeadMatrix.create(a._m11*b._m11+a._m12*b._m21,a._m11*b._m12+a._m12*b._m22,a._m21*b._m11+a._m22*b._m21,a._m21*b._m12+a._m22*b._m22,a._offsetX*b._m11+a._offsetY*b._m21+b._offsetX,a._offsetX*b._m12+a._offsetY*b._m22+b._offsetY)}var c=
a._offsetX,f=a._offsetY,e=b.clone();e._offsetX=c*b._m11+f*b._m21+b._offsetX;e._offsetY=c*b._m12+f*b._m22+b._offsetY;if(4===d)return e._type=4,e;e._type=3;return e};lt.LeadPointD=function(){};lt.LeadPointD.get_empty=function(){return lt.LeadPointD._empty};lt.LeadPointD.create=function(a,b){var c=new lt.LeadPointD;c._x=a;c._y=b;return c};lt.LeadPointD.equals=function(a,b){return a.get_isEmpty()?b.get_isEmpty():lt.LeadDoubleTools.areClosePoints(a,b)};lt.LeadPointD.fromJSON=function(a){if(isNaN(a.x))return lt.LeadPointD._createEmptyPoint();
var b=new lt.LeadPointD;b._x=a.x;b._y=a.y;return b};lt.LeadPointD._createEmptyPoint=function(){var a=new lt.LeadPointD;a._x=lt.LeadDoubleTools.naN;a._y=lt.LeadDoubleTools.naN;return a};lt.LeadPointD.prototype={_x:0,_y:0,get_isEmpty:function(){return lt.LeadDoubleTools.isNaN(this._x)},clone:function(){return this.get_isEmpty()?lt.LeadPointD._empty:lt.LeadPointD.create(this._x,this._y)},get_x:function(){return this._x},set_x:function(a){if(this.get_isEmpty())throw Error("Cannot modify empty LeadPointD");
return this._x=a},get_y:function(){return this._y},set_y:function(a){if(this.get_isEmpty())throw Error("Cannot modify empty LeadPointD");return this._y=a},toString:function(){return this.get_isEmpty()?"Empty":String.format("{0},{1}",this._x,this._y)},toJSON:function(){return{x:this._x.toString(),y:this._y.toString()}}};Object.defineProperty(lt.LeadPointD,"empty",{get:lt.LeadPointD.get_empty,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadPointD.prototype,"isEmpty",{get:lt.LeadPointD.prototype.get_isEmpty,
enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadPointD.prototype,"x",{get:lt.LeadPointD.prototype.get_x,set:lt.LeadPointD.prototype.set_x,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadPointD.prototype,"y",{get:lt.LeadPointD.prototype.get_y,set:lt.LeadPointD.prototype.set_y,enumerable:!0,configurable:!0});lt.LeadRectD=function(){};lt.LeadRectD.create=function(a,b,c,d){if(0>c||0>d)throw Error("Width or Height of 'LeadRectD' cannot be negative");var e=new lt.LeadRectD;e._x=
a;e._y=b;e._width=c;e._height=d;return e};lt.LeadRectD.fromLTRB=function(a,b,c,d){var e;c>=a?(e=a,a=c-a):(e=c,a-=c);d>=b?(c=b,b=d-b):(c=d,b-=d);return lt.LeadRectD.create(e,c,a,b)};lt.LeadRectD.get_empty=function(){return lt.LeadRectD._empty};lt.LeadRectD.equals=function(a,b){return a.get_isEmpty()?b.get_isEmpty():lt.LeadDoubleTools.areCloseRects(a,b)};lt.LeadRectD.fromJSON=function(a){if(!isFinite(a.width))return lt.LeadRectD._createEmptyRect();var b=new lt.LeadRectD;b._x=a.x;b._y=a.y;b._width=a.width;
b._height=a.height;return b};lt.LeadRectD.intersectRects=function(a,b){var c=a.clone();c.intersect(b);return c};lt.LeadRectD.unionRects=function(a,b){if(a.get_isEmpty())return b.get_isEmpty()?lt.LeadRectD.get_empty():b.clone();if(b.get_isEmpty())return a.get_isEmpty()?lt.LeadRectD.get_empty():a.clone();var c=a.clone();c.union(b);return c};lt.LeadRectD.inflateRect=function(a,b,c){a=a.clone();a.inflate(b,c);return a};lt.LeadRectD._createEmptyRect=function(){var a=new lt.LeadRectD;a._x=lt.LeadDoubleTools.naN;
a._y=lt.LeadDoubleTools.naN;a._width=lt.LeadDoubleTools.naN;a._height=lt.LeadDoubleTools.naN;return a};lt.LeadRectD.prototype={_x:0,_y:0,_width:0,_height:0,clone:function(){var a=new lt.LeadRectD;a._x=this._x;a._y=this._y;a._width=this._width;a._height=this._height;return a},_copyFrom:function(a){this._x=a._x;this._y=a._y;this._width=a._width;this._height=a._height},get_isEmpty:function(){return lt.LeadDoubleTools.isNaN(this._width)},get_location:function(){return lt.LeadPointD.create(this._x,this._y)},
set_location:function(a){if(this.get_isEmpty())throw Error("Cannot modify empty 'LeadRectD'");this._x=a._x;this._y=a._y;return a},get_size:function(){return this.get_isEmpty()?lt.LeadSizeD.get_empty():lt.LeadSizeD.create(this._width,this._height)},set_size:function(a){if(a.get_isEmpty())this._copyFrom(lt.LeadRectD._empty);else{if(this.get_isEmpty())throw Error("Cannot modify empty 'LeadRectD'");this._width=a._width;this._height=a._height;return a}},get_x:function(){return this._x},set_x:function(a){if(this.get_isEmpty())throw Error("Cannot modify empty 'LeadRectD'");
return this._x=a},get_y:function(){return this._y},set_y:function(a){if(this.get_isEmpty())throw Error("Cannot modify empty 'LeadRectD'");return this._y=a},get_width:function(){return this._width},set_width:function(a){if(this.get_isEmpty())throw Error("Cannot modify empty 'LeadRectD'");if(0>a)throw Error("Width or Height of 'LeadRectD' cannot be negative");return this._width=a},get_height:function(){return this._height},set_height:function(a){if(this.get_isEmpty())throw Error("Cannot modify empty 'LeadRectD'");
if(0>a)throw Error("Width or Height of 'LeadRectD' cannot be negative");return this._height=a},get_left:function(){return this._x},get_top:function(){return this._y},get_right:function(){return this.get_isEmpty()?-1:this._x+this._width},get_bottom:function(){return this.get_isEmpty()?-1:this._y+this._height},get_topLeft:function(){return lt.LeadPointD.create(this.get_left(),this.get_top())},get_topRight:function(){return lt.LeadPointD.create(this.get_right(),this.get_top())},get_bottomLeft:function(){return lt.LeadPointD.create(this.get_left(),
this.get_bottom())},get_bottomRight:function(){return lt.LeadPointD.create(this.get_right(),this.get_bottom())},toString:function(){return this.get_isEmpty()?"Empty":String.format("{0},{1},{2},{3}",this._x,this._y,this._width,this._height)},toJSON:function(){return this.get_isEmpty()?{x:"Infinity",y:"Infinity",width:"-Infinity",height:"-Infinity"}:{x:this._x.toString(),y:this._y.toString(),width:this._width.toString(),height:this._height.toString()}},containsPoint:function(a){return this.contains(a._x,
a._y)},contains:function(a,b){return!this.get_isEmpty()&&this._containsInternal(a,b)},containsRect:function(a){return!this.get_isEmpty()&&!a.get_isEmpty()&&this._x<=a._x&&this._y<=a._y&&this._x+this._width>=a._x+a._width&&this._y+this._height>=a._y+a._height},intersectsWith:function(a){return!this.get_isEmpty()&&!a.get_isEmpty()&&a.get_left()<=this.get_right()&&a.get_right()>=this.get_left()&&a.get_top()<=this.get_bottom()&&a.get_bottom()>=this.get_top()},intersect:function(a){if(this.get_isEmpty())throw Error("Cannot modify empty 'LeadRectD'");
if(this.intersectsWith(a)){var b=Math.max(this.get_left(),a.get_left()),c=Math.max(this.get_top(),a.get_top());this._width=Math.max(Math.min(this.get_right(),a.get_right())-b,0);this._height=Math.max(Math.min(this.get_bottom(),a.get_bottom())-c,0);this._x=b;this._y=c}else this._copyFrom(lt.LeadRectD._empty)},union:function(a){if(this.get_isEmpty())throw Error("Cannot modify empty 'LeadRectD'");if(!a.get_isEmpty()){var b=Math.min(this.get_left(),a.get_left()),c=Math.min(this.get_top(),a.get_top());
if(-1===a.get_width()||-1===this.get_width())this._width=-1;else{var d=Math.max(this.get_right(),a.get_right());this._width=Math.max(d-b,0)}-1===a.get_height()||-1===this.get_height()?this._height=-1:(a=Math.max(this.get_bottom(),a.get_bottom()),this._height=Math.max(a-c,0));this._x=b;this._y=c}},offset:function(a,b){if(this.get_isEmpty())throw Error("Cannot modify empty 'LeadRectD'");this._x+=a;this._y+=b},inflate:function(a,b){if(this.get_isEmpty())throw Error("Cannot modify empty 'LeadRectD'");
this._x-=a;this._y-=b;this._width+=a;this._width+=a;this._height+=b;this._height+=b;(0>this._width||0>this._height)&&this._copyFrom(lt.LeadRectD._empty)},scale:function(a,b){if(!this.get_isEmpty()&&(this._x*=a,this._y*=b,this._width*=a,this._height*=b,0>a&&(this._x+=this._width,this._width*=-1),0>b))this._y+=this._height,this._height*=-1},_containsInternal:function(a,b){return a>=this._x&&a-this._width<=this._x&&b>=this._y&&b-this._height<=this._y}};Object.defineProperty(lt.LeadRectD,"empty",{get:lt.LeadRectD.get_empty,
enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"isEmpty",{get:lt.LeadRectD.prototype.get_isEmpty,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"location",{get:lt.LeadRectD.prototype.get_location,set:lt.LeadRectD.prototype.set_location,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"size",{get:lt.LeadRectD.prototype.get_size,set:lt.LeadRectD.prototype.set_size,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,
"x",{get:lt.LeadRectD.prototype.get_x,set:lt.LeadRectD.prototype.set_x,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"y",{get:lt.LeadRectD.prototype.get_y,set:lt.LeadRectD.prototype.set_y,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"width",{get:lt.LeadRectD.prototype.get_width,set:lt.LeadRectD.prototype.set_width,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"height",{get:lt.LeadRectD.prototype.get_height,
set:lt.LeadRectD.prototype.set_height,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"left",{get:lt.LeadRectD.prototype.get_left,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"top",{get:lt.LeadRectD.prototype.get_top,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"right",{get:lt.LeadRectD.prototype.get_right,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"bottom",{get:lt.LeadRectD.prototype.get_bottom,
enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"topLeft",{get:lt.LeadRectD.prototype.get_topLeft,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"topRight",{get:lt.LeadRectD.prototype.get_topRight,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"bottomLeft",{get:lt.LeadRectD.prototype.get_bottomLeft,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadRectD.prototype,"bottomRight",{get:lt.LeadRectD.prototype.get_bottomRight,
enumerable:!0,configurable:!0});lt.LeadSizeD=function(){};lt.LeadSizeD.create=function(a,b){if(0>a||0>b)throw Error("Width or Height of LeadSizeD cannot be negative");var c=new lt.LeadSizeD;c._width=a;c._height=b;return c};lt.LeadSizeD.get_empty=function(){return lt.LeadSizeD._empty};lt.LeadSizeD.equals=function(a,b){return a.get_isEmpty()?b.get_isEmpty():lt.LeadDoubleTools.areCloseSizes(a,b)};lt.LeadSizeD.fromJSON=function(a){if(!isFinite(a.width))return lt.LeadSizeD._createEmptySize();var b=new lt.LeadSizeD;
b._width=a.width;b._height=a.height;return b};lt.LeadSizeD._createEmptySize=function(){var a=new lt.LeadSizeD;a._width=lt.LeadDoubleTools.naN;a._height=lt.LeadDoubleTools.naN;return a};lt.LeadSizeD.prototype={_width:0,_height:0,clone:function(){var a=new lt.LeadSizeD;a._width=this._width;a._height=this._height;return a},get_isEmpty:function(){return lt.LeadDoubleTools.isNaN(this._width)},get_width:function(){return this._width},set_width:function(a){if(this.get_isEmpty())throw Error("Cannot modify empty LeadSizeD");
if(0>a)throw Error("Width or Height of LeadSizeD cannot be negative");return this._width=a},get_height:function(){return this._height},set_height:function(a){if(this.get_isEmpty())throw Error("Cannot modify empty LeadSizeD");if(0>a)throw Error("Width or Height of LeadSizeD cannot be negative");return this._height=a},toString:function(){return this.get_isEmpty()?"Empty":String.format("{0},{1}",this._width,this._height)},toJSON:function(){return this.get_isEmpty()?{width:"-Infinity",height:"-Infinity"}:
{width:this._width.toString(),height:this._height.toString()}}};Object.defineProperty(lt.LeadSizeD,"empty",{get:lt.LeadSizeD.get_empty,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadSizeD.prototype,"isEmpty",{get:lt.LeadSizeD.prototype.get_isEmpty,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadSizeD.prototype,"width",{get:lt.LeadSizeD.prototype.get_width,set:lt.LeadSizeD.prototype.set_width,enumerable:!0,configurable:!0});Object.defineProperty(lt.LeadSizeD.prototype,"height",
{get:lt.LeadSizeD.prototype.get_height,set:lt.LeadSizeD.prototype.set_height,enumerable:!0,configurable:!0});lt.TextFontRuler=function(a){this._gMWidth=this._height=-1;var b=document.createElement("canvas");this._canvas=b;this._context=b.getContext("2d");this.set_font(a)};lt.TextFontRuler.prototype={_font:null,get_font:function(){return this._font},set_font:function(a){if(!(null==this._canvas||null==this._context))return this._font!==a&&(this._font=a,this._gMWidth=this._height=-1),this._context.font=
a},_canvas:null,_context:null,get_context:function(){return this._context},measureWidth:function(a){if(null==this._canvas||null==this._context)return 0;this._context.font=this._font;return this._context.measureText(a).width},measure:function(a){var a=this.measureWidth(a),b=this.get_height();return lt.LeadSizeD.create(a,b)},get_height:function(){-1===this._height&&(this._height=this._calculateHeightFromFont());return this._height},_calculateHeightFromFont:function(){if(null==this._canvas||null==this._context)return 0;
var a=this._canvas,b=this._context;-1===this._gMWidth&&(this._gMWidth=Math.ceil(this.measureWidth("gM")+1));var c=this._gMWidth,d=Math.floor(1.3*(96*c/72));a.width=c;a.height=d;b.font=this._font;b.textBaseline="top";b.fillStyle="#000";b.fillText("gM",0,0);var e=a=0;if(0<c&&0<d){for(var b=b.getImageData(0,0,c,d),f=d,h=0;!e&&0<f;){f--;for(h=0;h<c;h++)if(b.data[4*(f*c+h)+3]){e=f;break}}for(f=0;f<d&&!a;){f++;for(h=0;h<c;h++)if(b.data[4*(f*c+h)+3]){a=f;break}}}return e+a},dispose:function(){this._font=
null;null!=this._canvas&&(this._canvas.width=0,this._canvas.height=0,this._canvas=null);this._context=null;this._height=this._gMWidth=-1}};Object.defineProperty(lt.TextFontRuler.prototype,"font",{get:lt.TextFontRuler.prototype.get_font,set:lt.TextFontRuler.prototype.set_font,enumerable:!0,configurable:!0});Object.defineProperty(lt.TextFontRuler.prototype,"context",{get:lt.TextFontRuler.prototype.get_context,enumerable:!0,configurable:!0});Object.defineProperty(lt.TextFontRuler.prototype,"height",
{get:lt.TextFontRuler.prototype.get_height,enumerable:!0,configurable:!0});lt.ImageLoaderPreRunEventArgs=function(){lt.ImageLoaderPreRunEventArgs.initializeBase(this);this._cancel$1=!1};lt.ImageLoaderPreRunEventArgs.prototype={_cancel$1:!1,get_cancel:function(){return this._cancel$1},set_cancel:function(a){return this._cancel$1=a}};Object.defineProperty(lt.ImageLoaderPreRunEventArgs.prototype,"cancel",{get:lt.ImageLoaderPreRunEventArgs.prototype.get_cancel,set:lt.ImageLoaderPreRunEventArgs.prototype.set_cancel,
enumerable:!0,configurable:!0});lt.ImageLoaderAjaxOptions=function(){this._headers={};this._method="GET";this._postData=null};lt.ImageLoaderAjaxOptions.prototype={_headers:null,get_headers:function(){return this._headers},set_headers:function(a){return this._headers=a},_method:null,get_method:function(){return this._method},set_method:function(a){return this._method=a},_postData:null,get_postData:function(){return this._postData},set_postData:function(a){return this._postData=a}};Object.defineProperty(lt.ImageLoaderAjaxOptions.prototype,
"headers",{get:lt.ImageLoaderAjaxOptions.prototype.get_headers,set:lt.ImageLoaderAjaxOptions.prototype.set_headers,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoaderAjaxOptions.prototype,"method",{get:lt.ImageLoaderAjaxOptions.prototype.get_method,set:lt.ImageLoaderAjaxOptions.prototype.set_method,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoaderAjaxOptions.prototype,"postData",{get:lt.ImageLoaderAjaxOptions.prototype.get_postData,set:lt.ImageLoaderAjaxOptions.prototype.set_postData,
enumerable:!0,configurable:!0});lt.ImageLoader=function(){this._isAborted=this._isHTMLImageElement=!1;this._urlMode=0;this._ajaxOptions=new lt.ImageLoaderAjaxOptions;this._imagesHolder=null;this._isWorking=!1};lt.ImageLoader._getMimeType=function(a,b){if(null==a||4>b)return null;if(137===a[0]&&80===a[1]&&78===a[2]&&71===a[3])return lt.ImageLoader._mimeTypePNG;if(255===a[0]&&216===a[1]&&255===a[2]&&(224===a[3]||225===a[3]||226===a[3]))return lt.ImageLoader._mimeTypeJPEG;if(71===a[0]&&73===a[1]&&70===
a[2]&&56===a[3])return lt.ImageLoader._mimeTypeGIF;for(var c=0,d=Math.max(b-c,200);c<d-4;){if(60===a[c]&&115===a[c+1]&&118===a[c+2]&&103===a[c+3])return lt.ImageLoader._mimeTypeSVG;c++}return null};lt.ImageLoader._arrayToDataUri=function(a){var b=lt.ImageLoader._getMimeType(a,a.length);if(null==b)return null;a=lt._base64.fromByteArray(a);return"data:"+b+";base64,"+a};lt.ImageLoader.prototype={add_preRun:function(a){this.__preRun=ss.Delegate.combine(this.__preRun,a)},remove_preRun:function(a){this.__preRun=
ss.Delegate.remove(this.__preRun,a)},__preRun_handler_get:function(){null==this.__preRun_handler&&(this.__preRun_handler=ss.EventHandler.create(this,this.add_preRun,this.remove_preRun));return this.__preRun_handler},__preRun:null,__preRun_handler:null,add_done:function(a){this.__done=ss.Delegate.combine(this.__done,a)},remove_done:function(a){this.__done=ss.Delegate.remove(this.__done,a)},__done_handler_get:function(){null==this.__done_handler&&(this.__done_handler=ss.EventHandler.create(this,this.add_done,
this.remove_done));return this.__done_handler},__done:null,__done_handler:null,add_fail:function(a){this.__fail=ss.Delegate.combine(this.__fail,a)},remove_fail:function(a){this.__fail=ss.Delegate.remove(this.__fail,a)},__fail_handler_get:function(){null==this.__fail_handler&&(this.__fail_handler=ss.EventHandler.create(this,this.add_fail,this.remove_fail));return this.__fail_handler},__fail:null,__fail_handler:null,add_always:function(a){this.__always=ss.Delegate.combine(this.__always,a)},remove_always:function(a){this.__always=
ss.Delegate.remove(this.__always,a)},__always_handler_get:function(){null==this.__always_handler&&(this.__always_handler=ss.EventHandler.create(this,this.add_always,this.remove_always));return this.__always_handler},__always:null,__always_handler:null,add__aborted:function(a){this.__aborted=ss.Delegate.combine(this.__aborted,a)},remove__aborted:function(a){this.__aborted=ss.Delegate.remove(this.__aborted,a)},__aborted_handler_get:function(){null==this.__aborted_handler&&(this.__aborted_handler=ss.EventHandler.create(this,
this.add__aborted,this.remove__aborted));return this.__aborted_handler},__aborted:null,_urlMode:0,get_urlMode:function(){return this._urlMode},set_urlMode:function(a){return this._urlMode=a},_tag:null,get_tag:function(){return this._tag},set_tag:function(a){return this._tag=a},_workingImageElement:null,_element:null,get_element:function(){return this._element},_isHTMLImageElement:!1,get_isHTMLImageElement:function(){return this._isHTMLImageElement},_width:0,get_width:function(){return this._width},
_height:0,get_height:function(){return this._height},_error:null,get_error:function(){return this._error},_isWorking:!1,get_isWorking:function(){return this._isWorking},_ajaxOptions:null,get_ajaxOptions:function(){return this._ajaxOptions},set_ajaxOptions:function(a){return this._ajaxOptions=a},_url:null,get_url:function(){return this._url},set_url:function(a){return this._url=a},_imagesHolder:null,get_imagesHolder:function(){return this._imagesHolder},set_imagesHolder:function(a){return this._imagesHolder=
a},_isAborted:!1,get_isAborted:function(){return this._isAborted},abort:function(){this._internalAbort(!0)},_internalAbort:function(a){this._isAborted||(this._isAborted=!0,a&&null!=this.__aborted&&this.__aborted(this,lt.LeadEventArgs.Empty))},_clearAll:function(){this._element=this._workingImageElement=null;this._isHTMLImageElement=!1;this._error=null;this._height=this._width=0;this._isWorking=!1},dispose:function(){this._internalAbort(!1);this._clearAll();this._url=this._tag=null},get_canRun:function(){return!this._isWorking&&
!this._isAborted},run:function(){if(!this._isAborted){if(null!=this.__preRun){var a=new lt.ImageLoaderPreRunEventArgs;this.__preRun(this,a);if(this._isAborted)return;if(a.get_cancel()){this._error=Error("Canceled");null!=this.__fail&&this.__fail(this,lt.LeadEventArgs.Empty);return}}this._clearAll();this._isWorking=!0;null!=this._url&&0<this._url.length&&this._url.substring(0,Math.min(5,this._url.length)).toLowerCase().startsWith("data:")?this._runImageSrc():this._urlMode?2===this._urlMode?this._runAjaxXml():
this._runAjaxDataUrl():this._runImageSrc()}},_addRequestCallbacks:function(a,b,c){var d=ss.Delegate.create(this,function(){4===a.readyState&&(200===a.status?this._isAborted||b(a):this._isAborted||c(a),a=a.onreadystatechange=null)});a.onreadystatechange=d},_runAjaxXml:function(){var a=ss.Delegate.create(this,function(){null!=this.__always&&this.__always(this,lt.LeadEventArgs.Empty);this.dispose()}),b=null,b=1===lt.LTHelper.OS&&2===lt.LTHelper.device&&"x-wmapp0:"===window.location.protocol?new ActiveXObject("Msxml2.XMLHTTP"):
new XMLHttpRequest,c=ss.Delegate.create(this,function(){try{if(b&&b.response&&null===b.responseXML)throw new lt.InvalidOperationException("Raster image cannot be loaded from this method");var c=b.responseXML.documentElement,c=document.importNode(c,!0);if(null!=c.childNodes&&1===c.childNodes.length&&null!=c.childNodes[0]&&"image"===c.childNodes[0].nodeName.toLowerCase()){var d=c.childNodes[0].getAttribute("xlink:href"),e=null,f=null,h=null,e=ss.Delegate.create(this,function(b){this._isWorking=!1;this._width=
b.get_width();this._height=b.get_height();this._element=b.get_element();this._isHTMLImageElement=b.get_isHTMLImageElement();null!=this.__done&&this.__done(this,lt.LeadEventArgs.Empty);this._isAborted||a()}),f=ss.Delegate.create(this,function(b){this._isWorking=!1;this._error=b.get_error();null!=this.__fail&&this.__fail(this,lt.LeadEventArgs.Empty);this._isAborted||a()}),h=function(a){a.remove_done(e);a.remove_fail(f);a.remove_always(h)},k=new lt.ImageLoader;k.set_imagesHolder(this._imagesHolder);
k.set_url(d);k.set_urlMode(0);k.add_done(e);k.add_fail(f);k.add_always(h);k.run()}else this._isWorking=!1,this._width=parseInt(c.getAttribute("width"),10),this._height=parseInt(c.getAttribute("height"),10),this._element=c,this._isHTMLImageElement=!1,null!=this.__done&&this.__done(this,lt.LeadEventArgs.Empty),this._isAborted||a()}catch(n){this._isWorking=!1,this._error=n,null!=this.__fail&&this.__fail(this,lt.LeadEventArgs.Empty),this._isAborted||a()}}),d=ss.Delegate.create(this,function(){this._isWorking=
!1;this._error=b.status?Error(b.status+": "+b.statusText):Error("0: Connection not allowed");null!=this.__fail&&this.__fail(this,lt.LeadEventArgs.Empty);this._isAborted||a()});try{this._addRequestCallbacks(b,c,d);b.open(this._ajaxOptions.get_method(),this._url,!0);var e=this._ajaxOptions.get_headers();if(null!=e&&0<Object.getKeyCount(e))for(var f=ss.IEnumerator.getEnumerator(Object.keys(e));f.moveNext();){var h=f.current;b.setRequestHeader(h,e[h])}"GET"===this._ajaxOptions.get_method()?b.send():b.send(this._ajaxOptions.get_postData())}catch(k){this._isWorking=
!1,this._error=k,null!=this.__fail&&this.__fail(this,lt.LeadEventArgs.Empty),this._isAborted||a()}},_runImageSrc:function(){var a=null,b=null,c=-1;this._workingImageElement=document.createElement("img");!(1===lt.LTHelper.browser&&11===lt.LTHelper.version)&&null!=this._url&&!this._url.startsWith("data")&&(this._workingImageElement.crossOrigin="Anonymous");var d=ss.Delegate.create(this,function(){if(this._workingImageElement!=null){this._workingImageElement.removeEventListener("load",a,false);this._workingImageElement.removeEventListener("error",
b,false)}}),e=ss.Delegate.create(this,function(){this.__always!=null&&this.__always(this,lt.LeadEventArgs.Empty);this.dispose()}),f=ss.Delegate.create(this,function(){c!==-1&&clearTimeout(c);d();if(!this._isAborted){this._isWorking=false;this._element=this._workingImageElement;this._isHTMLImageElement=true;this._width=this._workingImageElement.naturalWidth;this._height=this._workingImageElement.naturalHeight;var a=false;if((!this._width||!this._height)&&this._imagesHolder!=null){this._imagesHolder.appendChild(this._element);
this._width=this._element.offsetWidth;this._height=this._element.offsetHeight;a=true}this.__done!=null&&this.__done(this,lt.LeadEventArgs.Empty);if(!this._isAborted){(a||lt.LTHelper.browser===1&&lt.LTHelper.version<11)&&this._element.parentNode!=null&&this._element.parentNode===this._imagesHolder&&this._element.parentNode.removeChild(this._element);e()}}}),a=ss.Delegate.create(this,function(){!this._workingImageElement.naturalWidth||!this._workingImageElement.naturalHeight?c=setTimeout(f,0):f()}),
b=ss.Delegate.create(this,function(){d();if(!this._isAborted){this._isWorking=false;this._element=null;this._height=this._width=0;this._error=Error("Could not load image");this.__fail!=null&&this.__fail(this,lt.LeadEventArgs.Empty);this._isAborted||e()}});this._workingImageElement.addEventListener("load",a,!1);this._workingImageElement.addEventListener("error",b,!1);this._workingImageElement.src=this._url},_runAjaxDataUrl:function(){var a=ss.Delegate.create(this,function(){null!=this.__always&&this.__always(this,
lt.LeadEventArgs.Empty);this.dispose()}),b=null,b=1===lt.LTHelper.OS&&2===lt.LTHelper.device&&"x-wmapp0:"===window.location.protocol?new ActiveXObject("Msxml2.XMLHTTP"):new XMLHttpRequest,c=ss.Delegate.create(this,function(c){null==b&&(b=c);try{c=null;if(lt.LTHelper.supportsFileReader){var d=b.response;if(null!=d){var e=new Uint8Array(d);if(null!=e){var f=lt.ImageLoader._getMimeType(e,e.length);null!=f&&(c=(window.URL||window.webkitURL).createObjectURL(new Blob([d],{type:f})))}}}else e=(new VBArray(b.responseBody)).toArray(),
null!=e&&(c=lt.ImageLoader._arrayToDataUri(e));if(null==c)throw Error("Invalid image type");var h=null,k=null,n=null,h=ss.Delegate.create(this,function(b){this._width=b.get_width();this._height=b.get_height();this._element=b.get_element();this._isHTMLImageElement=b.get_isHTMLImageElement();this._isWorking=!1;null!=this.__done&&this.__done(this,lt.LeadEventArgs.Empty);this._isAborted||a()}),k=ss.Delegate.create(this,function(b){this._isWorking=!1;this._error=b.get_error();null!=this.__fail&&this.__fail(this,
lt.LeadEventArgs.Empty);this._isAborted||a()}),n=function(a){a.remove_done(h);a.remove_fail(k);a.remove_always(n)},m=new lt.ImageLoader;m.set_imagesHolder(this._imagesHolder);m.set_url(c);m.set_urlMode(0);m.add_done(h);m.add_fail(k);m.add_always(n);m.run()}catch(q){this._isWorking=!1,this._error=q,null!=this.__fail&&this.__fail(this,lt.LeadEventArgs.Empty),this._isAborted||a()}}),d=ss.Delegate.create(this,function(c){this._isWorking=!1;null==b&&(b=c);this._error=b.status?Error(b.status+": "+b.statusText):
Error("0: Connection not allowed");null!=this.__fail&&this.__fail(this,lt.LeadEventArgs.Empty);this._isAborted||a()});try{this._addRequestCallbacks(b,c,d);b.open(this._ajaxOptions.get_method(),this._url,!0);b.responseType="arraybuffer";var e=this._ajaxOptions.get_headers();if(null!=e&&0<Object.getKeyCount(e))for(var f=ss.IEnumerator.getEnumerator(Object.keys(e));f.moveNext();){var h=f.current;b.setRequestHeader(h,e[h])}"GET"===this._ajaxOptions.get_method()?b.send():b.send(this._ajaxOptions.get_postData())}catch(k){this._isWorking=
!1,this._error=k,null!=this.__fail&&this.__fail(this,lt.LeadEventArgs.Empty),this._isAborted||a()}}};Object.defineProperty(lt.ImageLoader.prototype,"preRun",{get:lt.ImageLoader.prototype.__preRun_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"done",{get:lt.ImageLoader.prototype.__done_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"fail",{get:lt.ImageLoader.prototype.__fail_handler_get,enumerable:!0,configurable:!0});
Object.defineProperty(lt.ImageLoader.prototype,"always",{get:lt.ImageLoader.prototype.__always_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"urlMode",{get:lt.ImageLoader.prototype.get_urlMode,set:lt.ImageLoader.prototype.set_urlMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"tag",{get:lt.ImageLoader.prototype.get_tag,set:lt.ImageLoader.prototype.set_tag,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,
"element",{get:lt.ImageLoader.prototype.get_element,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"isHTMLImageElement",{get:lt.ImageLoader.prototype.get_isHTMLImageElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"width",{get:lt.ImageLoader.prototype.get_width,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"height",{get:lt.ImageLoader.prototype.get_height,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,
"error",{get:lt.ImageLoader.prototype.get_error,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"isWorking",{get:lt.ImageLoader.prototype.get_isWorking,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"ajaxOptions",{get:lt.ImageLoader.prototype.get_ajaxOptions,set:lt.ImageLoader.prototype.set_ajaxOptions,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"url",{get:lt.ImageLoader.prototype.get_url,set:lt.ImageLoader.prototype.set_url,
enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"imagesHolder",{get:lt.ImageLoader.prototype.get_imagesHolder,set:lt.ImageLoader.prototype.set_imagesHolder,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"isAborted",{get:lt.ImageLoader.prototype.get_isAborted,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageLoader.prototype,"canRun",{get:lt.ImageLoader.prototype.get_canRun,enumerable:!0,configurable:!0});lt.LTHelper=function(){};
lt.LTHelper._testString=function(a,b){for(var c=0;c<b.length;c++)if(-1!==a.indexOf(b[c]))return c;return-1};lt.LTHelper._getVersion=function(a,b){var c=a.indexOf(b);lt.LTHelper.version=-1===c?0:parseFloat(a.substr(c+b.length+1))};lt.LTHelper._detectBrowser=function(){var a=window.navigator.userAgent.toLocaleLowerCase(),b=window.navigator.appVersion.toLocaleLowerCase(),c=window.navigator.platform.toLocaleLowerCase(),d="msie";lt.LTHelper.device=0;lt.LTHelper.OS=0;lt.LTHelper.browser=0;var e=-1!==lt.LTHelper._testString(a,
["windows phone"]);if(!e){if(!lt.LTHelper.OS){var f=lt.LTHelper._testString(a,["iphone","ipod","ipad"]);-1!==f&&(lt.LTHelper.OS=3,lt.LTHelper.browser=4,lt.LTHelper.device=2===f?3:2)}if(!lt.LTHelper.device&&(f=lt.LTHelper._testString(a,["android"]),-1!==f)){lt.LTHelper.OS=4;f=lt.LTHelper._testString(a,["firefox","opera","opr","chrome"]);switch(f){case 0:lt.LTHelper.browser=2;break;case 1:case 2:lt.LTHelper.browser=5;break;case 3:lt.LTHelper.browser=3;break;default:lt.LTHelper.browser=6}f=lt.LTHelper._testString(a,
["mobile"]);lt.LTHelper.device=-1!==f?2:3}lt.LTHelper.device||(f=lt.LTHelper._testString(a,["hp-tablet"]),-1!==f&&(lt.LTHelper.device=3,lt.LTHelper.browser=0,lt.LTHelper.OS=7));lt.LTHelper.device||(f=lt.LTHelper._testString(b,["playbook"]),-1!==f&&(lt.LTHelper.device=3,lt.LTHelper.browser=0,lt.LTHelper.OS=6));lt.LTHelper.device||(f=lt.LTHelper._testString(a,["blackberry"]),-1!==f&&(lt.LTHelper.device=2,lt.LTHelper.browser=0,lt.LTHelper.OS=6))}lt.LTHelper.device||(f=lt.LTHelper._testString(a,["iemobile"]),
-1!==f&&(lt.LTHelper.device=2,lt.LTHelper.browser=1,lt.LTHelper.OS=1));if(!lt.LTHelper.device){lt.LTHelper.device=e?2:1;f=lt.LTHelper._testString(c,["win","mac","linux"]);switch(f){case 0:lt.LTHelper.OS=1;break;case 1:lt.LTHelper.OS=2;break;case 2:lt.LTHelper.OS=5;break;default:lt.LTHelper.OS=0}f=lt.LTHelper._testString(a,"edge,firefox,opera,opr,chrome,safari,msie,trident".split(","));switch(f){case 0:lt.LTHelper.browser=7;break;case 1:lt.LTHelper.browser=2;break;case 2:case 3:lt.LTHelper.browser=
5;break;case 4:lt.LTHelper.browser=3;break;case 5:lt.LTHelper.browser=4;break;case 6:lt.LTHelper.browser=1;break;case 7:lt.LTHelper.browser=1;d="rv";break;default:lt.LTHelper.browser=0}}1===lt.LTHelper.OS&&((f=lt.LTHelper._testString(a,["windows phone 10.0","windows nt 6.2","windows phone os 8","windows phone os 7"]))?1===f||2===f?lt.LTHelper.OS=9:3===f&&(lt.LTHelper.OS=8):lt.LTHelper.OS=10);switch(lt.LTHelper.browser){case 1:lt.LTHelper._getVersion(a,d);break;case 2:lt.LTHelper._getVersion(a,"firefox");
break;case 3:lt.LTHelper._getVersion(a,"chrome");break;case 4:lt.LTHelper._getVersion(a,"version");break;case 5:-1!==a.indexOf("opr")?lt.LTHelper._getVersion(a,"opr"):lt.LTHelper._getVersion(a,"opera");break;case 6:lt.LTHelper._getVersion(a,"version");break;case 7:lt.LTHelper._getVersion(a,"edge");break;default:lt.LTHelper.version=0}lt.LTHelper.vendor=-1!==b.indexOf("edge")?"ms":-1!==a.indexOf("opera")||-1!==a.indexOf("opr")?"O":-1!==b.indexOf("webkit")?"Webkit":-1!==a.indexOf("firefox")?"Moz":-1!==
a.indexOf("trident")?"ms":""};lt.LTHelper._detectCapabilities=function(){lt.LTHelper.supportsHTMLPointerEvents=!(1===lt.LTHelper.browser&&(9===lt.LTHelper.version||10===lt.LTHelper.version));lt.LTHelper.supportsCSSTransitions="transition"in document.documentElement.style||lt.LTHelper.vendor+"Transition"in document.documentElement.style;lt.LTHelper._supportsClassList="classList"in document.documentElement;lt.LTHelper.supportsFileReader="File"in window&&"FileReader"in window;lt.LTHelper.supportsCanvas=
"HTMLCanvasElement"in window;lt.LTHelper.supportsTypedArray=void 0!=window.Uint32Array;lt.LTHelper.supportsTouch="ontouchstart"in window;lt.LTHelper.supportsTouch&&7===lt.LTHelper.OS&&(lt.LTHelper.supportsTouch=!1);lt.LTHelper.msPointerEnabled="pointerEnabled"in window.navigator&&window.navigator.pointerEnabled&&"maxTouchPoints"in window.navigator&&0<window.navigator.maxTouchPoints;lt.LTHelper.msPointerEnabled||(lt.LTHelper.msPointerEnabled="msPointerEnabled"in window.navigator&&window.navigator.msPointerEnabled&&
"msMaxTouchPoints"in window.navigator&&0<window.navigator.msMaxTouchPoints);lt.LTHelper.msPointerEnabled&&(lt.LTHelper.supportsTouch=!0);lt.LTHelper.supportsMultiTouch=lt.LTHelper.supportsTouch;lt.LTHelper.supportsMouse=!lt.LTHelper.supportsTouch||1===lt.LTHelper.device;lt.LTHelper.supportsScroll=1===lt.LTHelper.device;lt.LTHelper.supportsWebGL="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix;lt.LTHelper.supportsTransform=lt.LTHelper.vendor+"Transform"in document.documentElement.style;lt.LTHelper.supportsTransitionEnd=
3===lt.LTHelper.OS||6===lt.LTHelper.OS&&3===lt.LTHelper.device;lt.LTHelper.supportsWebWorker="undefined"!==typeof Worker;lt.LTHelper.resizeEvent="onorientationchange"in window?"orientationchange":"resize";lt.LTHelper.dragStartEvent=lt.LTHelper.supportsTouch?"touchstart":"mousedown";lt.LTHelper.dragDeltaEvent=lt.LTHelper.supportsTouch?"touchmove":"mousemove";lt.LTHelper.dragCompletedEvent=lt.LTHelper.supportsTouch?"touchend":"mouseup";lt.LTHelper.dragCancelEvent=lt.LTHelper.supportsTouch?"touchcancel":
"mouseup";lt.LTHelper.mouseWheelEvent="Moz"===lt.LTHelper.vendor?"DOMMouseScroll":"mousewheel"};lt.LTHelper._setupConsole=function(){var a=!!window.console;if(a){lt.LTHelper._consoleWarnFunc=window.console.warn?"warn":lt.LTHelper._consoleLogFunc;lt.LTHelper._consoleErrorFunc=window.console.error?"error":lt.LTHelper._consoleLogFunc;try{window.console.log.apply(window.console,null),lt.LTHelper._isConsoleApplyAvailable=!0}catch(b){}}lt.LTHelper._isConsoleAvailable=a};lt.LTHelper.log=function(a){lt.LTHelper._isConsoleAvailable||
lt.LTHelper._setupConsole();lt.LTHelper._innerLog(lt.LTHelper._consoleLogFunc,arguments)};lt.LTHelper.logWarning=function(a){lt.LTHelper._isConsoleAvailable||lt.LTHelper._setupConsole();lt.LTHelper._innerLog(lt.LTHelper._consoleWarnFunc,arguments)};lt.LTHelper.logError=function(a){lt.LTHelper._isConsoleAvailable||lt.LTHelper._setupConsole();lt.LTHelper._innerLog(lt.LTHelper._consoleErrorFunc,arguments)};lt.LTHelper._innerLog=function(a,b){if(lt.LTHelper._isConsoleAvailable)if(lt.LTHelper._isConsoleApplyAvailable)window.console[a].apply(window.console,
b);else window.console[a](b[0])};lt.LTHelper._setupRequestAnimationFrame=function(){if(window.requestAnimationFrame&&window.cancelAnimationFrame)window.lt_requestAnimationFrame=window.requestAnimationFrame,window.lt_cancelAnimationFrame=window.cancelAnimationFrame,lt.LTHelper.supportsAnimationFrame=!0;else for(var a=["ms","moz","webkit","o"],b=0;b<a.length;b++)if(window.lt_requestAnimationFrame=window[a[b]+"RequestAnimationFrame"],window.lt_cancelAnimationFrame=window[a[b]+"CancelAnimationFrame"]||
window[a[b]+"CancelRequestAnimationFrame"],window.lt_requestAnimationFrame&&window.lt_cancelAnimationFrame){lt.LTHelper.supportsAnimationFrame=!0;break}lt.LTHelper.supportsAnimationFrame||(window.lt_requestAnimationFrame=lt.LTHelper._myRequestAnimationFrame,window.lt_cancelAnimationFrame=lt.LTHelper._myCancelAnimationFrame)};lt.LTHelper._myRequestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-lt.LTHelper._lastAnimationFrameRequestTime)),d=-1,d=setTimeout(function(){a();-1!==
d&&clearTimeout(d)},c);lt.LTHelper._lastAnimationFrameRequestTime=b+c;return d};lt.LTHelper._myCancelAnimationFrame=function(a){-1!==a&&clearTimeout(a)};lt.LTHelper.requestAnimationFrame=function(a){return window.lt_requestAnimationFrame(a)};lt.LTHelper.cancelAnimationFrame=function(a){window.lt_cancelAnimationFrame(a)};lt.LTHelper.getElementStyle=function(a,b){var c=a.style[b];if(!String.isNullOrEmpty(c))return c;a.currentStyle&&(c=a.currentStyle[b]);if(!String.isNullOrEmpty(c))return c;window.getComputedStyle&&
(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b));return c};lt.LTHelper.getPosition=function(a,b){if(null==a)return lt.LeadPointD.get_empty();var c=lt.LTHelper._getPositionFromDocument(a);if(null==b)return c;var d=lt.LTHelper._getPositionFromDocument(b);return d.get_isEmpty()?c:lt.LeadPointD.create(c.get_x()-d.get_x(),c.get_y()-d.get_y())};lt.LTHelper._getPositionFromDocument=function(a){if(null==a||1>a.getClientRects().length)return lt.LeadPointD.create(0,0);var a=a.getBoundingClientRect(),
a=lt.LeadRectD.create(a.left,a.top,a.width,a.height),b=lt.LeadPointD.create(a.get_left(),a.get_top());if(0<a.get_width()||0<a.get_height())b=lt.LeadPointD.create(a.get_left()+window.pageXOffset-document.documentElement.clientLeft,a.get_top()+window.pageYOffset-document.documentElement.clientTop);return b};lt.LTHelper._getElementClassNameValue=function(a){return"undefined"!==typeof a.className.baseVal?a.className.baseVal:a.className};lt.LTHelper._setElementClassNameValue=function(a,b){"undefined"!==
typeof a.className.baseVal?a.className.baseVal=b:a.className=b};lt.LTHelper.hasClass=function(a,b){return lt.LTHelper._supportsClassList&&"undefined"!==typeof a.classList?a.classList.contains(b):null!=lt.LTHelper._getElementClassNameValue(a).match(RegExp("(\\s|^)"+b+"(\\s|$)"))};lt.LTHelper.removeClass=function(a,b){if(lt.LTHelper._supportsClassList&&"undefined"!==typeof a.classList)a.classList.remove(b);else if(lt.LTHelper.hasClass(a,b)){var c=RegExp("(\\s|^)"+b+"(\\s|$)"),d=lt.LTHelper._getElementClassNameValue(a),
d=d.replace(c," "),d=d.trim();lt.LTHelper._setElementClassNameValue(a,d)}};lt.LTHelper.addClass=function(a,b){if(lt.LTHelper._supportsClassList&&"undefined"!==typeof a.classList)a.classList.add(b);else if(!lt.LTHelper.hasClass(a,b)){var c=lt.LTHelper._getElementClassNameValue(a);lt.LTHelper._setElementClassNameValue(a,(c+(" "+b)).trim())}};lt.LTHelper.base64Encode=function(a,b){if(null==a)return null;if(!a.length)return"";for(var c="",d,e,f,h,k,g,j=lt.LTHelper._utF8Encode(a,b),l=0;l<j.length;)d=j.charCodeAt(l++),
e=j.charCodeAt(l++),f=j.charCodeAt(l++),h=d>>2,d=(d&3)<<4|e>>4,k=(e&15)<<2|f>>6,g=f&63,isNaN(e)?k=g=64:isNaN(f)&&(g=64),c=c+lt.LTHelper._base64Table.charAt(h)+lt.LTHelper._base64Table.charAt(d)+lt.LTHelper._base64Table.charAt(k)+lt.LTHelper._base64Table.charAt(g);return c};lt.LTHelper.base64Decode=function(a){if(null==a)return null;if(!a.length)return[];for(var b="",c,d,e,f,h,k=0,a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<a.length;)c=lt.LTHelper._base64Table.indexOf(a.charAt(k++)),d=lt.LTHelper._base64Table.indexOf(a.charAt(k++)),
f=lt.LTHelper._base64Table.indexOf(a.charAt(k++)),h=lt.LTHelper._base64Table.indexOf(a.charAt(k++)),c=c<<2|d>>4,d=(d&15)<<4|f>>2,e=(f&3)<<6|h,b+=String.fromCharCode(c),64!==f&&(b+=String.fromCharCode(d)),64!==h&&(b+=String.fromCharCode(e));return lt.LTHelper._utF8Decode(b)};lt.LTHelper.base64DecodeToArrayBuffer=function(a){for(var a=window.atob(a),b=a.length,c=new Uint8Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer};lt.LTHelper.base64DecodeToByteArray=function(a){for(var a=window.atob(a),
b=a.length,c=Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c};lt.LTHelper.base64EncodeFromArrayBuffer=function(a){for(var a=new DataView(a),b="",c,d,e,f,h=!1,k=!1,g=0,j=a.byteLength;g<j;)c=lt.LTHelper._getUint8(a,g++),g<j?d=lt.LTHelper._getUint8(a,g++):(d=0,h=!0),g<j?e=lt.LTHelper._getUint8(a,g++):(e=0,k=!0),f=c>>2,c=(c&3)<<4|d>>4,d=(d&15)<<2|e>>6,e&=63,h?d=e=64:k&&(e=64),b=b+lt.LTHelper._charAt(lt.LTHelper._base64Table,f)+lt.LTHelper._charAt(lt.LTHelper._base64Table,c)+lt.LTHelper._charAt(lt.LTHelper._base64Table,
d)+lt.LTHelper._charAt(lt.LTHelper._base64Table,e);return b};lt.LTHelper._getUint8=function(a,b){return a.getUint8(b)};lt.LTHelper._charAt=function(a,b){return a.charAt(b)};lt.LTHelper._utF8Encode=function(a,b){for(var c="",d=0;d<a.length;d++){var e=a[d];if(!b||!(10===e&&0<d&&13===a[d-1]))128>e?c+=String.fromCharCode(e):(127<e&&2048>e?c+=String.fromCharCode(e>>6|192):(c+=String.fromCharCode(e>>12|224),c+=String.fromCharCode(e>>6&63|128)),c+=String.fromCharCode(e&63|128))}return c};lt.LTHelper._utF8Decode=
function(a){for(var b=[],c=0,d=0,e=0,f=0;c<a.length;)d=a.charCodeAt(c),128>d?(b.push(d),c++):191<d&&224>d?(e=a.charCodeAt(c+1),d=(d&31)<<6|e&63,b.push(d),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),d=(d&15)<<12|(e&63)<<6|f&63,b.push(d),c+=3);return b};lt.LTHelper.loadJS=function(a,b){for(var c=!1,d=document.getElementsByTagName("script"),e=d.length;0<=e&&!c;e--)null!=d[e]&&null!=d[e].getAttribute("src")&&-1!==d[e].getAttribute("src").indexOf(a)&&(c=!0);c||(c=document.createElement("script"),c.setAttribute("type",
"text/javascript"),c.setAttribute("src",a),c.onload=b,document.getElementsByTagName("head")[0].appendChild(c))};lt.LTHelper.removeJS=function(a){for(var b=document.getElementsByTagName("script"),c=b.length;0<=c;c--)null!=b[c]&&null!=b[c].getAttribute("src")&&-1!==b[c].getAttribute("src").indexOf(a)&&b[c].parentNode.removeChild(b[c])};lt.LTHelper._canDrawOnCanvas=function(a){var b=!1;try{var c=a.getContext("2d");if(null==c)return!1;c.beginPath();var d=a.width,e=a.height;c.rect(d-1,e-1,1,1);c.fillStyle=
"red";c.fill();var f=c.getImageData(d-1,e-1,1,1);null!=f&&255===f.data[0]&&(b=!0);c.clearRect(0,0,d,e)}catch(h){}return b};lt.LTHelper.ensureUsableCanvas=function(a){if(null==a)return 0;var b=a.width,c=a.height;if(!b||!c)return 1;var d=1;if(!lt.LTHelper._canDrawOnCanvas(a)){for(var d=[4,2],e=-1,f=0,h=0;h<d.length&&-1===e;h++)f=1024*d[h],a.width=f,a.height=f,lt.LTHelper._canDrawOnCanvas(a)&&(e=h);-1!==e?(d=f/b,d*c>f&&(d=f/c)):d=0}a.width=parseInt(d*b+0.5);a.height=parseInt(d*c+0.5);return d};lt._base64=
function(){};lt._base64._init=function(){if(!lt._base64._initialized){lt._base64._arr="undefined"!==typeof Uint8Array?Uint8Array:Array;var a;lt._base64._lookup=Array(64);for(a=0;64>a;a++)lt._base64._lookup[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a];lt._base64._revLookup=Array(66);for(a=0;64>a;++a)lt._base64._revLookup["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(a)]=a;lt._base64._revLookup[45]=62;lt._base64._revLookup[95]=63;lt._base64._initialized=
!0}};lt._base64.toByteArray=function(a){lt._base64._init();var b,c,d,e;b=a.length;var f;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");e="="===a[b-2]?2:"="===a[b-1]?1:0;f=new lt._base64._arr(3*b/4-e);c=0<e?b-4:b;var h=0;for(b=0;b<c;b+=4)d=lt._base64._revLookup[a.charCodeAt(b)]<<18|lt._base64._revLookup[a.charCodeAt(b+1)]<<12|lt._base64._revLookup[a.charCodeAt(b+2)]<<6|lt._base64._revLookup[a.charCodeAt(b+3)],f[h++]=(d&16711680)>>16,f[h++]=(d&65280)>>8,f[h++]=d&255;2===e?(d=
lt._base64._revLookup[a.charCodeAt(b)]<<2|lt._base64._revLookup[a.charCodeAt(b+1)]>>>4,f[h++]=d&255):1===e&&(d=lt._base64._revLookup[a.charCodeAt(b)]<<10|lt._base64._revLookup[a.charCodeAt(b+1)]<<4|lt._base64._revLookup[a.charCodeAt(b+2)]>>>2,f[h++]=d>>8&255,f[h++]=d&255);return f};lt._base64._tripletToBase64=function(a){return lt._base64._lookup[a>>18&63]+lt._base64._lookup[a>>12&63]+lt._base64._lookup[a>>6&63]+lt._base64._lookup[a&63]};lt._base64.encodeChunk=function(a,b,c){for(var d=[],e=b;e<c;e+=
3)b=(a[e]<<16)+(a[e+1]<<8)+a[e+2],b=lt._base64._tripletToBase64(b),d.push(b);return d.join("")};lt._base64.fromByteArray=function(a){lt._base64._init();for(var b,c=a.length,d=c%3,e="",f=[],h=0,k=c-d;h<k;h+=16383)b=lt._base64.encodeChunk(a,h,h+16383>k?k:h+16383),f.push(b);1===d?(a=a[c-1],e+=lt._base64._lookup[a>>2],e+=lt._base64._lookup[a<<4&63],e+="=="):2===d&&(a=(a[c-2]<<8)+a[c-1],e+=lt._base64._lookup[a>>10],e+=lt._base64._lookup[a>>4&63],e+=lt._base64._lookup[a<<2&63],e+="=");f.push(e);return f.join("")};
lt._imageGroupLoaderItem=function(){};lt._imageGroupLoaderItem.prototype={loader:null,tag:null,isWorking:!1,isCompleted:!1};lt._loadIterator=function(){this._max=this._min=this._origin=-1;this._reset()};lt._loadIterator.prototype={_reset:function(){this._radius=0;this._didPositive=this._didNegative=this._didAllPositive=this._didAllNegative=!1},_radius:0,_didPositive:!1,_didNegative:!1,_didAllPositive:!1,_didAllNegative:!1,_origin:0,get_origin:function(){return this._origin},set_origin:function(a){this._origin=
a;this._reset();return a},setOriginToMiddle:function(a,b){this._origin=a===b?a:Math.floor((b+a)/2);this._reset()},_min:0,get_min:function(){return this._min},set_min:function(a){a!==this._min&&(this._min=a,this._min>this._origin&&(this._origin=this._min));this._reset();return a},_max:0,get_max:function(){return this._max},set_max:function(a){a!==this._max&&(this._max=a,this._max<this._origin&&(this._origin=this._max));this._reset();return a},get_isDone:function(){return this._didAllNegative&&this._didAllPositive||
-1===this._min||-1===this._origin||-1===this._max},next:function(){if(this._origin<this._min||this._origin>this._max)throw new lt.InvalidOperationException(String.format("Origin ({0}) is outside for bounds {1} to {2}",this._origin,this._min,this._max));if(this.get_isDone())throw new lt.InvalidOperationException(String.format("Iterator is complete for bounds {0} to {1}",this._min,this._max));var a=this._origin;if(this._radius)if(!this._didAllPositive&&!this._didPositive){if(this._didPositive=!0,a+=
this._radius,a>this._max)throw new lt.InvalidOperationException(String.format("Next Iterator value ({0}) is outside of maximum of {1}",a,this._max));}else{if(!this._didAllNegative&&!this._didNegative&&(this._didNegative=!0,a-=this._radius,a<this._min))throw new lt.InvalidOperationException(String.format("Next Iterator value ({0}) is outside of minimum of {1}",a,this._min));}else this._didPositive=this._didNegative=!0;if((this._didNegative||this._didAllNegative)&&(this._didPositive||this._didAllPositive))!this._didAllNegative&&
this._origin-this._radius===this._min&&(this._didAllNegative=!0),!this._didAllPositive&&this._origin+this._radius===this._max&&(this._didAllPositive=!0),this._radius++,this._didPositive=this._didNegative=!1;return a}};lt.ImageGroupLoader=function(a,b){this._imagesDiv=b;0<a?(this._useDoneCount=!0,this._doneCount=a):(this._useDoneCount=!1,this._doneCount=-1);this._maximumLoadersWorking=this._currentLoadersWorking=0;this._loaders=[];this._lazyLoad=!1;this._loadersFinished=0;this._loadersIterator=new lt._loadIterator;
this._minImageTagIndex=this._maxImageTagIndex=-1;this._isDisposed=this._isWorking=this._isAborted=this._aborting=!1};lt.ImageGroupLoader.prototype={add_allDone:function(a){this.__allDone=ss.Delegate.combine(this.__allDone,a)},remove_allDone:function(a){this.__allDone=ss.Delegate.remove(this.__allDone,a)},__allDone_handler_get:function(){null==this.__allDone_handler&&(this.__allDone_handler=ss.EventHandler.create(this,this.add_allDone,this.remove_allDone));return this.__allDone_handler},__allDone:null,
__allDone_handler:null,_currentLoadersWorking:0,_loadersFinished:0,_loaders:null,_aborting:!1,_isDisposed:!1,abort:function(a){this._aborting=!0;this._isWorking=!1;if(a)for(a=0;a<this._loaders.length;a++){var b=this._loaders[a];null!=b&&null!=b.loader&&!b.isCompleted&&b.loader.abort()}},get_isAborting:function(){return this._aborting},_isAborted:!1,get_isAborted:function(){return this._isAborted},_isWorking:!1,get_isWorking:function(){return this._isWorking},_imagesDiv:null,get_imagesDiv:function(){return this._imagesDiv},
_useDoneCount:!1,_doneCount:0,get_doneCount:function(){return this._doneCount},_addAbortedToDoneCount:!1,get_addAbortedToDoneCount:function(){return this._addAbortedToDoneCount},set_addAbortedToDoneCount:function(a){return this._addAbortedToDoneCount=a},_maximumLoadersWorking:0,get_maximumLoadersWorking:function(){return this._maximumLoadersWorking},set_maximumLoadersWorking:function(a){if(this._maximumLoadersWorking!==a&&(this._maximumLoadersWorking=a,0<this._loaders.length))for(var b=this._maximumLoadersWorking-
this._currentLoadersWorking,c=0;c<b;c++)this._checkNextLoader();return a},_lazyLoad:!1,get_lazyLoad:function(){return this._lazyLoad},set_lazyLoad:function(a){if(this._lazyLoad!==a){if(this._loaders.length)if(a)this._loadersIterator.set_min(this._minImageTagIndex),this._loadersIterator.set_max(this._maxImageTagIndex),this._loadersIterator.set_origin(Math.min(Math.max(this._loadersIterator.get_origin(),this._minImageTagIndex),this._maxImageTagIndex));else{this._loadersIterator.set_min(0);this._loadersIterator.set_max(this._loaders.length-
1);for(var b=this._maximumLoadersWorking-this._currentLoadersWorking,c=0;c<b;c++)this._checkNextLoader()}this._lazyLoad=a}return a},_failOnInvalidTags:!1,get_failOnInvalidTags:function(){return this._failOnInvalidTags},set_failOnInvalidTags:function(a){return this._failOnInvalidTags=a},_minImageTagIndex:0,_maxImageTagIndex:0,_getImageTagIndices:function(a,b){for(var c=-1,d=-1,e=0;e<this._loaders.length;e++){var f=this._loaders[e];f.tag===a&&(c=e);f.tag===b&&(d=e);if(-1<c&&-1<d)break}return[c,d]},
setImageTag:function(a){this.setImageTags(a,a)},setImageTags:function(a,b){if(!this._useDoneCount||this._isWorking)if(null==a||null==b){if(this._failOnInvalidTags)throw new lt.InvalidOperationException("ImageGroupLoader tags cannot be null");}else if(!(this._loaders[this._minImageTagIndex]===a&&this._loaders[this._maxImageTagIndex]===b)){var c=this._getImageTagIndices(a,b),d=c[0],c=c[1];if(-1===d||-1===c){if(this._failOnInvalidTags)throw new lt.InvalidOperationException("Tags do not exist in ImageGroupLoader");
}else if(!(-1!==this._minImageTagIndex&&-1!==this._maxImageTagIndex&&d>=this._minImageTagIndex&&c<=this._maxImageTagIndex)){if(this._lazyLoad){this._loadersIterator.set_min(d);this._loadersIterator.set_max(c);this._loadersIterator.setOriginToMiddle(d,c);for(var e=this._maximumLoadersWorking-this._currentLoadersWorking,f=0;f<e;f++)this._checkNextLoader()}else this._loadersIterator.setOriginToMiddle(d,c);this._minImageTagIndex=d;this._maxImageTagIndex=c}}},_loadersIterator:null,_createImageLoaderCallbacks:function(a){var b=
this,c=null,d=null,c=function(){a.loader.remove_always(c);a.loader.remove__aborted(d);b._resolveImageLoaderComplete(a,!1)},d=function(){a.loader.remove_always(c);a.loader.remove__aborted(d);b._resolveImageLoaderComplete(a,!0)};a.loader.add_always(c);a.loader.add__aborted(d)},_resolveImageLoaderComplete:function(a,b){this._isDisposed||-1===this._loaders.indexOf(a)||(a.isCompleted=!0,(!b||this._addAbortedToDoneCount)&&this._loadersFinished++,a.isWorking&&(a.isWorking=!1,this._currentLoadersWorking--),
this._checkNextLoader())},_checkNextLoader:function(){if(!this._isDisposed){if(this._aborting)this._currentLoadersWorking||(this._aborting=!1,this._isAborted=!0,null!=this.__allDone&&this.__allDone(this,lt.LeadEventArgs.Empty));else if(this._isWorking&&this._useDoneCount){if(this._loadersFinished===this._doneCount){this._isWorking=!1;null!=this.__allDone&&this.__allDone(this,lt.LeadEventArgs.Empty);return}if(this._loadersFinished+this._currentLoadersWorking===this._doneCount)return}(!this._maximumLoadersWorking||
this._currentLoadersWorking<this._maximumLoadersWorking)&&this._callNextLoader()}},_callNextLoader:function(){var a=null,a=0;do{if(this._loadersIterator.get_isDone())return;a=this._loadersIterator.next();a=this._loaders[a]}while(a.isCompleted||a.isWorking||null==a.loader||a.loader.get_isWorking()||!a.loader.get_canRun());this._currentLoadersWorking++;a.isWorking=!0;a.loader.run()},load:function(a,b,c){this._isWorking=!0;var d=new lt._imageGroupLoaderItem;d.loader=a;d.tag=b;d.isWorking=!1;d.isCompleted=
!1;null!=a&&(a.set_imagesHolder(this._imagesDiv),this._createImageLoaderCallbacks(d));if(this._lazyLoad&&(-1!==this._minImageTagIndex&&c<=this._minImageTagIndex&&(this._minImageTagIndex=-1),-1!==this._minImageTagIndex&&c>=this._maxImageTagIndex))this._maxImageTagIndex=-1;!this._loaders.length&&!this._lazyLoad&&(this._loadersIterator.set_min(0),this._loadersIterator.set_origin(0),this._loadersIterator.set_max(0));if(0<this._loaders.length){a=this._loadersIterator.get_origin();b=this._loadersIterator.get_max();
if(this.get_lazyLoad()){var e=this._loadersIterator.get_min();c<=e&&e++;c<=a&&a++;c<=b&&b++;this._loadersIterator.set_min(e)}else c<=a&&a++,b++;this._loadersIterator.set_origin(a);this._loadersIterator.set_max(b)}this._loaders.insert(c,d);this._checkNextLoader()},remove:function(a){var b=this._loaders[a];if(null!=b){this._loaders.removeAt(a);if(this._lazyLoad&&(-1!==this._minImageTagIndex&&a>=this._minImageTagIndex&&a<=this._maxImageTagIndex&&(this._minImageTagIndex=-1),-1!==this._maxImageTagIndex&&
a>=this._minImageTagIndex&&a<=this._maxImageTagIndex))this._maxImageTagIndex=-1;if(this._loaders.length){var c=this._loadersIterator.get_min();c&&a<c&&c--;this._loadersIterator.set_min(c);(a=this._loadersIterator.get_max())&&a--;this._loadersIterator.set_max(a);var d=this._loadersIterator.get_origin();this._loadersIterator.set_origin(Math.min(Math.max(d,c),a))}else this._loadersIterator.set_min(-1),this._loadersIterator.set_origin(-1),this._loadersIterator.set_max(-1);null!=b.loader&&b.loader.abort()}},
dispose:function(){this.abort(!0);this._loadersIterator=this._loaders=null;this._aborting=this._isAborted=this._isWorking=!1;this._isDisposed=!0}};Object.defineProperty(lt.ImageGroupLoader.prototype,"allDone",{get:lt.ImageGroupLoader.prototype.__allDone_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageGroupLoader.prototype,"isAborting",{get:lt.ImageGroupLoader.prototype.get_isAborting,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageGroupLoader.prototype,"isAborted",
{get:lt.ImageGroupLoader.prototype.get_isAborted,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageGroupLoader.prototype,"isWorking",{get:lt.ImageGroupLoader.prototype.get_isWorking,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageGroupLoader.prototype,"imagesDiv",{get:lt.ImageGroupLoader.prototype.get_imagesDiv,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageGroupLoader.prototype,"doneCount",{get:lt.ImageGroupLoader.prototype.get_doneCount,enumerable:!0,configurable:!0});
Object.defineProperty(lt.ImageGroupLoader.prototype,"addAbortedToDoneCount",{get:lt.ImageGroupLoader.prototype.get_addAbortedToDoneCount,set:lt.ImageGroupLoader.prototype.set_addAbortedToDoneCount,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageGroupLoader.prototype,"maximumLoadersWorking",{get:lt.ImageGroupLoader.prototype.get_maximumLoadersWorking,set:lt.ImageGroupLoader.prototype.set_maximumLoadersWorking,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageGroupLoader.prototype,
"lazyLoad",{get:lt.ImageGroupLoader.prototype.get_lazyLoad,set:lt.ImageGroupLoader.prototype.set_lazyLoad,enumerable:!0,configurable:!0});Object.defineProperty(lt.ImageGroupLoader.prototype,"failOnInvalidTags",{get:lt.ImageGroupLoader.prototype.get_failOnInvalidTags,set:lt.ImageGroupLoader.prototype.set_failOnInvalidTags,enumerable:!0,configurable:!0});lt.CanvasHelper=function(){};lt.CanvasHelper._toInt=function(a){return 0>a?parseInt(a-0.5):parseInt(a+0.5)};lt.CanvasHelper._drawOnCanvas=function(a,
b,c){if(null==a||null==b)return 0;var d=a.width,e=a.height;if(!d||!e)return 1;var f=1;if(!lt.CanvasHelper._canDrawOnCanvas(a,b,c)){for(var f=[2,4,8,16],h=-1,k=0,g=0,j=0;j<f.length&&-1===h;j++)k=lt.CanvasHelper._toInt(d/f[j]),g=lt.CanvasHelper._toInt(e/f[j]),0<k&&0<g&&(a.width=k,a.height=g,lt.CanvasHelper._canDrawOnCanvas(a,b,c)&&(h=j));f=-1!==h&&0<k?k/d:0}return f};lt.CanvasHelper._canDrawOnCanvas=function(a,b,c){if(null==a||null==b)return!1;var d=!1,e=null;try{e=a.getContext("2d");if(null==e)return!1;
e.beginPath();var f=a.width,h=a.height;e.rect(f-1,h-1,1,1);e.fillStyle="red";e.fill();var k=e.getImageData(f-1,h-1,1,1);null!=k&&255===k.data[0]&&(d=!0);e.clearRect(0,0,f,h);d&&(a=1,3===lt.LTHelper.OS&&(a=lt.CanvasHelper._detectVerticalSquash(b,c)),1===a?e.drawImage(b,0,0,f,h):e.drawImage(b,0,0,c.get_width()*a,c.get_height()*a,0,0,f,h))}catch(g){}finally{}return d};lt.CanvasHelper._detectVerticalSquash=function(a,b){parseInt(b.get_width()+0.5);var c=parseInt(b.get_height()+0.5),d=document.createElement("canvas");
d.width=1;d.height=c;d=d.getContext("2d");d.drawImage(a,0,0);for(var d=d.getImageData(0,0,1,c).data,e=0,f=c,h=c;h>e;)d[4*(h-1)+3]?e=h:f=h,h=f+e>>1;c=h/c;return!c?1:c};lt.CanvasHelper.prototype={_size:null,get_size:function(){return this._size.clone()},_scale:0,get_scale:function(){return this._scale},_autoScale:!0,get_autoScale:function(){return this._autoScale},set_autoScale:function(a){return this._autoScale=a},_maximumSize:0,get_maximumSize:function(){return this._maximumSize},set_maximumSize:function(a){if(0>
a)throw new lt.ArgumentOutOfRangeException("MaximumSize",a,"Must be a value greater than or equal to 0");return this._maximumSize=a},create:function(a,b){this._scale=1;this._size=b.clone();if(this._size.get_isEmpty())return null;var c=document.createElement("canvas"),d=lt.CanvasHelper._toInt(this._size.get_width()),e=lt.CanvasHelper._toInt(this._size.get_height());this._scale=1;var f=this.get_autoScale(),h=this.get_maximumSize();if(null!=a&&f&&0<h&&(d>h||e>h))this._scale=d>e?h/d:h/e,d=lt.CanvasHelper._toInt(d*
this._scale),e=lt.CanvasHelper._toInt(e*this._scale);c.width=d;c.height=e;if(f){f=null!=a?lt.CanvasHelper._drawOnCanvas(c,a,b):lt.LTHelper.ensureUsableCanvas(c);if(!f)return null;lt.LeadDoubleTools.areClose(f,1)||(d=lt.CanvasHelper._toInt(d*f),e=lt.CanvasHelper._toInt(e*f));this._scale*=f}lt.LeadDoubleTools.areClose(this._scale,1)||(this._size=lt.LeadSizeD.create(d,e));if(null==a){f=null;try{f=c.getContext("2d"),f.clearRect(0,0,d,e)}catch(k){}finally{}}return c},create2:function(a,b){if(b.get_isEmpty()||
null==a)return null;this._size=b.clone();var c=b.get_width(),d=b.get_height(),e=document.createElement("canvas"),f=this.get_maximumSize();if(0<f&&(c>f||d>f))this._scale=c>d?f/c:f/d,c=lt.CanvasHelper._toInt(c*this._scale),d=lt.CanvasHelper._toInt(d*this._scale);e.width=parseInt(c);e.height=parseInt(d);(this._scale=lt.LTHelper.ensureUsableCanvas(e))?1!==this._scale&&(c*=this._scale,d*=this._scale):this._scale=1;e.getContext("2d").drawImage(a,0,0,c,d);return e}};Object.defineProperty(lt.CanvasHelper.prototype,
"size",{get:lt.CanvasHelper.prototype.get_size,enumerable:!0,configurable:!0});Object.defineProperty(lt.CanvasHelper.prototype,"scale",{get:lt.CanvasHelper.prototype.get_scale,enumerable:!0,configurable:!0});Object.defineProperty(lt.CanvasHelper.prototype,"autoScale",{get:lt.CanvasHelper.prototype.get_autoScale,set:lt.CanvasHelper.prototype.set_autoScale,enumerable:!0,configurable:!0});Object.defineProperty(lt.CanvasHelper.prototype,"maximumSize",{get:lt.CanvasHelper.prototype.get_maximumSize,set:lt.CanvasHelper.prototype.set_maximumSize,
enumerable:!0,configurable:!0});lt._lT_VersionNumber.registerClass("lt._lT_VersionNumber");lt.NotifyLeadCollectionChangedEventArgs.registerClass("lt.NotifyLeadCollectionChangedEventArgs",lt.LeadEventArgs);lt.LeadCollection.registerClass("lt.LeadCollection");lt.LeadEventArgs.registerClass("lt.LeadEventArgs");lt.LeadEvent.registerClass("lt.LeadEvent");lt.ImageProcessingProgressEventArgs.registerClass("lt.ImageProcessingProgressEventArgs",lt.LeadEventArgs);lt.ImageProcessingCompletedEventArgs.registerClass("lt.ImageProcessingCompletedEventArgs",
lt.LeadEventArgs);lt.ImageProcessingErrorEventArgs.registerClass("lt.ImageProcessingErrorEventArgs",lt.LeadEventArgs);lt.ImageProcessing.registerClass("lt.ImageProcessing");lt.LeadLengthD.registerClass("lt.LeadLengthD");lt.LeadDoubleTools.registerClass("lt.LeadDoubleTools");lt.LeadMatrix.registerClass("lt.LeadMatrix");lt._leadMatrixUtil.registerClass("lt._leadMatrixUtil");lt.LeadPointD.registerClass("lt.LeadPointD");lt.LeadRectD.registerClass("lt.LeadRectD");lt.LeadSizeD.registerClass("lt.LeadSizeD");
lt.TextFontRuler.registerClass("lt.TextFontRuler");lt.ImageLoaderPreRunEventArgs.registerClass("lt.ImageLoaderPreRunEventArgs",lt.LeadEventArgs);lt.ImageLoaderAjaxOptions.registerClass("lt.ImageLoaderAjaxOptions");lt.ImageLoader.registerClass("lt.ImageLoader",null,ss.IDisposable);lt.LTHelper.registerClass("lt.LTHelper");lt._base64.registerClass("lt._base64");lt._imageGroupLoaderItem.registerClass("lt._imageGroupLoaderItem");lt._loadIterator.registerClass("lt._loadIterator");lt.ImageGroupLoader.registerClass("lt.ImageGroupLoader",
null,ss.IDisposable);lt.CanvasHelper.registerClass("lt.CanvasHelper");lt._lT_VersionNumber.l_VER_PRODUCT="LEADTOOLS\u00ae for JavaScript";lt._lT_VersionNumber.l_VER_COMPANYNAME_STR="LEAD Technologies, Inc.";lt._lT_VersionNumber.l_VER_LEGALTRADEMARKS_STR="LEADTOOLS\u00ae is a trademark of LEAD Technologies, Inc.";lt._lT_VersionNumber.l_VER_LEGALCOPYRIGHT_STR="\u00a9 1991-2017 LEAD Technologies, Inc.";lt._lT_VersionNumber.l_VER_DLLEXT=".dll";lt._lT_VersionNumber.l_VER_EXEEXT=".exe";lt._lT_VersionNumber.l_VER_PLATFORM=
"";lt._lT_VersionNumber.l_VER_PLATFORM_FOR="";lt._lT_VersionNumber.l_VER_PRODUCTNAME_STR="LEADTOOLS\u00ae for JavaScript";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_XXX="Leadtools.Xxx.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_XXX="LEADTOOLS Xxx";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_KERNEL="lt.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_KERNEL="Leadtools";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS="lt.Controls.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS=
"Controls";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS_UI="lt.Documents.UI.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS_UI="Documents User Interface";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS_MEDICAL="lt.Controls.Medical.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS_MEDICAL="Medical Controls";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS="lt.Documents.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS="Documents";
lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_CORE="lt.Annotations.Core.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_CORE="Annotations Core";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_AUTOMATION="lt.Annotations.Automation.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_AUTOMATION="Annotations Automation";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DESIGNERS="lt.Annotations.Designers.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DESIGNERS=
"Annotations Designers";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_RENDERING="lt.Annotations.Rendering.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_RENDERING="Annotations Rendering";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CCOW="Leadtools.Ccow.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CCOW="Leadtools CCOW Library";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DOCUMENTS="Leadtools.Annotations.Documents.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DOCUMENTS=
"Annotations Documents";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_LEGACY="Leadtools.Annotations.Legacy.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_LEGACY="Annotations Legacy";lt._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_JAVASCRIPT="Leadtools.Annotations.JavaScript.dll";lt._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_JAVASCRIPT="JavaScripot Annotations";lt._lT_VersionNumber.l_VER_PRODUCTVERSION_DOT_STR="19.0.0.0";lt._lT_VersionNumber.l_VER_FILEVERSION_DOT_STR=
"19.0.0.19";lt.LeadEventArgs.Empty=new lt.LeadEventArgs;lt.LeadDoubleTools.naN=0/0;lt.LeadDoubleTools.positiveInfinity=1/0;lt.LeadDoubleTools.negativeInfinity=-1/0;lt.LeadMatrix._identity=lt.LeadMatrix._createIdentity();lt.LeadPointD._empty=lt.LeadPointD._createEmptyPoint();lt.LeadRectD._empty=lt.LeadRectD._createEmptyRect();lt.LeadSizeD._empty=lt.LeadSizeD._createEmptySize();lt.ImageLoader._mimeTypePNG="image/png";lt.ImageLoader._mimeTypeGIF="image/gif";lt.ImageLoader._mimeTypeJPEG="image/jpeg";
lt.ImageLoader._mimeTypeSVG="image/svg+xml";lt.LTHelper.requestCustomHeaders=null;lt.LTHelper.device=0;lt.LTHelper.OS=0;lt.LTHelper.browser=0;lt.LTHelper.version=0;lt.LTHelper.vendor=null;lt.LTHelper._supportsClassList=!1;lt.LTHelper._isConsoleAvailable=!1;lt.LTHelper._isConsoleApplyAvailable=!1;lt.LTHelper._consoleLogFunc="log";lt.LTHelper._consoleWarnFunc=null;lt.LTHelper._consoleErrorFunc=null;lt.LTHelper.supportsHTMLPointerEvents=!1;lt.LTHelper.supportsCSSTransitions=!1;lt.LTHelper.supportsFileReader=
!1;lt.LTHelper.supportsCanvas=!1;lt.LTHelper.supportsTypedArray=!1;lt.LTHelper.supportsTouch=!1;lt.LTHelper.supportsMultiTouch=!1;lt.LTHelper.supportsMouse=!1;lt.LTHelper.supportsScroll=!1;lt.LTHelper.supportsWebGL=!1;lt.LTHelper.supportsTransform=!1;lt.LTHelper.supportsTransitionEnd=!1;lt.LTHelper.supportsAnimationFrame=!1;lt.LTHelper.supportsWebWorker=!1;lt.LTHelper.msPointerEnabled=!1;lt.LTHelper.resizeEvent=null;lt.LTHelper.dragStartEvent=null;lt.LTHelper.dragDeltaEvent=null;lt.LTHelper.dragCompletedEvent=
        null; lt.LTHelper.dragCancelEvent = null; lt.LTHelper.mouseWheelEvent = null; lt.LTHelper.licenseDirectory ="../LEADTOOLS";lt.LTHelper._lastAnimationFrameRequestTime=0;lt.LTHelper._base64Table="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";lt.LTHelper._detectBrowser();lt.LTHelper._detectCapabilities();lt.LTHelper._setupConsole();lt.LTHelper._setupRequestAnimationFrame();lt.LTHelper.requestCustomHeaders={};lt._base64._lookup=null;lt._base64._revLookup=null;lt._base64._arr=null;lt._base64._initialized=
!1})();

var lt;
(function (lt) {
    var Scanning;
    (function (Scanning) {
        var JavaScript;
        (function (JavaScript) {
            var SaneScanning = /** @class */ (function () {
                function SaneScanning(portNumber) {
                    this._service = new lt.Sane.JavaScript.SaneService(portNumber);
                }
                SaneScanning.prototype.init = function (onSuccess, onFailure) {
                    this._service.init(null, onSuccess, onFailure);
                };
                SaneScanning.prototype.getStatus = function (onSuccess, onFailure) {
                    this._service.getStatus(null, function (saneStatus) {
                        var status = new lt.Scanning.JavaScript.ScanningStatus();
                        status.isScanning = saneStatus.isScanning;
                        status.pageCount = saneStatus.pageCount;
                        status.selectedSource = saneStatus.selectedSource;
                        status.errCode = saneStatus.error.code;
                        status.errMessage = saneStatus.error.message;
                        onSuccess(status);
                    }, onFailure);
                };
                SaneScanning.prototype.getSources = function (onSuccess, onFailure) {
                    this._service.getSources(null, function (saneSources) {
                        var sources = [];
                        for (var i = 0; i < saneSources.length; i++)
                            sources.push(saneSources[i].name);
                        onSuccess(sources);
                    }, onFailure);
                };
                SaneScanning.prototype.selectSource = function (sourceName, onSuccess, onFailure) {
                    this._service.selectSource(sourceName, null, onSuccess, onFailure);
                };
                SaneScanning.prototype.acquire = function (onSuccess, onFailure) {
                    var _this = this;
                    this._service.acquire(null, function () {
                        _this.getStatus(onSuccess, onFailure);
                    }, onFailure);
                };
                SaneScanning.prototype.getPage = function (pageNumber, format, bpp, width, height) {
                    return this._service.getPage(pageNumber, format, bpp, width, height, null);
                };
                SaneScanning.prototype.stop = function (onSuccess, onFailure) {
                    this._service.stop(null, onSuccess, onFailure);
                };
                SaneScanning.prototype.start = function (onSuccess, onFailure) {
                    this._service.start(null, onSuccess, onFailure);
                };
                SaneScanning.prototype.applyImageProcessingCommand = function (firstPageNumber, lastPageNumber, commandName, args, onSuccess, onFailure) {
                    this._service.applyImageProcessingCommand(firstPageNumber, lastPageNumber, commandName, args, null, onSuccess, onFailure);
                };
                SaneScanning.prototype.getImageProcessingPreview = function (pageNumber, commandName, args, width, height, format, bpp) {
                    return this._service.getImageProcessingPreview(pageNumber, commandName, args, width, height, format, bpp, null);
                };
                SaneScanning.prototype.runCommand = function (commandName, args, userData) {
                    return this._service.runCommand(commandName, args, userData);
                };
                SaneScanning.prototype.getHandle = function () {
                    return this._service;
                };
                return SaneScanning;
            }());
            JavaScript.SaneScanning = SaneScanning;
        })(JavaScript = Scanning.JavaScript || (Scanning.JavaScript = {}));
    })(Scanning = lt.Scanning || (lt.Scanning = {}));
})(lt || (lt = {}));
var lt;
(function (lt) {
    var Scanning;
    (function (Scanning) {
        var JavaScript;
        (function (JavaScript) {
            var TwainScanning = /** @class */ (function () {
                function TwainScanning(serviceUrl) {
                    
                    this._service = new lt.Twain.JavaScript.TwainService(serviceUrl);
                }
                TwainScanning.prototype.init = function (onSuccess, onFailure) {
                    this._service.init("", "", "", "", null, onSuccess, onFailure);
                };
                TwainScanning.prototype.getStatus = function (onSuccess, onFailure) {
                    this._service.getStatus(null, function (twainStatus) {
                        var status = new lt.Scanning.JavaScript.ScanningStatus();
                        status.isScanning = twainStatus.isScanning;
                        status.pageCount = twainStatus.pagesCount;
                        status.selectedSource = twainStatus.selectedSource;
                        status.errCode = twainStatus.error.code;
                        status.errMessage = twainStatus.error.message;
                        onSuccess(status);
                    }, onFailure);
                };
                TwainScanning.prototype.isAvailable = function (onSuccess, onFailure) {
                    this._service.isAvailable(null, onSuccess, onFailure);
                };
                TwainScanning.prototype.getSources = function (onSuccess, onFailure) {
                    this._service.getSources(null, function (twainSources) {
                        var sources = [];
                        for (var i = 0; i < twainSources.length; i++)
                            sources.push(twainSources[i].name);
                        onSuccess(sources);
                    }, onFailure);
                };
                TwainScanning.prototype.selectSource = function (sourceName, onSuccess, onFailure) {
                    this._service.selectSource(sourceName, null, onSuccess, onFailure);
                };
                TwainScanning.prototype.acquire = function (onSuccess, onFailure) {
                    var _this = this;
                    this._service.acquire(lt.Twain.JavaScript.TwainUserInterfaceFlags.Modal | lt.Twain.JavaScript.TwainUserInterfaceFlags.Show, null, function () {
                        _this.getStatus(onSuccess, onFailure);
                    }, onFailure);
                };
                TwainScanning.prototype.getPage = function (pageNumber, format, bpp, width, height) {
                    return this._service.getPage(pageNumber, format, bpp, width, height, null);
                };
                TwainScanning.prototype.stop = function (onSuccess, onFailure) {
                    this._service.stop(null, onSuccess, onFailure);
                };
                TwainScanning.prototype.start = function (onSuccess, onFailure) {
                    this._service.start(null, onSuccess, onFailure);
                };
                TwainScanning.prototype.applyImageProcessingCommand = function (firstPageNumber, lastPageNumber, commandName, args, onSuccess, onFailure) {
                    this._service.applyImageProcessingCommand(firstPageNumber, lastPageNumber, commandName, args, null, onSuccess, onFailure);
                };
                TwainScanning.prototype.getImageProcessingPreview = function (pageNumber, commandName, args, width, height, format, bpp) {
                    return this._service.getImageProcessingPreview(pageNumber, commandName, args, width, height, format, bpp, null);
                };
                TwainScanning.prototype.runCommand = function (commandName, args, userData) {
                    return this._service.runCommand(commandName, args, userData);
                };
                TwainScanning.prototype.getHandle = function () {
                    return this._service;
                };
                return TwainScanning;
            }());
            JavaScript.TwainScanning = TwainScanning;
        })(JavaScript = Scanning.JavaScript || (Scanning.JavaScript = {}));
    })(Scanning = lt.Scanning || (lt.Scanning = {}));
})(lt || (lt = {}));
var lt;
(function (lt) {
    var Twain;
    (function (Twain) {
        var JavaScript;
        (function (JavaScript) {
            var TwainContainerType;
            (function (TwainContainerType) {
                // Summary:
                //     (0xFFFFFFFF)TWON_DONTCARE32
                TwainContainerType[TwainContainerType["DontCare32"] = -1] = "DontCare32";
                //
                // Summary:
                //     (0x00000003)TWON_ARRAY
                TwainContainerType[TwainContainerType["Array"] = 3] = "Array";
                //
                // Summary:
                //     (0x00000004)TWON_ENUMERATION
                TwainContainerType[TwainContainerType["Enumeration"] = 4] = "Enumeration";
                //
                // Summary:
                //     (0x00000005)TWON_ONEVALUE
                TwainContainerType[TwainContainerType["OneValue"] = 5] = "OneValue";
                //
                // Summary:
                //     (0x00000006)TWON_RANGE
                TwainContainerType[TwainContainerType["Range"] = 6] = "Range";
                //
                // Summary:
                //     (0x0000003F)TWON_DSMCODEID
                TwainContainerType[TwainContainerType["DsmCodeId"] = 63] = "DsmCodeId";
                //
                // Summary:
                //     (0x000000FF)TWON_DONTCARE8
                TwainContainerType[TwainContainerType["DontCare8"] = 255] = "DontCare8";
                //
                // Summary:
                //     (0x000001CD)TWON_DSMID
                TwainContainerType[TwainContainerType["DsmId"] = 461] = "DsmId";
                //
                // Summary:
                //     (0x000003C2)TWON_ICONID
                TwainContainerType[TwainContainerType["IconId"] = 962] = "IconId";
                //
                // Summary:
                //     (0x0000FFFF)TWON_DONTCARE16
                TwainContainerType[TwainContainerType["DontCare16"] = 65535] = "DontCare16";
            })(TwainContainerType = JavaScript.TwainContainerType || (JavaScript.TwainContainerType = {}));
            var TwainUserInterfaceFlags;
            (function (TwainUserInterfaceFlags) {
                // Summary:
                //     (0x00000000)Default, no user interface is shown. Not all TWAIN Data Sources
                //     support this feature.
                TwainUserInterfaceFlags[TwainUserInterfaceFlags["None"] = 0] = "None";
                //
                // Summary:
                //     (0x00000001)Shows the manufacturer's user interface as modeless.
                TwainUserInterfaceFlags[TwainUserInterfaceFlags["Show"] = 1] = "Show";
                //
                // Summary:
                //     (0x00000002)Shows the manufacturer's user interface as a modal dialog. Works
                //     only if the Show is set.
                TwainUserInterfaceFlags[TwainUserInterfaceFlags["Modal"] = 2] = "Modal";
                //
                // Summary:
                //     (0x00000020)Keep the TWAIN data source open after scanning.
                //     The TwainUserInterfaceFlags.KeepOpen flag works only in the following cases:
                //     Passed along with TwainUserInterfaceFlags.Show flag to make TWAIN user-interface
                //     appears as modeless dialog.  The TWAIN data source remains open after scanning
                //     until the user closes it.Passed along with TwainUserInterfaceFlags.Show and
                //     TwainUserInterfaceFlags.Modal flags to make the TWAIN user-interface appears
                //     as modal dialog.  The TWAIN data source remains open after scanning until
                //     the user closes it.
                TwainUserInterfaceFlags[TwainUserInterfaceFlags["KeepOpen"] = 32] = "KeepOpen";
                //
                // Summary:
                //     (0x00000040)Checks image information while scanning multi pages with different
                //     dimensions.  This flag is used only with memory transfer mode.
                //     Use MemoryCheckImageInfo flag only when memory transfer mode is used. Also,
                //     this flag will not affect native and file transfer modes.
                //     When scanning multi pages or multi areas with memory transfer mode, you may
                //     need to use (MemoryCheckImageInfo); this flag will let the TWAIN DLL to check
                //     the image information for each page or area before start pending the image
                //     data to application.
                //     Some drivers will not work with this flag like TWAIN Virtual Driver; in this
                //     case, you shouldn't pass this flag.
                //     The usage of the flag does not follow the TWAIN specification, but is included
                //     as work around for TWAIN drivers that scan multiple pages with different
                //     image dimensions.  Usage of this flag should be limited only to these special
                //     and unusual cases.
                TwainUserInterfaceFlags[TwainUserInterfaceFlags["MemoryCheckImageInfo"] = 64] = "MemoryCheckImageInfo";
                //
                // Summary:
                //     (0x00000080)Calculate the acquired image size after the image is acquired.
                //      This flag is used only with memory transfer mode.
                //     Use ImageSizeUndefined flag only when memory transfer mode is used.  So,
                //     to use this flag, you should set TwainCapabilityType.ImageTransferMechanism
                //     capability to TwainTransferMechanism.Memory and then set TwainCapabilityType.ImageUndefinedImageSize
                //     capability to TRUE before calling TwainSession.Acquire(), otherwise, the
                //     TwainSession.Acquire() will return an error.
                TwainUserInterfaceFlags[TwainUserInterfaceFlags["ImageSizeUndefined"] = 128] = "ImageSizeUndefined";
            })(TwainUserInterfaceFlags = JavaScript.TwainUserInterfaceFlags || (JavaScript.TwainUserInterfaceFlags = {}));
            var TwainItemType;
            (function (TwainItemType) {
                // Summary:
                //     (0x00000000)TWTY_INT8
                TwainItemType[TwainItemType["Int8"] = 0] = "Int8";
                //
                // Summary:
                //     (0x00000001)TWTY_INT16
                TwainItemType[TwainItemType["Int16"] = 1] = "Int16";
                //
                // Summary:
                //     (0x00000002)TWTY_INT32
                TwainItemType[TwainItemType["Int32"] = 2] = "Int32";
                //
                // Summary:
                //     (0x00000003)TWTY_UINT8
                TwainItemType[TwainItemType["Uint8"] = 3] = "Uint8";
                //
                // Summary:
                //     (0x00000004)TWTY_UINT16
                TwainItemType[TwainItemType["Uint16"] = 4] = "Uint16";
                //
                // Summary:
                //     (0x00000005)TWTY_UINT32
                TwainItemType[TwainItemType["Uint32"] = 5] = "Uint32";
                //
                // Summary:
                //     (0x00000006)TWTY_BOOL
                TwainItemType[TwainItemType["Bool"] = 6] = "Bool";
                //
                // Summary:
                //     (0x00000007)TWTY_FIX32
                TwainItemType[TwainItemType["Fix32"] = 7] = "Fix32";
                //
                // Summary:
                //     (0x00000008)TWTY_FRAME
                TwainItemType[TwainItemType["Frame"] = 8] = "Frame";
                //
                // Summary:
                //     (0x00000009)TWTY_STR32
                TwainItemType[TwainItemType["Str32"] = 9] = "Str32";
                //
                // Summary:
                //     (0x0000000A)TWTY_STR64
                TwainItemType[TwainItemType["Str64"] = 10] = "Str64";
                //
                // Summary:
                //     (0x0000000B)TWTY_STR128
                TwainItemType[TwainItemType["Str128"] = 11] = "Str128";
                //
                // Summary:
                //     (0x0000000C)TWTY_STR255
                TwainItemType[TwainItemType["Str255"] = 12] = "Str255";
                //
                // Summary:
                //     (0x0000000D)TWTY_STR1024
                TwainItemType[TwainItemType["Str1024"] = 13] = "Str1024";
                //
                // Summary:
                //     (0x0000000E)TWTY_UNI512
                TwainItemType[TwainItemType["Uni512"] = 14] = "Uni512";
                //
                // Summary:
                //     (0x0000000F)TWTY_HANDLE
                TwainItemType[TwainItemType["Handle"] = 15] = "Handle";
            })(TwainItemType = JavaScript.TwainItemType || (JavaScript.TwainItemType = {}));
            var TwainGetCapabilityMode;
            (function (TwainGetCapabilityMode) {
                // Summary:
                //     (0x00000000)Don't get any value.
                TwainGetCapabilityMode[TwainGetCapabilityMode["DontGet"] = 0] = "DontGet";
                //
                // Summary:
                //     (0x00000003)Get the current value.
                TwainGetCapabilityMode[TwainGetCapabilityMode["GetCurrent"] = 3] = "GetCurrent";
                //
                // Summary:
                //     (0x00000004)Get the default value.
                TwainGetCapabilityMode[TwainGetCapabilityMode["GetDefault"] = 4] = "GetDefault";
                //
                // Summary:
                //     (0x00000005)Get all available values.
                TwainGetCapabilityMode[TwainGetCapabilityMode["GetValues"] = 5] = "GetValues";
            })(TwainGetCapabilityMode = JavaScript.TwainGetCapabilityMode || (JavaScript.TwainGetCapabilityMode = {}));
            var TwainCapabilityType;
            (function (TwainCapabilityType) {
                // Summary:
                //     (0x00000001)CAP_XFERCOUNT
                TwainCapabilityType[TwainCapabilityType["TransferCount"] = 1] = "TransferCount";
                //
                // Summary:
                //     (0x00000100)ICAP_COMPRESSION
                TwainCapabilityType[TwainCapabilityType["ImageCompression"] = 256] = "ImageCompression";
                //
                // Summary:
                //     (0x00000101)ICAP_PIXELTYPE
                TwainCapabilityType[TwainCapabilityType["ImagePixelType"] = 257] = "ImagePixelType";
                //
                // Summary:
                //     (0x00000102)ICAP_UNITS
                TwainCapabilityType[TwainCapabilityType["ImageUnits"] = 258] = "ImageUnits";
                //
                // Summary:
                //     (0x00000103)ICAP_XFERMECH
                TwainCapabilityType[TwainCapabilityType["ImageTransferMechanism"] = 259] = "ImageTransferMechanism";
                //
                // Summary:
                //     (0x00001000)CAP_AUTHOR
                TwainCapabilityType[TwainCapabilityType["Author"] = 4096] = "Author";
                //
                // Summary:
                //     (0x00001001)CAP_CAPTION
                TwainCapabilityType[TwainCapabilityType["Caption"] = 4097] = "Caption";
                //
                // Summary:
                //     (0x00001002)CAP_FEEDERENABLED
                TwainCapabilityType[TwainCapabilityType["FeederEnabled"] = 4098] = "FeederEnabled";
                //
                // Summary:
                //     (0x00001003)CAP_FEEDERLOADED
                TwainCapabilityType[TwainCapabilityType["FeederLoaded"] = 4099] = "FeederLoaded";
                //
                // Summary:
                //     (0x00001004)(0x0000101F)CAP_TIMEDATE
                TwainCapabilityType[TwainCapabilityType["TimeDate"] = 4100] = "TimeDate";
                //
                // Summary:
                //     (0x00001005)CAP_SUPPORTEDCAPS
                TwainCapabilityType[TwainCapabilityType["SupportedCaps"] = 4101] = "SupportedCaps";
                //
                // Summary:
                //     (0x00001006)CAP_EXTENDEDCAPS
                TwainCapabilityType[TwainCapabilityType["ExtendedCaps"] = 4102] = "ExtendedCaps";
                //
                // Summary:
                //     (0x00001007)CAP_AUTOFEED
                TwainCapabilityType[TwainCapabilityType["AutoFeed"] = 4103] = "AutoFeed";
                //
                // Summary:
                //     (0x00001008)CAP_CLEARPAGE
                TwainCapabilityType[TwainCapabilityType["ClearPage"] = 4104] = "ClearPage";
                //
                // Summary:
                //     (0x00001009)CAP_FEEDPAGE
                TwainCapabilityType[TwainCapabilityType["FeedPage"] = 4105] = "FeedPage";
                //
                // Summary:
                //     (0x0000100A)CAP_REWINDPAGE
                TwainCapabilityType[TwainCapabilityType["RewindPage"] = 4106] = "RewindPage";
                //
                // Summary:
                //     (0x0000100B)CAP_INDICATORS
                TwainCapabilityType[TwainCapabilityType["Indicators"] = 4107] = "Indicators";
                //
                // Summary:
                //     (0x0000100C)CAP_SUPPORTEDCAPSEXT
                TwainCapabilityType[TwainCapabilityType["SupportedCapsExt"] = 4108] = "SupportedCapsExt";
                //
                // Summary:
                //     (0x0000100D)CAP_PAPERDETECTABLE
                TwainCapabilityType[TwainCapabilityType["PaperDetectable"] = 4109] = "PaperDetectable";
                //
                // Summary:
                //     (0x0000100E)CAP_UICONTROLLABLE
                TwainCapabilityType[TwainCapabilityType["UIControllable"] = 4110] = "UIControllable";
                //
                // Summary:
                //     (0x0000100F)CAP_DEVICEONLINE
                TwainCapabilityType[TwainCapabilityType["DeviceOnline"] = 4111] = "DeviceOnline";
                //
                // Summary:
                //     (0x00001010)CAP_AUTOSCAN
                TwainCapabilityType[TwainCapabilityType["AutoScan"] = 4112] = "AutoScan";
                //
                // Summary:
                //     (0x00001011)CAP_THUMBNAILSENABLED
                TwainCapabilityType[TwainCapabilityType["ThumbnailsEnabled"] = 4113] = "ThumbnailsEnabled";
                //
                // Summary:
                //     (0x00001012)CAP_DUPLEX
                TwainCapabilityType[TwainCapabilityType["Duplex"] = 4114] = "Duplex";
                //
                // Summary:
                //     (0x00001013)CAP_DUPLEXENABLED
                TwainCapabilityType[TwainCapabilityType["DuplexEnabled"] = 4115] = "DuplexEnabled";
                //
                // Summary:
                //     (0x00001014)CAP_ENABLEDSUIONLY
                TwainCapabilityType[TwainCapabilityType["EnabledSuiOnly"] = 4116] = "EnabledSuiOnly";
                //
                // Summary:
                //     (0x00001015)CAP_CUSTOMDSDATA
                TwainCapabilityType[TwainCapabilityType["CustomDSData"] = 4117] = "CustomDSData";
                //
                // Summary:
                //     (0x00001016)CAP_ENDORSER
                TwainCapabilityType[TwainCapabilityType["Endorser"] = 4118] = "Endorser";
                //
                // Summary:
                //     (0x00001017)CAP_JOBCONTROL
                TwainCapabilityType[TwainCapabilityType["JobControl"] = 4119] = "JobControl";
                //
                // Summary:
                //     (0x00001018)CAP_ALARMS
                TwainCapabilityType[TwainCapabilityType["Alarms"] = 4120] = "Alarms";
                //
                // Summary:
                //     (0x00001019)CAP_ALARMVOLUME
                TwainCapabilityType[TwainCapabilityType["AlarmVolume"] = 4121] = "AlarmVolume";
                //
                // Summary:
                //     (0x0000101A)CAP_AUTOMATICCAPTURE
                TwainCapabilityType[TwainCapabilityType["AutomaticCapture"] = 4122] = "AutomaticCapture";
                //
                // Summary:
                //     (0x0000101B)CAP_TIMEBEFOREFIRSTCAPTURE
                TwainCapabilityType[TwainCapabilityType["TimeBeforeFirstCapture"] = 4123] = "TimeBeforeFirstCapture";
                //
                // Summary:
                //     (0x0000101C)CAP_TIMEBETWEENCAPTURES
                TwainCapabilityType[TwainCapabilityType["TimeBetweenCaptures"] = 4124] = "TimeBetweenCaptures";
                //
                // Summary:
                //     (0x0000101D)CAP_CLEARBUFFERS
                TwainCapabilityType[TwainCapabilityType["ClearBuffers"] = 4125] = "ClearBuffers";
                //
                // Summary:
                //     (0x0000101E)CAP_MAXBATCHBUFFERS
                TwainCapabilityType[TwainCapabilityType["MaxBatchBuffers"] = 4126] = "MaxBatchBuffers";
                //
                // Summary:
                //     (0x0000101F)CAP_DEVICETIMEDATE
                TwainCapabilityType[TwainCapabilityType["DeviceTimeDate"] = 4127] = "DeviceTimeDate";
                //
                // Summary:
                //     (0x00001020)CAP_POWERSUPPLY
                TwainCapabilityType[TwainCapabilityType["PowerSupply"] = 4128] = "PowerSupply";
                //
                // Summary:
                //     (0x00001021)CAP_CAMERAPREVIEWUI
                TwainCapabilityType[TwainCapabilityType["CameraPreviewUI"] = 4129] = "CameraPreviewUI";
                //
                // Summary:
                //     (0x00001022)CAP_DEVICEEVENT
                TwainCapabilityType[TwainCapabilityType["DeviceEvent"] = 4130] = "DeviceEvent";
                //
                // Summary:
                //     (0x00001024)CAP_SERIALNUMBER
                TwainCapabilityType[TwainCapabilityType["SerialNumber"] = 4132] = "SerialNumber";
                //
                // Summary:
                //     (0x00001026)CAP_PRINTER
                TwainCapabilityType[TwainCapabilityType["Printer"] = 4134] = "Printer";
                //
                // Summary:
                //     (0x00001027)CAP_PRINTERENABLED
                TwainCapabilityType[TwainCapabilityType["PrinterEnabled"] = 4135] = "PrinterEnabled";
                //
                // Summary:
                //     (0x00001028)CAP_PRINTERINDEX
                TwainCapabilityType[TwainCapabilityType["PrinterIndex"] = 4136] = "PrinterIndex";
                //
                // Summary:
                //     (0x00001029)CAP_PRINTERMODE
                TwainCapabilityType[TwainCapabilityType["PrinterMode"] = 4137] = "PrinterMode";
                //
                // Summary:
                //     (0x0000102A)CAP_PRINTERSTRING
                TwainCapabilityType[TwainCapabilityType["PrinterString"] = 4138] = "PrinterString";
                //
                // Summary:
                //     (0x0000102B)CAP_PRINTERSUFFIX
                TwainCapabilityType[TwainCapabilityType["PrinterSuffix"] = 4139] = "PrinterSuffix";
                //
                // Summary:
                //     (0x0000102C)CAP_LANGUAGE
                TwainCapabilityType[TwainCapabilityType["Language"] = 4140] = "Language";
                //
                // Summary:
                //     (0x0000102D)CAP_FEEDERALIGNMENT
                TwainCapabilityType[TwainCapabilityType["FeederAlignment"] = 4141] = "FeederAlignment";
                //
                // Summary:
                //     (0x0000102E)CAP_FEEDERORDER
                TwainCapabilityType[TwainCapabilityType["FeederOrder"] = 4142] = "FeederOrder";
                //
                // Summary:
                //     (0x00001030)CAP_REACQUIREALLOWED
                TwainCapabilityType[TwainCapabilityType["ReacquireAllowed"] = 4144] = "ReacquireAllowed";
                //
                // Summary:
                //     (0x00001032)CAP_BATTERYMINUTES
                TwainCapabilityType[TwainCapabilityType["BatteryMinutes"] = 4146] = "BatteryMinutes";
                //
                // Summary:
                //     (0x00001033)CAP_BATTERYPERCENTAGE
                TwainCapabilityType[TwainCapabilityType["BatteryPercentage"] = 4147] = "BatteryPercentage";
                //
                // Summary:
                //     (0x00001034)CAP_CAMERASIDE
                TwainCapabilityType[TwainCapabilityType["CameraSide"] = 4148] = "CameraSide";
                //
                // Summary:
                //     (0x00001035)CAP_SEGMENTED
                TwainCapabilityType[TwainCapabilityType["Segmented"] = 4149] = "Segmented";
                //
                // Summary:
                //     (0x00001036)CAP_CAMERAENABLED
                TwainCapabilityType[TwainCapabilityType["CameraEnabled"] = 4150] = "CameraEnabled";
                //
                // Summary:
                //     (0x00001037)CAP_CAMERAORDER
                TwainCapabilityType[TwainCapabilityType["CameraOrder"] = 4151] = "CameraOrder";
                //
                // Summary:
                //     (0x00001038)CAP_MICRENABLED
                TwainCapabilityType[TwainCapabilityType["MicrEnabled"] = 4152] = "MicrEnabled";
                //
                // Summary:
                //     (0x00001039)CAP_FEEDERPREP
                TwainCapabilityType[TwainCapabilityType["FeederPrep"] = 4153] = "FeederPrep";
                //
                // Summary:
                //     (0x0000103A)CAP_FEEDERPOCKET
                TwainCapabilityType[TwainCapabilityType["FeederPocket"] = 4154] = "FeederPocket";
                //
                // Summary:
                //     (0x00001100)ICAP_AUTOBRIGHT
                TwainCapabilityType[TwainCapabilityType["ImageAutoBright"] = 4352] = "ImageAutoBright";
                //
                // Summary:
                //     (0x00001101)ICAP_BRIGHTNESS
                TwainCapabilityType[TwainCapabilityType["ImageBrightness"] = 4353] = "ImageBrightness";
                //
                // Summary:
                //     (0x00001103)ICAP_CONTRAST
                TwainCapabilityType[TwainCapabilityType["ImageContrast"] = 4355] = "ImageContrast";
                //
                // Summary:
                //     (0x00001104)ICAP_CUSTHALFTONE
                TwainCapabilityType[TwainCapabilityType["ImageCustomHalftone"] = 4356] = "ImageCustomHalftone";
                //
                // Summary:
                //     (0x00001105)ICAP_EXPOSURETIME
                TwainCapabilityType[TwainCapabilityType["ImageExposureTime"] = 4357] = "ImageExposureTime";
                //
                // Summary:
                //     (0x00001106)(0x00001147)ICAP_FILTER
                TwainCapabilityType[TwainCapabilityType["ImageFilter"] = 4358] = "ImageFilter";
                //
                // Summary:
                //     (0x00001107)ICAP_FLASHUSED
                TwainCapabilityType[TwainCapabilityType["ImageFlashUsed"] = 4359] = "ImageFlashUsed";
                //
                // Summary:
                //     (0x00001108)ICAP_GAMMA
                TwainCapabilityType[TwainCapabilityType["ImageGamma"] = 4360] = "ImageGamma";
                //
                // Summary:
                //     (0x00001109)ICAP_HALFTONES
                TwainCapabilityType[TwainCapabilityType["ImageHalftones"] = 4361] = "ImageHalftones";
                //
                // Summary:
                //     (0x0000110A)ICAP_HIGHLIGHT
                TwainCapabilityType[TwainCapabilityType["ImageHighlight"] = 4362] = "ImageHighlight";
                //
                // Summary:
                //     (0x0000110C)ICAP_IMAGEFILEFORMAT
                TwainCapabilityType[TwainCapabilityType["ImageImageFileFormat"] = 4364] = "ImageImageFileFormat";
                //
                // Summary:
                //     (0x0000110D)ICAP_LAMPSTATE
                TwainCapabilityType[TwainCapabilityType["ImageLampState"] = 4365] = "ImageLampState";
                //
                // Summary:
                //     (0x0000110E)ICAP_LIGHTSOURCE
                TwainCapabilityType[TwainCapabilityType["ImageLightSource"] = 4366] = "ImageLightSource";
                //
                // Summary:
                //     (0x00001110)ICAP_ORIENTATION
                TwainCapabilityType[TwainCapabilityType["ImageOrientation"] = 4368] = "ImageOrientation";
                //
                // Summary:
                //     (0x00001111)ICAP_PHYSICALWIDTH
                TwainCapabilityType[TwainCapabilityType["ImagePhysicalWidth"] = 4369] = "ImagePhysicalWidth";
                //
                // Summary:
                //     (0x00001112)ICAP_PHYSICALHEIGHT
                TwainCapabilityType[TwainCapabilityType["ImagePhysicalHeight"] = 4370] = "ImagePhysicalHeight";
                //
                // Summary:
                //     (0x00001113)ICAP_SHADOW
                TwainCapabilityType[TwainCapabilityType["ImageShadow"] = 4371] = "ImageShadow";
                //
                // Summary:
                //     (0x00001114)ICAP_FRAMES
                TwainCapabilityType[TwainCapabilityType["ImageFrames"] = 4372] = "ImageFrames";
                //
                // Summary:
                //     (0x00001116)ICAP_XNATIVERESOLUTION
                TwainCapabilityType[TwainCapabilityType["ImageXNativeResolution"] = 4374] = "ImageXNativeResolution";
                //
                // Summary:
                //     (0x00001117)ICAP_YNATIVERESOLUTION
                TwainCapabilityType[TwainCapabilityType["ImageYNativeResolution"] = 4375] = "ImageYNativeResolution";
                //
                // Summary:
                //     (0x00001118)ICAP_XRESOLUTION
                TwainCapabilityType[TwainCapabilityType["ImageXResolution"] = 4376] = "ImageXResolution";
                //
                // Summary:
                //     (0x00001119)ICAP_YRESOLUTION
                TwainCapabilityType[TwainCapabilityType["ImageYResolution"] = 4377] = "ImageYResolution";
                //
                // Summary:
                //     (0x0000111A)ICAP_MAXFRAMES
                TwainCapabilityType[TwainCapabilityType["ImageMaxFrames"] = 4378] = "ImageMaxFrames";
                //
                // Summary:
                //     (0x0000111B)ICAP_TILES
                TwainCapabilityType[TwainCapabilityType["ImageTiles"] = 4379] = "ImageTiles";
                //
                // Summary:
                //     (0x0000111C)ICAP_BITORDER
                TwainCapabilityType[TwainCapabilityType["ImageBitOrder"] = 4380] = "ImageBitOrder";
                //
                // Summary:
                //     (0x0000111D)ICAP_CCITTKFACTOR
                TwainCapabilityType[TwainCapabilityType["ImageCcittKFactor"] = 4381] = "ImageCcittKFactor";
                //
                // Summary:
                //     (0x0000111E)ICAP_LIGHTPATH
                TwainCapabilityType[TwainCapabilityType["ImageLightPath"] = 4382] = "ImageLightPath";
                //
                // Summary:
                //     (0x0000111F)ICAP_PIXELFLAVOR
                TwainCapabilityType[TwainCapabilityType["ImagePixelFlavor"] = 4383] = "ImagePixelFlavor";
                //
                // Summary:
                //     (0x00001120)ICAP_PLANARCHUNKY
                TwainCapabilityType[TwainCapabilityType["ImagePlanarChunky"] = 4384] = "ImagePlanarChunky";
                //
                // Summary:
                //     (0x00001121)ICAP_ROTATION
                TwainCapabilityType[TwainCapabilityType["ImageRotation"] = 4385] = "ImageRotation";
                //
                // Summary:
                //     (0x00001122)ICAP_SUPPORTEDSIZES
                TwainCapabilityType[TwainCapabilityType["ImageSupportedSizes"] = 4386] = "ImageSupportedSizes";
                //
                // Summary:
                //     (0x00001123)ICAP_THRESHOLD
                TwainCapabilityType[TwainCapabilityType["ImageThreshold"] = 4387] = "ImageThreshold";
                //
                // Summary:
                //     (0x00001124)ICAP_XSCALING
                TwainCapabilityType[TwainCapabilityType["ImageXScaling"] = 4388] = "ImageXScaling";
                //
                // Summary:
                //     (0x00001125)ICAP_YSCALING
                TwainCapabilityType[TwainCapabilityType["ImageYScaling"] = 4389] = "ImageYScaling";
                //
                // Summary:
                //     (0x00001126)ICAP_BITORDERCODES
                TwainCapabilityType[TwainCapabilityType["ImageBitOrderCodes"] = 4390] = "ImageBitOrderCodes";
                //
                // Summary:
                //     (0x00001127)ICAP_PIXELFLAVORCODES
                TwainCapabilityType[TwainCapabilityType["ImagePixelFlavorCodes"] = 4391] = "ImagePixelFlavorCodes";
                //
                // Summary:
                //     (0x00001128)ICAP_JPEGPIXELTYPE
                TwainCapabilityType[TwainCapabilityType["ImageJpegPixelType"] = 4392] = "ImageJpegPixelType";
                //
                // Summary:
                //     (0x0000112A)ICAP_TIMEFILL
                TwainCapabilityType[TwainCapabilityType["ImageTimeFill"] = 4394] = "ImageTimeFill";
                //
                // Summary:
                //     (0x0000112B)ICAP_BITDEPTH
                TwainCapabilityType[TwainCapabilityType["ImageBitDepth"] = 4395] = "ImageBitDepth";
                //
                // Summary:
                //     (0x0000112C)ICAP_BITDEPTHREDUCTION
                TwainCapabilityType[TwainCapabilityType["ImageBitDepthReduction"] = 4396] = "ImageBitDepthReduction";
                //
                // Summary:
                //     (0x0000112D)ICAP_UNDEFINEDIMAGESIZE
                TwainCapabilityType[TwainCapabilityType["ImageUndefinedImageSize"] = 4397] = "ImageUndefinedImageSize";
                //
                // Summary:
                //     (0x0000112E)ICAP_IMAGEDATASET
                TwainCapabilityType[TwainCapabilityType["ImageImageDataSet"] = 4398] = "ImageImageDataSet";
                //
                // Summary:
                //     (0x0000112F)ICAP_EXTIMAGEINFO
                TwainCapabilityType[TwainCapabilityType["ImageExtImageInfo"] = 4399] = "ImageExtImageInfo";
                //
                // Summary:
                //     (0x00001130)ICAP_MINIMUMHEIGHT
                TwainCapabilityType[TwainCapabilityType["ImageMinimumHeight"] = 4400] = "ImageMinimumHeight";
                //
                // Summary:
                //     (0x00001131)ICAP_MINIMUMWIDTH
                TwainCapabilityType[TwainCapabilityType["ImageMinimumWidth"] = 4401] = "ImageMinimumWidth";
                //
                // Summary:
                //     (0x00001134)ICAP_AUTODISCARDBLANKPAGES
                TwainCapabilityType[TwainCapabilityType["AutoDiscardBlankPages"] = 4404] = "AutoDiscardBlankPages";
                //
                // Summary:
                //     (0x00001136)ICAP_FLIPROTATION
                TwainCapabilityType[TwainCapabilityType["ImageFlipRotation"] = 4406] = "ImageFlipRotation";
                //
                // Summary:
                //     (0x00001137)ICAP_BARCODEDETECTIONENABLED
                TwainCapabilityType[TwainCapabilityType["ImageBarcodeDetectionEnabled"] = 4407] = "ImageBarcodeDetectionEnabled";
                //
                // Summary:
                //     (0x00001138)ICAP_SUPPORTEDBARCODETYPES
                TwainCapabilityType[TwainCapabilityType["ImageSupportedBarcodeTypes"] = 4408] = "ImageSupportedBarcodeTypes";
                //
                // Summary:
                //     (0x00001139)ICAP_BARCODEMAXSEARCHPRIORITIES
                TwainCapabilityType[TwainCapabilityType["ImageBarcodeMaxSearchPriorities"] = 4409] = "ImageBarcodeMaxSearchPriorities";
                //
                // Summary:
                //     (0x0000113A)ICAP_BARCODESEARCHPRIORITIES
                TwainCapabilityType[TwainCapabilityType["ImageBarcodeSearchPriorities"] = 4410] = "ImageBarcodeSearchPriorities";
                //
                // Summary:
                //     (0x0000113B)ICAP_BARCODESEARCHMODE
                TwainCapabilityType[TwainCapabilityType["ImageBarcodeSearchMode"] = 4411] = "ImageBarcodeSearchMode";
                //
                // Summary:
                //     (0x0000113C)ICAP_BARCODEMAXRETRIES
                TwainCapabilityType[TwainCapabilityType["ImageBarcodeMaxRetries"] = 4412] = "ImageBarcodeMaxRetries";
                //
                // Summary:
                //     (0x0000113D)ICAP_BARCODETIMEOUT
                TwainCapabilityType[TwainCapabilityType["ImageBarcodeTimeout"] = 4413] = "ImageBarcodeTimeout";
                //
                // Summary:
                //     (0x0000113E)ICAP_ZOOMFACTOR
                TwainCapabilityType[TwainCapabilityType["ImageZoomFactor"] = 4414] = "ImageZoomFactor";
                //
                // Summary:
                //     (0x0000113F)ICAP_PATCHCODEDETECTIONENABLED
                TwainCapabilityType[TwainCapabilityType["ImagePatchCodeDetectionEnabled"] = 4415] = "ImagePatchCodeDetectionEnabled";
                //
                // Summary:
                //     (0x00001140)ICAP_SUPPORTEDPATCHCODETYPES
                TwainCapabilityType[TwainCapabilityType["ImageSupportedPatchCodeTypes"] = 4416] = "ImageSupportedPatchCodeTypes";
                //
                // Summary:
                //     (0x00001141)ICAP_PATCHCODEMAXSEARCHPRIORITIES
                TwainCapabilityType[TwainCapabilityType["ImagePatchCodeMaxSearchPriorities"] = 4417] = "ImagePatchCodeMaxSearchPriorities";
                //
                // Summary:
                //     (0x00001142)ICAP_PATCHCODESEARCHPRIORITIES
                TwainCapabilityType[TwainCapabilityType["ImagePatchCodeSearchPriorities"] = 4418] = "ImagePatchCodeSearchPriorities";
                //
                // Summary:
                //     (0x00001143)ICAP_PATCHCODESEARCHMODE
                TwainCapabilityType[TwainCapabilityType["ImagePatchCodeSearchMode"] = 4419] = "ImagePatchCodeSearchMode";
                //
                // Summary:
                //     (0x00001144)ICAP_PATCHCODEMAXRETRIES
                TwainCapabilityType[TwainCapabilityType["ImagePatchCodeMaxRetries"] = 4420] = "ImagePatchCodeMaxRetries";
                //
                // Summary:
                //     (0x00001145)ICAP_PATCHCODETIMEOUT
                TwainCapabilityType[TwainCapabilityType["ImagePatchCodeTimeout"] = 4421] = "ImagePatchCodeTimeout";
                //
                // Summary:
                //     (0x00001146)ICAP_FLASHUSED2
                TwainCapabilityType[TwainCapabilityType["ImageFlashUsed2"] = 4422] = "ImageFlashUsed2";
                //
                // Summary:
                //     (0x00001147)ICAP_IMAGEFILTER
                TwainCapabilityType[TwainCapabilityType["ImageImageFilter"] = 4423] = "ImageImageFilter";
                //
                // Summary:
                //     (0x00001148)ICAP_NOISEFILTER
                TwainCapabilityType[TwainCapabilityType["ImageNoiseFilter"] = 4424] = "ImageNoiseFilter";
                //
                // Summary:
                //     (0x00001149)ICAP_OVERSCAN
                TwainCapabilityType[TwainCapabilityType["ImageOverScan"] = 4425] = "ImageOverScan";
                //
                // Summary:
                //     (0x00001150)ICAP_AUTOMATICBORDERDETECTION
                TwainCapabilityType[TwainCapabilityType["ImageAutomaticBorderDetection"] = 4432] = "ImageAutomaticBorderDetection";
                //
                // Summary:
                //     (0x00001151)ICAP_AUTOMATICDESKEW
                TwainCapabilityType[TwainCapabilityType["ImageAutomaticDeskew"] = 4433] = "ImageAutomaticDeskew";
                //
                // Summary:
                //     (0x00001152)ICAP_AUTOMATICROTATE
                TwainCapabilityType[TwainCapabilityType["ImageAutomaticRotate"] = 4434] = "ImageAutomaticRotate";
                //
                // Summary:
                //     (0x00001153)ICAP_JPEGQUALITY
                TwainCapabilityType[TwainCapabilityType["ImageJpegQuality"] = 4435] = "ImageJpegQuality";
                //
                // Summary:
                //     (0x00001154)ICAP_FEEDERTYPE
                TwainCapabilityType[TwainCapabilityType["ImageFeederType"] = 4436] = "ImageFeederType";
                //
                // Summary:
                //     (0x00001155)ICAP_ICCPROFILE
                TwainCapabilityType[TwainCapabilityType["ImageIccProfile"] = 4437] = "ImageIccProfile";
                //
                // Summary:
                //     (0x00001156)ICAP_AUTOSIZE
                TwainCapabilityType[TwainCapabilityType["ImageAutoSize"] = 4438] = "ImageAutoSize";
                //
                // Summary:
                //     (0x00001201)ACAP_AUDIOFILEFORMAT
                TwainCapabilityType[TwainCapabilityType["AudioAudioFileFormat"] = 4609] = "AudioAudioFileFormat";
                //
                // Summary:
                //     (0x00001202)ACAP_XFERMECH
                TwainCapabilityType[TwainCapabilityType["AudioTransferMechanism"] = 4610] = "AudioTransferMechanism";
                //
                // Summary:
                //     (0x00008000)CAP_CUSTOMBASE
                TwainCapabilityType[TwainCapabilityType["CustomBase"] = 32768] = "CustomBase";
            })(TwainCapabilityType = JavaScript.TwainCapabilityType || (JavaScript.TwainCapabilityType = {}));
            var RasterImageFormat;
            (function (RasterImageFormat) {
                RasterImageFormat[RasterImageFormat["Unknown"] = 0] = "Unknown";
                RasterImageFormat[RasterImageFormat["Pcx"] = 1] = "Pcx";
                RasterImageFormat[RasterImageFormat["Gif"] = 2] = "Gif";
                RasterImageFormat[RasterImageFormat["Tif"] = 3] = "Tif";
                RasterImageFormat[RasterImageFormat["Tga"] = 4] = "Tga";
                RasterImageFormat[RasterImageFormat["Cmp"] = 5] = "Cmp";
                RasterImageFormat[RasterImageFormat["Bmp"] = 6] = "Bmp";
                RasterImageFormat[RasterImageFormat["Jpeg"] = 10] = "Jpeg";
                RasterImageFormat[RasterImageFormat["TifJpeg"] = 11] = "TifJpeg";
                RasterImageFormat[RasterImageFormat["Os2"] = 14] = "Os2";
                RasterImageFormat[RasterImageFormat["Wmf"] = 15] = "Wmf";
                RasterImageFormat[RasterImageFormat["Eps"] = 16] = "Eps";
                RasterImageFormat[RasterImageFormat["TifLzw"] = 17] = "TifLzw";
                RasterImageFormat[RasterImageFormat["Jpeg411"] = 21] = "Jpeg411";
                RasterImageFormat[RasterImageFormat["TifJpeg411"] = 22] = "TifJpeg411";
                RasterImageFormat[RasterImageFormat["Jpeg422"] = 23] = "Jpeg422";
                RasterImageFormat[RasterImageFormat["TifJpeg422"] = 24] = "TifJpeg422";
                RasterImageFormat[RasterImageFormat["Ccitt"] = 25] = "Ccitt";
                RasterImageFormat[RasterImageFormat["Lead1Bit"] = 26] = "Lead1Bit";
                RasterImageFormat[RasterImageFormat["CcittGroup31Dim"] = 27] = "CcittGroup31Dim";
                RasterImageFormat[RasterImageFormat["CcittGroup32Dim"] = 28] = "CcittGroup32Dim";
                RasterImageFormat[RasterImageFormat["CcittGroup4"] = 29] = "CcittGroup4";
                RasterImageFormat[RasterImageFormat["Abc"] = 32] = "Abc";
                RasterImageFormat[RasterImageFormat["Cals"] = 50] = "Cals";
                RasterImageFormat[RasterImageFormat["Mac"] = 51] = "Mac";
                RasterImageFormat[RasterImageFormat["Img"] = 52] = "Img";
                RasterImageFormat[RasterImageFormat["Msp"] = 53] = "Msp";
                RasterImageFormat[RasterImageFormat["Wpg"] = 54] = "Wpg";
                RasterImageFormat[RasterImageFormat["Ras"] = 55] = "Ras";
                RasterImageFormat[RasterImageFormat["Pct"] = 56] = "Pct";
                RasterImageFormat[RasterImageFormat["Pcd"] = 57] = "Pcd";
                RasterImageFormat[RasterImageFormat["Dxf12"] = 58] = "Dxf12";
                RasterImageFormat[RasterImageFormat["Dxf"] = 58] = "Dxf";
                RasterImageFormat[RasterImageFormat["Fli"] = 61] = "Fli";
                RasterImageFormat[RasterImageFormat["Cgm"] = 62] = "Cgm";
                RasterImageFormat[RasterImageFormat["EpsTiff"] = 63] = "EpsTiff";
                RasterImageFormat[RasterImageFormat["EpsWmf"] = 64] = "EpsWmf";
                RasterImageFormat[RasterImageFormat["FaxG31Dim"] = 66] = "FaxG31Dim";
                RasterImageFormat[RasterImageFormat["FaxG32Dim"] = 67] = "FaxG32Dim";
                RasterImageFormat[RasterImageFormat["FaxG4"] = 68] = "FaxG4";
                RasterImageFormat[RasterImageFormat["WfxG31Dim"] = 69] = "WfxG31Dim";
                RasterImageFormat[RasterImageFormat["WfxG4"] = 70] = "WfxG4";
                RasterImageFormat[RasterImageFormat["IcaG31Dim"] = 71] = "IcaG31Dim";
                RasterImageFormat[RasterImageFormat["IcaG32Dim"] = 72] = "IcaG32Dim";
                RasterImageFormat[RasterImageFormat["IcaG4"] = 73] = "IcaG4";
                RasterImageFormat[RasterImageFormat["Os22"] = 74] = "Os22";
                RasterImageFormat[RasterImageFormat["Png"] = 75] = "Png";
                RasterImageFormat[RasterImageFormat["Psd"] = 76] = "Psd";
                RasterImageFormat[RasterImageFormat["RawIcaG31Dim"] = 77] = "RawIcaG31Dim";
                RasterImageFormat[RasterImageFormat["RawIcaG32Dim"] = 78] = "RawIcaG32Dim";
                RasterImageFormat[RasterImageFormat["RawIcaG4"] = 79] = "RawIcaG4";
                RasterImageFormat[RasterImageFormat["Fpx"] = 80] = "Fpx";
                RasterImageFormat[RasterImageFormat["FpxSingleColor"] = 81] = "FpxSingleColor";
                RasterImageFormat[RasterImageFormat["FpxJpeg"] = 82] = "FpxJpeg";
                RasterImageFormat[RasterImageFormat["FpxJpegQFactor"] = 83] = "FpxJpegQFactor";
                RasterImageFormat[RasterImageFormat["BmpRle"] = 84] = "BmpRle";
                RasterImageFormat[RasterImageFormat["TifCmyk"] = 85] = "TifCmyk";
                RasterImageFormat[RasterImageFormat["TifLzwCmyk"] = 86] = "TifLzwCmyk";
                RasterImageFormat[RasterImageFormat["TifPackBits"] = 87] = "TifPackBits";
                RasterImageFormat[RasterImageFormat["TifPackBitsCmyk"] = 88] = "TifPackBitsCmyk";
                RasterImageFormat[RasterImageFormat["DicomGray"] = 89] = "DicomGray";
                RasterImageFormat[RasterImageFormat["DicomColor"] = 90] = "DicomColor";
                RasterImageFormat[RasterImageFormat["WinIco"] = 91] = "WinIco";
                RasterImageFormat[RasterImageFormat["WinCur"] = 92] = "WinCur";
                RasterImageFormat[RasterImageFormat["TifYcc"] = 93] = "TifYcc";
                RasterImageFormat[RasterImageFormat["TifLzwYcc"] = 94] = "TifLzwYcc";
                RasterImageFormat[RasterImageFormat["TifPackbitsYcc"] = 95] = "TifPackbitsYcc";
                RasterImageFormat[RasterImageFormat["Exif"] = 96] = "Exif";
                RasterImageFormat[RasterImageFormat["ExifYcc"] = 97] = "ExifYcc";
                RasterImageFormat[RasterImageFormat["ExifJpeg"] = 98] = "ExifJpeg";
                RasterImageFormat[RasterImageFormat["ExifJpeg422"] = 98] = "ExifJpeg422";
                RasterImageFormat[RasterImageFormat["Awd"] = 99] = "Awd";
                RasterImageFormat[RasterImageFormat["ExifJpeg411"] = 101] = "ExifJpeg411";
                RasterImageFormat[RasterImageFormat["PbmAscii"] = 102] = "PbmAscii";
                RasterImageFormat[RasterImageFormat["PbmBinary"] = 103] = "PbmBinary";
                RasterImageFormat[RasterImageFormat["PgmAscii"] = 104] = "PgmAscii";
                RasterImageFormat[RasterImageFormat["PgmBinary"] = 105] = "PgmBinary";
                RasterImageFormat[RasterImageFormat["PpmAscii"] = 106] = "PpmAscii";
                RasterImageFormat[RasterImageFormat["PpmBinary"] = 107] = "PpmBinary";
                RasterImageFormat[RasterImageFormat["Cut"] = 108] = "Cut";
                RasterImageFormat[RasterImageFormat["Xpm"] = 109] = "Xpm";
                RasterImageFormat[RasterImageFormat["Xbm"] = 110] = "Xbm";
                RasterImageFormat[RasterImageFormat["IffIlbm"] = 111] = "IffIlbm";
                RasterImageFormat[RasterImageFormat["IffCat"] = 112] = "IffCat";
                RasterImageFormat[RasterImageFormat["Xwd"] = 113] = "Xwd";
                RasterImageFormat[RasterImageFormat["Clp"] = 114] = "Clp";
                RasterImageFormat[RasterImageFormat["Jbig"] = 115] = "Jbig";
                RasterImageFormat[RasterImageFormat["Emf"] = 116] = "Emf";
                RasterImageFormat[RasterImageFormat["IcaIbmMmr"] = 117] = "IcaIbmMmr";
                RasterImageFormat[RasterImageFormat["RawIcaIbmMmr"] = 118] = "RawIcaIbmMmr";
                RasterImageFormat[RasterImageFormat["Ani"] = 119] = "Ani";
                RasterImageFormat[RasterImageFormat["LaserData"] = 121] = "LaserData";
                RasterImageFormat[RasterImageFormat["IntergraphRle"] = 122] = "IntergraphRle";
                RasterImageFormat[RasterImageFormat["IntergraphVector"] = 123] = "IntergraphVector";
                RasterImageFormat[RasterImageFormat["Dwg"] = 124] = "Dwg";
                RasterImageFormat[RasterImageFormat["DicomRleGray"] = 125] = "DicomRleGray";
                RasterImageFormat[RasterImageFormat["DicomRleColor"] = 126] = "DicomRleColor";
                RasterImageFormat[RasterImageFormat["DicomJpegGray"] = 127] = "DicomJpegGray";
                RasterImageFormat[RasterImageFormat["DicomJpegColor"] = 128] = "DicomJpegColor";
                RasterImageFormat[RasterImageFormat["Cals4"] = 129] = "Cals4";
                RasterImageFormat[RasterImageFormat["Cals2"] = 130] = "Cals2";
                RasterImageFormat[RasterImageFormat["Cals3"] = 131] = "Cals3";
                RasterImageFormat[RasterImageFormat["Xwd10"] = 132] = "Xwd10";
                RasterImageFormat[RasterImageFormat["Xwd11"] = 133] = "Xwd11";
                RasterImageFormat[RasterImageFormat["Flc"] = 134] = "Flc";
                RasterImageFormat[RasterImageFormat["Kdc"] = 135] = "Kdc";
                RasterImageFormat[RasterImageFormat["Drw"] = 136] = "Drw";
                RasterImageFormat[RasterImageFormat["Plt"] = 137] = "Plt";
                RasterImageFormat[RasterImageFormat["TifCmp"] = 138] = "TifCmp";
                RasterImageFormat[RasterImageFormat["TifJbig"] = 139] = "TifJbig";
                RasterImageFormat[RasterImageFormat["TifDxf"] = 140] = "TifDxf";
                RasterImageFormat[RasterImageFormat["TifUnknown"] = 141] = "TifUnknown";
                RasterImageFormat[RasterImageFormat["Sgi"] = 142] = "Sgi";
                RasterImageFormat[RasterImageFormat["SgiRle"] = 143] = "SgiRle";
                RasterImageFormat[RasterImageFormat["Dwf"] = 145] = "Dwf";
                RasterImageFormat[RasterImageFormat["RasPdf"] = 146] = "RasPdf";
                RasterImageFormat[RasterImageFormat["RasPdfG31Dim"] = 147] = "RasPdfG31Dim";
                RasterImageFormat[RasterImageFormat["RasPdfG32Dim"] = 148] = "RasPdfG32Dim";
                RasterImageFormat[RasterImageFormat["RasPdfG4"] = 149] = "RasPdfG4";
                RasterImageFormat[RasterImageFormat["RasPdfJpeg"] = 150] = "RasPdfJpeg";
                RasterImageFormat[RasterImageFormat["RasPdfJpeg422"] = 151] = "RasPdfJpeg422";
                RasterImageFormat[RasterImageFormat["RasPdfJpeg411"] = 152] = "RasPdfJpeg411";
                RasterImageFormat[RasterImageFormat["Raw"] = 153] = "Raw";
                RasterImageFormat[RasterImageFormat["TifCustom"] = 155] = "TifCustom";
                RasterImageFormat[RasterImageFormat["RawRgb"] = 156] = "RawRgb";
                RasterImageFormat[RasterImageFormat["RawRle4"] = 157] = "RawRle4";
                RasterImageFormat[RasterImageFormat["RawRle8"] = 158] = "RawRle8";
                RasterImageFormat[RasterImageFormat["RawBitfields"] = 159] = "RawBitfields";
                RasterImageFormat[RasterImageFormat["RawPackBits"] = 160] = "RawPackBits";
                RasterImageFormat[RasterImageFormat["RawJpeg"] = 161] = "RawJpeg";
                RasterImageFormat[RasterImageFormat["RawCcitt"] = 162] = "RawCcitt";
                RasterImageFormat[RasterImageFormat["FaxG31DimNoEol"] = 162] = "FaxG31DimNoEol";
                RasterImageFormat[RasterImageFormat["Jp2"] = 163] = "Jp2";
                RasterImageFormat[RasterImageFormat["J2k"] = 164] = "J2k";
                RasterImageFormat[RasterImageFormat["Cmw"] = 165] = "Cmw";
                RasterImageFormat[RasterImageFormat["TifJ2k"] = 166] = "TifJ2k";
                RasterImageFormat[RasterImageFormat["TifCmw"] = 167] = "TifCmw";
                RasterImageFormat[RasterImageFormat["Mrc"] = 168] = "Mrc";
                RasterImageFormat[RasterImageFormat["Gerber"] = 169] = "Gerber";
                RasterImageFormat[RasterImageFormat["Wbmp"] = 170] = "Wbmp";
                RasterImageFormat[RasterImageFormat["JpegLab"] = 171] = "JpegLab";
                RasterImageFormat[RasterImageFormat["JpegLab411"] = 172] = "JpegLab411";
                RasterImageFormat[RasterImageFormat["JpegLab422"] = 173] = "JpegLab422";
                RasterImageFormat[RasterImageFormat["GeoTiff"] = 174] = "GeoTiff";
                RasterImageFormat[RasterImageFormat["TifLead1Bit"] = 175] = "TifLead1Bit";
                RasterImageFormat[RasterImageFormat["TifMrc"] = 177] = "TifMrc";
                RasterImageFormat[RasterImageFormat["RawLzw"] = 178] = "RawLzw";
                RasterImageFormat[RasterImageFormat["RasPdfLzw"] = 179] = "RasPdfLzw";
                RasterImageFormat[RasterImageFormat["TifAbc"] = 180] = "TifAbc";
                RasterImageFormat[RasterImageFormat["Nap"] = 181] = "Nap";
                RasterImageFormat[RasterImageFormat["JpegRgb"] = 182] = "JpegRgb";
                RasterImageFormat[RasterImageFormat["Jbig2"] = 183] = "Jbig2";
                RasterImageFormat[RasterImageFormat["RawIcaAbic"] = 184] = "RawIcaAbic";
                RasterImageFormat[RasterImageFormat["Abic"] = 185] = "Abic";
                RasterImageFormat[RasterImageFormat["TifAbic"] = 186] = "TifAbic";
                RasterImageFormat[RasterImageFormat["TifJbig2"] = 187] = "TifJbig2";
                RasterImageFormat[RasterImageFormat["RasPdfJbig2"] = 188] = "RasPdfJbig2";
                RasterImageFormat[RasterImageFormat["TifZip"] = 189] = "TifZip";
                RasterImageFormat[RasterImageFormat["IcaAbic"] = 190] = "IcaAbic";
                RasterImageFormat[RasterImageFormat["AfpIcaAbic"] = 191] = "AfpIcaAbic";
                RasterImageFormat[RasterImageFormat["Postscript"] = 222] = "Postscript";
                RasterImageFormat[RasterImageFormat["Svg"] = 247] = "Svg";
                RasterImageFormat[RasterImageFormat["Ptoca"] = 249] = "Ptoca";
                RasterImageFormat[RasterImageFormat["Sct"] = 250] = "Sct";
                RasterImageFormat[RasterImageFormat["Pcl"] = 251] = "Pcl";
                RasterImageFormat[RasterImageFormat["Afp"] = 252] = "Afp";
                RasterImageFormat[RasterImageFormat["IcaUncompressed"] = 253] = "IcaUncompressed";
                RasterImageFormat[RasterImageFormat["RawIcaUncompressed"] = 254] = "RawIcaUncompressed";
                RasterImageFormat[RasterImageFormat["Shp"] = 255] = "Shp";
                RasterImageFormat[RasterImageFormat["Smp"] = 256] = "Smp";
                RasterImageFormat[RasterImageFormat["SmpG31Dim"] = 257] = "SmpG31Dim";
                RasterImageFormat[RasterImageFormat["SmpG32Dim"] = 258] = "SmpG32Dim";
                RasterImageFormat[RasterImageFormat["SmpG4"] = 259] = "SmpG4";
                RasterImageFormat[RasterImageFormat["Cmx"] = 261] = "Cmx";
                RasterImageFormat[RasterImageFormat["TgaRle"] = 262] = "TgaRle";
                RasterImageFormat[RasterImageFormat["Kdc120"] = 263] = "Kdc120";
                RasterImageFormat[RasterImageFormat["Kdc40"] = 264] = "Kdc40";
                RasterImageFormat[RasterImageFormat["Kdc50"] = 265] = "Kdc50";
                RasterImageFormat[RasterImageFormat["Dcs"] = 266] = "Dcs";
                RasterImageFormat[RasterImageFormat["TifxJbig"] = 269] = "TifxJbig";
                RasterImageFormat[RasterImageFormat["TifxJbigT43"] = 270] = "TifxJbigT43";
                RasterImageFormat[RasterImageFormat["TifxJbigT43ItuLab"] = 271] = "TifxJbigT43ItuLab";
                RasterImageFormat[RasterImageFormat["TifxJbigT43Gs"] = 272] = "TifxJbigT43Gs";
                RasterImageFormat[RasterImageFormat["TifxFaxG4"] = 273] = "TifxFaxG4";
                RasterImageFormat[RasterImageFormat["TifxFaxG31D"] = 274] = "TifxFaxG31D";
                RasterImageFormat[RasterImageFormat["TifxFaxG32D"] = 275] = "TifxFaxG32D";
                RasterImageFormat[RasterImageFormat["TifxJpeg"] = 276] = "TifxJpeg";
                RasterImageFormat[RasterImageFormat["Ecw"] = 277] = "Ecw";
                RasterImageFormat[RasterImageFormat["RasRle"] = 288] = "RasRle";
                RasterImageFormat[RasterImageFormat["Dxf13"] = 290] = "Dxf13";
                RasterImageFormat[RasterImageFormat["ClpRle"] = 291] = "ClpRle";
                RasterImageFormat[RasterImageFormat["Dcr"] = 292] = "Dcr";
                RasterImageFormat[RasterImageFormat["DicomJ2kGray"] = 293] = "DicomJ2kGray";
                RasterImageFormat[RasterImageFormat["DicomJ2kColor"] = 294] = "DicomJ2kColor";
                RasterImageFormat[RasterImageFormat["Fit"] = 295] = "Fit";
                RasterImageFormat[RasterImageFormat["Crw"] = 296] = "Crw";
                RasterImageFormat[RasterImageFormat["DwfTextAsPolyline"] = 297] = "DwfTextAsPolyline";
                RasterImageFormat[RasterImageFormat["Cin"] = 298] = "Cin";
                RasterImageFormat[RasterImageFormat["EpsPostscript"] = 300] = "EpsPostscript";
                RasterImageFormat[RasterImageFormat["IntergraphCcittG4"] = 301] = "IntergraphCcittG4";
                RasterImageFormat[RasterImageFormat["Sff"] = 302] = "Sff";
                RasterImageFormat[RasterImageFormat["IffIlbmUncompressed"] = 303] = "IffIlbmUncompressed";
                RasterImageFormat[RasterImageFormat["IffCatUncompressed"] = 304] = "IffCatUncompressed";
                RasterImageFormat[RasterImageFormat["RtfRaster"] = 305] = "RtfRaster";
                RasterImageFormat[RasterImageFormat["Wmz"] = 307] = "Wmz";
                RasterImageFormat[RasterImageFormat["AfpIcaG31Dim"] = 309] = "AfpIcaG31Dim";
                RasterImageFormat[RasterImageFormat["AfpIcaG32Dim"] = 310] = "AfpIcaG32Dim";
                RasterImageFormat[RasterImageFormat["AfpIcaG4"] = 311] = "AfpIcaG4";
                RasterImageFormat[RasterImageFormat["AfpIcaUncompressed"] = 312] = "AfpIcaUncompressed";
                RasterImageFormat[RasterImageFormat["AfpIcaIbmMmr"] = 313] = "AfpIcaIbmMmr";
                RasterImageFormat[RasterImageFormat["LeadMrc"] = 314] = "LeadMrc";
                RasterImageFormat[RasterImageFormat["TifLeadMrc"] = 315] = "TifLeadMrc";
                RasterImageFormat[RasterImageFormat["Txt"] = 316] = "Txt";
                RasterImageFormat[RasterImageFormat["PdfLeadMrc"] = 317] = "PdfLeadMrc";
                RasterImageFormat[RasterImageFormat["Hdp"] = 318] = "Hdp";
                RasterImageFormat[RasterImageFormat["HdpGray"] = 319] = "HdpGray";
                RasterImageFormat[RasterImageFormat["HdpCmyk"] = 320] = "HdpCmyk";
                RasterImageFormat[RasterImageFormat["PngIco"] = 321] = "PngIco";
                RasterImageFormat[RasterImageFormat["Xps"] = 322] = "Xps";
                RasterImageFormat[RasterImageFormat["Jpx"] = 323] = "Jpx";
                RasterImageFormat[RasterImageFormat["XpsJpeg"] = 324] = "XpsJpeg";
                RasterImageFormat[RasterImageFormat["XpsJpeg422"] = 325] = "XpsJpeg422";
                RasterImageFormat[RasterImageFormat["XpsJpeg411"] = 326] = "XpsJpeg411";
                RasterImageFormat[RasterImageFormat["Mng"] = 327] = "Mng";
                RasterImageFormat[RasterImageFormat["MngGray"] = 329] = "MngGray";
                RasterImageFormat[RasterImageFormat["MngJng"] = 330] = "MngJng";
                RasterImageFormat[RasterImageFormat["MngJng411"] = 331] = "MngJng411";
                RasterImageFormat[RasterImageFormat["MngJng422"] = 332] = "MngJng422";
                RasterImageFormat[RasterImageFormat["RasPdfCmyk"] = 333] = "RasPdfCmyk";
                RasterImageFormat[RasterImageFormat["RasPdfLzwCmyk"] = 334] = "RasPdfLzwCmyk";
                RasterImageFormat[RasterImageFormat["Mif"] = 335] = "Mif";
                RasterImageFormat[RasterImageFormat["E00"] = 336] = "E00";
                RasterImageFormat[RasterImageFormat["Tdb"] = 337] = "Tdb";
                RasterImageFormat[RasterImageFormat["TdbVista"] = 338] = "TdbVista";
                RasterImageFormat[RasterImageFormat["Snp"] = 339] = "Snp";
                RasterImageFormat[RasterImageFormat["AfpIm1"] = 340] = "AfpIm1";
                RasterImageFormat[RasterImageFormat["Xls"] = 341] = "Xls";
                RasterImageFormat[RasterImageFormat["Doc"] = 342] = "Doc";
                RasterImageFormat[RasterImageFormat["Anz"] = 343] = "Anz";
                RasterImageFormat[RasterImageFormat["Ppt"] = 344] = "Ppt";
                RasterImageFormat[RasterImageFormat["PptJpeg"] = 345] = "PptJpeg";
                RasterImageFormat[RasterImageFormat["PptPng"] = 346] = "PptPng";
                RasterImageFormat[RasterImageFormat["Jpm"] = 347] = "Jpm";
                RasterImageFormat[RasterImageFormat["Vff"] = 348] = "Vff";
                RasterImageFormat[RasterImageFormat["PclXl"] = 349] = "PclXl";
                RasterImageFormat[RasterImageFormat["Docx"] = 350] = "Docx";
                RasterImageFormat[RasterImageFormat["Xlsx"] = 351] = "Xlsx";
                RasterImageFormat[RasterImageFormat["Pptx"] = 352] = "Pptx";
                RasterImageFormat[RasterImageFormat["Jxr"] = 353] = "Jxr";
                RasterImageFormat[RasterImageFormat["JxrGray"] = 354] = "JxrGray";
                RasterImageFormat[RasterImageFormat["JxrCmyk"] = 355] = "JxrCmyk";
                RasterImageFormat[RasterImageFormat["Jls"] = 356] = "Jls";
                RasterImageFormat[RasterImageFormat["Jxr422"] = 357] = "Jxr422";
                RasterImageFormat[RasterImageFormat["Jxr420"] = 358] = "Jxr420";
                RasterImageFormat[RasterImageFormat["DcfArw"] = 359] = "DcfArw";
                RasterImageFormat[RasterImageFormat["DcfRaf"] = 360] = "DcfRaf";
                RasterImageFormat[RasterImageFormat["DcfOrf"] = 361] = "DcfOrf";
                RasterImageFormat[RasterImageFormat["DcfCr2"] = 362] = "DcfCr2";
                RasterImageFormat[RasterImageFormat["DcfNef"] = 363] = "DcfNef";
                RasterImageFormat[RasterImageFormat["DcfRw2"] = 364] = "DcfRw2";
                RasterImageFormat[RasterImageFormat["DcfCasio"] = 365] = "DcfCasio";
                RasterImageFormat[RasterImageFormat["DcfPentax"] = 366] = "DcfPentax";
                RasterImageFormat[RasterImageFormat["JlsLine"] = 367] = "JlsLine";
                RasterImageFormat[RasterImageFormat["JlsSample"] = 368] = "JlsSample";
                RasterImageFormat[RasterImageFormat["Htm"] = 369] = "Htm";
                RasterImageFormat[RasterImageFormat["Mob"] = 370] = "Mob";
                RasterImageFormat[RasterImageFormat["Pub"] = 371] = "Pub";
                RasterImageFormat[RasterImageFormat["Ing"] = 372] = "Ing";
                RasterImageFormat[RasterImageFormat["IngRle"] = 373] = "IngRle";
                RasterImageFormat[RasterImageFormat["IngAdaptiveRle"] = 374] = "IngAdaptiveRle";
                RasterImageFormat[RasterImageFormat["IngG4"] = 375] = "IngG4";
                RasterImageFormat[RasterImageFormat["Dwfx"] = 376] = "Dwfx";
                RasterImageFormat[RasterImageFormat["IcaJpeg"] = 377] = "IcaJpeg";
                RasterImageFormat[RasterImageFormat["IcaJpeg411"] = 378] = "IcaJpeg411";
                RasterImageFormat[RasterImageFormat["IcaJpeg422"] = 379] = "IcaJpeg422";
                RasterImageFormat[RasterImageFormat["DcfDng"] = 380] = "DcfDng";
                RasterImageFormat[RasterImageFormat["RawFlate"] = 381] = "RawFlate";
                RasterImageFormat[RasterImageFormat["RawRle"] = 382] = "RawRle";
                RasterImageFormat[RasterImageFormat["DicomJlsGray"] = 383] = "DicomJlsGray";
                RasterImageFormat[RasterImageFormat["DicomJlsColor"] = 384] = "DicomJlsColor";
                RasterImageFormat[RasterImageFormat["Pst"] = 385] = "Pst";
                RasterImageFormat[RasterImageFormat["Msg"] = 386] = "Msg";
                RasterImageFormat[RasterImageFormat["Eml"] = 387] = "Eml";
                RasterImageFormat[RasterImageFormat["RasPdfJpx"] = 388] = "RasPdfJpx";
                RasterImageFormat[RasterImageFormat["DicomJpxGray"] = 389] = "DicomJpxGray";
                RasterImageFormat[RasterImageFormat["DicomJpxColor"] = 390] = "DicomJpxColor";
                RasterImageFormat[RasterImageFormat["JpegCmyk"] = 391] = "JpegCmyk";
                RasterImageFormat[RasterImageFormat["JpegCmyk411"] = 392] = "JpegCmyk411";
                RasterImageFormat[RasterImageFormat["JpegCmyk422"] = 393] = "JpegCmyk422";
                RasterImageFormat[RasterImageFormat["TifJpegCmyk"] = 394] = "TifJpegCmyk";
                RasterImageFormat[RasterImageFormat["TifJpegCmyk411"] = 395] = "TifJpegCmyk411";
                RasterImageFormat[RasterImageFormat["TifJpegCmyk422"] = 396] = "TifJpegCmyk422";
                RasterImageFormat[RasterImageFormat["Svgz"] = 397] = "Svgz";
            })(RasterImageFormat = JavaScript.RasterImageFormat || (JavaScript.RasterImageFormat = {}));
            var TwainVersion;
            (function (TwainVersion) {
                TwainVersion[TwainVersion["Version1"] = 1] = "Version1";
                TwainVersion[TwainVersion["Version2"] = 2] = "Version2";
            })(TwainVersion = JavaScript.TwainVersion || (JavaScript.TwainVersion = {}));
        })(JavaScript = Twain.JavaScript || (Twain.JavaScript = {}));
    })(Twain = lt.Twain || (lt.Twain = {}));
})(lt || (lt = {}));
var lt;
(function (lt) {
    var Scanning;
    (function (Scanning) {
        var JavaScript;
        (function (JavaScript) {
            var ScanningStatus = /** @class */ (function () {
                function ScanningStatus() {
                }
                return ScanningStatus;
            }());
            JavaScript.ScanningStatus = ScanningStatus;
        })(JavaScript = Scanning.JavaScript || (Scanning.JavaScript = {}));
    })(Scanning = lt.Scanning || (lt.Scanning = {}));
})(lt || (lt = {}));
var lt;
(function (lt) {
    var Sane;
    (function (Sane) {
        var JavaScript;
        (function (JavaScript) {
            var SaneError = /** @class */ (function () {
                function SaneError() {
                }
                return SaneError;
            }());
            JavaScript.SaneError = SaneError;
            var SaneStatus = /** @class */ (function () {
                function SaneStatus() {
                }
                return SaneStatus;
            }());
            JavaScript.SaneStatus = SaneStatus;
            var SaneSourceInformation = /** @class */ (function () {
                function SaneSourceInformation() {
                }
                return SaneSourceInformation;
            }());
            JavaScript.SaneSourceInformation = SaneSourceInformation;
            var SaneService = /** @class */ (function () {
                function SaneService(portNumber) {
                    this._serviceUrl = "http://127.0.0.1:{0}/".format(portNumber);
                    this._id = "";
                }
                SaneService.prototype.init = function (userData, onSuccess, onFailure) {
                    var _this = this;
                    var data = {
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}Init".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function (sessionId) {
                        _this._id = sessionId;
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                SaneService.prototype.getStatus = function (userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}GetStatus".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function (saneStatus) {
                        onSuccess(saneStatus);
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                SaneService.prototype.getSources = function (userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}GetSources".format(this._serviceUrl),
                        'type': "POST",
                        data: JSON.stringify(data),
                        contentType: "application/json"
                    })
                        .done(function (sources) {
                            alert(sources);
                        onSuccess(sources);
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                            onFailure(errorThrown);
                            alert(errorThrown);
                    });
                };
                SaneService.prototype.selectSource = function (sourceName, userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        sourceName: sourceName,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}SelectSource".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                SaneService.prototype.acquire = function (userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}Acquire".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                SaneService.prototype.getPage = function (pageNumber, format, bpp, width, height, userData) {
                    return "{0}GetPage?id={1}&pageNumber={2}&format={3}&bpp={4}&width={5}&height={6}&userData={7}&time={8}".format(this._serviceUrl, this._id, pageNumber, format, bpp, width, height, userData, $.now());
                };
                SaneService.prototype.stop = function (userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}Stop".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data),
                        async: false
                    })
                        .done(function () {
                        if (onSuccess != null)
                            onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        if (onFailure != null)
                            onFailure(errorThrown);
                    });
                };
                SaneService.prototype.start = function (userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}Start".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                SaneService.prototype.applyImageProcessingCommand = function (firstPageNumber, lastPageNumber, commandName, args, userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        firstPageNumber: firstPageNumber,
                        lastPageNumber: lastPageNumber,
                        commandName: commandName,
                        arguments: JSON.stringify(args),
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}Run".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                SaneService.prototype.getImageProcessingPreview = function (pageNumber, commandName, args, width, height, format, bpp, userData) {
                    return "{0}Preview?id={1}&pageNumber={2}&commandName={3}&arguments={4}&width={5}&height={6}&format={7}&bpp={8}&userData={9}&time={10}".format(this._serviceUrl, this._id, pageNumber, commandName, JSON.stringify(args), width, height, format, bpp, userData, $.now());
                };
                SaneService.prototype.abortAcquire = function (userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}AbortAcquire".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                SaneService.prototype.setOptionValue = function (optionName, value, userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        optionName: optionName,
                        value: value,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}setOptionValue".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                SaneService.prototype.getOptionValue = function (optionName, userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        optionName: optionName,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}getOptionValue".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function (value) {
                        onSuccess(value);
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                SaneService.prototype.deletePage = function (pageNumber, userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        pageNumber: pageNumber,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}DeletePage".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                SaneService.prototype.runCommand = function (commandName, args, userData) {
                    return "{0}RunCommand?id={1}&commandName={2}&arguments={3}&userData={9}".format(this._serviceUrl, this._id, commandName, JSON.stringify(args), userData);
                };
                return SaneService;
            }());
            JavaScript.SaneService = SaneService;
        })(JavaScript = Sane.JavaScript || (Sane.JavaScript = {}));
    })(Sane = lt.Sane || (lt.Sane = {}));
})(lt || (lt = {}));
String.prototype.format = function () {
    var formatted = this;
    for (var i = 0; i < arguments.length; i++) {
        var regexp = new RegExp('\\{' + i + '\\}', 'gi');
        formatted = formatted.replace(regexp, arguments[i]);
    }
    return formatted;
};
var lt;
(function (lt) {
    var Twain;
    (function (Twain) {
        var JavaScript;
        (function (JavaScript) {
            var TwainError = /** @class */ (function () {
                function TwainError() {
                }
                return TwainError;
            }());
            JavaScript.TwainError = TwainError;
            var TwainStatus = /** @class */ (function () {
                function TwainStatus() {
                }
                return TwainStatus;
            }());
            JavaScript.TwainStatus = TwainStatus;
            var TwainSourceInformation = /** @class */ (function () {
                function TwainSourceInformation() {
                }
                return TwainSourceInformation;
            }());
            JavaScript.TwainSourceInformation = TwainSourceInformation;
            var TwainArrayCapability = /** @class */ (function () {
                function TwainArrayCapability() {
                }
                return TwainArrayCapability;
            }());
            JavaScript.TwainArrayCapability = TwainArrayCapability;
            var TwainEnumerationCapability = /** @class */ (function () {
                function TwainEnumerationCapability() {
                }
                return TwainEnumerationCapability;
            }());
            JavaScript.TwainEnumerationCapability = TwainEnumerationCapability;
            var TwainCapabilityBase = /** @class */ (function () {
                function TwainCapabilityBase() {
                }
                return TwainCapabilityBase;
            }());
            JavaScript.TwainCapabilityBase = TwainCapabilityBase;
            var TwainOneValueCapability = /** @class */ (function () {
                function TwainOneValueCapability() {
                }
                return TwainOneValueCapability;
            }());
            JavaScript.TwainOneValueCapability = TwainOneValueCapability;
            var TwainRangeCapability = /** @class */ (function () {
                function TwainRangeCapability() {
                }
                return TwainRangeCapability;
            }());
            JavaScript.TwainRangeCapability = TwainRangeCapability;
            var TwainCapability = /** @class */ (function () {
                function TwainCapability() {
                }
                return TwainCapability;
            }());
            JavaScript.TwainCapability = TwainCapability;
            var TwainService = /** @class */ (function () {
                function TwainService(url) {
                    this._serviceUrl = url;
                    this._id = "";
                }
                TwainService.prototype.init = function (manufacturer, productFamily, version, application, userData, onSuccess, onFailure) {
                    var _this = this;
                    var data = {
                        manufacturer: manufacturer,
                        productFamily: productFamily,
                        version: version,
                        application: application,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}Init".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function (sessionId) {
                        _this._id = sessionId;
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                TwainService.prototype.getStatus = function (userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}GetStatus".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function (twainStatus) {
                        onSuccess(twainStatus);
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                TwainService.prototype.isAvailable = function (userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}IsAvailable".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function (available) {
                        onSuccess(available);
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                TwainService.prototype.getSources = function (userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}QuerySourceInformation".format(this._serviceUrl),
                        'type': "POST",
                        data: JSON.stringify(data),
                        contentType: "application/json"
                    })
                        .done(function (sources) {
                        onSuccess(sources);
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                TwainService.prototype.selectSource = function (sourceName, userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        sourceName: sourceName,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}SelectSource".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                TwainService.prototype.acquire = function (flags, userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        flags: flags,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}Acquire".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                TwainService.prototype.getPage = function (pageNumber, format, bpp, width, height, userData) {
                    return "{0}GetPage?id={1}&pageNumber={2}&format={3}&bpp={4}&width={5}&height={6}&userData={7}&time={8}".format(this._serviceUrl, this._id, pageNumber, format, bpp, width, height, userData, $.now());
                };
                TwainService.prototype.stop = function (userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}Stop".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data),
                        async: false
                    })
                        .done(function () {
                        if (onSuccess != null)
                            onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        if (onFailure != null)
                            onFailure(errorThrown);
                    });
                };
                TwainService.prototype.start = function (userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}Start".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                TwainService.prototype.applyImageProcessingCommand = function (firstPageNumber, lastPageNumber, commandName, args, userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        firstPageNumber: firstPageNumber,
                        lastPageNumber: lastPageNumber,
                        commandName: commandName,
                        arguments: JSON.stringify(args),
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}Run".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                TwainService.prototype.getImageProcessingPreview = function (pageNumber, commandName, args, width, height, format, bpp, userData) {
                    return "{0}Preview?id={1}&pageNumber={2}&commandName={3}&arguments={4}&width={5}&height={6}&format={7}&bpp={8}&userData={9}&time={10}".format(this._serviceUrl, this._id, pageNumber, commandName, JSON.stringify(args), width, height, format, bpp, userData, $.now());
                };
                TwainService.prototype.abortAcquire = function (userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}AbortAcquire".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                TwainService.prototype.setCapabilityValue = function (capabilityType, itemType, value, userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        capabilityType: capabilityType,
                        itemType: itemType,
                        value: value,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}SetCapabilityValue".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                TwainService.prototype.getCapability = function (capabilityType, mode, userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        capabilityType: capabilityType,
                        mode: mode,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}GetCapability".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function (cap) {
                        onSuccess(JSON.parse(cap));
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                TwainService.prototype.deletePage = function (pageNumber, userData, onSuccess, onFailure) {
                    var data = {
                        id: this._id,
                        pageNumber: pageNumber,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}DeletePage".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function () {
                        onSuccess();
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                TwainService.prototype.runCommand = function (commandName, args, userData) {
                    return "{0}RunCommand?id={1}&commandName={2}&arguments={3}&userData={9}".format(this._serviceUrl, this._id, commandName, JSON.stringify(args), userData);
                };
                TwainService.prototype.setVersion = function (version, userData, onSuccess, onFailure) {
                    var data = {
                        version: version,
                        userData: userData
                    };
                    $.ajax({
                        url: "{0}SetVersion".format(this._serviceUrl),
                        'type': "POST",
                        contentType: "application/json",
                        data: JSON.stringify(data)
                    })
                        .done(function (status) {
                        onSuccess(status);
                    })
                        .fail(function (jqXHR, textStatus, errorThrown) {
                        onFailure(errorThrown);
                    });
                };
                return TwainService;
            }());
            JavaScript.TwainService = TwainService;
        })(JavaScript = Twain.JavaScript || (Twain.JavaScript = {}));
    })(Twain = lt.Twain || (lt.Twain = {}));
})(lt || (lt = {}));
//# sourceMappingURL=Leadtools.Scanning.js.map
/**************************************************
LEADTOOLS (C) 1991-2017 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Controls.js
// Version:19.0.0.57
(function(){Type.registerNamespace("lt.Controls");window.lt.Controls._lT_VersionNumber=function(){};lt.Controls.ControlScrollMode=function(){};lt.Controls.ControlScrollMode.prototype={auto:0,hidden:1,disabled:2};lt.Controls.ControlScrollMode.registerEnum("lt.Controls.ControlScrollMode",!1);lt.Controls.ControlAlignment=function(){};lt.Controls.ControlAlignment.prototype={near:0,center:1,far:2};lt.Controls.ControlAlignment.registerEnum("lt.Controls.ControlAlignment",!1);lt.Controls.ControlSizeMode=
function(){};lt.Controls.ControlSizeMode.prototype={none:0,actualSize:1,fit:2,fitAlways:3,fitWidth:4,fitHeight:5,stretch:6};lt.Controls.ControlSizeMode.registerEnum("lt.Controls.ControlSizeMode",!1);lt.Controls.ControlTextTrimming=function(){};lt.Controls.ControlTextTrimming.prototype={none:0,character:1,word:2,ellipsisCharacter:3,ellipsisWord:4,ellipsisPath:5};lt.Controls.ControlTextTrimming.registerEnum("lt.Controls.ControlTextTrimming",!1);lt.Controls.InterpolationRunMode=function(){};lt.Controls.InterpolationRunMode.prototype=
{sequential:0,parallel:1};lt.Controls.InterpolationRunMode.registerEnum("lt.Controls.InterpolationRunMode",!1);lt.Controls.InterpolationMode=function(){};lt.Controls.InterpolationMode.prototype={none:0,resample:1,scaleToGray:2};lt.Controls.InterpolationMode.registerEnum("lt.Controls.InterpolationMode",!1);lt.Controls.InterpolationStatus=function(){};lt.Controls.InterpolationStatus.prototype={started:0,completed:1,aborted:2,error:3};lt.Controls.InterpolationStatus.registerEnum("lt.Controls.InterpolationStatus",
!1);lt.Controls.Keys=function(){};lt.Controls.Keys.prototype={none:0,lButton:1,rButton:2,cancel:3,mButton:4,enter:13,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,alt:262144,shift:65536,control:131072,keyCode:65535,modifiers:-65536};lt.Controls.Keys.registerEnum("lt.Controls.Keys",!1);lt.Controls.MouseButtons=function(){};lt.Controls.MouseButtons.prototype={none:0,left:1,right:2,middle:4,xButton1:8,xButton2:16};lt.Controls.MouseButtons.registerEnum("lt.Controls.MouseButtons",
!0);lt.Controls.ControlRegionRenderMode=function(){};lt.Controls.ControlRegionRenderMode.prototype={none:0,fixed:1,animated:2};lt.Controls.ControlRegionRenderMode.registerEnum("lt.Controls.ControlRegionRenderMode",!1);lt.Controls.ImageViewerCoordinateType=function(){};lt.Controls.ImageViewerCoordinateType.prototype={control:0,view:1,item:2,content:3,image:4,floater:5};lt.Controls.ImageViewerCoordinateType.registerEnum("lt.Controls.ImageViewerCoordinateType",!1);lt.Controls.ImageViewerItemPart=function(){};
lt.Controls.ImageViewerItemPart.prototype={view:0,item:1,content:2,image:3,textArea:4,text:5,floater:6};lt.Controls.ImageViewerItemPart.registerEnum("lt.Controls.ImageViewerItemPart",!1);lt.Controls.ImageViewerAutoResetOptions=function(){};lt.Controls.ImageViewerAutoResetOptions.prototype={none:0,scroll:1,zoom:2,transformation:4,effects:8,all:15};lt.Controls.ImageViewerAutoResetOptions.registerEnum("lt.Controls.ImageViewerAutoResetOptions",!0);lt.Controls.ImageViewerItemChangedReason=function(){};
lt.Controls.ImageViewerItemChangedReason.prototype={size:0,transform:1,enabled:2,selected:3,hovered:4,text:5,url:6,drop:7,drag:8,image:9,imageChanged:10,floater:11,floaterTransform:12,backImageUrl:13,backImage:14};lt.Controls.ImageViewerItemChangedReason.registerEnum("lt.Controls.ImageViewerItemChangedReason",!1);lt.Controls.ImageViewerItemDragDropOperation=function(){};lt.Controls.ImageViewerItemDragDropOperation.prototype={dragEnter:0,dragOver:1,dragLeave:2,dragDrop:3};lt.Controls.ImageViewerItemDragDropOperation.registerEnum("lt.Controls.ImageViewerItemDragDropOperation",
!1);lt.Controls.ImageViewerDragTargetMode=function(){};lt.Controls.ImageViewerDragTargetMode.prototype={all:0,same:1,others:2};lt.Controls.ImageViewerDragTargetMode.registerEnum("lt.Controls.ImageViewerDragTargetMode",!1);lt.Controls.ImageViewerDragMode=function(){};lt.Controls.ImageViewerDragMode.prototype={htmlNative:0,item:1};lt.Controls.ImageViewerDragMode.registerEnum("lt.Controls.ImageViewerDragMode",!1);lt.Controls.ImageViewerAutoItemMode=function(){};lt.Controls.ImageViewerAutoItemMode.prototype=
{none:0,never:1,autoSet:2,autoSetActive:3};lt.Controls.ImageViewerAutoItemMode.registerEnum("lt.Controls.ImageViewerAutoItemMode",!1);lt.Controls.ImageViewerRubberBandShape=function(){};lt.Controls.ImageViewerRubberBandShape.prototype={rectangle:0,roundRectangle:1,ellipse:2,freehand:3};lt.Controls.ImageViewerRubberBandShape.registerEnum("lt.Controls.ImageViewerRubberBandShape",!1);lt.Controls.ImageViewerSelectionMode=function(){};lt.Controls.ImageViewerSelectionMode.prototype={none:0,single:1,multi:2};
lt.Controls.ImageViewerSelectionMode.registerEnum("lt.Controls.ImageViewerSelectionMode",!1);lt.Controls.ImageViewerSpyGlassShape=function(){};lt.Controls.ImageViewerSpyGlassShape.prototype={none:0,rectangle:1,roundRectangle:2,ellipse:3};lt.Controls.ImageViewerSpyGlassShape.registerEnum("lt.Controls.ImageViewerSpyGlassShape",!1);lt.Controls.ImageViewerSpyGlassCrosshair=function(){};lt.Controls.ImageViewerSpyGlassCrosshair.prototype={none:0,fine:1};lt.Controls.ImageViewerSpyGlassCrosshair.registerEnum("lt.Controls.ImageViewerSpyGlassCrosshair",
!1);lt.Controls.ImageViewerInteractiveModeTransformTarget=function(){};lt.Controls.ImageViewerInteractiveModeTransformTarget.prototype={imageViewer:0,allItems:1,item:2};lt.Controls.ImageViewerInteractiveModeTransformTarget.registerEnum("lt.Controls.ImageViewerInteractiveModeTransformTarget",!1);lt.Controls.InteractiveDirection=function(){};lt.Controls.InteractiveDirection.prototype={horizontal:0,vertical:1};lt.Controls.InteractiveDirection.registerEnum("lt.Controls.InteractiveDirection",!1);lt.Controls.CanvasOptions=
function(){};lt.Controls.CanvasOptions.get_autoScale=function(){return lt.Controls.CanvasOptions._autoScale};lt.Controls.CanvasOptions.set_autoScale=function(a){lt.Controls.CanvasOptions._autoScale!==a&&(lt.Controls.CanvasOptions._autoScale=a);return a};lt.Controls.CanvasOptions.get_maximumSize=function(){return lt.Controls.CanvasOptions._maximumSize};lt.Controls.CanvasOptions.set_maximumSize=function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("MaximumSize",a,"must a value greater than or equal to 0");
lt.Controls.CanvasOptions._maximumSize!==a&&(lt.Controls.CanvasOptions._maximumSize=a);return a};lt.Controls.CanvasOptions.get_maximumInterpolationSize=function(){return lt.Controls.CanvasOptions._maximumInterpolationSize};lt.Controls.CanvasOptions.set_maximumInterpolationSize=function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("MaximumInterpolationSize",a,"Must be a value greater than or equal to 0");return lt.Controls.CanvasOptions._maximumInterpolationSize=a};Object.defineProperty(lt.Controls.CanvasOptions,
"autoScale",{get:lt.Controls.CanvasOptions.get_autoScale,set:lt.Controls.CanvasOptions.set_autoScale,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.CanvasOptions,"maximumSize",{get:lt.Controls.CanvasOptions.get_maximumSize,set:lt.Controls.CanvasOptions.set_maximumSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.CanvasOptions,"maximumInterpolationSize",{get:lt.Controls.CanvasOptions.get_maximumInterpolationSize,set:lt.Controls.CanvasOptions.set_maximumInterpolationSize,
enumerable:!0,configurable:!0});lt.Controls.ControlDropShadowOptions=function(){};lt.Controls.ControlDropShadowOptions.createDefault=function(){var a=new lt.Controls.ControlDropShadowOptions;a._isVisible=!1;a._color=lt.Controls.GraphicsHelper.colorFromString("Black");a._offsetX=8;a._offsetY=8;a._blur=8;return a};lt.Controls.ControlDropShadowOptions.prototype={_toCSSStyle:function(a){return String.format("{0}px {1}px {2}px {3}",a*this.get_offsetX(),a*this.get_offsetY(),a*this.get_blur(),this.get_color())},
clone:function(){var a=new lt.Controls.ControlDropShadowOptions;a.set_isVisible(this.get_isVisible());a.set_color(this.get_color());a.set_offsetX(this.get_offsetX());a.set_offsetY(this.get_offsetY());a.set_blur(this.get_blur());return a},_isVisible:!1,get_isVisible:function(){return this._isVisible},set_isVisible:function(a){return this._isVisible=a},_color:null,get_color:function(){return this._color},set_color:function(a){return this._color=a},_offsetX:0,get_offsetX:function(){return this._offsetX},
set_offsetX:function(a){return this._offsetX=a},_offsetY:0,get_offsetY:function(){return this._offsetY},set_offsetY:function(a){return this._offsetY=a},_blur:0,get_blur:function(){return this._blur},set_blur:function(a){return this._blur=a}};Object.defineProperty(lt.Controls.ControlDropShadowOptions.prototype,"isVisible",{get:lt.Controls.ControlDropShadowOptions.prototype.get_isVisible,set:lt.Controls.ControlDropShadowOptions.prototype.set_isVisible,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlDropShadowOptions.prototype,
"color",{get:lt.Controls.ControlDropShadowOptions.prototype.get_color,set:lt.Controls.ControlDropShadowOptions.prototype.set_color,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlDropShadowOptions.prototype,"offsetX",{get:lt.Controls.ControlDropShadowOptions.prototype.get_offsetX,set:lt.Controls.ControlDropShadowOptions.prototype.set_offsetX,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlDropShadowOptions.prototype,"offsetY",{get:lt.Controls.ControlDropShadowOptions.prototype.get_offsetY,
set:lt.Controls.ControlDropShadowOptions.prototype.set_offsetY,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlDropShadowOptions.prototype,"blur",{get:lt.Controls.ControlDropShadowOptions.prototype.get_blur,set:lt.Controls.ControlDropShadowOptions.prototype.set_blur,enumerable:!0,configurable:!0});lt.Controls.InterpolationEventArgs=function(){lt.Controls.InterpolationEventArgs.initializeBase(this)};lt.Controls.InterpolationEventArgs.create=function(a,b,c,d){var e=new lt.Controls.InterpolationEventArgs;
e._mode$1=a;e._item$1=b;e._status$1=d;e._error$1=c;e._isCanceled$1=!1;return e};lt.Controls.InterpolationEventArgs.prototype={_mode$1:0,get_mode:function(){return this._mode$1},_item$1:null,get_item:function(){return this._item$1},_status$1:0,get_status:function(){return this._status$1},_error$1:null,get_error:function(){return this._error$1},_isCanceled$1:!1,get_isCanceled:function(){return this._isCanceled$1},set_isCanceled:function(a){return this._isCanceled$1=a}};Object.defineProperty(lt.Controls.InterpolationEventArgs.prototype,
"mode",{get:lt.Controls.InterpolationEventArgs.prototype.get_mode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InterpolationEventArgs.prototype,"item",{get:lt.Controls.InterpolationEventArgs.prototype.get_item,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InterpolationEventArgs.prototype,"status",{get:lt.Controls.InterpolationEventArgs.prototype.get_status,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InterpolationEventArgs.prototype,"error",
{get:lt.Controls.InterpolationEventArgs.prototype.get_error,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InterpolationEventArgs.prototype,"isCanceled",{get:lt.Controls.InterpolationEventArgs.prototype.get_isCanceled,set:lt.Controls.InterpolationEventArgs.prototype.set_isCanceled,enumerable:!0,configurable:!0});lt.Controls.ControlPadding=function(){};lt.Controls.ControlPadding.create=function(a,b,c,d){if(0>a||0>b||0>c||0>d)throw new lt.InvalidOperationException("Parameters must be greater than or equal to 0");
var e=new lt.Controls.ControlPadding;e._left=a;e._top=b;e._right=c;e._bottom=d;return e};lt.Controls.ControlPadding.createAll=function(a){if(0>a)throw new lt.InvalidOperationException("Parameters must be greater than or equal to 0");var b=new lt.Controls.ControlPadding;b._left=a;b._top=a;b._right=a;b._bottom=a;return b};lt.Controls.ControlPadding.get_empty=function(){return lt.Controls.ControlPadding.create(0,0,0,0)};lt.Controls.ControlPadding.prototype={clone:function(){return lt.Controls.ControlPadding.create(this.get_left(),
this.get_top(),this.get_right(),this.get_bottom())},_left:0,get_left:function(){return this._left},set_left:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("Left",a,"Must be a value greater than or equal to 0");return this._left=a},_top:0,get_top:function(){return this._top},set_top:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("Top",a,"Must be a value greater than or equal to 0");return this._top=a},_right:0,get_right:function(){return this._right},set_right:function(a){if(0>
a)throw new lt.ArgumentOutOfRangeException("Right",a,"Must be a value greater than or equal to 0");return this._right=a},_bottom:0,get_bottom:function(){return this._bottom},set_bottom:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("Bottom",a,"Must be a value greater than or equal to 0");return this._bottom=a},get_all:function(){return Math.max(this._left,Math.max(this._top,Math.max(this._right,this._bottom)))},set_all:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("All",
a,"Must be a value greater than or equal to 0");return this._bottom=this._right=this._top=this._left=a}};Object.defineProperty(lt.Controls.ControlPadding,"empty",{get:lt.Controls.ControlPadding.get_empty,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlPadding.prototype,"left",{get:lt.Controls.ControlPadding.prototype.get_left,set:lt.Controls.ControlPadding.prototype.set_left,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlPadding.prototype,"top",{get:lt.Controls.ControlPadding.prototype.get_top,
set:lt.Controls.ControlPadding.prototype.set_top,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlPadding.prototype,"right",{get:lt.Controls.ControlPadding.prototype.get_right,set:lt.Controls.ControlPadding.prototype.set_right,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlPadding.prototype,"bottom",{get:lt.Controls.ControlPadding.prototype.get_bottom,set:lt.Controls.ControlPadding.prototype.set_bottom,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlPadding.prototype,
"all",{get:lt.Controls.ControlPadding.prototype.get_all,set:lt.Controls.ControlPadding.prototype.set_all,enumerable:!0,configurable:!0});lt.Controls.PropertyChangedEventArgs=function(a){lt.Controls.PropertyChangedEventArgs.initializeBase(this);this._propertyName$1=a};lt.Controls.PropertyChangedEventArgs.create=function(a){return new lt.Controls.PropertyChangedEventArgs(a)};lt.Controls.PropertyChangedEventArgs.prototype={_propertyName$1:null,get_propertyName:function(){return this._propertyName$1},
set_propertyName:function(a){return this._propertyName$1=a}};Object.defineProperty(lt.Controls.PropertyChangedEventArgs.prototype,"propertyName",{get:lt.Controls.PropertyChangedEventArgs.prototype.get_propertyName,set:lt.Controls.PropertyChangedEventArgs.prototype.set_propertyName,enumerable:!0,configurable:!0});lt.Controls.ControlRegionRenderer=function(){this._targets=[];this._callbacks=[];this._timerCallback_Delegate=ss.Delegate.create(this,this._timerCallback)};lt.Controls.ControlRegionRenderer.get_instance=
function(){return lt.Controls.ControlRegionRenderer._instance};lt.Controls.ControlRegionRenderer.prototype={_timerCallback_Delegate:null,_size:1,get_size:function(){return this._size},set_size:function(a){if(1>a)throw new lt.ArgumentOutOfRangeException("Size",a,"Must be a value greater than or equal to 1");return this._size=a},_regionRenderCallback:null,get_regionRenderCallback:function(){return this._regionRenderCallback},set_regionRenderCallback:function(a){return this._regionRenderCallback=a},
_render:function(a,b,c,d,e,f){null!=this._regionRenderCallback?this._regionRenderCallback(a,b.get_context(),c,d,e,f):this._nativeRender(a,lt.Controls.GraphicsHelper.getNativeContext(b),c,d,e,f)},_addTarget:function(a,b){this._targets.contains(a)||(this._targets.add(a),this._callbacks.add(b));0<this._targets.length&&null==lt.Controls.ControlRegionRenderer._timer&&(lt.Controls.ControlRegionRenderer._timer=new lt.Controls._leadTimer(null,this._timerCallback_Delegate,null,0,lt.Controls.ControlRegionRenderer._animationInterval))},
_removeTarget:function(a){a=this._targets.indexOf(a);-1!==a&&(this._targets.removeAt(a),this._callbacks.removeAt(a));!this._targets.length&&null!=lt.Controls.ControlRegionRenderer._timer&&(lt.Controls.ControlRegionRenderer._timer.dispose(),lt.Controls.ControlRegionRenderer._timer=null)},_nativeRender:function(){},_timerCallback:function(){}};Object.defineProperty(lt.Controls.ControlRegionRenderer,"instance",{get:lt.Controls.ControlRegionRenderer.get_instance,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlRegionRenderer.prototype,
"size",{get:lt.Controls.ControlRegionRenderer.prototype.get_size,set:lt.Controls.ControlRegionRenderer.prototype.set_size,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ControlRegionRenderer.prototype,"regionRenderCallback",{get:lt.Controls.ControlRegionRenderer.prototype.get_regionRenderCallback,set:lt.Controls.ControlRegionRenderer.prototype.set_regionRenderCallback,enumerable:!0,configurable:!0});lt.Controls.ImageViewer=function(a){this._syncIndex=this._syncId=-1;this._defaultDpi=
lt.LeadSizeD.create(96,96);this._realScreenDpi=lt.LeadSizeD.create(0,0);this._ScreenDpi=lt.Controls.ImageViewer._ScreenDpi_Default;this._UseDpi=!1;this._ScrollMode=lt.Controls.ImageViewer._ScrollMode_Default;this._RestrictScroll=!0;this._ScrollOffset=lt.Controls.ImageViewer._ScrollOffset_Default.clone();this._maximumScrollSize=lt.LeadSizeD.create(0,0);this._ViewBorderThickness=0;this._ViewMargin=lt.Controls.ImageViewer._ViewMargin_Default.clone();this._ViewPadding=lt.Controls.ImageViewer._ViewPadding_Default.clone();
this._ViewDropShadow=lt.Controls.ImageViewer._ViewDropShadow_Default;this._ItemBorderThickness=0;this._ItemMargin=lt.Controls.ImageViewer._ItemMargin_Default.clone();this._ItemPadding=lt.Controls.ImageViewer._ItemPadding_Default.clone();this._ImageBorderThickness=0;this._ImageDropShadow=lt.Controls.ImageViewer._ImageDropShadow_Default;this._ItemSpacing=lt.Controls.ImageViewer._ItemSpacing_Default.clone();this._ItemSize=lt.Controls.ImageViewer._ItemSize_Default;this._ItemSizeMode=lt.Controls.ImageViewer._ItemSizeMode_Default;
this._ClipImageToContent=this._ResizeOnTransform=!0;this._ImageHorizontalAlignment=lt.Controls.ImageViewer._ImageHorizontalAlignment_Default;this._ImageVerticalAlignment=lt.Controls.ImageViewer._ImageVerticalAlignment_Default;this._TextHorizontalAlignment=lt.Controls.ImageViewer._TextHorizontalAlignment_Default;this._TextVerticalAlignment=lt.Controls.ImageViewer._TextVerticalAlignment_Default;this._ItemTextWrap=!0;this._ItemTextTrimming=lt.Controls.ImageViewer._ItemTextTrimming_Default;this._AspectRatioCorrection=
1;this._ViewHorizontalAlignment=lt.Controls.ImageViewer._ViewHorizontalAlignment_Default;this._ViewVerticalAlignment=lt.Controls.ImageViewer._ViewVerticalAlignment_Default;this._ItemHorizontalAlignment=lt.Controls.ImageViewer._ItemHorizontalAlignment_Default;this._ItemVerticalAlignment=lt.Controls.ImageViewer._ItemVerticalAlignment_Default;this._Reverse=this._Flip=!1;this._RotateAngle=0;this._Invert=!1;this._sizeMode=0;this._MaximumScaleFactor=1E4;this._MinimumScaleFactor=1.0E-4;this._totalViewTransformInverse=
lt.LeadMatrix.get_identity();this._totalViewTransform=lt.LeadMatrix.get_identity();this._viewTransform=lt.LeadMatrix.get_identity();this._viewTransformInverse=lt.LeadMatrix.get_identity();this._scrollbarSize=lt.LeadSizeD.create(0,0);this._viewSize=lt.LeadSizeD.create(0,0);this._totalViewSize=lt.LeadSizeD.create(0,0);this._optimizedZoomOrigin=lt.LeadPointD.get_empty();this._OwnerDraw=!1;this._ImageRegionRenderMode=lt.Controls.ImageViewer._ImageRegionRenderMode_Default;this._FloaterRegionRenderMode=
lt.Controls.ImageViewer._FloaterRegionRenderMode_Default;this._FloaterOpacity=1;this._renderInvalidateRect=lt.LeadRectD.get_empty();this._DropCopyKeyState=lt.Controls.ImageViewer._DropCopyKeyState_Default;this._DropMoveKeyState=lt.Controls.ImageViewer._DropMoveKeyState_Default;this._DropLinkKeyState=lt.Controls.ImageViewer._DropLinkKeyState_Default;this._AutoResetOptions=lt.Controls.ImageViewer._AutoResetOptions_Default;this._globalId=-1;this._mainDivScrollOffset=lt.LeadPointD.get_empty();this._autoScrollDivBrowserSize=
lt.LeadPointD.create(-1,-1);this._autoScrollDivTrueSize=lt.LeadPointD.create(-1,-1);this._autoScrollDivTrueBrowserRatio=lt.LeadPointD.create(1,1);this._ResizeElementForView=this._AutoCreateCanvas=this._EnableRequestAnimationFrame=!1;this._mainDivPrecisionScrollDelegateTimeout=-1;this._EraseBackgroundOnInvalidate=!0;this._RequestAnimationFrameIndex=this._DisabledRequestAnimationFrameIndex=-1;this._AllowDrop=!1;this._customDragIndex=-1;this._InterpolationRunMode=lt.Controls.ImageViewer._InterpolationRunMode_Default;
this._InterpolationMode=lt.Controls.ImageViewer._InterpolationMode_Default;this._viewElementInflationOffset=lt.LeadPointD.get_empty();if(!lt.LTHelper.supportsCanvas)throw new lt.InvalidOperationException("Canvas element is not supported by this browser");if(null==a)throw new lt.ArgumentNullException("createOptions");if(null==a.get_parentDiv()||String.compare(a.get_parentDiv().tagName,"div",!0))throw new lt.InvalidOperationException("'ImageViewerCreateOptions.ParentDiv' must be a valid DIV element in the page");
this._options=a;if(this._useElements=a.get_useElements()){if(lt.LTHelper.browser===lt.LTBrowser.android)throw new lt.InvalidOperationException("UseElements mode is not supported for Android Browser");null==a.get_elementsModeOptions()&&a.set_elementsModeOptions(new lt.Controls.ImageViewerElementsModeCreateOptions);this._useElementsOptions=a.get_elementsModeOptions().clone(!0)}else this.set_itemTextFont("12pt Arial");lt.Controls._imageViewerGroup.addViewer(this);this._globalId=lt.Controls.ImageViewer._globalCount++;
this._bindDelegates();this._jsBindDelegates();this._useElements&&(1===lt.Controls._imageViewerGroup.get_elementsModeCount()&&lt.Controls._elementsHelper.createElementsModeCommonClasses(lt.Controls.ImageViewer._StyleElementsTagIdBase),this._styleElementsPrefixTagId=lt.Controls.ImageViewer._StyleElementsTagIdBase+"_"+this._useElementsOptions.get_classPrefix(),1===lt.Controls._imageViewerGroup.prefixCount(this._useElementsOptions.get_classPrefix())&&lt.Controls._elementsHelper.createElementsModePrefixClasses(this._useElementsOptions,
this._styleElementsPrefixTagId));this.beginTransform();this._parentDiv=a.get_parentDiv();this._buildControl(a);this._ScrollOffset=lt.LeadPointD.create(0,0);this._EnableRequestAnimationFrame=!1;this._initialize();a=a.get_viewLayout();null==a&&(a=new lt.Controls.ImageViewerSingleViewLayout,this.get_items().add(new lt.Controls.ImageViewerItem));this._viewLayout=a;this._internalEndTransform(!1,!1);lt.Controls._windowViewerHelper.add(this);this._updateViewElementDisplay();this.updateStyles();this._InterpolatorManager=
new lt.Controls._interpolatorManager(this)};lt.Controls.ImageViewer.disableSync=function(a){lt.Controls.ImageViewer.isSyncDisabled(a)||lt.Controls.ImageViewerSyncManager.beginSync(a)};lt.Controls.ImageViewer.isSyncDisabled=function(a){return lt.Controls.ImageViewerSyncManager.isSyncing(a)};lt.Controls.ImageViewer.enableSync=function(a){lt.Controls.ImageViewer.isSyncDisabled(a)&&lt.Controls.ImageViewerSyncManager.endSync(a)};lt.Controls.ImageViewer.sync=function(a){lt.Controls.ImageViewerSyncManager.sync(a)};
lt.Controls.ImageViewer.getSynced=function(a){return lt.Controls.ImageViewerSyncManager.getSynced(a)};lt.Controls.ImageViewer.unsync=function(a){lt.Controls.ImageViewerSyncManager.unsync(a)};lt.Controls.ImageViewer.unsyncGroup=function(a){return lt.Controls.ImageViewerSyncManager.unsyncGroup(a)};lt.Controls.ImageViewer._checkWinRTKernelExpired=function(){if("function"==typeof Leadtools&&"function"==typeof Leadtools.RasterSupport&&Leadtools.RasterSupport.kernelExpired)throw new Leadtools.RasterException(Leadtools.RasterExceptionCode.kernelExpired);
};lt.Controls.ImageViewer._showError=function(a){if(!lt.Controls.ImageViewer._9823H1){lt.Controls.ImageViewer._9823H1=!0;for(var b=new ss.StringBuilder,c=ss.IEnumerator.getEnumerator(lt.Controls.ImageViewer._errorMsg);c.moveNext();)b.append(String.fromCharCode([c.current^77]));a?Windows.UI.Popups.MessageDialog(b.toString()).showAsync():("http:"===window.location.protocol||"https:"===window.location.protocol||lt.LTHelper.OS===lt.LTOS.android||lt.LTHelper.OS===lt.LTOS.iOS||lt.LTHelper.OS===lt.LTOS.windows&&
lt.LTHelper.device===lt.LTDevice.mobile)&&alert(b.toString())}};lt.Controls.ImageViewer._setMaximumBrowserScroll=function(){switch(lt.LTHelper.browser){case lt.LTBrowser.chrome:case lt.LTBrowser.opera:case lt.LTBrowser.safari:lt.Controls.ImageViewer._maximumBrowserScroll=33E6;break;case lt.LTBrowser.firefox:lt.Controls.ImageViewer._maximumBrowserScroll=17E6;break;default:lt.Controls.ImageViewer._maximumBrowserScroll=15E5}};lt.Controls.ImageViewer.get_imageProcessingLibrariesPath=function(){return lt.Controls.ImageViewer._imageProcessingLibrariesPath};
lt.Controls.ImageViewer.set_imageProcessingLibrariesPath=function(a){return lt.Controls.ImageViewer._imageProcessingLibrariesPath=a};lt.Controls.ImageViewer._getImageProcessingFile=function(a,b){return null==a?b:a.endsWith("/")||a.endsWith("\\")?a+b:a+"/"+b};lt.Controls.ImageViewer._postRenderItemCleanup=function(a,b){b.propsChanged=!1;a._itemChanged=!1;a._itemImageChanged=!1;a._itemBackImageChanged=!1};lt.Controls.ImageViewer._rotateCoordinates=function(a,b,c){var d=Math.PI/180*c,c=Math.cos(d),d=
Math.sin(d);return lt.LeadPointD.create(c*a+d*b,c*b-d*a)};lt.Controls.ImageViewer._convertToElementCSSTransform=function(a,b){var c,b=lt.Controls.PrimitivesHelper.toRenderTransform(b);c=lt.Controls.PrimitivesHelper.toCSSTransform(b);lt.Controls.ImageViewer._setElementCSSTransform(a,c)};lt.Controls.ImageViewer._setElementCSSTransform=function(a,b){void 0!=a.style.transform?a.style.transform=b:void 0!=a.style.webkitTransform?a.style.webkitTransform=b:void 0!=a.style.msTransform&&(a.style.msTransform=
b)};lt.Controls.ImageViewer.getDestinationRectangle=function(a,b,c,d,e,f){lt.Controls.ControlsHelper.checkIfNull(c,"destinationRect");if(0>a)throw new lt.ArgumentOutOfRangeException("sourceWidth",a,"Must be a value greater than or equal to 0");if(0>b)throw new lt.ArgumentOutOfRangeException("sourceHeight",b,"Must be a value greater than or equal to 0");if(!a||!b||c.get_isEmpty())return lt.LeadRectD.create(0,0,0,0);var g=c.get_width(),h=c.get_height();2===d&&(d=a>g||b>h?3:0);var i=1;switch(d){case 3:g>
h?(i=g/a,lt.Controls.PrimitivesHelper.toInt(i*b)>h&&(i=h/b)):(i=h/b,lt.Controls.PrimitivesHelper.toInt(i*a)>g&&(i=g/a));a=lt.Controls.PrimitivesHelper.toInt(i*a);b=lt.Controls.PrimitivesHelper.toInt(i*b);break;case 4:i=g/a;a=lt.Controls.PrimitivesHelper.toInt(i*a);b=lt.Controls.PrimitivesHelper.toInt(i*b);break;case 5:i=h/b;a=lt.Controls.PrimitivesHelper.toInt(i*a);b=lt.Controls.PrimitivesHelper.toInt(i*b);break;case 6:a=lt.Controls.PrimitivesHelper.toInt(g),b=lt.Controls.PrimitivesHelper.toInt(h)}d=
0;switch(e){case 1:d=lt.Controls.PrimitivesHelper.toInt((g-a)/2);break;case 2:g>a&&(d=lt.Controls.PrimitivesHelper.toInt(g-a))}e=0;switch(f){case 1:e=lt.Controls.PrimitivesHelper.toInt((h-b)/2);break;case 2:h>b&&(e=lt.Controls.PrimitivesHelper.toInt(h-b))}return lt.LeadRectD.create(c.get_x()+d,c.get_y()+e,a,b)};lt.Controls.ImageViewer.getScaleFactors=function(a,b,c){lt.Controls.ControlsHelper.checkIfNull(a,"destinationSize");lt.Controls.ControlsHelper.checkIfNull(b,"sourceSize");2===c&&(c=b.get_width()>
a.get_width()||b.get_height()>a.get_height()?3:0);var d=1,e=1;switch(c){case 3:0<b.get_width()&&0<b.get_height()&&(0<a.get_width()&&0<a.get_height()?(a.get_width()>a.get_height()?(c=a.get_width()/b.get_width(),c*b.get_height()>a.get_height()&&(c=a.get_height()/b.get_height())):(c=a.get_height()/b.get_height(),c*b.get_width()>a.get_width()&&(c=a.get_width()/b.get_width())),e=d=c):e=d=0);break;case 4:0<b.get_width()&&0<b.get_height()&&(e=d=c=a.get_width()/b.get_width());break;case 5:0<b.get_width()&&
0<b.get_height()&&(e=d=c=a.get_height()/b.get_height());break;case 6:0<b.get_width()&&0<b.get_height()&&(d=a.get_width()/b.get_width(),e=a.get_height()/b.get_height())}return lt.LeadSizeD.create(d,e)};lt.Controls.ImageViewer.prototype={_initialize:function(){this._findScreenDpi();this._items=new lt.Controls.ImageViewerItems(this);this._initializeInteractiveModes();this._createInteractiveService()},_cleanUp:function(a){a&&(lt.Controls.ImageViewerSyncManager.unsync(this),this.get_interactiveModes()._stopAll(),
this.beginTransform(),this._deInitializeInteractiveModes(),lt.Controls.ControlRegionRenderer.get_instance()._removeTarget(this),this._items.clear(),this._internalEndTransform(!1,!1),null!=this._interactiveService&&(a=this._interactiveService,this.set_interactiveService(null),a.dispose()))},_bindDelegates:function(){this._animateRegions_Delegate=ss.Delegate.create(this,this._animateRegions)},add_propertyChanged:function(a){this.__propertyChanged=ss.Delegate.combine(this.__propertyChanged,a)},remove_propertyChanged:function(a){this.__propertyChanged=
ss.Delegate.remove(this.__propertyChanged,a)},__propertyChanged_handler_get:function(){null==this.__propertyChanged_handler&&(this.__propertyChanged_handler=ss.EventHandler.create(this,this.add_propertyChanged,this.remove_propertyChanged));return this.__propertyChanged_handler},__propertyChanged:null,__propertyChanged_handler:null,onPropertyChanged:function(a){a=new lt.Controls.PropertyChangedEventArgs(a);null!=this.__propertyChanged&&this.__propertyChanged(this,a)},get_syncId:function(){return this._syncId},
_isSyncSource:!0,get_isSyncSource:function(){return this._isSyncSource},set_isSyncSource:function(a){return this._isSyncSource=a},_isSyncTarget:!0,get_isSyncTarget:function(){return this._isSyncTarget},set_isSyncTarget:function(a){return this._isSyncTarget=a},get_screenDpi:function(){return this._ScreenDpi.clone()},set_screenDpi:function(a){lt.Controls.ControlsHelper.checkResolution(lt.Controls.PrimitivesHelper.toLeadSizeD(a),lt.Controls.ImageViewer._ScreenDpi_Name);var b=a.get_isEmpty()?lt.LeadSizeD.create(0,
0):a;lt.LeadSizeD.equals(this._ScreenDpi,b)||(this._ScreenDpi=b.clone(),this._findScreenDpi(),this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ScreenDpi_Name));return a},get_useDpi:function(){return this._UseDpi},set_useDpi:function(a){if(this._UseDpi!==a){this._UseDpi=a;if(lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(this.get_itemSize())){this.beginTransform();for(var b=ss.IEnumerator.getEnumerator(this._items);b.moveNext();){var c=b.current;c.set_size(this.getItemImageSize(c,
this._UseDpi))}this._internalEndTransform(!0,!0)}else this.updateTransform();this.onPropertyChanged(lt.Controls.ImageViewer._UseDpi_Name)}return a},_normalizeDpi:function(a,b){var c=a.clone();lt.LeadDoubleTools.isZero(c.get_width())&&(b.get_width()?c.set_width(b.get_width()):c.set_width(this._defaultDpi.get_width()));lt.LeadDoubleTools.isZero(c.get_height())&&(b.get_height()?c.set_height(b.get_height()):c.set_height(this._defaultDpi.get_height()));return c},get_scrollMode:function(){return this._ScrollMode},
set_scrollMode:function(a){if(this._ScrollMode!==a){var b=this._ScrollMode,c=this._ScrollOffset.clone();this._ScrollMode=a;this.beginTransform();this._scrollModeChanged(b);this.endTransform();this.get__realScrollMode()||this.set_scrollOffset(c);this.onPropertyChanged(lt.Controls.ImageViewer._ScrollMode_Name)}return a},get__realScrollMode:function(){return!this._ScrollMode&&!this.get__supportsScroll()?1:this._ScrollMode},get_restrictScroll:function(){return this._RestrictScroll},set_restrictScroll:function(a){this._RestrictScroll!==
a&&(this._RestrictScroll=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._RestrictScroll_Name));return a},get__realRestrictScrollMode:function(){return 1===this._ScrollMode?this._RestrictScroll:!0},get_scrollOffset:function(){return this._ScrollOffset.clone()},set_scrollOffset:function(a){lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ScrollOffset_Name);var b=this._ScrollOffset.clone();this.get__realScrollMode()||this._variablesToScroll(a);
this._setScrollOffset(a);if(!lt.LeadPointD.equals(this._ScrollOffset,b))this.onScrollOffsetChanged(lt.LeadEventArgs.Empty);return a},add_scrollOffsetChanged:function(a){this.__scrollOffsetChanged=ss.Delegate.combine(this.__scrollOffsetChanged,a)},remove_scrollOffsetChanged:function(a){this.__scrollOffsetChanged=ss.Delegate.remove(this.__scrollOffsetChanged,a)},__scrollOffsetChanged_handler_get:function(){null==this.__scrollOffsetChanged_handler&&(this.__scrollOffsetChanged_handler=ss.EventHandler.create(this,
this.add_scrollOffsetChanged,this.remove_scrollOffsetChanged));return this.__scrollOffsetChanged_handler},__scrollOffsetChanged:null,__scrollOffsetChanged_handler:null,onScrollOffsetChanged:function(a){null!=this.__scrollOffsetChanged&&this.__scrollOffsetChanged(this,a)},get_maximumScrollSize:function(){return this._maximumScrollSize},restrictScrollOffset:function(a){var b=a;if(2===this._ScrollMode)b=lt.LeadPointD.create(0,0);else if(this.get_restrictScroll()||!this.get_scrollMode())b=this._forceRestrictScrollOffset(a);
return b},_forceRestrictScrollOffset:function(a){a=a.clone();0>a.get_x()&&a.set_x(0);a.get_x()>this._maximumScrollSize.get_width()&&a.set_x(this._maximumScrollSize.get_width());0>a.get_y()&&a.set_y(0);a.get_y()>this._maximumScrollSize.get_height()&&a.set_y(this._maximumScrollSize.get_height());return a},_variablesToScroll:function(a){this._setNativeScrollPosition(a)},_setScrollOffset:function(a){a=this.restrictScrollOffset(a);this._updateViewTransformFromScroll(a,!lt.LeadPointD.equals(a,this._ScrollOffset))&&
(this.onTransformChanged(lt.LeadEventArgs.Empty),this.get__realScrollMode()&&this._nativeInvalidate(lt.LeadRectD.get_empty()))},_updateViewTransformFromScroll:function(a,b){var c=this._totalViewTransform.clone(),d=this._ScrollOffset.clone();c.translate(this._ScrollOffset.get_x(),this._ScrollOffset.get_y());this._ScrollOffset.set_x(a.get_x());this._ScrollOffset.set_y(a.get_y());c.translate(-this._ScrollOffset.get_x(),-this._ScrollOffset.get_y());c=this._setViewTransform(c,b);lt.LeadPointD.equals(this._ScrollOffset,
d)||(this.onScrollOffsetChanged(lt.LeadEventArgs.Empty),c=!0);return c},get_viewBorderThickness:function(){return this._ViewBorderThickness},set_viewBorderThickness:function(a){this._checkCanSet(lt.Controls.ImageViewer._ViewBorderThickness_Name);if(0>a)throw new lt.ArgumentOutOfRangeException(lt.Controls.ImageViewer._ViewBorderThickness_Name,a,"Must be a value greater than or equal to 0");this._ViewBorderThickness!==a&&(this._ViewBorderThickness=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ViewBorderThickness_Name));
return a},get_viewBorderColor:function(){return this._ViewBorderColor},set_viewBorderColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ViewBorderColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ViewBorderColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ViewBorderColor,a)||(this._ViewBorderColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._ViewBorderColor_Name));return a},get_viewMargin:function(){return this._ViewMargin.clone()},
set_viewMargin:function(a){this._checkCanSet(lt.Controls.ImageViewer._ViewMargin_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ViewMargin_Name);lt.Controls.PaddingHelper.isNotEqual(a,this._ViewMargin)&&(this._ViewMargin=a.clone(),this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ViewMargin_Name));return a},get_viewPadding:function(){return this._ViewPadding.clone()},set_viewPadding:function(a){this._checkCanSet(lt.Controls.ImageViewer._ViewPadding_Name);
lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ViewPadding_Name);lt.Controls.PaddingHelper.isNotEqual(a,this._ViewPadding)&&(this._ViewPadding=a.clone(),this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ViewPadding_Name));return a},get_viewDropShadow:function(){return this._ViewDropShadow.clone()},set_viewDropShadow:function(a){this._checkCanSet(lt.Controls.ImageViewer._ViewDropShadow_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ViewDropShadow_Name);
this._ViewDropShadow=a.clone();this.onPropertyChanged(lt.Controls.ImageViewer._ViewDropShadow_Name);this._nativeInvalidate(lt.LeadRectD.get_empty());return a},get_itemBorderThickness:function(){return this._ItemBorderThickness},set_itemBorderThickness:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemBorderThickness_Name);if(0>a)throw new lt.ArgumentOutOfRangeException(lt.Controls.ImageViewer._ItemBorderThickness_Name,a,"Must be a value greater than or equal to 0");this._ItemBorderThickness!==
a&&(this._ItemBorderThickness=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemBorderThickness_Name));return a},get_itemBorderColor:function(){return this._ItemBorderColor},set_itemBorderColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemBorderColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemBorderColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ItemBorderColor,a)||(this._ItemBorderColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),
this.onPropertyChanged(lt.Controls.ImageViewer._ItemBorderColor_Name));return a},get_itemMargin:function(){return this._ItemMargin.clone()},set_itemMargin:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemMargin_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemMargin_Name);lt.Controls.PaddingHelper.isNotEqual(a,this._ItemMargin)&&(this._ItemMargin=a.clone(),this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemMargin_Name));return a},
get_itemPadding:function(){return this._ItemPadding.clone()},set_itemPadding:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemPadding_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemPadding_Name);lt.Controls.PaddingHelper.isNotEqual(a,this._ItemPadding)&&(this._ItemPadding=a.clone(),this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemPadding_Name));return a},get_imageBorderThickness:function(){return this._ImageBorderThickness},
set_imageBorderThickness:function(a){this._checkCanSet(lt.Controls.ImageViewer._ImageBorderThickness_Name);if(0>a)throw new lt.ArgumentOutOfRangeException(lt.Controls.ImageViewer._ImageBorderThickness_Name,a,"Must be a value greater than or equal to 0");this._ImageBorderThickness!==a&&(this._ImageBorderThickness=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ImageBorderThickness_Name));return a},get_imageBorderColor:function(){return this._ImageBorderColor},
set_imageBorderColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ImageBorderColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ImageBorderColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ImageBorderColor,a)||(this._ImageBorderColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._ImageBorderColor_Name));return a},get_imageDropShadow:function(){return this._ImageDropShadow.clone()},set_imageDropShadow:function(a){this._checkCanSet(lt.Controls.ImageViewer._ImageDropShadow_Name);
lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ImageDropShadow_Name);this._ImageDropShadow=a.clone();this.onPropertyChanged(lt.Controls.ImageViewer._ImageDropShadow_Name);this._nativeInvalidate(lt.LeadRectD.get_empty());return a},get_itemSpacing:function(){return this._ItemSpacing.clone()},set_itemSpacing:function(a){lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemSpacing_Name);lt.LeadSizeD.equals(a,this._ItemSpacing)||(this._ItemSpacing=lt.Controls.PrimitivesHelper.cloneOrZeroSize(a),
this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemSpacing_Name));return a},get_itemBackgroundColor:function(){return this._ItemBackgroundColor},set_itemBackgroundColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemBackgroundColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemBackgroundColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ItemBackgroundColor,a)||(this._ItemBackgroundColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),
this.onPropertyChanged(lt.Controls.ImageViewer._ItemBackgroundColor_Name));return a},get_imageBackgroundColor:function(){return this._ImageBackgroundColor},set_imageBackgroundColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ImageBackgroundColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ImageBackgroundColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ImageBackgroundColor,a)||(this._ImageBackgroundColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),
this.onPropertyChanged(lt.Controls.ImageViewer._ImageBackgroundColor_Name));return a},get_selectedItemBorderColor:function(){return this._SelectedItemBorderColor},set_selectedItemBorderColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._SelectedItemBorderColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._SelectedItemBorderColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._SelectedItemBorderColor,a)||(this._SelectedItemBorderColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),
this.onPropertyChanged(lt.Controls.ImageViewer._SelectedItemBorderColor_Name));return a},get_selectedItemBackgroundColor:function(){return this._SelectedItemBackgroundColor},set_selectedItemBackgroundColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._SelectedItemBackgroundColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._SelectedItemBackgroundColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._SelectedItemBackgroundColor,a)||(this._SelectedItemBackgroundColor=
a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._SelectedItemBackgroundColor_Name));return a},get_hoveredItemBorderColor:function(){return this._HoveredItemBorderColor},set_hoveredItemBorderColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._HoveredItemBorderColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._HoveredItemBorderColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._HoveredItemBorderColor,a)||(this._HoveredItemBorderColor=
a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._HoveredItemBorderColor_Name));return a},get_hoveredItemBackgroundColor:function(){return this._HoveredItemBackgroundColor},set_hoveredItemBackgroundColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._HoveredItemBackgroundColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._HoveredItemBackgroundColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._HoveredItemBackgroundColor,
a)||(this._HoveredItemBackgroundColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._HoveredItemBackgroundColor_Name));return a},get_activeItemBorderColor:function(){return this._ActiveItemBorderColor},set_activeItemBorderColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ActiveItemBorderColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ActiveItemBorderColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ActiveItemBorderColor,
a)||(this._ActiveItemBorderColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._ActiveItemBorderColor_Name));return a},get_activeItemBackgroundColor:function(){return this._ActiveItemBackgroundColor},set_activeItemBackgroundColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ActiveItemBackgroundColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ActiveItemBackgroundColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ActiveItemBackgroundColor,
a)||(this._ActiveItemBackgroundColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._ActiveItemBackgroundColor_Name));return a},_itemTextFontHeightPixels:0,_ItemTextFont:null,get_itemTextFont:function(){return this._ItemTextFont},set_itemTextFont:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemTextFont_Name);if(this._ItemTextFont!==a){this._ItemTextFont=a;if(null!=this._ItemTextFont){var b=lt.Controls._textSizeHelper.get_instance(),c=lt.Controls._textSizeHelper.get_instance().start();
try{this._itemTextFontHeightPixels=b.measureHeight(c,this._ItemTextFont)}finally{b.stop(c)}}else this._itemTextFontHeightPixels=0;null!=this._viewLayout&&(this.updateTransform(),this.onPropertyChanged(lt.Controls.ImageViewer._ItemTextFont_Name))}return a},get_itemSize:function(){return this._ItemSize.clone()},set_itemSize:function(a){lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemSize_Name);if(0>a.get_width()||0>a.get_height())throw new lt.ArgumentOutOfRangeException(lt.Controls.ImageViewer._ItemSize_Name,
a,"Must have a width and height values greater than or equal to 0");if(!lt.LeadSizeD.equals(this._ItemSize,a)){this._ItemSize=a.clone();if(!this._ItemSize.get_isEmpty()){this.beginTransform();for(var b=ss.IEnumerator.getEnumerator(this._items);b.moveNext();)b.current.set_size(this._ItemSize.clone());this.endTransform()}this.onPropertyChanged(lt.Controls.ImageViewer._ItemSize_Name)}return a},get_itemSizeMode:function(){return this._ItemSizeMode},set_itemSizeMode:function(a){this._ItemSizeMode=a;this.beginTransform();
for(var b=ss.IEnumerator.getEnumerator(this._items);b.moveNext();){var c=b.current;c.zoom(this._ItemSizeMode,1,c.get_origin())}this._internalEndTransform(!0,!0);this.onPropertyChanged(lt.Controls.ImageViewer._ItemSizeMode_Name);return a},get_resizeOnTransform:function(){return this._ResizeOnTransform},set_resizeOnTransform:function(a){var b=this._ResizeOnTransform;this._ResizeOnTransform!==a&&(this._ResizeOnTransform=a);this._setItemsValue(b,a,lt.Controls.ImageViewer._ResizeOnTransform_Name,!0);return a},
get_clipImageToContent:function(){return this._ClipImageToContent},set_clipImageToContent:function(a){var b=this._ClipImageToContent;this._ClipImageToContent!==a&&(this._ClipImageToContent=a);this._setItemsValue(b,a,lt.Controls.ImageViewer._ClipImageToContent_Name,!0);return a},get_imageHorizontalAlignment:function(){return this._ImageHorizontalAlignment},set_imageHorizontalAlignment:function(a){this._ImageHorizontalAlignment!==a&&(this._ImageHorizontalAlignment=a);this._setItemsValue(this._ImageHorizontalAlignment,
a,lt.Controls.ImageViewer._ImageHorizontalAlignment_Name,!0);return a},get_imageVerticalAlignment:function(){return this._ImageVerticalAlignment},set_imageVerticalAlignment:function(a){this._ImageVerticalAlignment!==a&&(this._ImageVerticalAlignment=a);this._setItemsValue(this._ImageVerticalAlignment,a,lt.Controls.ImageViewer._ImageVerticalAlignment_Name,!0);return a},get_textHorizontalAlignment:function(){return this._TextHorizontalAlignment},set_textHorizontalAlignment:function(a){this._TextHorizontalAlignment!==
a&&(this._TextHorizontalAlignment=a);this._setItemsValue(this._TextHorizontalAlignment,a,lt.Controls.ImageViewer._TextHorizontalAlignment_Name,!0);return a},get_textVerticalAlignment:function(){return this._TextVerticalAlignment},set_textVerticalAlignment:function(a){this._TextVerticalAlignment!==a&&(this._TextVerticalAlignment=a);this._setItemsValue(this._TextVerticalAlignment,a,lt.Controls.ImageViewer._TextVerticalAlignment_Name,!0);return a},get_itemTextWrap:function(){return this._ItemTextWrap},
set_itemTextWrap:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemTextWrap_Name);this._ItemTextWrap!==a&&(this._ItemTextWrap=a,this._internalUpdateTransform(!1,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemTextWrap_Name));return a},get_itemTextTrimming:function(){return this._ItemTextTrimming},set_itemTextTrimming:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemTextTrimming_Name);this._ItemTextTrimming!==a&&(this._ItemTextTrimming=a,this._internalUpdateTransform(!1,
!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemTextTrimming_Name));return a},get_itemTextColor:function(){return this._ItemTextColor},set_itemTextColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._ItemTextColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._ItemTextColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._ItemTextColor,a)||(this._ItemTextColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._ItemTextColor_Name));
return a},get_selectedItemTextColor:function(){return this._SelectedItemTextColor},set_selectedItemTextColor:function(a){this._checkCanSet(lt.Controls.ImageViewer._SelectedItemTextColor_Name);lt.Controls.ControlsHelper.checkIfNull(a,lt.Controls.ImageViewer._SelectedItemTextColor_Name);lt.Controls.GraphicsHelper.areEqualColors(this._SelectedItemTextColor,a)||(this._SelectedItemTextColor=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._SelectedItemTextColor_Name));
return a},translateItemScaleFactor:function(a,b,c,d){if(null==a)throw new lt.ArgumentNullException("item");this._getItemIndex(a,"item");if(this.get__hasGoodScaleFactors()){var e=this._getItemScaleFactor(a,this.get_useDpi()),f=lt.LeadSizeD.create(1,1),b=b/(e.get_width()*f.get_width()),c=c/(e.get_height()*f.get_height());if(!lt.LeadDoubleTools.isZero(b)||!lt.LeadDoubleTools.isZero(c))e=lt.LeadMatrix.get_identity(),e.translate(b,c),a._setTransform(lt.LeadMatrix.multiply(a.get_transform(),e),d)}},_items:null,
get_items:function(){return this._items},add_selectedItemsChanged:function(a){this.__selectedItemsChanged=ss.Delegate.combine(this.__selectedItemsChanged,a)},remove_selectedItemsChanged:function(a){this.__selectedItemsChanged=ss.Delegate.remove(this.__selectedItemsChanged,a)},__selectedItemsChanged_handler_get:function(){null==this.__selectedItemsChanged_handler&&(this.__selectedItemsChanged_handler=ss.EventHandler.create(this,this.add_selectedItemsChanged,this.remove_selectedItemsChanged));return this.__selectedItemsChanged_handler},
__selectedItemsChanged:null,__selectedItemsChanged_handler:null,onSelectedItemsChanged:function(a){null!=this.__selectedItemsChanged&&this.__selectedItemsChanged(this,a)},_internalOnSelectedItemsChanged:function(){this.onSelectedItemsChanged(lt.LeadEventArgs.Empty)},_activeItem:null,get_activeItem:function(){return this._activeItem},set_activeItem:function(a){null!=a&&this._getItemIndex(a,"ActiveItem");a!==this._activeItem&&(this.get_useElements()&&this._updateActiveItemElement(a),this._activeItem=
a,this._internalUpdateTransform(!0,!0),this.onActiveItemChanged(lt.LeadEventArgs.Empty));return a},add_activeItemChanged:function(a){this.__activeItemChanged=ss.Delegate.combine(this.__activeItemChanged,a)},remove_activeItemChanged:function(a){this.__activeItemChanged=ss.Delegate.remove(this.__activeItemChanged,a)},__activeItemChanged_handler_get:function(){null==this.__activeItemChanged_handler&&(this.__activeItemChanged_handler=ss.EventHandler.create(this,this.add_activeItemChanged,this.remove_activeItemChanged));
return this.__activeItemChanged_handler},__activeItemChanged:null,__activeItemChanged_handler:null,onActiveItemChanged:function(a){null!=this.__activeItemChanged&&this.__activeItemChanged(this,a)},_getItemIndex:function(a,b){var c=this._items.indexOf(a);if(-1===c)throw new lt.ArgumentException("Does not belong to the items of this viewer",b);return c},get_hasItems:function(){return 0<this._items.get_count()},_insertItem:function(a){null==this.get_activeItem()&&this.set_activeItem(a);this._doInsertItem(a);
this.get_invert()&&lt.Controls._imageProcessingHelper.get_canInvert()&&lt.Controls._imageProcessingHelper.invert(a);this.get_itemSizeMode()&&a.zoom(this.get_itemSizeMode(),1,a.get_origin())},_removeItem:function(a){for(var b=!1,c=ss.IEnumerator.getEnumerator(this._interactiveModes);c.moveNext();){var d=c.current;if(d.get_item()===a&&d.get_isStarted()){b=!0;break}}b&&this._interactiveModes._resetInteractiveModes();this.get_activeItem()===a&&(b=-1,1<this._items.get_count()&&(b=(b=this._items.indexOf(a))?
b-1:1),-1!==b?this.set_activeItem(this._items.get_item(b)):this.set_activeItem(null));this._doRemoveItem(a)},getItemBounds:function(a,b){return this._doGetItemBounds(a,b,!1)},_doGetItemBounds:function(a,b,c){if(null==a)throw new lt.ArgumentNullException("item");var d=this._getItemIndex(a,"item"),e=this._items.get__props()[d],d=lt.LeadMatrix.get_identity();switch(b){case 1:e=e.viewBounds.clone();d=this._totalViewTransformInverse;break;case 2:e=e.contentBounds.clone();break;case 3:case 6:e=3===b?this.getItemImageSize(a,
!1):this.getItemFloaterSize(a,!1);lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(e)?e=lt.LeadRectD.get_empty():(e=lt.LeadRectD.create(0,0,e.get_width(),e.get_height()),c=c?this.getItemImageFloatingPointTransform(a):this.getItemImageTransform(a),6===b&&(c=lt.LeadMatrix.multiply(a.get_floaterTransform(),c)),e=c.transformRect(e),d=this._totalViewTransformInverse);break;case 4:e=e.textAreaBounds.clone();break;case 5:e=e.textBounds.clone();break;default:e=e.viewBounds.clone()}!e.get_isEmpty()&&!d.get_isIdentity()&&
(e=d.transformRect(e));return e},convertBoundsToView:function(a,b){if(a.get_isEmpty())return a;var c=a.clone();this._totalViewTransform.get_isIdentity()||(c=this._totalViewTransform.transformRect(c));b&&(c=this._intersectWithClientRectangle(c));return c},getItemViewBounds:function(a,b,c){if(null==a)throw new lt.ArgumentNullException("item");var d=this.getItemBounds(a,b);if(d.get_isEmpty())return d;3===b&&c&&a.get_clipImageToContent()&&(a=this._items.indexOf(a),a=this._items.get__props()[a],d=lt.LeadRectD.intersectRects(d,
a.contentBounds));b?d=this.convertBoundsToView(d,c):c&&(d=this._intersectWithClientRectangle(d));return d},getViewBounds:function(a,b){var c=lt.LeadRectD.create(0,0,this._viewSize.get_width(),this._viewSize.get_height()),c=this._viewTransform.transformRect(c);if(a){var c=lt.Controls.PaddingHelper.addToRectD(c,this.get_viewPadding()),d=this.get_viewBorderThickness();c.inflate(d,d);c=lt.Controls.PaddingHelper.addToRectD(c,this.get_viewMargin())}b&&(c=this._intersectWithClientRectangle(c));return c},
_intersectWithClientRectangle:function(a){var b=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle());return lt.LeadRectD.intersectRects(a,b)},getItemTransform:function(a){a=this.getItemBounds(a,0);if(a.get_isEmpty())return lt.LeadMatrix.get_identity();var b=lt.LeadMatrix.get_identity();b.translate(a.get_x(),a.get_y());return b},getItemContentTransform:function(a){a=this.getItemBounds(a,2);if(a.get_isEmpty())return lt.LeadMatrix.get_identity();var a=this._totalViewTransform.transformRect(a),
b=lt.LeadMatrix.get_identity();b.scale(this._xScaleFactor,this._yScaleFactor*this.get_aspectRatioCorrection());b.translate(a.get_x(),a.get_y());return b},getItemImageTransform:function(a){if(null==a)throw new lt.ArgumentNullException("item");a=this._getItemIndex(a,"item");return this._items.get__props()[a].imageTransform.clone()},getItemImageFloatingPointTransform:function(a){if(null==a)throw new lt.ArgumentNullException("item");a=this._getItemIndex(a,"item");return this._items.get__props()[a].imageTransformFloatingPoint.clone()},
getItemImageTransformWithDpi:function(a,b){if(null==a)throw new lt.ArgumentNullException("item");var c=this._getItemIndex(a,"item");return b?this._items.get__props()[c].imageTransform.clone():this._items.get__props()[c].imageTransformNoDpi.clone()},getItemFloaterTransform:function(a){if(null==a)throw new lt.ArgumentNullException("item");a=this._getItemIndex(a,"item");return this._items.get__props()[a].floaterTransform.clone()},_updateItemImageTransform:function(a,b,c){var d=this._items.get__props()[this._items.indexOf(a)],
e=lt.LeadMatrix.get_identity(),f=lt.LeadMatrix.get_identity(),g=lt.LeadMatrix.get_identity();if(a.get_hasImage()){var h=this.getItemBounds(a,2);if(!h.get_isEmpty()){var h=this._totalViewTransform.transformRect(h),i=this._getItemScaleFactor(a,this.get_useDpi()),j=this._getItemScaleFactor(a,!1),k,g=a.get_transform();if(6!==this.get_sizeMode()){var n=a.get_imageSize();lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(n)?(e=lt.LeadRectD.create(0,0,0,0),k=lt.LeadRectD.create(0,0,0,0)):(b&&1!==b?(c=lt.LeadRectD.create(0,
0,n.get_width()*c.get_width(),n.get_height()*c.get_height()),c=g.transformRect(c),b=lt.Controls.ImageViewer.getScaleFactors(h.get_size(),c.get_size(),b),i.set_width(i.get_width()*b.get_width()),i.set_height(i.get_height()*b.get_height()),j.set_width(j.get_width()*b.get_width()),j.set_height(j.get_height()*b.get_height()),a._setScaleFactors(b)):a._setScaleFactors(a.get_scale()),e=lt.LeadRectD.create(0,0,n.get_width()*i.get_width(),n.get_height()*i.get_height()),k=lt.LeadRectD.create(0,0,n.get_width()*
j.get_width(),n.get_height()*j.get_height()))}else e=h.clone(),k=lt.LeadRectD.create(0,0,0,0);var m=e.clone(),s=k.clone(),b=lt.LeadPointD.create(0,0),n=lt.LeadPointD.create(0,0),c=lt.LeadPointD.create(0,0);a.get_resizeOnTransform()&&(m=g.transformRect(m),b=lt.LeadPointD.create(m.get_width()-e.get_width(),m.get_height()-e.get_height()),s=g.transformRect(s),n=lt.LeadPointD.create(s.get_width()-k.get_width(),s.get_height()-k.get_height()),c=lt.LeadPointD.create(s.get_x()-m.get_x(),s.get_y()-m.get_y()));
k=this._getImageAlign(h.get_size(),m.get_size());e=g.clone();g=g.clone();e.scale(i.get_width(),i.get_height());g.scale(j.get_width(),j.get_height());e.translate(b.get_x()/2+h.get_x()+k.get_x(),b.get_y()/2+h.get_y()+k.get_y());g.translate(c.get_x()+n.get_x()/2+h.get_x()+k.get_x(),c.get_y()+n.get_y()/2+h.get_y()+k.get_y())}}else e=this.getItemContentTransform(a),g=e.clone();e.get_isIdentity()||(f=e.clone(),e=lt.Controls.PrimitivesHelper.toRenderTransform(e));g.get_isIdentity()||(g=lt.Controls.PrimitivesHelper.toRenderTransform(g));
h=!1;lt.LeadMatrix.equals(d.imageTransform,e)||(h=!0,d.imageTransform=e);lt.LeadMatrix.equals(d.imageTransformFloatingPoint,f)||(h=!0,d.imageTransformFloatingPoint=f);lt.LeadMatrix.equals(d.imageTransformNoDpi,g)||(h=!0,d.imageTransformNoDpi=g);return h=this._updateFloaterTransform(a)||h},_getImageAlign:function(a,b){b.set_width(parseInt(b.get_width()));b.set_height(parseInt(b.get_height()));var c=0,d=0,e=this.get_imageHorizontalAlignment();1===e?c=(a.get_width()-b.get_width())/2:2===e&&(c=a.get_width()-
b.get_width());e=this.get_imageVerticalAlignment();1===e?d=(a.get_height()-b.get_height())/2:2===e&&(d=a.get_height()-b.get_height());return lt.LeadPointD.create(c,d)},_updateFloaterTransform:function(a){var b=this._items.get__props()[this._items.indexOf(a)],a=lt.LeadMatrix.multiply(a.get_floaterTransform(),b.imageTransform);a.get_isIdentity()||(a=lt.Controls.PrimitivesHelper.toRenderTransform(a));return!lt.LeadMatrix.equals(b.floaterTransform,a)?(b.floaterTransform=a,!0):!1},_getItemScaleFactor:function(a,
b){if(!this.get__hasGoodScaleFactors())return lt.LeadSizeD.create(1,1);var c=1,d=1;if(b)var d=this._normalizeDpi(this._realScreenDpi,this._defaultDpi),e=this._getRealResolution(a.get_resolution()),c=d.get_width()/e.get_width(),d=d.get_height()/e.get_height();return lt.LeadSizeD.create(this._xScaleFactor*c,this._yScaleFactor*d*this.get_aspectRatioCorrection())},getFirstVisibleItemIndex:function(a){a=this.getFirstVisibleItem(a);return null==a?-1:this._items.indexOf(a)},isItemVisible:function(a,b){var c=
lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle());return this._isItemVisibleInternal(a,b,c)},_isItemVisibleInternal:function(a,b,c){a=this.getItemViewBounds(a,b,!1);return!a.get_isEmpty()&&a.intersectsWith(c)},getFirstVisibleItem:function(a){for(var b=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle()),c=ss.IEnumerator.getEnumerator(this._items);c.moveNext();){var d=c.current;if(this._isItemVisibleInternal(d,a,b))return d}return null},getLastVisibleItem:function(a){var b=
this.getFirstVisibleItem(a),c=null;if(null!=b){for(var c=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle()),d=this._items.get_count(),b=this._items.indexOf(b),e=!0,f=b+1;f<d&&e;f++)(e=this._isItemVisibleInternal(this._items.get_item(f),a,c))&&(b=f);c=this._items.get_item(b)}return c},getLastVisibleItemIndex:function(a){a=this.getLastVisibleItem(a);return null==a?-1:this._items.indexOf(a)},getLargestVisibleItemIndex:function(a){a=this.getLargestVisibleItem(a);return null==a?-1:this._items.indexOf(a)},
getLargestVisibleItem:function(a){for(var b=null,c=0,d=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle()),e=ss.IEnumerator.getEnumerator(this._items);e.moveNext();){var f=e.current,g=this.getItemViewBounds(f,a,!1);if(!g.get_isEmpty()&&g.intersectsWith(d)&&(g=lt.LeadRectD.intersectRects(g,d),!g.get_isEmpty()&&(g=g.get_width()*g.get_height(),null==b||g>c)))b=f,c=g}return b},findNearestItem:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"point");var b=this.get_items().get_count();
if(!b)return null;if(1===b)return this.get_items().get_item(0);for(var b=a.get_isEmpty()?0:a.get_x(),a=a.get_isEmpty()?0:a.get_y(),c=-1,d=0,e=this._items.get__props(),f=this._items.get_count(),g=0;g<f;g++){var h=e[g].viewContentBounds;if(!h.get_isEmpty()){if(h.contains(b,a))return Type.safeCast(this._items.get_item(g),lt.Controls.ImageViewerItem);var i=h.get_x()+h.get_width()/2,h=h.get_y()+h.get_height()/2,i=Math.sqrt(Math.pow(i-b,2)+Math.pow(h-a,2));if(-1===c||i<d)c=g,d=i}}return-1!==c?this.get_items().get_item(c):
null},hitTestItems:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"rect");if(a.get_isEmpty())return[];for(var b=[],c=this._items.get__props(),d=this._items.get_count(),e=0;e<d;e++)c[e].viewContentBounds.intersectsWith(a)&&b.add(Type.safeCast(this._items.get_item(e),lt.Controls.ImageViewerItem));return lt.Controls.ImageViewerItems._toArray(b)},hitTestItem:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"point");for(var b=a.get_isEmpty()?0:a.get_x(),a=a.get_isEmpty()?0:a.get_y(),c=this._items.get__props(),
d=this._items.get_count(),e=0;e<d;e++)if(c[e].viewContentBounds.contains(b,a))return Type.safeCast(this._items.get_item(e),lt.Controls.ImageViewerItem);return null},hitTestFloater:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"point");for(var b=a.get_isEmpty()?0:a.get_x(),a=a.get_isEmpty()?0:a.get_y(),c=this._items.get_count(),d=0;d<c;d++){var e=Type.safeCast(this._items.get_item(d),lt.Controls.ImageViewerItem);if(e.get_hasVisibleFloater()){var f=this.getItemFloaterSize(e,!1);if(!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(f)){var g=
this.convertPoint(e,0,5,lt.LeadPointD.create(b,a));if(0<=g.get_x()&&0<=g.get_y()&&g.get_x()<f.get_width()&&g.get_y()<f.get_height())return e}}}return null},hitTestItemPart:function(a,b){if(null==a)throw new lt.ArgumentNullException("item");lt.Controls.ControlsHelper.checkIfNull(b,"point");var c=this._getItemIndex(a,"item"),d=b.get_isEmpty()?0:b.get_x(),e=b.get_isEmpty()?0:b.get_y();if(!this._items.get__props()[c].viewContentBounds.contains(d,e))return 0;c=lt.LeadPointD.create(d,e);c=this._totalViewTransformInverse.transformPoint(c);
return this.getItemBounds(a,2).containsPoint(c)?(c=this.getItemImageSize(a,!1),!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(c)&&(d=this.convertPoint(a,0,4,lt.LeadPointD.create(d,e)),0<=d.get_x()&&0<=d.get_y()&&d.get_x()<c.get_width()&&d.get_y()<c.get_height())?3:2):this.getItemBounds(a,5).containsPoint(c)?5:this.getItemBounds(a,4).containsPoint(c)?4:1},convertPoints:function(a,b,c,d){if(null==d)throw new lt.ArgumentNullException("points");if(b!==c&&d.length)if(b&&c)this.convertPoints(a,b,0,d),
this.convertPoints(a,0,c,d);else{if(!b&&1===c)a=this._viewTransformInverse;else if(1===b&&!c)a=this._viewTransform;else{null==a&&(a=this.get_activeItem());if(2===c||2===b)a=this.getItemTransform(a);else if(3===c||3===b)a=this.getItemContentTransform(a);else if(4===c||4===b)a=this.getItemImageTransform(a);else if(5===c||5===b)a=this.getItemFloaterTransform(a);else throw new lt.ArgumentException("Invalid coordinate type","fromType");if(b){if(c)throw new lt.ArgumentException("Invalid coordinate type",
"fromType");}else a.get_hasInverse()&&a.invert()}a.get_isIdentity()||a.transformPoints(d)}},convertPoint:function(a,b,c,d){lt.Controls.ControlsHelper.checkIfNull(d,"point");d=[d];this.convertPoints(a,b,c,d);return d[0]},convertRect:function(a,b,c,d){lt.Controls.ControlsHelper.checkIfNull(d,"rect");var e=d.clone();if(b===c||e.get_isEmpty())return e;d=lt.LeadPointD.create(e.get_left(),e.get_top());e=lt.LeadPointD.create(e.get_right(),e.get_bottom());d=this.convertPoint(a,b,c,d);e=this.convertPoint(a,
b,c,e);return e=lt.LeadRectD.fromLTRB(d.get_x(),d.get_y(),e.get_x(),e.get_y())},gotoItemByIndex:function(a){this.gotoItem(this._items.get_item(a))},gotoItem:function(a){a=this.getItemViewBounds(a,1,!1);a.get_isEmpty()||this.scrollByRestrict(lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(a.get_left()),lt.Controls.PrimitivesHelper.toInt(a.get_top())))},ensureItemVisibleByIndex:function(a){this.ensureItemVisible(this._items.get_item(a))},ensureItemVisible:function(a){a=this.getItemViewBounds(a,
1,!1);a.get_isEmpty()||this.ensureBoundsVisible(a)},ensureBoundsVisible:function(a){var b=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle());if(!b.containsRect(a)){var c=0,d=0;a.get_left()<b.get_left()?c=a.get_left()-b.get_left():a.get_right()>b.get_right()&&(c=a.get_right()-b.get_right());a.get_top()<b.get_top()?d=a.get_top()-b.get_top():a.get_bottom()>b.get_bottom()&&(d=a.get_bottom()-b.get_bottom());this.scrollByRestrict(lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(c),
lt.Controls.PrimitivesHelper.toInt(d)))}},_viewLayout:null,get_viewLayout:function(){return this._viewLayout},set_viewLayout:function(a){if(null==a)throw new lt.ArgumentNullException("ViewLayout");if(this._viewLayout!==a){var b=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);this._viewLayout=a;this._internalUpdateTransform(!0,!0);if(this._isSyncSource&&null!=b)for(var c=0;c<b.length;c++){var d=b[c];d!==this&&d.get_isSyncTarget()&&d.set_viewLayout(a)}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)}return a},
_calculateItemSize:function(a,b,c){var d=b.get_width(),b=b.get_height();c&&(a=this._getRealResolution(a),a=this._normalizeDpi(a,this._realScreenDpi),c=this._normalizeDpi(this._realScreenDpi,this._defaultDpi),d*=c.get_width()/a.get_width(),b*=c.get_height()/a.get_height());b*=this.get_aspectRatioCorrection();return lt.LeadSizeD.create(lt.Controls.PrimitivesHelper.toInt(d),lt.Controls.PrimitivesHelper.toInt(b))},getItemImageSize:function(a,b){if(null==a)throw new lt.ArgumentNullException("item");this._getItemIndex(a,
"item");if(lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(a.get_size()))return lt.LeadSizeD.get_empty();var c=a.get_imageSize();return lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(c)?lt.LeadSizeD.get_empty():this._calculateItemSize(a.get_resolution(),c,b)},getItemFloaterSize:function(a,b){if(null==a)throw new lt.ArgumentNullException("item");this._getItemIndex(a,"item");if(lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(a.get_size()))return lt.LeadSizeD.get_empty();var c=a.get_floaterSize();return lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(c)?
lt.LeadSizeD.get_empty():this._calculateItemSize(a.get_resolution(),c,b)},_getRealResolution:function(a){return this._normalizeDpi(a,this._realScreenDpi)},add_itemChanged:function(a){this.__itemChanged=ss.Delegate.combine(this.__itemChanged,a)},remove_itemChanged:function(a){this.__itemChanged=ss.Delegate.remove(this.__itemChanged,a)},__itemChanged_handler_get:function(){null==this.__itemChanged_handler&&(this.__itemChanged_handler=ss.EventHandler.create(this,this.add_itemChanged,this.remove_itemChanged));
return this.__itemChanged_handler},__itemChanged:null,__itemChanged_handler:null,onItemChanged:function(a){null!=this.__itemChanged&&this.__itemChanged(this,a)},add_itemError:function(a){this.__itemError=ss.Delegate.combine(this.__itemError,a)},remove_itemError:function(a){this.__itemError=ss.Delegate.remove(this.__itemError,a)},__itemError_handler_get:function(){null==this.__itemError_handler&&(this.__itemError_handler=ss.EventHandler.create(this,this.add_itemError,this.remove_itemError));return this.__itemError_handler},
__itemError:null,__itemError_handler:null,onItemError:function(a){null!=this.__itemError&&this.__itemError(this,a)},_internalOnItemError:function(a){this.onItemError(a)},invalidateItemByIndex:function(a){var b=null;-1!==a&&(b=this._items.get_item(a));this.invalidateItem(b)},invalidateItem:function(a){var b;null==a?b=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle()):(b=this.getItemViewBounds(a,1,!0),b.get_isEmpty()||b.inflate(2,2),!b.get_isEmpty()&&a.get_hasVisibleFloater()&&(b=
lt.LeadRectD.unionRects(b,this.getItemViewBounds(a,6,!0))));b.get_isEmpty()||this._nativeInvalidate(b)},get_aspectRatioCorrection:function(){return this._AspectRatioCorrection},set_aspectRatioCorrection:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException(lt.Controls.ImageViewer._AspectRatioCorrection_Name,a,"Must be a value greater than 0");this._AspectRatioCorrection!==a&&(this._AspectRatioCorrection=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._AspectRatioCorrection_Name));
return a},get_viewHorizontalAlignment:function(){return this._ViewHorizontalAlignment},set_viewHorizontalAlignment:function(a){this._ViewHorizontalAlignment!==a&&(this._ViewHorizontalAlignment=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ViewHorizontalAlignment_Name));return a},get_viewVerticalAlignment:function(){return this._ViewVerticalAlignment},set_viewVerticalAlignment:function(a){this._ViewVerticalAlignment!==a&&(this._ViewVerticalAlignment=a,this._internalUpdateTransform(!0,
!1),this.onPropertyChanged(lt.Controls.ImageViewer._ViewVerticalAlignment_Name));return a},get_itemHorizontalAlignment:function(){return this._ItemHorizontalAlignment},set_itemHorizontalAlignment:function(a){this._ItemHorizontalAlignment!==a&&(this._ItemHorizontalAlignment=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemHorizontalAlignment_Name));return a},get_itemVerticalAlignment:function(){return this._ItemVerticalAlignment},set_itemVerticalAlignment:function(a){this._ItemVerticalAlignment!==
a&&(this._ItemVerticalAlignment=a,this._internalUpdateTransform(!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._ItemVerticalAlignment_Name));return a},get_flip:function(){return this._Flip},set_flip:function(a){this._Flip!==a&&(this._Flip=a,this._updateItemsTransform(!0,!1,!1),this.onPropertyChanged(lt.Controls.ImageViewer._Flip_Name));return a},get_reverse:function(){return this._Reverse},set_reverse:function(a){this._Reverse!==a&&(this._Reverse=a,this._updateItemsTransform(!1,!0,!1),this.onPropertyChanged(lt.Controls.ImageViewer._Reverse_Name));
return a},get_rotateAngle:function(){return this._RotateAngle},set_rotateAngle:function(a){if(!this.get_useElements()){for(;0>a;)a+=360;for(;360<=a;)a-=360}lt.LeadDoubleTools.areClose(this._RotateAngle,a)||(this._RotateAngle=a,this._updateItemsTransform(!1,!1,!0),this.onPropertyChanged(lt.Controls.ImageViewer._RotateAngle_Name));return a},get_invert:function(){return this._Invert},set_invert:function(a){if(this._Invert!==a){this._Invert=a;if(lt.Controls._imageProcessingHelper.get_canInvert()){var b=
!1;this.beginRender();try{for(var c=ss.IEnumerator.getEnumerator(this._items);c.moveNext();){var d=c.current;d.get_hasImage()&&(b=lt.Controls._imageProcessingHelper.invert(d)||b)}}finally{this._internalEndUpdate(b)}}this._nativeInvalidate(lt.LeadRectD.get_empty());this.onPropertyChanged(lt.Controls.ImageViewer._Invert_Name)}return a},_updateItemsTransform:function(a,b,c){var d=this.get_flip(),e=this.get_reverse(),f=this.get_rotateAngle(),g=!1;this.beginTransform();for(var h=ss.IEnumerator.getEnumerator(this._items);h.moveNext();){var i=
h.current;a&&i.get_flip()!==d&&(i.set_flip(d),g=!0);b&&i.get_reverse()!==e&&(i.set_reverse(e),g=!0);c&&i.get_rotateAngle()!==f&&(i.set_rotateAngle(f),g=!0)}this._internalEndTransform(g,g)},get_sizeMode:function(){return this._sizeMode},get_maximumScaleFactor:function(){return this._MaximumScaleFactor},set_maximumScaleFactor:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("MaximumScaleFactor",a,"Must be a value greater than 0");lt.LeadDoubleTools.areClose(this._MaximumScaleFactor,
a)||(this._MaximumScaleFactor=a,this.onPropertyChanged(lt.Controls.ImageViewer._MaximumScaleFactor_Name));return a},get_minimumScaleFactor:function(){return this._MinimumScaleFactor},set_minimumScaleFactor:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("MinimumScaleFactor",a,"Must be a value greater than 0");lt.LeadDoubleTools.areClose(this._MinimumScaleFactor,a)||(this._MinimumScaleFactor=a,this.onPropertyChanged(lt.Controls.ImageViewer._MinimumScaleFactor_Name));
return a},_zoomValue:1,_xScaleFactor:1,get_xScaleFactor:function(){return this._xScaleFactor},_yScaleFactor:1,get_yScaleFactor:function(){return this._yScaleFactor},get_scaleFactor:function(){return Math.max(this._xScaleFactor,this._yScaleFactor)},_needTransformChanged:!1,add_transformChanged:function(a){this.__transformChanged=ss.Delegate.combine(this.__transformChanged,a)},remove_transformChanged:function(a){this.__transformChanged=ss.Delegate.remove(this.__transformChanged,a)},__transformChanged_handler_get:function(){null==
this.__transformChanged_handler&&(this.__transformChanged_handler=ss.EventHandler.create(this,this.add_transformChanged,this.remove_transformChanged));return this.__transformChanged_handler},__transformChanged:null,__transformChanged_handler:null,onTransformChanged:function(a){this._needTransformChanged=!1;null!=this.__transformChanged&&this.__transformChanged(this,a)},beginUpdate:function(){this.beginTransform()},endUpdate:function(){this.endTransform()},_transformCounter:0,beginTransform:function(){this._transformCounter++},
endTransform:function(){this._internalEndTransform(!0,!0)},_clientSizeTransformCounter:0,_internalEndTransform:function(a,b){if(!this._transformCounter)throw new lt.InvalidOperationException("'EndTransform' called without a matching 'BeginTransform'");this._transformCounter--;a&&!this._transformCounter&&this._internalUpdateTransform(b,!0)},updateTransform:function(){this._internalUpdateTransform(!0,!0)},_doOnSizeChanged:function(){this.disableTransitions();this._internalUpdateTransform(!0,!0);this.enableTransitions()},
get_canTransform:function(){return!this._transformCounter},get_viewTransform:function(){return this._viewTransform.clone()},get__hasGoodScaleFactors:function(){return!lt.LeadDoubleTools.isZero(this._xScaleFactor)&&!lt.LeadDoubleTools.isZero(this._yScaleFactor)},_setViewTransform:function(a,b){var c=!1;lt.LeadMatrix.equals(a,this._totalViewTransform)||(this._totalViewTransform=a.clone(),this._totalViewTransformInverse=this._totalViewTransform.clone(),this._totalViewTransformInverse.get_hasInverse()&&
this._totalViewTransformInverse.invert(),c=!0);var d=new lt.LeadMatrix;this.get__hasGoodScaleFactors()&&d.scale(this._xScaleFactor,this._yScaleFactor*this.get_aspectRatioCorrection());d=lt.LeadMatrix.multiply(d,this._totalViewTransform);if(c||!lt.LeadMatrix.equals(d,this._viewTransform))this._viewTransform=d.clone(),this._viewTransformInverse=this._viewTransform.clone(),this._viewTransformInverse.get_hasInverse()&&this._viewTransformInverse.invert(),c=!0;b&&(this._updateProps(),this._callInterpolatorsTransformChanged());
return c},_updateProps:function(){var a=this.get_viewPadding(),b=this.get_viewMargin(),c=this.get_viewBorderThickness();b.get_left();a.get_left();b.get_top();a.get_top();a.get_right();b.get_right();a.get_bottom();b.get_bottom();var a=this.get_itemMargin(),b=this.get_itemBorderThickness(),d=this.get_itemPadding(),e=a.get_left()+b+d.get_left(),f=a.get_top()+b+d.get_top(),g=d.get_right()+b+a.get_right(),d=d.get_bottom()+b+a.get_bottom(),h=this._items,i=h.get__props(),j=h.get_count(),k=lt.LeadSizeD.create(this._xScaleFactor,
this._yScaleFactor*this.get_aspectRatioCorrection()),n=lt.Controls._textSizeHelper.get_instance(),m=n.start(),s=lt.LeadRectD.get_empty(),l=lt.LeadPointD.get_empty(),o=lt.LeadRectD.get_empty(),r=lt.LeadPointD.get_empty(),q=null,u=lt.LeadRectD.get_empty(),w=!1;try{for(var A=0;A<j;A++){q=i[A];u=q.bounds;w=!1;if(u.get_isEmpty())q.contentBounds=s,q.itemElementOffset=l,q.viewBounds=s,q.viewContentBounds=s,q.textAreaBounds=s,q.textBounds=s,q.imageTransform=lt.LeadMatrix.get_identity(),q.imageTransformFloatingPoint=
lt.LeadMatrix.get_identity(),q.imageTransformNoDpi=lt.LeadMatrix.get_identity(),q.floaterTransform=lt.LeadMatrix.get_identity();else{u=lt.Controls.PrimitivesHelper.toLeadRectD(lt.Controls.PrimitivesHelper.toLeadRect(u));o=lt.LeadRectD.fromLTRB(u.get_x()+e,u.get_y()+f,u.get_right()-g,u.get_bottom()-d);lt.LeadRectD.equals(o,q.contentBounds)||(q.contentBounds=o,w=!0);var x=-(b/2)+c/2,r=lt.LeadPointD.create(e+x,f+x);lt.LeadPointD.equals(r,q.itemElementOffset)||(q.itemElementOffset=r,w=!0);o=this._totalViewTransform.transformRect(u);
lt.LeadRectD.equals(o,q.viewBounds)||(q.viewBounds=o,w=!0);o=lt.Controls.PaddingHelper.removeFromRectD(q.viewBounds,a);lt.LeadRectD.equals(o,q.viewContentBounds)||(q.viewContentBounds=o,w=!0);var z=Type.safeCast(h.get_item(A),lt.Controls.ImageViewerItem),w=this._updateTextBounds(n,m,z,q)||w,w=this._updateItemImageTransform(z,z.get_sizeMode(),k)||w}q.propsChanged=w||q.propsChanged}}finally{n.stop(m)}},_updateTextBounds:function(a,b,c,d){var e=this.get_itemTextFont();if(null==e)return d.textAreaBounds!==
lt.LeadRectD.get_empty()||d.textBounds!==lt.LeadRectD.get_empty()?(d.textAreaBounds=lt.LeadRectD.get_empty(),d.textBounds=lt.LeadRectD.get_empty(),!0):!1;var f=this.getItemBounds(c,2);if(f.get_isEmpty())return d.textAreaBounds!==lt.LeadRectD.get_empty()||d.textBounds!==lt.LeadRectD.get_empty()?(d.textAreaBounds=lt.LeadRectD.get_empty(),d.textBounds=lt.LeadRectD.get_empty(),!0):!1;var g=this.get_itemPadding(),f=lt.LeadRectD.fromLTRB(f.get_left()-g.get_left(),f.get_top()-g.get_top(),f.get_right()+g.get_right(),
f.get_bottom()+g.get_bottom()),h=lt.LeadRectD.create(f.get_x(),f.get_y(),f.get_width(),f.get_height()),i=c.get_textVerticalAlignment(),j=c.get_textHorizontalAlignment();1===i?(h.set_y(f.get_y()+g.get_top()),h.set_height(f.get_height()-g.get_top()-g.get_bottom())):2===i?(h.set_y(f.get_bottom()-g.get_bottom()),h.set_height(g.get_bottom())):(h.set_y(f.get_y()),h.set_height(g.get_top()));f=!1;lt.LeadRectD.equals(d.textAreaBounds,h)||(d.textAreaBounds=h,f=!0);var g=c.get_text(),k=lt.LeadRectD.get_empty();
String.isNullOrEmpty(g)||(c=lt.LeadSizeD.get_empty(),c=a.getSize(b,g,e,this._itemTextFontHeightPixels,h,this.get_itemTextWrap(),this.get_itemTextTrimming()),!c.get_isEmpty()&&0<c.get_width()&&0<c.get_height()&&(a=0,b=c.get_height(),1===i?a=(h.get_height()-b)/2:2===i&&(a=h.get_height()-b),k=lt.LeadRectD.create(h.get_x(),h.get_y()+a,c.get_width(),c.get_height()),1===j?k.set_x(k.get_x()+(h.get_width()-k.get_width())/2):2===j&&k.set_x(k.get_x()+(h.get_width()-k.get_width()))));lt.LeadRectD.equals(d.textBounds,
k)||(d.textBounds=k,f=!0);return f},get_viewSize:function(){return lt.Controls.PrimitivesHelper.toLeadSize(this._viewSize)},_internalUpdateTransform:function(a,b){if(this.get_canTransform()){this._transformCounter++;var c=!1,d=lt.LeadSizeD.create(0,0),e=lt.LeadRectD.get_empty(),f=this.get_aspectRatioCorrection(),g=!1;if(this.get_hasItems()){e=this._getClientRectangle();if(1>e.get_width()||1>e.get_height()){this._transformCounter--;return}for(var g=this.get_viewMargin(),h=this.get_viewBorderThickness(),
i=this.get_viewPadding(),j=lt.LeadRectD.fromLTRB(e.get_left()+g.get_left()+h+i.get_left(),e.get_top()+g.get_top()+h+i.get_top(),e.get_right()-(g.get_right()+h+i.get_right()),e.get_bottom()-(g.get_bottom()+h+i.get_bottom())),k=this._items,d=k.get__props(),k=k.get_count(),n=Array(k),m=0;m<k;m++)n[m]=lt.LeadRectD.get_empty();var m=1,s=0,l=this.get_sizeMode();if(l){this._viewLayout.updateTransform(this,1,1*f,l,lt.LeadRectD.get_empty(),n);var o=this.get_itemMargin(),r=this.get_itemPadding(),q=this.get_itemBorderThickness(),
u=o.get_left()+o.get_right()+r.get_left()+r.get_right()+2*q,r=o.get_top()+o.get_bottom()+r.get_top()+r.get_bottom()+2*q,u=j.get_width()-u*this._viewLayout.get_sizeModeWidthItemCount()-this.get_itemSpacing().get_width()*(this._viewLayout.get_sizeModeWidthItemCount()-1),o=this._viewLayout.get_sizeModeWidth(),r=j.get_height()-r*this._viewLayout.get_sizeModeHeightItemCount()-this.get_itemSpacing().get_height()*(this._viewLayout.get_sizeModeHeightItemCount()-1),q=this._viewLayout.get_sizeModeHeight();
0<o&&0<q&&0<u&&0<r?(2===l&&(l=o>u||q>r?3:0),4===l?m=u/o:5===l?m=r/q:3===l?u>r?(m=u/o,m*q>r&&(m=r/q)):(m=r/q,m*o>u&&(m=u/o)):6===l&&(m=u/o,s=r/q)):m=0}s||(s=m);this._xScaleFactor=this._zoomValue*m;this._yScaleFactor=this._zoomValue*s;0>=this._xScaleFactor&&(this._xScaleFactor=0);0>=this._yScaleFactor&&(this._yScaleFactor=0);this._viewLayout.updateTransform(this,this._xScaleFactor,this._yScaleFactor,0,j,n);j=lt.LeadRectD.get_empty();for(m=0;m<k;m++)s=n[m],l=d[m],l.propsChanged=!lt.LeadRectD.equals(l.bounds,
s)||l.propsChanged,d[m].bounds=s,j=lt.LeadRectD.unionRects(j,s);d=!j.get_isEmpty()?lt.LeadSizeD.create(j.get_width(),j.get_height()):lt.LeadSizeD.create(0,0);lt.LeadSizeD.equals(this._totalViewSize,d)||(c=!0,this._totalViewSize=d);d=lt.LeadSizeD.create(g.get_left()+h+i.get_left()+this._totalViewSize.get_width()+i.get_right()+h+g.get_right(),g.get_top()+h+i.get_top()+this._totalViewSize.get_height()+i.get_bottom()+h+g.get_bottom());k=lt.LeadMatrix.get_identity();n=lt.LeadPointD.create(0,0);e.get_width()>
d.get_width()&&(j=this.get_viewHorizontalAlignment(),1===j?n.set_x((e.get_width()-d.get_width())/2):2===j&&n.set_x(e.get_width()-d.get_width()));e.get_height()>d.get_height()&&(j=this.get_viewVerticalAlignment(),1===j?n.set_y((e.get_height()-d.get_height())/2):2===j&&n.set_y(e.get_height()-d.get_height()));k.translate(n.get_x()+g.get_left()+h+i.get_left(),n.get_y()+g.get_top()+h+i.get_top());k=lt.Controls.PrimitivesHelper.toRenderTransform(k);c=this._setViewTransform(k,!1)||c;g=!0}else this._totalViewSize=
lt.LeadSizeD.create(0,0),c=this._setViewTransform(lt.LeadMatrix.get_identity(),!0),this._hideNativeScrollbars();if(this.get__hasGoodScaleFactors()){if(this._viewSize=lt.LeadSizeD.create(this._totalViewSize.get_width()/this._xScaleFactor,this._totalViewSize.get_height()/this._yScaleFactor*f),e=this._getClientRectangle(),this._maximumScrollSize=lt.LeadSizeD.create(Math.max(0,lt.Controls.PrimitivesHelper.toInt(d.get_width()-e.get_width())),Math.max(0,lt.Controls.PrimitivesHelper.toInt(d.get_height()-
e.get_height()))),this._setNativeScrollSize(lt.Controls.PrimitivesHelper.toLeadSize(d),0<this._maximumScrollSize.get_width(),0<this._maximumScrollSize.get_height())&&this._updateMainDivSize(),f=this._getClientRectangle(),!lt.LeadRectD.equals(e,f)){this._clientSizeTransformCounter++;if(2>this._clientSizeTransformCounter){this._transformCounter--;this._internalUpdateTransform(a,!0);return}this._clientSizeTransformCounter=0}}else this._viewSize=lt.LeadSizeD.create(0,0),this._maximumScrollSize=lt.LeadSizeD.create(0,
0),this._setNativeScrollSize(lt.LeadSizeD.create(0,0),!0,!0);this._clientSizeTransformCounter=0;e=this._ScrollOffset.clone();f=this.restrictScrollOffset(this._ScrollOffset);this._ScrollOffset=lt.LeadPointD.create(0,0);c=this._updateViewTransformFromScroll(f,g)||c;lt.LeadPointD.equals(e,this._ScrollOffset)||(this.onScrollOffsetChanged(lt.LeadEventArgs.Empty),c=!0);if(c||b)if(this.get_canRender())this.onTransformChanged(lt.LeadEventArgs.Empty);else this._needTransformChanged=!0;this._transformCounter--;
a&&(this._resizeForeCanvas(),this._nativeInvalidate(lt.LeadRectD.get_empty()))}},get_defaultZoomOrigin:function(){var a=lt.LeadPointD.create(0,0);if(!this._totalViewSize.get_isEmpty()){var b=this._getClientRectangle();1===this._ViewHorizontalAlignment?a.set_x(lt.Controls.PrimitivesHelper.toInt(b.get_width()/2)):2===this._ViewHorizontalAlignment&&a.set_x(lt.Controls.PrimitivesHelper.toInt(b.get_width()/2));1===this._ViewVerticalAlignment?a.set_y(b.get_height()/2):2===this._ViewVerticalAlignment&&a.set_y(b.get_height())}return a},
_isOptimizedZoom:!1,_optimizedZoomItem:null,_internalOptimizedZoom:function(a,b,c){var d=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);lt.LeadPointD.equals(c,this._optimizedZoomOrigin)||(this._optimizedZoomOrigin=c.clone(),this._optimizedZoomItem=this.findNearestItem(this._optimizedZoomOrigin));this._isOptimizedZoom=!0;this.zoom(a,b,c);if(this._isSyncSource&&null!=d)for(var e=0;e<d.length;e++){var f=d[e];f!==this&&f.get_isSyncTarget()&&f._internalOptimizedZoom(a,b,c)}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)},
_internalEndOptimizedZoom:function(){var a=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);this._optimizedZoomOrigin=lt.LeadPointD.get_empty();this._optimizedZoomItem=null;if(this._isSyncSource&&null!=a)for(var b=0;b<a.length;b++){var c=a[b];c!==this&&c.get_isSyncTarget()&&c._internalEndOptimizedZoom()}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)},zoom:function(a,b,c){var d=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);lt.Controls.ControlsHelper.checkIfNull(c,"origin");
if(lt.LeadDoubleTools.isNaN(b)||lt.LeadDoubleTools.isZero(b)||0>b)throw new lt.ArgumentOutOfRangeException("zoomValue",b,"Must be a value greater than 0");var e=Math.max(this.get_minimumScaleFactor(),Math.min(this.get_maximumScaleFactor(),b)),f=!1;this.get_useElements()&&!a&&(f=!0,this.disableTransitions());this.beginRender();try{var g=c.clone(),h;this._isOptimizedZoom?(this._isOptimizedZoom=!1,h=this._optimizedZoomItem):h=this.findNearestItem(g);var i=null!=h?4:1,j=this.convertPoint(h,0,i,lt.Controls.PrimitivesHelper.toLeadPointD(g)),
k=this._sizeMode;if(a)this._setZoomValue(e),this._setSizeMode(a,1!==k),this.set_scrollOffset(lt.LeadPointD.create(0,0));else{if(4===this._sizeMode||1===this._sizeMode||2===this._sizeMode||5===this._sizeMode||3===this._sizeMode||6===this._sizeMode)this._sizeMode=0;this._setZoomValue(e)}var n=this.convertPoint(h,i,0,j),m=lt.LeadPointD.create(n.get_x()-g.get_x(),n.get_y()-g.get_y());this.scrollBy(lt.Controls.PrimitivesHelper.toLeadPoint(m))}finally{this.endRender(),f&&this.enableTransitions()}if(this._isSyncSource&&
null!=d)for(e=0;e<d.length;e++)f=d[e],f!==this&&f.get_isSyncTarget()&&f.zoom(a,b,c);lt.Controls.ImageViewerSyncManager.endSync(this._syncId)},_setSizeMode:function(a,b){this._sizeMode!==a&&(this._sizeMode=a,b&&1===this._sizeMode&&1!==this._zoomValue&&(this._zoomValue=1),this._internalUpdateTransform(!0,!1))},_setZoomValue:function(a){var b=!1;this._zoomValue!==a&&(this._zoomValue=a,b=!0);1===this._zoomValue&&!this._sizeMode?(this._sizeMode=1,b=!0):1!==this._zoomValue&&1===this._sizeMode&&(this._sizeMode=
0,b=!0);b&&this._internalUpdateTransform(!0,!1)},scrollBy:function(a){this._doScrollByRestrict(a,!1)},scrollByRestrict:function(a){this._doScrollByRestrict(a,!0)},_doScrollByRestrict:function(a,b){var c=b,d=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);lt.Controls.ControlsHelper.checkIfNull(a,"point");this.get_scrollMode()||(b=!0);if(this.get_hasItems()){var e=a.clone();lt.Controls.PrimitivesHelper.isEmptyOrZeroPoint(e)||(e.set_x(parseInt(this._ScrollOffset.get_x()+e.get_x())),e.set_y(parseInt(this._ScrollOffset.get_y()+
e.get_y())),b&&(e=this._forceRestrictScrollOffset(e)),e=this.restrictScrollOffset(e),this.set_scrollOffset(e))}if(this._isSyncSource&&null!=d)for(e=0;e<d.length;e++){var f=d[e];f!==this&&f.get_isSyncTarget()&&f._doScrollByRestrict(a,c)}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)},zoomToRect:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"rect");if(this.get_hasItems()&&!a.get_isEmpty()){var b=1,c=lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle());this.get__hasGoodScaleFactors()&&
(b=a.get_width()>=a.get_height()?c.get_width()/(a.get_width()/this._xScaleFactor):c.get_height()/(a.get_height()/this._yScaleFactor*this.get_aspectRatioCorrection()));if(!lt.LeadDoubleTools.isZero(b)&&!(0>b||b<this.get_minimumScaleFactor()||b>this.get_maximumScaleFactor())){var d=lt.LeadPointD.create(0,0);d.set_x(a.get_width()/2+a.get_left());d.set_y(a.get_height()/2+a.get_top());var c=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId),e=this.hitTestItem(lt.Controls.PrimitivesHelper.toLeadPoint(d)),
d=null!=e?this.convertPoint(e,0,3,d):this.convertPoint(null,0,1,d);this.beginRender();this.disableTransitions();try{this.beginTransform(),this._setSizeMode(0,!0),this._setZoomValue(b),this.endTransform(),d=null!=e?this.convertPoint(e,3,0,d):this.convertPoint(null,1,0,d),this.centerAtPoint(lt.Controls.PrimitivesHelper.toLeadPoint(d))}finally{this.endRender(),this.enableTransitions()}if(this._isSyncSource&&null!=c)for(b=0;b<c.length;b++)d=c[b],d!==this&&d.get_isSyncTarget()&&d.zoomToRect(a);lt.Controls.ImageViewerSyncManager.endSync(this._syncId)}}},
centerAtPoint:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"point");if(this.get_hasItems()){var a=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a),b=this._getClientRectangle(),c=lt.Controls.PrimitivesHelper.toInt((b.get_width()-this._scrollbarSize.get_width())/2),b=lt.Controls.PrimitivesHelper.toInt((b.get_height()-this._scrollbarSize.get_height())/2);a.set_x(a.get_x()-c);a.set_y(a.get_y()-b);this.scrollBy(a)}},get_ownerDraw:function(){return this._OwnerDraw},set_ownerDraw:function(a){this._OwnerDraw!==
a&&(this._OwnerDraw=a,this._nativeInvalidate(lt.LeadRectD.get_empty()),this.onPropertyChanged(lt.Controls.ImageViewer._OwnerDraw_Name));return a},get_imageRegionRenderMode:function(){return this._ImageRegionRenderMode},set_imageRegionRenderMode:function(a){this._ImageRegionRenderMode!==a&&(this._ImageRegionRenderMode=a,this._updateRegionRenderer(),this.onPropertyChanged(lt.Controls.ImageViewer._ImageRegionRenderMode_Name),this._nativeInvalidate(lt.LeadRectD.get_empty()));return a},get_floaterRegionRenderMode:function(){return this._FloaterRegionRenderMode},
set_floaterRegionRenderMode:function(a){this._FloaterRegionRenderMode!==a&&(this._FloaterRegionRenderMode=a,this._updateRegionRenderer(),this.onPropertyChanged(lt.Controls.ImageViewer._FloaterRegionRenderMode_Name),this._nativeInvalidate(lt.LeadRectD.get_empty()));return a},get_floaterOpacity:function(){return this._FloaterOpacity},set_floaterOpacity:function(a){if(lt.LeadDoubleTools.lessThan(a,0)||lt.LeadDoubleTools.greaterThan(a,1))throw new lt.ArgumentOutOfRangeException("FloaterOpacity",a,"Must be a value between 0 and 1");
lt.LeadDoubleTools.areClose(this._FloaterOpacity,a)||(this._FloaterOpacity=a);this._setItemsValue(this._FloaterOpacity,a,lt.Controls.ImageViewer._FloaterOpacity_Name,!1);return a},_updateRegionRenderer:function(){2===this.get_imageRegionRenderMode()||2===this.get_floaterRegionRenderMode()?lt.Controls.ControlRegionRenderer.get_instance()._addTarget(this,this._animateRegions_Delegate):lt.Controls.ControlRegionRenderer.get_instance()._removeTarget(this);for(var a=ss.IEnumerator.getEnumerator(this._items);a.moveNext();)this._doUpdateItemRegion(a.current);
this._updateHasAnyRegions();this._updateHasAnyFloaterRegions()},combineFloater:function(a){var b=!1;this.beginTransform();for(var c=ss.IEnumerator.getEnumerator(this._items);c.moveNext();){var d=c.current,e=lt.LeadRectD.get_empty();if(d.get_hasVisibleFloater()){for(var f=this.getItemViewBounds(d,6,!1),g=this.hitTestItems(f),g=ss.IEnumerator.getEnumerator(g);g.moveNext();){var h=g.current;h.get_hasImage()&&(b=d.combineFloater(h,!1)||b)}a&&(e=e.get_isEmpty()?lt.LeadRectD.unionRects(e,f):f,d._internalDeleteFloater(),
d.set_floaterTransform(lt.LeadMatrix.get_identity()))}e.get_isEmpty()||this._nativeInvalidate(e)}this._internalEndTransform(b,!0)},convertTransform:function(a,b,c){var d=lt.LeadRectD.get_empty(),e=lt.LeadRectD.get_empty();null!=b&&(d=this.getItemViewBounds(b,1,!1));null!=c&&(e=this.getItemViewBounds(c,1,!1));d.get_isEmpty()&&(d=lt.LeadRectD.create(0,0,0,0));e.get_isEmpty()&&(e=lt.LeadRectD.create(0,0,0,0));a=a.clone();b=d.get_x()-e.get_x();d=d.get_y()-e.get_y();a.translate(b,d);return a},_renderCounter:0,
beginRender:function(){this._renderCounter++},endRender:function(){this._internalEndUpdate(!0)},_internalEndUpdate:function(a){if(!this._renderCounter)throw new lt.InvalidOperationException("'EndRender' called without a matching 'BeginRender'");this._renderCounter--;if(!this._renderCounter&&a){lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(this._renderInvalidateRect)&&(this._renderInvalidateRect=this._getClientRectangle());if(this._needTransformChanged)this.onTransformChanged(lt.LeadEventArgs.Empty);
this._nativeInvalidate(lt.Controls.PrimitivesHelper.toLeadRectD(this._renderInvalidateRect))}},get_canRender:function(){return!this._renderCounter},_isRenderRedirected:!1,get_isRenderRedirected:function(){return this._isRenderRedirected},_renderRedirectOptions:null,add_redirectRender:function(a){this.__redirectRender=ss.Delegate.combine(this.__redirectRender,a)},remove_redirectRender:function(a){this.__redirectRender=ss.Delegate.remove(this.__redirectRender,a)},__redirectRender_handler_get:function(){null==
this.__redirectRender_handler&&(this.__redirectRender_handler=ss.EventHandler.create(this,this.add_redirectRender,this.remove_redirectRender));return this.__redirectRender_handler},__redirectRender:null,__redirectRender_handler:null,onRedirectRender:function(a){null!=this.__redirectRender&&this.__redirectRender(this,a)},add_renderError:function(a){this.__renderError=ss.Delegate.combine(this.__renderError,a)},remove_renderError:function(a){this.__renderError=ss.Delegate.remove(this.__renderError,a)},
__renderError_handler_get:function(){null==this.__renderError_handler&&(this.__renderError_handler=ss.EventHandler.create(this,this.add_renderError,this.remove_renderError));return this.__renderError_handler},__renderError:null,__renderError_handler:null,onRenderError:function(a){null!=this.__renderError&&this.__renderError(this,a)},add_preRender:function(a){this.__preRender=ss.Delegate.combine(this.__preRender,a)},remove_preRender:function(a){this.__preRender=ss.Delegate.remove(this.__preRender,
a)},__preRender_handler_get:function(){null==this.__preRender_handler&&(this.__preRender_handler=ss.EventHandler.create(this,this.add_preRender,this.remove_preRender));return this.__preRender_handler},__preRender:null,__preRender_handler:null,onPreRender:function(a){null!=this.__preRender&&this.__preRender(this,a)},add_render:function(a){this.__render=ss.Delegate.combine(this.__render,a)},remove_render:function(a){this.__render=ss.Delegate.remove(this.__render,a)},__render_handler_get:function(){null==
this.__render_handler&&(this.__render_handler=ss.EventHandler.create(this,this.add_render,this.remove_render));return this.__render_handler},__render:null,__render_handler:null,onRender:function(a){null!=this.__render&&this.__render(this,a)},add_postRender:function(a){this.__postRender=ss.Delegate.combine(this.__postRender,a)},remove_postRender:function(a){this.__postRender=ss.Delegate.remove(this.__postRender,a)},__postRender_handler_get:function(){null==this.__postRender_handler&&(this.__postRender_handler=
ss.EventHandler.create(this,this.add_postRender,this.remove_postRender));return this.__postRender_handler},__postRender:null,__postRender_handler:null,onPostRender:function(a){null!=this.__postRender&&this.__postRender(this,a);this._renderFloaters(a);this._renderRegions(a)},_animateRegions_Delegate:null,_animateRegions:function(){var a=!1,b=!1;2===this.get_imageRegionRenderMode()&&this._hasAnyRegion&&(a=!0);2===this.get_floaterRegionRenderMode()&&this._hasAnyFloaterRegions&&(b=!0);if(a||b){var c=
lt.Controls.ImageViewerRenderEventArgs.createForControl(this.get_foreCanvas());if(null!=c)try{if(a&&(this._renderRegions(c),this._regionAnimateIndex++,this._regionAnimateIndex>lt.Controls.ControlRegionRenderer.maximumAnimateIndex&&(this._regionAnimateIndex=0)),b)this._renderFloaterRegions(c),this._floaterAnimateIndex++,this._floaterAnimateIndex>lt.Controls.ControlRegionRenderer.maximumAnimateIndex&&(this._floaterAnimateIndex=0)}finally{lt.Controls.ImageViewerRenderEventArgs.destroyForControl(c)}}},
_hasAnyRegion:!1,_regionAnimateIndex:0,_hasAnyFloaterRegions:!1,_floaterAnimateIndex:0,_updateHasAnyRegions:function(){this._hasAnyRegion=!1;var a=this._items.get__props(),b=a.length;if(!(0>b))for(var c=0;c<b;c++)if(null!=a[c].region){this._hasAnyRegion=!0;break}},_updateHasAnyFloaterRegions:function(){this._hasAnyFloaterRegions=!1;for(var a=this._items.get__props(),b=this._items,c=b.get_count(),d=0;d<c&&!this._hasAnyFloaterRegions;d++)null!=a[d].floaterRegion&&Type.safeCast(b.get_item(d),lt.Controls.ImageViewerItem).get_hasVisibleFloater()&&
(this._hasAnyFloaterRegions=!0)},_renderRegions:function(a){if(this._hasAnyRegion&&!this.get_ownerDraw()&&!this._isRenderRedirected&&this.get_imageRegionRenderMode())for(var b=this._items,c=b.get_count(),d=b.get__props(),e=0;e<c;e++)if(null!=d[e].region){var f=Type.safeCast(b.get_item(e),lt.Controls.ImageViewerItem);a._setFor(f,1);this.onRenderItemRegion(a)}},_renderFloaterRegions:function(a){if(this._hasAnyFloaterRegions&&!this.get_ownerDraw()&&!this._isRenderRedirected&&this.get_floaterRegionRenderMode())for(var b=
this._items,c=b.get_count(),b=b.get__props(),d=0;d<c;d++){var e=Type.safeCast(this._items.get_item(d),lt.Controls.ImageViewerItem);null!=b[d].floaterRegion&&e.get_hasVisibleFloater()&&(a._setFor(e,1),this.onRenderItemFloaterRegion(a))}},_renderFloaters:function(a){if(!this.get_ownerDraw()&&!this._isRenderRedirected)for(var b=this._items,c=b.get_count(),d=0;d<c;d++){var e=Type.safeCast(b.get_item(d),lt.Controls.ImageViewerItem);e.get_hasVisibleFloater()&&(a._setFor(e,6),this.onRenderItemFloater(a))}},
add_preRenderItem:function(a){this.__preRenderItem=ss.Delegate.combine(this.__preRenderItem,a)},remove_preRenderItem:function(a){this.__preRenderItem=ss.Delegate.remove(this.__preRenderItem,a)},__preRenderItem_handler_get:function(){null==this.__preRenderItem_handler&&(this.__preRenderItem_handler=ss.EventHandler.create(this,this.add_preRenderItem,this.remove_preRenderItem));return this.__preRenderItem_handler},__preRenderItem:null,__preRenderItem_handler:null,onPreRenderItem:function(a){null!=this.__preRenderItem&&
this.__preRenderItem(this,a)},add_renderItem:function(a){this.__renderItem=ss.Delegate.combine(this.__renderItem,a)},remove_renderItem:function(a){this.__renderItem=ss.Delegate.remove(this.__renderItem,a)},__renderItem_handler_get:function(){null==this.__renderItem_handler&&(this.__renderItem_handler=ss.EventHandler.create(this,this.add_renderItem,this.remove_renderItem));return this.__renderItem_handler},__renderItem:null,__renderItem_handler:null,onRenderItem:function(a){null!=this.__renderItem&&
this.__renderItem(this,a)},add_postRenderItem:function(a){this.__postRenderItem=ss.Delegate.combine(this.__postRenderItem,a)},remove_postRenderItem:function(a){this.__postRenderItem=ss.Delegate.remove(this.__postRenderItem,a)},__postRenderItem_handler_get:function(){null==this.__postRenderItem_handler&&(this.__postRenderItem_handler=ss.EventHandler.create(this,this.add_postRenderItem,this.remove_postRenderItem));return this.__postRenderItem_handler},__postRenderItem:null,__postRenderItem_handler:null,
onPostRenderItem:function(a){null!=this.__postRenderItem&&this.__postRenderItem(this,a)},add_renderItemRegion:function(a){this.__renderItemRegion=ss.Delegate.combine(this.__renderItemRegion,a)},remove_renderItemRegion:function(a){this.__renderItemRegion=ss.Delegate.remove(this.__renderItemRegion,a)},__renderItemRegion_handler_get:function(){null==this.__renderItemRegion_handler&&(this.__renderItemRegion_handler=ss.EventHandler.create(this,this.add_renderItemRegion,this.remove_renderItemRegion));return this.__renderItemRegion_handler},
__renderItemRegion:null,__renderItemRegion_handler:null,onRenderItemRegion:function(a){null!=this.__renderItemRegion&&this.__renderItemRegion(this,a);if(this.get_imageRegionRenderMode()){var b=a.get_item();if(null!=b){var c=this.getItemViewBounds(b,2,!0);if(!c.get_isEmpty()){var d=this._items.indexOf(b),d=this._items.get__props()[d];if(null!=d.region){var e=null,f=lt.Controls.GraphicsHelper.getNativeContext(a);try{b.get_clipImageToContent()&&!this._isRenderRedirected&&(e=lt.Controls.GraphicsHelper.saveContext(f),
lt.Controls.GraphicsHelper.intersectClip(f,c));var g=this.getItemImageTransform(b);lt.Controls.ControlRegionRenderer.get_instance()._render(this,a,g,d.region,1,this._regionAnimateIndex)}finally{null!=e&&lt.Controls.GraphicsHelper.restoreContext(f,e)}}}}}},add_renderItemFloaterRegion:function(a){this.__renderItemFloaterRegion=ss.Delegate.combine(this.__renderItemFloaterRegion,a)},remove_renderItemFloaterRegion:function(a){this.__renderItemFloaterRegion=ss.Delegate.remove(this.__renderItemFloaterRegion,
a)},__renderItemFloaterRegion_handler_get:function(){null==this.__renderItemFloaterRegion_handler&&(this.__renderItemFloaterRegion_handler=ss.EventHandler.create(this,this.add_renderItemFloaterRegion,this.remove_renderItemFloaterRegion));return this.__renderItemFloaterRegion_handler},__renderItemFloaterRegion:null,__renderItemFloaterRegion_handler:null,onRenderItemFloaterRegion:function(a){null!=this.__renderItemFloaterRegion&&this.__renderItemFloaterRegion(this,a);if(this.get_floaterRegionRenderMode()){var b=
a.get_item();if(null!=b){var c=this._items.indexOf(b),c=this._items.get__props()[c];null!=c.floaterRegion&&b.get_hasVisibleFloater()&&(b=this.getItemFloaterTransform(b),lt.Controls.ControlRegionRenderer.get_instance()._render(this,a,b,c.floaterRegion,1,this._floaterAnimateIndex))}}},add_renderItemFloater:function(a){this.__renderItemFloater=ss.Delegate.combine(this.__renderItemFloater,a)},remove_renderItemFloater:function(a){this.__renderItemFloater=ss.Delegate.remove(this.__renderItemFloater,a)},
__renderItemFloater_handler_get:function(){null==this.__renderItemFloater_handler&&(this.__renderItemFloater_handler=ss.EventHandler.create(this,this.add_renderItemFloater,this.remove_renderItemFloater));return this.__renderItemFloater_handler},__renderItemFloater:null,__renderItemFloater_handler:null,onRenderItemFloater:function(a){null!=this.__renderItemFloater&&this.__renderItemFloater(this,a);var b=a.get_item();null!=b&&b.get_hasVisibleFloater()&&(this._nativeRenderFloater(a,b),this.onRenderItemFloaterRegion(a))},
add_renderShadow:function(a){this.__renderShadow=ss.Delegate.combine(this.__renderShadow,a)},remove_renderShadow:function(a){this.__renderShadow=ss.Delegate.remove(this.__renderShadow,a)},__renderShadow_handler_get:function(){null==this.__renderShadow_handler&&(this.__renderShadow_handler=ss.EventHandler.create(this,this.add_renderShadow,this.remove_renderShadow));return this.__renderShadow_handler},__renderShadow:null,__renderShadow_handler:null,onRenderShadow:function(a){null!=this.__renderShadow&&
this.__renderShadow(this,a);if(!(this.get_ownerDraw()||this.get_useElements()&&!this._isRenderRedirected||this._isRenderRedirected&&null!=this._renderRedirectOptions&&!this._renderRedirectOptions.get_renderShadows())){var b=lt.Controls.GraphicsHelper.getNativeContext(a),c=a.get_item(),d;this._isRenderRedirected?(d=this._renderRedirectOptions.get_backgroundColor(),lt.Controls.GraphicsHelper.isTransparentColor(d)&&(d=this.get__nativeBackColor())):d=this.get__nativeBackColor();var e=1;this._isRenderRedirected&&
(e=lt.Controls.GraphicsHelper.getScaleFactor(b),e=Math.max(e.get_width(),e.get_height()));if(null==c&&!a.get_part())c=lt.LeadRectD.create(0,0,this._totalViewSize.get_width(),this._totalViewSize.get_height()),lt.Controls.GraphicsHelper.renderShadow(b,e,this.get_viewDropShadow(),c,this.get_viewPadding(),this._totalViewTransform,d);else if(null!=c&&3===a.get_part()){var a=this.getItemImageTransform(c),f=this.getItemImageSize(c,!1);lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(f)||(f=lt.LeadRectD.create(0,
0,f.get_width(),f.get_height()),c=this._getItemBackgroundColors(c)[0],lt.Controls.GraphicsHelper.isTransparentColor(c)&&(c=d),lt.Controls.GraphicsHelper.renderShadow(b,e,this.get_imageDropShadow(),f,lt.Controls.ControlPadding.get_empty(),a,c))}}},add_renderBorder:function(a){this.__renderBorder=ss.Delegate.combine(this.__renderBorder,a)},remove_renderBorder:function(a){this.__renderBorder=ss.Delegate.remove(this.__renderBorder,a)},__renderBorder_handler_get:function(){null==this.__renderBorder_handler&&
(this.__renderBorder_handler=ss.EventHandler.create(this,this.add_renderBorder,this.remove_renderBorder));return this.__renderBorder_handler},__renderBorder:null,__renderBorder_handler:null,onRenderBorder:function(a){null!=this.__renderBorder&&this.__renderBorder(this,a);if(!(this.get_ownerDraw()||this.get_useElements()&&!this._isRenderRedirected||this._isRenderRedirected&&null!=this._renderRedirectOptions&&!this._renderRedirectOptions.get_renderBorders())){var b=lt.Controls.GraphicsHelper.getNativeContext(a),
c=a.get_item(),d=1;this._isRenderRedirected&&(d=lt.Controls.GraphicsHelper.getScaleFactor(b),d=Math.max(d.get_width(),d.get_height()));if(null==c&&!a.get_part())c=lt.LeadRectD.create(0,0,this._totalViewSize.get_width(),this._totalViewSize.get_height()),lt.Controls.GraphicsHelper.renderBorder(b,d,this.get_viewBorderThickness(),this.get_viewBorderColor(),c,this.get_viewPadding(),this._totalViewTransform,!1);else if(null!=c&&2===a.get_part())for(var a=this.getItemBounds(c,2),c=this._getItemBorderColors(c),
e=0;e<c.length;e++)lt.Controls.GraphicsHelper.renderBorder(b,d,this.get_itemBorderThickness(),c[e],a,this.get_itemPadding(),this._totalViewTransform,!1);else null!=c&&3===a.get_part()&&(e=this.getItemImageSize(c,!1),a=this.getItemBounds(c,2),!a.get_isEmpty()&&!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(e)&&(a=lt.LeadRectD.create(0,0,e.get_width(),e.get_height()),c=this.getItemImageTransform(c),lt.Controls.GraphicsHelper.renderBorder(b,d,this.get_imageBorderThickness(),this.get_imageBorderColor(),
a,lt.Controls.ControlPadding.get_empty(),c,!0)))}},add_renderBackground:function(a){this.__renderBackground=ss.Delegate.combine(this.__renderBackground,a)},remove_renderBackground:function(a){this.__renderBackground=ss.Delegate.remove(this.__renderBackground,a)},__renderBackground_handler_get:function(){null==this.__renderBackground_handler&&(this.__renderBackground_handler=ss.EventHandler.create(this,this.add_renderBackground,this.remove_renderBackground));return this.__renderBackground_handler},
__renderBackground:null,__renderBackground_handler:null,onRenderBackground:function(a){null!=this.__renderBackground&&this.__renderBackground(this,a);if(!(this.get_ownerDraw()||this.get_useElements()&&!this._isRenderRedirected||this._isRenderRedirected&&null!=this._renderRedirectOptions&&!this._renderRedirectOptions.get_renderBackgrounds())){var b=lt.Controls.GraphicsHelper.getNativeContext(a),c=a.get_item();if(null!=c&&1===a.get_part()&&(a=this.getItemBounds(c,2),!a.get_isEmpty()))for(var a=lt.LeadRectD.fromLTRB(a.get_left()-
this.get_itemPadding().get_left(),a.get_top()-this.get_itemPadding().get_top(),a.get_right()+this.get_itemPadding().get_right(),a.get_bottom()+this.get_itemPadding().get_bottom()),c=this._getItemBackgroundColors(c),d=0;d<c.length;d++)lt.Controls.GraphicsHelper.fillBackground(b,c[d],a,this._totalViewTransform)}},_getItemBorderColors:function(a){if(!this._isRenderRedirected||null!=this._renderRedirectOptions&&this._renderRedirectOptions.get_renderItemStates()){var b,c;a.get_isHovered()?(b=this.get_hoveredItemBorderColor(),
lt.Controls.GraphicsHelper.isTransparentColor(b)?c=Array(1):(c=Array(2),c[1]=b)):c=Array(1);b=null;a.get_isSelected()?b=this.get_selectedItemBorderColor():a===this.get_activeItem()&&(b=this.get_activeItemBorderColor());lt.Controls.GraphicsHelper.isTransparentColor(b)&&(b=this.get_itemBorderColor());c[0]=b;return c}return[this.get_itemBorderColor()]},_getItemBackgroundColors:function(a){if(!this._isRenderRedirected||null!=this._renderRedirectOptions&&this._renderRedirectOptions.get_renderItemStates()){var b,
c;a.get_isHovered()?(b=this.get_hoveredItemBackgroundColor(),lt.Controls.GraphicsHelper.isTransparentColor(b)?c=Array(1):(c=Array(2),c[1]=b)):c=Array(1);b=null;a.get_isSelected()?b=this.get_selectedItemBackgroundColor():a===this.get_activeItem()&&(b=this.get_activeItemBackgroundColor());lt.Controls.GraphicsHelper.isTransparentColor(b)&&(b=this.get_itemBackgroundColor());c[0]=b;return c}return[this.get_itemBackgroundColor()]},add_renderImage:function(a){this.__renderImage=ss.Delegate.combine(this.__renderImage,
a)},remove_renderImage:function(a){this.__renderImage=ss.Delegate.remove(this.__renderImage,a)},__renderImage_handler_get:function(){null==this.__renderImage_handler&&(this.__renderImage_handler=ss.EventHandler.create(this,this.add_renderImage,this.remove_renderImage));return this.__renderImage_handler},__renderImage:null,__renderImage_handler:null,onRenderImage:function(a){null!=this.__renderImage&&this.__renderImage(this,a)},_doRenderImage:function(a,b,c){this.onRenderImage(a);if(!(this.get_ownerDraw()||
this.get_useElements()&&!this._isRenderRedirected)&&null!=b&&b.get_hasImage()){var d=lt.LeadRectD.get_empty();if(!this._isRenderRedirected&&(d=this.getItemViewBounds(b,2,!0),d.get_isEmpty()))return;var e=null,f=lt.Controls.GraphicsHelper.getNativeContext(a);try{b.get_clipImageToContent()&&!this._isRenderRedirected&&(e=lt.Controls.GraphicsHelper.saveContext(f),lt.Controls.GraphicsHelper.intersectClip(f,d)),a._setFor(b,3),this._nativeRenderImage(a,b,c)}finally{null!=e&&lt.Controls.GraphicsHelper.restoreContext(f,
e)}}},_doRenderImageBorder:function(a,b){if(!(this.get_useElements()&&!this._isRenderRedirected||this._isRenderRedirected&&null!=this._renderRedirectOptions&&!this._renderRedirectOptions.get_renderBorders())){var c=null,d=lt.Controls.GraphicsHelper.getNativeContext(a);try{if(!this._isRenderRedirected){var c=lt.Controls.GraphicsHelper.saveContext(d),e=this.getItemViewBounds(b,2,!0);if(!e.get_isEmpty()){var f=this.get_imageBorderThickness();e.inflate(f,f);e=lt.Controls.PaddingHelper.addToRectD(e,this.get_itemPadding());
lt.Controls.GraphicsHelper.intersectClip(d,lt.Controls.PrimitivesHelper.toLeadRectD(lt.Controls.PrimitivesHelper.toLeadRect(e)));a._setFor(b,3);this.onRenderBorder(a)}}}finally{null!=c&&lt.Controls.GraphicsHelper.restoreContext(d,c)}}},_doRenderImageShadow:function(a,b){if(!(this.get_useElements()&&!this._isRenderRedirected||this._isRenderRedirected&&null!=this._renderRedirectOptions&&!this._renderRedirectOptions.get_renderText())){var c=null,d=lt.Controls.GraphicsHelper.getNativeContext(a);try{if(!this._isRenderRedirected){var c=
lt.Controls.GraphicsHelper.saveContext(d),e=this.getItemViewBounds(b,2,!0);if(!e.get_isEmpty()){var f=this.get_imageBorderThickness();e.inflate(f,f);e=lt.Controls.PaddingHelper.addToRectD(e,this.get_itemPadding());lt.Controls.GraphicsHelper.intersectClip(d,lt.Controls.PrimitivesHelper.toLeadRectD(lt.Controls.PrimitivesHelper.toLeadRect(e)));a._setFor(b,3);this.onRenderShadow(a)}}}finally{null!=c&&lt.Controls.GraphicsHelper.restoreContext(d,c)}}},add_renderText:function(a){this.__renderText=ss.Delegate.combine(this.__renderText,
a)},remove_renderText:function(a){this.__renderText=ss.Delegate.remove(this.__renderText,a)},__renderText_handler_get:function(){null==this.__renderText_handler&&(this.__renderText_handler=ss.EventHandler.create(this,this.add_renderText,this.remove_renderText));return this.__renderText_handler},__renderText:null,__renderText_handler:null,onRenderText:function(a){null!=this.__renderText&&this.__renderText(this,a);if(!(this.get_ownerDraw()||this.get_useElements()&&!this._isRenderRedirected||this._isRenderRedirected&&
null!=this._renderRedirectOptions&&!this._renderRedirectOptions.get_renderText())){var b=lt.Controls.GraphicsHelper.getNativeContext(a),c=a.get_item(),d=this.get_itemTextFont(),e=c.get_text();if(null!=c&&5===a.get_part()&&null!=e&&null!=d){var a=this.getItemBounds(c,5),f=this.getItemViewBounds(c,4,!0);!a.get_isEmpty()&&!f.get_isEmpty()&&lt.Controls.GraphicsHelper.renderText(b,e,d,c.get_isSelected()?this.get_selectedItemTextColor():this.get_itemTextColor(),this.get_itemTextWrap(),this.get_itemTextTrimming(),
a,f,this._totalViewTransform)}}},_doRenderView:function(a,b){a._setFor(null,0);this.onPreRender(a);a._setFor(null,0);this.onRender(a);a._setFor(null,0);this.onRenderShadow(a);a._setFor(null,0);this.onRenderBorder(a);a._setFor(null,0);this._updateViewElement(a);for(var c=b.get_isEmpty(),d=this._items,e=d.get_count(),f=d.get__props(),g=[],h=0;h<e;h++){var i=f[h],j=i.viewContentBounds.clone(),k=Type.safeCast(d.get_item(h),lt.Controls.ImageViewerItem),n=c||j.intersectsWith(b),m=this._getClientRectangle(),
m=lt.LeadRectD.fromLTRB(m.get_left(),m.get_top(),m.get_right(),m.get_bottom()),m=j.intersectsWith(m);if(j.get_isEmpty()){if(!this.get_useElements())continue}else j.inflate(-1,-1);if(n||m)try{a._setFor(k,1),this.onPreRenderItem(a),a._setFor(k,1),this.onRenderItem(a),this._doRenderContentBorders(a,k),this._doRenderImageShadow(a,k),this._doRenderImage(a,k,i),this._doRenderImageBorder(a,k),this._doRenderText(a,k),a._setFor(k,1),this._updateItemElement(a,k,i,n,m,g),a._setFor(k,1),this.onPostRenderItem(a)}catch(s){a._setError(s),
this.onRenderError(a),a._setError(null)}else a._setFor(k,1),this._updateItemElement(a,k,i,n,m,g)}this._updatedAllItemElements(a,g);a._setFor(null,0);this.onPostRender(a)},_doRenderContentBorders:function(a,b){a._setFor(b,1);this.onRenderBackground(a);a._setFor(b,2);this.onRenderBorder(a)},_doRenderText:function(a,b){a._setFor(b,5);this.onRenderText(a)},_checkAllCanRender:function(a){return!this.get__isRenderEnabled()||!this.get_canRender()||!this.get_canTransform()?(a=lt.Controls.PrimitivesHelper.toLeadRect(a),
this._renderInvalidateRect=lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(this._renderInvalidateRect)?a:lt.Controls.PrimitivesHelper.unionRects(this._renderInvalidateRect,a),!1):!0},_doRender:function(a,b,c){if(this._checkAllCanRender(lt.Controls.PrimitivesHelper.toLeadRectD(a.get_clipRectangle()))){this._renderInvalidateRect=lt.LeadRectD.get_empty();this._isRenderRedirected=c;this._renderRedirectOptions=b;var b=null,d=lt.Controls.GraphicsHelper.getNativeContext(a);try{null!=this._renderRedirectOptions&&
!this._renderRedirectOptions.get_transform().get_isIdentity()&&(b=lt.Controls.GraphicsHelper.saveContext(d),lt.Controls.GraphicsHelper.multiplyTransform(d,this._renderRedirectOptions.get_transform()));this._resizeForeCanvas();var e=lt.Controls.PrimitivesHelper.toLeadRectD(a.get_clipRectangle()),f=lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(e);if(f&&!c)var g=this._getClientRectangle(),e=lt.LeadRectD.fromLTRB(g.get_left(),g.get_top(),g.get_right(),g.get_bottom()),f=lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(e);
!f&&!a.get__autoClip()&&(null==b&&(b=lt.Controls.GraphicsHelper.saveContext(d)),lt.Controls.GraphicsHelper.intersectClip(d,e));this.onEraseBackground(a);this.get_hasItems()&&this._doRenderView(a,e);if(!c)this.onRedirectRender(a)}catch(h){a._setError(h),this.onRenderError(a)}finally{null!=b&&lt.Controls.GraphicsHelper.restoreContext(d,b),this._isRenderRedirected=!1,this._renderRedirectOptions=null}}},_interactiveService:null,get_interactiveService:function(){return this._interactiveService},set_interactiveService:function(a){this._interactiveService!==
a&&(this._doInteractiveServiceChanged(!1),this._interactiveService=a,this._doInteractiveServiceChanged(!0),this.onPropertyChanged(lt.Controls.ImageViewer._InteractiveService_Name));return a},_interactiveModes:null,get_interactiveModes:function(){return this._interactiveModes},_workingInteractiveMode:null,get_workingInteractiveMode:function(){return this._workingInteractiveMode},_setWorkingInteractiveMode:function(a){this._workingInteractiveMode!==a&&(this._workingInteractiveMode=a,this.onPropertyChanged(lt.Controls.ImageViewer._WorkingInteractiveMode_Name))},
_idleInteractiveMode:null,get_idleInteractiveMode:function(){return this._idleInteractiveMode},_setIdleInteractiveMode:function(a){this._idleInteractiveMode!==a&&(this._idleInteractiveMode=a,this.onPropertyChanged(lt.Controls.ImageViewer._IdleInteractiveMode_Name))},_hitTestStateInteractiveMode:null,get_hitTestStateInteractiveMode:function(){return this._hitTestStateInteractiveMode},_setHitTestStateInteractiveMode:function(a){this._hitTestStateInteractiveMode!==a&&(this._hitTestStateInteractiveMode=
a,this.onPropertyChanged(lt.Controls.ImageViewer._HitTestStateInteractiveMode_Name))},_initializeInteractiveModes:function(){this._interactiveModes=new lt.Controls.ImageViewerInteractiveModes(this)},_deInitializeInteractiveModes:function(){},get_defaultInteractiveMode:function(){for(var a=ss.IEnumerator.getEnumerator(this._interactiveModes);a.moveNext();){var b=a.current;if(b.get_isEnabled()&&b._hasMouseButton(1))return b}return null},set_defaultInteractiveMode:function(a){var b;b=null==a?1:a.get_mouseButtons();
for(var c=-1,d=this._interactiveModes.get_count(),e=0;e<d&&-1===c;e++){var f=this._interactiveModes.get_item(e);f.get_isEnabled()&&f._hasMouseButton(b)&&(c=e)}-1!==c?(this._interactiveModes.beginUpdate(),this._interactiveModes.removeAt(c),null!=a&&this._interactiveModes.insert(c,a),this._interactiveModes.endUpdate()):null!=a&&(this._interactiveModes.beginUpdate(),this._interactiveModes.insert(0,a),this._interactiveModes.endUpdate());return a},get_dropCopyKeyState:function(){return this._DropCopyKeyState},
set_dropCopyKeyState:function(a){a!==this._DropCopyKeyState&&(this._DropCopyKeyState=a,this.onPropertyChanged(lt.Controls.ImageViewer._DropCopyKeyState_Name));return a},get_dropMoveKeyState:function(){return this._DropMoveKeyState},set_dropMoveKeyState:function(a){a!==this._DropMoveKeyState&&(this._DropMoveKeyState=a,this.onPropertyChanged(lt.Controls.ImageViewer._DropMoveKeyState_Name));return a},get_dropLinkKeyState:function(){return this._DropLinkKeyState},set_dropLinkKeyState:function(a){a!==
this._DropLinkKeyState&&(this._DropLinkKeyState=a,this.onPropertyChanged(lt.Controls.ImageViewer._DropLinkKeyState_Name));return a},add_itemDragDrop:function(a){this.__itemDragDrop=ss.Delegate.combine(this.__itemDragDrop,a)},remove_itemDragDrop:function(a){this.__itemDragDrop=ss.Delegate.remove(this.__itemDragDrop,a)},__itemDragDrop_handler_get:function(){null==this.__itemDragDrop_handler&&(this.__itemDragDrop_handler=ss.EventHandler.create(this,this.add_itemDragDrop,this.remove_itemDragDrop));return this.__itemDragDrop_handler},
__itemDragDrop:null,__itemDragDrop_handler:null,onItemDragDrop:function(a){null!=this.__itemDragDrop&&this.__itemDragDrop(this,a)},_dragEnterData:null,_doDragEnter:function(a){this._dragEnterData=lt.Controls._dragDropHelper.getDragData(this,a.get_nativeEvent());var b=this._getDefaultDragItem(a);a._setValues(lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer,this,lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem,b,0,this._dragEnterData.format);a.set_effect(this._dragEnterData.effect);
null!=a.get_sourceItem()&&a.get_sourceItem()===a.get_targetItem()||a.get_sourceImageViewer()!==this&&1===lt.Controls.ImageViewerDragInteractiveMode._globalTargetImageViewerMode?a.set_effect("none"):a.set_effect(this._dragEnterData.effect);this.onItemDragDrop(a)},_doDragOver:function(a){null==this._dragEnterData&&(this._dragEnterData=lt.Controls._dragDropHelper.getDragData(this,a.get_nativeEvent()));var b=this._getDefaultDragItem(a);a._setValues(lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer,
this,lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem,b,1,this._dragEnterData.format);null!=a.get_sourceItem()&&a.get_sourceItem()===a.get_targetItem()||a.get_sourceImageViewer()!==this&&1===lt.Controls.ImageViewerDragInteractiveMode._globalTargetImageViewerMode?a.set_effect("none"):a.set_effect(this._dragEnterData.effect);this.onItemDragDrop(a)},_doDragLeave:function(a){a._setValues(lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer,this,lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem,
a.get_targetItem(),2,null!=this._dragEnterData?this._dragEnterData.format:null);this.onItemDragDrop(a);this._dragEnterData=null},_doDrop:function(a){var b=this._getDefaultDragItem(a);a._setValues(lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer,this,lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem,b,3,this._dragEnterData.format);this.onItemDragDrop(a);this._dragEnterData=null},get_imageResolution:function(){var a=this.get_activeItem();return null!=a?a.get_resolution():
lt.LeadSizeD.create(0,0)},set_imageResolution:function(a){lt.Controls.ControlsHelper.checkResolution(a,"ImageResolution");var b=this.get_activeItem();null!=b&&(b.set_resolution(a),this.onPropertyChanged(lt.Controls.ImageViewer._ImageResolution_Name));return a},get_imageSize:function(){var a=this.get_activeItem();return null!=a?a.get_imageSize():lt.LeadSizeD.create(0,0)},set_imageSize:function(a){var b=this.get_activeItem();null!=b&&(b.set_imageSize(a),this.onPropertyChanged(lt.Controls.ImageViewer._ImageSize_Name));
return a},get_imageScale:function(){var a=this.get_activeItem();return null!=a?a.get_imageScale():1},set_imageScale:function(a){var b=this.get_activeItem();null!=b&&(b.set_imageScale(a),this.onPropertyChanged(lt.Controls.ImageViewer._ImageScale_Name));return a},get_hasImage:function(){var a=this.get_activeItem();return null!=a?a.get_hasImage():!1},get_imageTransform:function(){var a=this.get_activeItem();return null!=a?this.getItemImageTransform(a):lt.LeadMatrix.get_identity()},getImageTransformWithDpi:function(a){var b=
this.get_activeItem();return null!=b?this.getItemImageTransformWithDpi(b,a):lt.LeadMatrix.get_identity()},get_floaterTransform:function(){var a=this.get_activeItem();return null!=a?a.get_floaterTransform():lt.LeadMatrix.get_identity()},set_floaterTransform:function(a){var b=this.get_activeItem();null!=b&&(b.set_floaterTransform(a),this.onPropertyChanged(lt.Controls.ImageViewer._FloaterTransform_Name));return a},get_autoResetOptions:function(){return this._AutoResetOptions},set_autoResetOptions:function(a){a!==
this._AutoResetOptions&&(this._AutoResetOptions=a,this.onPropertyChanged(lt.Controls.ImageViewer._AutoResetOptions_Name));return a},reset:function(){this._updateForResetOptions()},_updateForResetOptions:function(){var a=this.get_autoResetOptions();if(a){if(4===(a&4)){this.get_flip()&&this.set_flip(!1);this.get_reverse()&&this.set_reverse(!1);lt.LeadDoubleTools.areClose(this.get_rotateAngle(),0)||this.set_rotateAngle(0);var b=this.get_activeItem();null!=b&&(b.set_transform(lt.LeadMatrix.get_identity()),
b.set_floaterTransform(lt.LeadMatrix.get_identity()))}8===(a&8)&&this.get_invert()&&this.set_invert(!1);1===(a&1)&&this.set_scrollOffset(lt.LeadPointD.create(0,0));2===(a&2)&&(lt.LeadDoubleTools.areClose(this._zoomValue,1)||this.zoom(this.get_sizeMode(),1,this.get_defaultZoomOrigin()))}},get_imageBounds:function(){var a=this.get_activeItem();if(null!=a){var b=this.getItemViewBounds(a,0,!1),b=lt.LeadRectD.intersectRects(b,lt.Controls.PrimitivesHelper.toLeadRectD(this._getClientRectangle())),b=this.convertRect(a,
0,4,b);return lt.Controls.PrimitivesHelper.toLeadRect(b)}return lt.LeadRectD.get_empty()},get_viewBounds:function(){var a=this.get_activeItem();return null!=a?lt.Controls.PrimitivesHelper.toLeadRect(this.getItemViewBounds(a,0,!1)):lt.LeadRectD.get_empty()},_stopVirtulizer:function(){},get__globalId:function(){return this._globalId},_jsBindDelegates:function(){this._mainDiv_Scroll_Delegate=ss.Delegate.create(this,this._mainDiv_Scroll);this._element_DragEnter_Delegate=ss.Delegate.create(this,this._element_DragEnter);
this._element_DragOver_Delegate=ss.Delegate.create(this,this._element_DragOver);this._element_DragLeave_Delegate=ss.Delegate.create(this,this._element_DragLeave);this._element_Drop_Delegate=ss.Delegate.create(this,this._element_Drop);this._animationRender_Delegate=ss.Delegate.create(this,this._animationRender);this._animationRenderDisableTransitions_Delegate=ss.Delegate.create(this,this._animationRenderDisableTransitions)},_useElements:!1,get_useElements:function(){return this._useElements},_checkCanSet:function(a){if(this._useElements)throw new lt.ArgumentException("Cannot change this property when UseElements mode is on",
a);},_options:null,_useElementsOptions:null,_styleNamespaceTagId:"",_styleElementsPrefixTagId:"",_tag:null,get_tag:function(){return this._tag},set_tag:function(a){return this._tag=a},_setItemsValue:function(a,b,c,d){var e=!1;d?this.beginTransform():this.beginRender();for(var f=ss.IEnumerator.getEnumerator(this._items);f.moveNext();){var g=f.current;b!==g[c]&&(g[c]=b,g.get__useElements()&&(g._itemChanged=!0),e=!0)}d?this._internalEndTransform(e,!0):this._internalEndUpdate(e);if(b!==a)this.onPropertyChanged(c)},
dispose:function(){lt.Controls._imageViewerGroup.removeViewer(this);this._cleanUp(!0);null!=this._parentDiv&&(lt.LTHelper.removeClass(this._parentDiv,"lt_no_overflow"),lt.LTHelper.removeClass(this._parentDiv,"lt_no_display"),lt.LTHelper.removeClass(this._parentDiv,"lt_pointer_events"),lt.LTHelper.removeClass(this._parentDiv,this._options.get_parentDivClass()));-1!==this._mainDivPrecisionScrollDelegateTimeout&&(clearTimeout(this._mainDivPrecisionScrollDelegateTimeout),this._mainDivPrecisionScrollDelegateTimeout=
-1);null!=this._mainDiv&&(lt.Controls._eventHelper.removeEventListener(this._mainDiv,"scroll",this._mainDiv_Scroll_Delegate),null!=this._mainDiv.parentNode&&this._mainDiv.parentNode.removeChild(this._mainDiv),this._mainDiv=null);null!=this._imagesDiv&&(null!=this._imagesDiv.parentNode&&this._imagesDiv.parentNode.removeChild(this._imagesDiv),this._imagesDiv=null);null!=this._viewDiv&&(null!=this._viewDiv.parentNode&&this._viewDiv.parentNode.removeChild(this._viewDiv),this._viewDiv=null);null!=this._viewDivHolder&&
(null!=this._viewDivHolder.parentNode&&this._viewDivHolder.parentNode.removeChild(this._viewDivHolder),this._viewDivHolder=null);null!=this._eventCanvas&&(null!=this._eventCanvas.parentNode&&this._eventCanvas.parentNode.removeChild(this._eventCanvas),this._eventCanvas=null);null!=this._passthroughDiv&&(null!=this._passthroughDiv.parentNode&&this._passthroughDiv.parentNode.removeChild(this._passthroughDiv),this._passthroughDiv=null);null!=this._foreCanvas&&(null!=this._foreCanvas.parentNode&&this._foreCanvas.parentNode.removeChild(this._foreCanvas),
this._foreCanvas=null);if(1>lt.Controls._imageViewerGroup.get_count())try{var a=document.getElementById("_ltiv-styles");null!=a&&null!=a.parentNode&&a.parentNode.removeChild(a)}catch(b){}if(null!=this._options&&1>lt.Controls._imageViewerGroup.namespaceCount(this._options.get_parentDivClass()))try{var c=document.getElementById(this._styleNamespaceTagId);null!=c&&null!=c.parentNode&&c.parentNode.removeChild(c)}catch(d){}if(this.get_useElements()){if(1>lt.Controls._imageViewerGroup.get_elementsModeCount())try{var e=
document.getElementById(lt.Controls.ImageViewer._StyleElementsTagIdBase);null!=e&&null!=e.parentNode&&e.parentNode.removeChild(e)}catch(f){}if(null!=this._useElementsOptions&&1>lt.Controls._imageViewerGroup.prefixCount(this._useElementsOptions.get_classPrefix()))try{var g=document.getElementById(this._styleElementsPrefixTagId);null!=g&&null!=g.parentNode&&g.parentNode.removeChild(g)}catch(h){}}lt.Controls._windowViewerHelper.remove(this);this._animationRenderDisableTransitions_Delegate=this._animationRender_Delegate=
this._element_Drop_Delegate=this._element_DragLeave_Delegate=this._element_DragOver_Delegate=this._element_DragEnter_Delegate=this._mainDiv_Scroll_Delegate=this._useElementsOptions=this._options=null},_findScreenDpi:function(){(this._ScreenDpi.get_isEmpty()||!this._ScreenDpi.get_width())&&this._ScreenDpi.set_width(this._defaultDpi.get_width());(this._ScreenDpi.get_isEmpty()||!this._ScreenDpi.get_height())&&this._ScreenDpi.set_height(this._defaultDpi.get_height())},_parentDiv:null,_imagesDiv:null,
get_imagesDiv:function(){return this._imagesDiv},_mainDiv:null,get_mainDiv:function(){return this._mainDiv},_isScrollCausedProgrammatically:!1,_mainDivStyleOverflowX:null,_mainDivStyleOverflowY:null,_mainDivClientWidth:0,_mainDivClientHeight:0,_updateMainDivSize:function(){lt.Controls._elementsHelper.repaint(this._mainDiv);var a=Math.max(this._mainDiv.clientWidth,0),b=Math.max(this._mainDiv.clientHeight,0);return a!==this._mainDivClientWidth||b!==this._mainDivClientHeight?(this._mainDivClientWidth=
a,this._mainDivClientHeight=b,!0):!1},_autoScrollDiv:null,get_autoScrollDiv:function(){return this._autoScrollDiv},_foreCanvas:null,get_foreCanvas:function(){return this._foreCanvas},_foreCanvasWidth:0,_foreCanvasHeight:0,_eventCanvas:null,get_eventCanvas:function(){return this._eventCanvas},_passthroughDiv:null,get_passthroughDiv:function(){return this._passthroughDiv},_viewDiv:null,get_viewDiv:function(){return this._viewDiv},_viewDivHolder:null,get_viewDivHolder:function(){return this._viewDivHolder},
_viewDivHolderClientWidth:0,_viewDivHolderClientHeight:0,_buildControl:function(a){var a=a.get_parentDivClass(),b=lt.LTHelper.supportsScroll;this._styleNamespaceTagId="_ltiv-styles_"+a;1===lt.Controls._imageViewerGroup.namespaceCount(a)&&lt.Controls._elementsHelper.createNamespaceClasses(a,this._styleNamespaceTagId);1===lt.Controls._imageViewerGroup.get_count()&&lt.Controls._elementsHelper.createCommonClasses("_ltiv-styles");lt.LTHelper.addClass(this._parentDiv,String.format("{0}",a));lt.LTHelper.addClass(this._parentDiv,
"lt_no_overflow");b&&(b=document.createElement("div"),lt.LTHelper.addClass(b,String.format("{0}-{1}",a,"autoscroll")),this._autoScrollDiv=b);b=document.createElement("div");lt.LTHelper.addClass(b,String.format("{0}-{1}",a,"main"));lt.LTHelper.addClass(b,"lt_no_overflow");this._mainDiv=b;null!=this._autoScrollDiv&&this._mainDiv.appendChild(this._autoScrollDiv);this._parentDiv.appendChild(this._mainDiv);this._updateMainDivSize();b=document.createElement("canvas");null!=b&&(lt.LTHelper.addClass(b,String.format("{0}-{1}",
a,"forecanvas")),this._foreCanvasWidth=this._mainDivClientWidth,this._foreCanvasHeight=this._mainDivClientHeight,b.width=this._foreCanvasWidth,b.height=this._foreCanvasHeight,this._foreCanvas=b,this._parentDiv.appendChild(this._foreCanvas));this._imagesDiv=document.createElement("div");lt.LTHelper.addClass(this._imagesDiv,String.format("{0}-{1}",a,"images"));this._parentDiv.appendChild(this._imagesDiv);if(null!=b&&this._useElements){b=document.createElement("div");this._viewDivHolderClientWidth=this._mainDivClientWidth;
this._viewDivHolderClientHeight=this._mainDivClientHeight;b.style.width=this._viewDivHolderClientWidth.toString()+"px";b.style.height=this._viewDivHolderClientHeight.toString()+"px";lt.LTHelper.addClass(b,String.format("{0}-{1}",a,"viewholder"));var c=document.createElement("div");lt.LTHelper.addClass(c,this._useElementsOptions.get_viewElementClass());b.appendChild(c);this._viewDivHolder=b;this._parentDiv.insertBefore(b,this._foreCanvas);this._viewDiv=c;lt.LTHelper.supportsHTMLPointerEvents&&(lt.LTHelper.addClass(this._parentDiv,
"lt_pointer_events"),b=document.createElement("canvas"),null!=b&&(lt.LTHelper.addClass(b,String.format("{0}-{1}",a,"eventcanvas")),b.width=this._mainDivClientWidth,b.height=this._mainDivClientHeight,this._eventCanvas=b,this._viewDivHolder.appendChild(this._eventCanvas)),this._passthroughDiv=document.createElement("div"),lt.LTHelper.addClass(this._passthroughDiv,String.format("{0}-{1}",a,"passthrough")),this._viewDivHolder.appendChild(this._passthroughDiv))}lt.Controls._eventHelper.addEventListener(this._mainDiv,
"scroll",this._mainDiv_Scroll_Delegate)},onSizeChanged:function(){if(!(null==this._mainDiv||null==this._foreCanvas))if(this._updateMainDivSize()||this._foreCanvasWidth!==this._mainDivClientWidth||this._foreCanvasHeight!==this._mainDivClientHeight)if(this._doOnSizeChanged(),null!=this._interactiveService)this._interactiveService.onSizeChanged()},_disableTransitionsOnScroll:!0,_mainDiv_Scroll_Delegate:null,_mainDiv_Scroll:function(a){-1!==this._mainDivPrecisionScrollDelegateTimeout&&(clearTimeout(this._mainDivPrecisionScrollDelegateTimeout),
this._mainDivPrecisionScrollDelegateTimeout=-1);if(lt.LTHelper.OS===lt.LTOS.android)null!=a&&a.preventDefault();else if(null!=this._mainDiv){a=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);this._disableTransitionsOnScroll&&this.disableTransitions();var b=this._isScrollCausedProgrammatically;b?this._isScrollCausedProgrammatically=!1:(this._mainDivScrollOffset=lt.LeadPointD.create(this._mainDiv.scrollLeft,this._mainDiv.scrollTop),lt.Controls._controlInertiaScroller.get_instance()._removeParams(this));
var c=this._mapMainDivToPosition(this._mainDivScrollOffset);this._mapPositionToMainDiv(c);var d=lt.LeadPointD.create(c.get_x()-this._ScrollOffset.get_x(),c.get_y()-this._ScrollOffset.get_y());if(this._updateViewTransformFromScroll(c,!lt.LeadPointD.equals(c,this._ScrollOffset)))this.onTransformChanged(lt.LeadEventArgs.Empty);this.invalidate(lt.LeadRectD.get_empty());this._disableTransitionsOnScroll?this.enableTransitions():this._disableTransitionsOnScroll=!0;if(this._isSyncSource&&null!=a)for(c=0;c<
a.length;c++){var e=a[c];if(e!==this&&e.get_isSyncTarget()&&(b||lt.Controls._controlInertiaScroller.get_instance()._removeParams(e),d.get_x()||d.get_y()))e.disableTransitions(),e.scrollBy(d),e.enableTransitions()}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)}},get_controlSize:function(){return lt.LeadSizeD.create(this._mainDivClientWidth,this._mainDivClientHeight)},get_hasSize:function(){var a=this.get_controlSize();return!a.get_isEmpty()&&0<a.get_width()&&0<a.get_height()},_getClientRectangle:function(){return lt.LeadRectD.create(0,
0,this._mainDivClientWidth,this._mainDivClientHeight)},_getForeCanvasRectangle:function(){return lt.LeadRectD.create(0,0,this._foreCanvasWidth,this._foreCanvasHeight)},get_enableRequestAnimationFrame:function(){return this._EnableRequestAnimationFrame},set_enableRequestAnimationFrame:function(a){this._EnableRequestAnimationFrame!==a&&(this._EnableRequestAnimationFrame=a,this.onPropertyChanged(lt.Controls.ImageViewer._EnableRequestAnimationFrame_Name));return a},get_autoCreateCanvas:function(){return this._AutoCreateCanvas},
set_autoCreateCanvas:function(a){this._AutoCreateCanvas!==a&&(this._AutoCreateCanvas=a);this._setItemsValue(this._AutoCreateCanvas,a,lt.Controls.ImageViewer._AutoCreateCanvas_Name,!0);return a},get_resizeElementForView:function(){return this._ResizeElementForView},set_resizeElementForView:function(a){this._ResizeElementForView!==a&&(this._ResizeElementForView=a);this._setItemsValue(this._ResizeElementForView,a,lt.Controls.ImageViewer._ResizeElementForView_Name,!0);return a},_createInteractiveService:function(){this._interactiveService=
lt.Controls.InteractiveService.create(this,this._parentDiv,null!=this._eventCanvas?this._eventCanvas:this._foreCanvas);this._doInteractiveServiceChanged(!0)},_element_DragEnter_Delegate:null,_element_DragOver_Delegate:null,_element_DragLeave_Delegate:null,_element_Drop_Delegate:null,_doInteractiveServiceChanged:function(a){var b=this._interactiveService;if(null!=b){var c=b.get_eventsSource();a?(null!=c&&(lt.Controls._eventHelper.addEventListener(c,"dragenter",this._element_DragEnter_Delegate),lt.Controls._eventHelper.addEventListener(c,
"dragover",this._element_DragOver_Delegate),lt.Controls._eventHelper.addEventListener(c,"dragleave",this._element_DragLeave_Delegate),lt.Controls._eventHelper.addEventListener(c,"drop",this._element_Drop_Delegate)),b.add_move(ss.Delegate.create(this,this._viewer_CustomDrag_Move)),b.add__up(ss.Delegate.create(this,this._viewer_CustomDrag_Up))):(null!=c&&(lt.Controls._eventHelper.removeEventListener(c,"dragenter",this._element_DragEnter_Delegate),lt.Controls._eventHelper.removeEventListener(c,"dragover",
this._element_DragOver_Delegate),lt.Controls._eventHelper.removeEventListener(c,"dragleave",this._element_DragLeave_Delegate),lt.Controls._eventHelper.removeEventListener(c,"drop",this._element_Drop_Delegate)),b.remove_move(ss.Delegate.create(this,this._viewer_CustomDrag_Move)),b.remove__up(ss.Delegate.create(this,this._viewer_CustomDrag_Up)),this._customDragIndex=-1,this._customDragInControl=this._customDragCanDrop=!1,this._customDragTargetItem=lt.Controls.ImageViewer._customDragCursorStyle=null)}},
_hideNativeScrollbars:function(){lt.LTHelper.removeClass(this._mainDiv,"lt_no_overflow")},_showNativeScrollbars:function(a,b){lt.LTHelper.addClass(this._mainDiv,"lt_no_overflow");var c=a?"scroll":"",d=this._mainDivStyleOverflowX!==c;d&&(this._mainDivStyleOverflowX=c,this._mainDiv.style.overflowX=c);var c=b?"scroll":"",e=this._mainDivStyleOverflowY!==c;e&&(this._mainDivStyleOverflowY=c,this._mainDiv.style.overflowY=c);return d||e},_scrollModeChanged:function(a){if(lt.LTHelper.supportsScroll){if(1===
this._ScrollMode||2===this._ScrollMode)this._mainDivStyleOverflowX&&(this._mainDivStyleOverflowX="",this._mainDiv.style.overflowX=""),this._mainDivStyleOverflowY&&(this._mainDivStyleOverflowY="",this._mainDiv.style.overflowY=""),lt.LTHelper.addClass(this._mainDiv,"lt_no_overflow");1===a&&!this._ScrollMode?this._variablesToScroll(this._ScrollOffset):!a&&1===this._ScrollMode&&(this._isScrollCausedProgrammatically=!0,this._mainDivScrollOffset=lt.LeadPointD.create(0,0),this._mainDiv.scrollLeft=0,this._mainDiv.scrollTop=
0)}},get__supportsScroll:function(){return lt.LTHelper.supportsScroll},_setNativeScrollPosition:function(a){a=this._mapPositionToMainDiv(this.restrictScrollOffset(a));if(this._mainDivScrollOffset.get_x()!==a.get_x()||this._mainDivScrollOffset.get_y()!==a.get_y()){if(!isNaN(this._mainDivScrollOffset.get_x())&&!isNaN(this._mainDivScrollOffset.get_y())||!(0===a.get_x()&&0===a.get_y()))this._isScrollCausedProgrammatically=!0,this.get_isTransitionsEnabled()&&(this._disableTransitionsOnScroll=!1);var b=
lt.Controls.PrimitivesHelper.toInt(this._mainDivScrollOffset.get_x()),c=lt.Controls.PrimitivesHelper.toInt(this._mainDivScrollOffset.get_y()),d=lt.Controls.PrimitivesHelper.toInt(a.get_x()),e=lt.Controls.PrimitivesHelper.toInt(a.get_y());this._mainDivScrollOffset=a;b!==d||c!==e?(-1!==this._mainDivPrecisionScrollDelegateTimeout&&(clearTimeout(this._mainDivPrecisionScrollDelegateTimeout),this._mainDivPrecisionScrollDelegateTimeout=-1),this._mainDiv.scrollLeft=d,this._mainDiv.scrollTop=e):-1===this._mainDivPrecisionScrollDelegateTimeout&&
(this._mainDivPrecisionScrollDelegateTimeout=setTimeout(this._mainDiv_Scroll_Delegate,0))}},_mapMainDivToPosition:function(a){if(a.get_isEmpty()||this._autoScrollDivTrueBrowserRatio.get_isEmpty()||1===this._autoScrollDivTrueBrowserRatio.get_x()&&1===this._autoScrollDivTrueBrowserRatio.get_y())return a;a=a.clone();if(1!==this._autoScrollDivTrueBrowserRatio.get_x()){var b=this._mainDivClientWidth*a.get_x()/(this._autoScrollDivBrowserSize.get_x()-this._mainDivClientWidth);a.set_x(Math.min(a.get_x()+
b,this._autoScrollDivBrowserSize.get_x()));a.set_x(a.get_x()*this._autoScrollDivTrueBrowserRatio.get_x());a.set_x(Math.max(a.get_x()*(this._autoScrollDivTrueSize.get_x()-this._mainDivClientWidth)/this._autoScrollDivTrueSize.get_x(),0))}1!==this._autoScrollDivTrueBrowserRatio.get_y()&&(b=this._mainDivClientHeight*a.get_y()/(this._autoScrollDivBrowserSize.get_y()-this._mainDivClientHeight),a.set_y(Math.min(a.get_y()+b,this._autoScrollDivBrowserSize.get_y())),a.set_y(a.get_y()*this._autoScrollDivTrueBrowserRatio.get_y()),
a.set_y(Math.max(a.get_y()*(this._autoScrollDivTrueSize.get_y()-this._mainDivClientHeight)/this._autoScrollDivTrueSize.get_y(),0)));return a},_mapPositionToMainDiv:function(a){if(a.get_isEmpty()||this._autoScrollDivTrueBrowserRatio.get_isEmpty()||1===this._autoScrollDivTrueBrowserRatio.get_x()&&1===this._autoScrollDivTrueBrowserRatio.get_y())return a;a=a.clone();if(1!==this._autoScrollDivTrueBrowserRatio.get_x()){var b=this._mainDivClientWidth*a.get_x()/(this._autoScrollDivTrueSize.get_x()-this._mainDivClientWidth);
a.set_x(Math.min(a.get_x()+b,this._autoScrollDivTrueSize.get_x()));a.set_x(a.get_x()/this._autoScrollDivTrueBrowserRatio.get_x());a.set_x(Math.max(a.get_x()*(this._autoScrollDivBrowserSize.get_x()-this._mainDivClientWidth)/this._autoScrollDivBrowserSize.get_x(),0))}1!==this._autoScrollDivTrueBrowserRatio.get_y()&&(b=this._mainDivClientHeight*a.get_y()/(this._autoScrollDivTrueSize.get_y()-this._mainDivClientHeight),a.set_y(Math.min(a.get_y()+b,this._autoScrollDivTrueSize.get_y())),a.set_y(a.get_y()/
this._autoScrollDivTrueBrowserRatio.get_y()),a.set_y(Math.max(a.get_y()*(this._autoScrollDivBrowserSize.get_y()-this._mainDivClientHeight)/this._autoScrollDivBrowserSize.get_y(),0)));return a},_setNativeScrollSize:function(a,b,c){var d=!1,e=a.get_width(),a=a.get_height();if(!this.get_scrollMode()&&(d=this._showNativeScrollbars(b,c),null!=this._autoScrollDiv)){this._autoScrollDivTrueSize=lt.LeadPointD.create(e,a);b=Math.min(lt.Controls.ImageViewer._maximumBrowserScroll,e);c=Math.min(lt.Controls.ImageViewer._maximumBrowserScroll,
a);if(-1===this._autoScrollDivBrowserSize.get_x()||-1===this._autoScrollDivBrowserSize.get_y()||this._autoScrollDivBrowserSize.get_x()!==b||this._autoScrollDivBrowserSize.get_y()!==c)this._autoScrollDivBrowserSize=lt.LeadPointD.create(b,c),this._autoScrollDiv.style.width=b.toString()+"px",this._autoScrollDiv.style.height=c.toString()+"px";this._autoScrollDivTrueBrowserRatio=lt.LeadPointD.create(this._autoScrollDivTrueSize.get_x()/this._autoScrollDivBrowserSize.get_x(),this._autoScrollDivTrueSize.get_y()/
this._autoScrollDivBrowserSize.get_y())}return d},_resizeForeCanvas:function(){if(!(null==this._foreCanvas||null==this._mainDiv)){if(this._foreCanvasWidth!==this._mainDivClientWidth||this._foreCanvasHeight!==this._mainDivClientHeight)this._foreCanvasWidth=this._mainDivClientWidth,this._foreCanvasHeight=this._mainDivClientHeight,this._foreCanvas.width=this._foreCanvasWidth,this._foreCanvas.height=this._foreCanvasHeight,null!=this._eventCanvas&&(this._eventCanvas.width=this._foreCanvasWidth,this._eventCanvas.height=
this._foreCanvasHeight),this.onForeCanvasSizeChanged(lt.LeadEventArgs.Empty);if(null!=this._viewDivHolder&&(this._viewDivHolderClientWidth!==this._foreCanvasWidth||this._viewDivHolderClientHeight!==this._foreCanvasHeight))this._viewDivHolderClientWidth=this._foreCanvasWidth,this._viewDivHolderClientHeight=this._foreCanvasHeight,this._viewDivHolder.style.width=this._viewDivHolderClientWidth.toString()+"px",this._viewDivHolder.style.height=this._viewDivHolderClientHeight.toString()+"px"}},add_foreCanvasSizeChanged:function(a){this.__foreCanvasSizeChanged=
ss.Delegate.combine(this.__foreCanvasSizeChanged,a)},remove_foreCanvasSizeChanged:function(a){this.__foreCanvasSizeChanged=ss.Delegate.remove(this.__foreCanvasSizeChanged,a)},__foreCanvasSizeChanged_handler_get:function(){null==this.__foreCanvasSizeChanged_handler&&(this.__foreCanvasSizeChanged_handler=ss.EventHandler.create(this,this.add_foreCanvasSizeChanged,this.remove_foreCanvasSizeChanged));return this.__foreCanvasSizeChanged_handler},__foreCanvasSizeChanged:null,__foreCanvasSizeChanged_handler:null,
onForeCanvasSizeChanged:function(a){null!=this.__foreCanvasSizeChanged&&this.__foreCanvasSizeChanged(this,a)},_doInsertItem:function(a){lt.Controls.ImageViewer._checkWinRTKernelExpired();a._setImageViewer(this);this.get_useElements()&&(a._itemChanged=!0,1===this.get_items().get_count()&&(a._createItemElements(),lt.Controls._elementsHelper.repaint(this.get_viewDiv()),this._internalUpdateStyles()));a.set_autoCreateCanvas(this.get_autoCreateCanvas());var b=!1;a.get_hasImage()?(this._checkLicense(),this.get_useDpi()&&
a._setSize(this._calculateItemSize(a.get_resolution(),a.get_size(),!0),a.get_resolution()),b=!0,this._doItemChanged(a,!1,9)):null!=a.get_url()&&(b=!0,a._updateFromUrl(a.get_url(),a.get_resolution()));b&&null==a.get_backImage()&&null==a.get_backImageElement()&&null!=a.get_backImageUrl()&&a._updateFromImageUrl(a.get_backImageUrl(),a.get_resolution(),!0)},_doRemoveItem:function(a){var b=this._items.indexOf(a),b=this._items.get__props()[b];null!=b.interpolator&&this._stopItemInterpolator(a,b,!0);a.deleteImage();
this.setItemFloater(a,null);a._setImageViewer(null)},_postRemoveItem:function(){this._updateViewElementDisplay()},_tryDispose:function(a){a._tryDispose(this.get_items())},_tryDisposeBackImage:function(a){a._tryDisposeBackImage(this.get_items())},_doItemChanged:function(a,b,c){var d=this._items.indexOf(a),d=this._items.get__props()[d];if(b)switch(c){case 9:case 6:case 7:null!=d.interpolator&&this._stopItemInterpolator(a,d,!0);c=a.get_image();null==c&&(c=a.get_canvas());null!=c&&null!=c.parentNode&&
c.parentNode.removeChild(c);this._deleteItemRegion(a);this._updateHasAnyRegions();this.setItemFloater(a,null);break;case 11:this.setItemFloater(a,null)}else{var e=b=!1,f=!1,g=!1,h=!0,i=!1,j=!1,k=!1;switch(c){case 9:case 6:case 7:this._checkLicense();this._updateItemRegion(a);this._updateHasAnyRegions();j=i=b=!0;break;case 2:case 3:case 5:b=!1;f=!0;break;case 14:case 13:this.get_useElements()&&a._updateBackImageElement();k=!0;b=!1;f=!0;break;case 4:b=!1;f=!lt.Controls.GraphicsHelper.isTransparentColor(this.get_hoveredItemBorderColor())||
!lt.Controls.GraphicsHelper.isTransparentColor(this.get_hoveredItemBackgroundColor());break;case 0:case 8:k=j=b=!0;break;case 1:b=a.get_resizeOnTransform();h=!1;f=g=!0;break;case 11:this._updateHasAnyFloaterRegions();e=!0;break;case 12:this._updateHasAnyFloaterRegions(),e=!0}if(this.get_useElements()&&(j&&(d.removedImageUrl=null),k))d.removedBackImageUrl=null;b?this.get_canTransform()&&this._internalUpdateTransform(!0,h):(g&&(this._updateProps(),this._callInterpolatorsTransformChanged()),e&&this._updateFloaterTransform(a),
f&&this.invalidateItem(a));i&&this.get_interpolationMode()&&this._tryStartItemInterpolator(a,d);this.onItemChanged(lt.Controls.ImageViewerItemChangedEventArgs.create(a,c))}},_deleteItemRegion:function(a){var b=-1;null!=a&&(b=this._getItemIndex(a,"item"));-1!==b&&(a=this._items.get__props()[b],null!=a.region&&(a.region=null))},_updateItemRegion:function(a){this._deleteItemRegion(a);if(this.get_imageRegionRenderMode()){var b=a.get_image(),c=a.get_canvas();null==b&&null==c||(a=this._getItemIndex(a,"item"),
this._items.get__props()[a].region=null)}},_doUpdateItemRegion:function(a){this._updateItemRegion(a);this._updateItemFloaterRegion(a)},setItemFloater:function(a,b){if(null==a)throw new lt.ArgumentNullException("item");this._getItemIndex(a,"item");var c=a.get_floater();b!==c&&(a._setFloater(b),this._updateItemFloaterRegion(a))},_updateItemFloaterRegion:function(a){var b=this._getItemIndex(a,"item");this._items.get__props()[b].floaterRegion=null;null!=a.get_floater()&&this.get_floaterRegionRenderMode()},
get_eraseBackgroundOnInvalidate:function(){return this._EraseBackgroundOnInvalidate},set_eraseBackgroundOnInvalidate:function(a){this._EraseBackgroundOnInvalidate!==a&&(this._EraseBackgroundOnInvalidate=a,this.onPropertyChanged(lt.Controls.ImageViewer._EraseBackgroundOnInvalidate_Name));return a},add_eraseBackground:function(a){this.__eraseBackground=ss.Delegate.combine(this.__eraseBackground,a)},remove_eraseBackground:function(a){this.__eraseBackground=ss.Delegate.remove(this.__eraseBackground,a)},
__eraseBackground_handler_get:function(){null==this.__eraseBackground_handler&&(this.__eraseBackground_handler=ss.EventHandler.create(this,this.add_eraseBackground,this.remove_eraseBackground));return this.__eraseBackground_handler},__eraseBackground:null,__eraseBackground_handler:null,onEraseBackground:function(a){null!=this.__eraseBackground&&this.__eraseBackground(this,a);if(this.get_eraseBackgroundOnInvalidate()){var b=a.get_context(),a=lt.Controls.PrimitivesHelper.toLeadRectD(a.get_clipRectangle());
lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(a)&&(a=this._getForeCanvasRectangle());this._isRenderRedirected&&null!=this._renderRedirectOptions&&null!=this._renderRedirectOptions.get_backgroundColor()?lt.Controls.GraphicsHelper.fillBackground(b,this._renderRedirectOptions.get_backgroundColor(),a,lt.LeadMatrix.get_identity()):lt.Controls.GraphicsHelper.clearBackground(b,a,lt.LeadMatrix.get_identity())}},get__nativeBackColor:function(){return null!=this._mainDiv?lt.LTHelper.getElementStyle(this._mainDiv,
"backgroundColor"):null},renderRedirect:function(a,b,c){if(null==a)throw new lt.ArgumentNullException("context");var c=c.clone(),d=new lt.Controls.ImageViewerRenderEventArgs(a,c),e=null;try{c.get_isEmpty()||(e=lt.Controls.GraphicsHelper.saveContext(a),lt.Controls.GraphicsHelper.intersectClip(a,c)),this._doRender(d,b,!0)}finally{null!=e&&lt.Controls.GraphicsHelper.restoreContext(a,e)}},_needsRender:!1,get__isRenderEnabled:function(){return!this._needsRender?!1:this._needsRender=!0},_InternalImmediateRender:!1,
_nativeInvalidate:function(a){this._needsRender=!0;if(this._checkAllCanRender(a))if(!this._EnableRequestAnimationFrame||this._InternalImmediateRender){this._InternalImmediateRender=!1;var b=this._foreCanvas.getContext("2d");this._doRender(new lt.Controls.ImageViewerRenderEventArgs(b,a),null,!1)}else-1!==this._RequestAnimationFrameIndex&&lt.LTHelper.cancelAnimationFrame(this._RequestAnimationFrameIndex),-1!==this._DisabledRequestAnimationFrameIndex?(lt.LTHelper.cancelAnimationFrame(this._DisabledRequestAnimationFrameIndex),
this._DisabledRequestAnimationFrameIndex=lt.LTHelper.requestAnimationFrame(this._animationRenderDisableTransitions_Delegate)):this.get_isTransitionsEnabled()?this._RequestAnimationFrameIndex=lt.LTHelper.requestAnimationFrame(this._animationRender_Delegate):this._DisabledRequestAnimationFrameIndex=lt.LTHelper.requestAnimationFrame(this._animationRenderDisableTransitions_Delegate)},_animationRender_Delegate:null,_animationRenderDisableTransitions_Delegate:null,_animationRender:function(){this._DisabledRequestAnimationFrameIndex=
this._RequestAnimationFrameIndex=-1;if(null!=this._foreCanvas){var a=this._foreCanvas.getContext("2d");this._doRender(new lt.Controls.ImageViewerRenderEventArgs(a,this._renderInvalidateRect),null,!1)}},_animationRenderDisableTransitions:function(){this.disableTransitions();this._animationRender();this.enableTransitions()},invalidate:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"rc");this._nativeInvalidate(a)},_nativeRenderImage:function(a,b,c){b._render(a,c)},_checkLicense:function(){if(!lt.Controls.ImageViewer._9823H){lt.Controls.ImageViewer._9823H=
!0;var a="function"==typeof Leadtools&&"function"==typeof Leadtools.RasterSupport;if(a)(Leadtools.RasterSupport.kernelType==Leadtools.RasterKernelType.evaluation||Leadtools.RasterSupport.kernelType==Leadtools.RasterKernelType.nag)&&Leadtools.RasterSupport.initialize();else{var b=lt.LTHelper.OS===lt.LTOS.windows&&lt.LTHelper.device===lt.LTDevice.mobile&&"x-wmapp0:"===window.location.protocol,c=null,c=b?new ActiveXObject("Msxml2.XMLHTTP"):new XMLHttpRequest;try{c.onreadystatechange=function(){if(4===
c.readyState){if(200===c.status||"file:"===window.location.protocol&&!c.status||b&&!c.status){var d=c.responseText;null==d&&(d="");for(var e=new ss.StringBuilder,f=ss.IEnumerator.getEnumerator(lt.Controls.ImageViewer._toVerify);f.moveNext();)e.append(String.fromCharCode([f.current^86]));d.startsWith(e.toString())||lt.Controls.ImageViewer._showError(a)}else c.status&&lt.Controls.ImageViewer._showError(a);c=c.onreadystatechange=null}};var d=new ss.StringBuilder;d.append("./");d.append(String.isNullOrWhiteSpace(lt.LTHelper.licenseDirectory)?
null:lt.LTHelper.licenseDirectory+"/");for(var e=ss.IEnumerator.getEnumerator(lt.Controls.ImageViewer._licFile);e.moveNext();)d.append(String.fromCharCode([e.current^102]));c.open("GET",d.toString(),!0);var f=lt.LTHelper.requestCustomHeaders;if(0<Object.getKeyCount(f))for(var g=ss.IEnumerator.getEnumerator(Object.keys(f));g.moveNext();){var h=g.current;c.setRequestHeader(h,f[h])}c.send()}catch(i){lt.Controls.ImageViewer._showError(a)}}}},_nativeRenderFloater:function(a,b){var c=this.getItemFloaterSize(b,
!1);if(!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(c)){var d=b.get_floater();if(null!=d){var e=this.getItemFloaterTransform(b);if(e.get_hasInverse()){var f=a.get_context(),g=null;try{e.get_isIdentity()||(g=lt.Controls.GraphicsHelper.saveContext(f),lt.Controls.GraphicsHelper.multiplyTransform(f,e)),f.drawImage(d,0,0,c.get_width(),c.get_height())}finally{null!=g&&lt.Controls.GraphicsHelper.restoreContext(f,g)}}}}},get_allowDrop:function(){return this._AllowDrop},set_allowDrop:function(a){this._AllowDrop!==
a&&(this._AllowDrop=a,this.onPropertyChanged(lt.Controls.ImageViewer._AllowDrop_Name));return a},_getDragLocation:function(a){var b=this._interactiveService.get_eventsSource();return null!=b?(b=lt.LTHelper.getPosition(b,null),lt.LeadPointD.create(a.clientX-b.get_x(),a.clientY-b.get_y())):lt.LeadPointD.create(a.offsetX,a.offsetY)},_getDefaultDragItem:function(a){if(null!=a.get_customDragElement())return a.get_targetItem();a=this.hitTestItem(a.get_location());null==a&&(a=this.get_activeItem());return a},
_element_DragEnter:function(a){this._internal_element_DragEnter(a,null,lt.LeadPointD.get_empty(),null)},_internal_element_DragEnter:function(a,b,c,d){if(this.get_allowDrop()&&null!=lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer){var e=null==d,c=e?this._getDragLocation(a):c,f=new lt.Controls.ImageViewerItemDragDropEventArgs;f._setNative(c,a);f._setCustom(b,d);e?f.set_effect(a.dataTransfer.dropEffect):(f.set_effect(this._getCustomDragCursor()),this._setCustomDragCursor(f.get_effect()));
this._doDragEnter(f);e?a.dataTransfer.dropEffect=f.get_effect():this._setCustomDragCursor(f.get_effect());"none"!==f.get_effect()&&a.preventDefault()}},_element_DragOver:function(a){this._internal_element_DragOver(a,null,lt.LeadPointD.get_empty(),null)},_internal_element_DragOver:function(a,b,c,d){if(!this.get_allowDrop()||null==lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer)return!1;var e=null==d,f=e?this._getDragLocation(a):c,c=new lt.Controls.ImageViewerItemDragDropEventArgs;
c._setNative(f,a);c._setCustom(b,d);e?c.set_effect(a.dataTransfer.dropEffect):(c.set_effect(this._getCustomDragCursor()),this._setCustomDragCursor(c.get_effect()));this._doDragOver(c);b=!1;e?a.dataTransfer.dropEffect=c.get_effect():(this._setCustomDragCursor(c.get_effect()),b="none"!==c.get_effect());"none"!==c.get_effect()&&a.preventDefault();return b},_element_DragLeave:function(a){this._internal_element_DragLeave(a,null,lt.LeadPointD.get_empty(),null)},_internal_element_DragLeave:function(a,b,
c,d){if(this.get_allowDrop()&&null!=lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer){var e=null==d,c=e?this._getDragLocation(a):c,f=new lt.Controls.ImageViewerItemDragDropEventArgs;f._setNative(c,a);f._setCustom(b,d);f.set_effect("none");e||this._setCustomDragCursor(f.get_effect());this._doDragLeave(f);e||this._setCustomDragCursor(f.get_effect())}},_element_Drop:function(a){this._internal_element_Drop(a,null,lt.LeadPointD.get_empty(),null)},_internal_element_Drop:function(a,b,c,
d){if(this.get_allowDrop()&&null!=lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer){var e=null==d,f=e?this._getDragLocation(a):c,c=new lt.Controls.ImageViewerItemDragDropEventArgs;c._setNative(f,a);c._setCustom(b,d);c.set_effect("copy");e||this._setCustomDragCursor(c.get_effect());this._doDrop(c);e?a.dataTransfer.dropEffect=c.get_effect():this._resetCustomDragCursor();a.preventDefault();c.get_abort()||"none"===c.get_effect()||(b=null,e?(b=a.dataTransfer.getData("URL"),String.isNullOrEmpty(b)&&
(b=a.dataTransfer.getData("text"))):null!=d&&(b=d.getAttribute("data-drag")),String.isNullOrEmpty(b)||this.processDragDropUrl(c.get_targetItem(),b))}},processDragDropUrl:function(a,b){if(null==a){var c=new lt.Controls.ImageViewerItem;c.set_url(b);this.get_items().add(c)}else this.get_items().updateUrl(a,b,lt.LeadSizeD.get_empty())},_setCustomDragCursor:function(a){if(null!=document.body){var b=null;switch(a){case "link":case "move":b="alias";break;case "none":b="not-allowed";break;default:b="copy"}lt.Controls.ImageViewer._customDragCursorStyle!==
b&&(document.body.style.cursor=b,document.body.parentNode.style.cursor=b);lt.Controls.ImageViewer._customDragCursorStyle=b}},_resetCustomDragCursor:function(){lt.Controls.ImageViewer._customDragCursorStyle=null;null!=document.body&&(document.body.style.cursor="",document.body.parentNode.style.cursor="")},_getCustomDragCursor:function(){switch(lt.Controls.ImageViewer._customDragCursorStyle){case "copy":return"copy";case "alias":return"move";case "not-allowed":return"none";default:return"copy"}},_customDragInControl:!1,
_customDragCanDrop:!1,_customDragTargetItem:null,_viewer_CustomDrag_Move:function(a,b){var c=lt.Controls.ImageViewerDragInteractiveMode._globalDragCustomElement;if(this.get_allowDrop()&&!(null==lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer||b.get_isHandled()||null==c||lt.Controls.ImageViewerDragInteractiveMode._customDragCompleted_DropsOnly)){var d=this._customDragIndex!==lt.Controls.ImageViewerDragInteractiveMode._globalDragIndex,e=this._getClientRectangle().containsPoint(b.get_position());
if(!d||e){d&&(this._customDragIndex=lt.Controls.ImageViewerDragInteractiveMode._globalDragIndex,this._customDragInControl=this._customDragCanDrop=!1,this._customDragTargetItem=lt.Controls.ImageViewer._customDragCursorStyle=null);if(e){var d=this.hitTestItem(b.get_position()),f=!0;this._customDragInControl||this._internal_element_DragEnter(b.get_nativeEvent(),null,b.get_position(),c);d!==this._customDragTargetItem&&(null!=this._customDragTargetItem&&(this._internal_element_DragLeave(b.get_nativeEvent(),
this._customDragTargetItem,b.get_position(),c),this._customDragCanDrop=f=!1),this._customDragTargetItem=d,null!=this._customDragTargetItem&&this._internal_element_DragEnter(b.get_nativeEvent(),this._customDragTargetItem,b.get_position(),c));f&&(this._customDragCanDrop=this._internal_element_DragOver(b.get_nativeEvent(),this._customDragTargetItem,b.get_position(),c))}else this._customDragTargetItem=null,this._customDragCanDrop=!1,this._customDragInControl&&this._internal_element_DragLeave(b.get_nativeEvent(),
this._customDragTargetItem,b.get_position(),c);this._customDragInControl=e}}},_viewer_CustomDrag_Up:function(a,b){var c=lt.Controls.ImageViewerDragInteractiveMode._globalDragCustomElement;if(this.get_allowDrop()&&!(null==lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer||b.get_isHandled()||null==c))this._customDragInControl&&this._customDragIndex===lt.Controls.ImageViewerDragInteractiveMode._globalDragIndex&&(this._customDragCanDrop?this._internal_element_Drop(b.get_nativeEvent(),
this._customDragTargetItem,b.get_position(),c):lt.Controls.ImageViewerDragInteractiveMode._customDragCompleted_DropsOnly||this._internal_element_DragLeave(b.get_nativeEvent(),this._customDragTargetItem,b.get_position(),c))},_InterpolatorManager:null,get_interpolationRunMode:function(){return this._InterpolationRunMode},set_interpolationRunMode:function(a){this._InterpolationRunMode!==a&&(this._stopInterpolators(!0),this._InterpolationRunMode=a,this._InterpolatorManager.set_runMode(this._InterpolationRunMode),
this._tryStartInterpolators(),this.onPropertyChanged(lt.Controls.ImageViewer._InterpolationRunMode_Name),this._nativeInvalidate(lt.LeadRectD.get_empty()));return a},get_interpolationMode:function(){return this._InterpolationMode},set_interpolationMode:function(a){this._InterpolationMode!==a&&(this._stopInterpolators(!0),(this._InterpolationMode=a)&&this._tryStartInterpolators(),this.onPropertyChanged(lt.Controls.ImageViewer._InterpolationMode_Name),this._nativeInvalidate(lt.LeadRectD.get_empty()));
return a},_stopInterpolators:function(a){for(var b=this._items.get_count(),c=this._items.get__props(),d=0;d<b;d++){var e=this._items.get_item(d),f=c[d];null!=f.interpolator&&this._stopItemInterpolator(e,f,a)}},_stopItemInterpolator:function(a,b,c){null==a||null==b.interpolator||(b.interpolator.stop(c,!0),b.interpolator.dispose(),b.interpolator=null)},_tryStartItemInterpolator:function(a,b){null!=a&&null!=a&&a.get_hasImage()&&lt.LTHelper.supportsWebWorker&&(null==b.interpolator&&(b.interpolator=new lt.Controls._interpolator(this,
a)),b.interpolator.start())},_tryStartInterpolators:function(){for(var a=this._getClientRectangle(),b=this._items.get_count(),c=this._items.get__props(),d=0;d<b;d++){var e=c[d];if(e.viewContentBounds.intersectsWith(a)){var f=this._items.get_item(d);f.get_hasImage()&&this._tryStartItemInterpolator(f,e)}}},add_interpolation:function(a){this.__interpolation=ss.Delegate.combine(this.__interpolation,a)},remove_interpolation:function(a){this.__interpolation=ss.Delegate.remove(this.__interpolation,a)},__interpolation_handler_get:function(){null==
this.__interpolation_handler&&(this.__interpolation_handler=ss.EventHandler.create(this,this.add_interpolation,this.remove_interpolation));return this.__interpolation_handler},__interpolation:null,__interpolation_handler:null,_internalOnInterpolation:function(a){null!=this.__interpolation&&this.__interpolation(this,a)},_callInterpolatorsTransformChanged:function(){if(this.get_interpolationMode())for(var a=this._getClientRectangle(),b=this._items.get_count(),c=this._items.get__props(),d=0;d<b;d++){var e=
c[d],f=this._items.get_item(d),g=e.viewContentBounds.intersectsWith(a);if(null!=e.interpolator)if(g)e.interpolator.onTransformChanged();else this._stopItemInterpolator(f,e,!0);else g&&this._tryStartItemInterpolator(f,e)}},get_image:function(){var a=this.get_activeItem();return null!=a?a.get_image():null},set_image:function(a){var b=this.get_activeItem();null!=b&&b.set_image(a);return a},get_element:function(){var a=this.get_activeItem();return null!=a?a.get_element():null},set_element:function(a){var b=
this.get_activeItem();null!=b&&b.set_element(a);return a},get_canvas:function(){var a=this.get_activeItem();return null!=a?a.get_canvas():null},set_canvas:function(a){var b=this.get_activeItem();null!=b&&b.set_canvas(a);return a},get_imageUrl:function(){var a=this.get_activeItem();return null!=a?a.get_url():null},set_imageUrl:function(a){var b=this.get_activeItem();if(null!=b){this.beginTransform();var c=b.get_loadUrlMode();b.set_loadUrlMode(lt.ImageLoaderUrlMode.imageUrl);try{b.set_url(a),this._updateForResetOptions()}finally{b.set_loadUrlMode(c),
this.endTransform()}this.onPropertyChanged(lt.Controls.ImageViewer._ImageUrl_Name)}return a},get_backImageUrl:function(){var a=this.get_activeItem();return null!=a?a.get_backImageUrl():null},set_backImageUrl:function(a){var b=this.get_activeItem();if(null!=b){this.beginTransform();var c=b.get_backImageLoadUrlMode();b.set_backImageLoadUrlMode(lt.ImageLoaderUrlMode.imageUrl);try{b.set_backImageUrl(a),this._updateForResetOptions()}finally{b.set_backImageLoadUrlMode(c),this.endTransform()}this.onPropertyChanged(lt.Controls.ImageViewer._BackImageUrl_Name)}return a},
get_backImage:function(){var a=this.get_activeItem();return null!=a?a.get_backImage():null},set_backImage:function(a){var b=this.get_activeItem();null!=b&&(this.beginTransform(),b.set_backImage(a),this._updateForResetOptions(),this.endTransform(),this.onPropertyChanged(lt.Controls.ImageViewer._BackImage_Name));return a},get_floater:function(){var a=this.get_activeItem();return null!=a?a.get_floater():null},set_floater:function(a){var b=this.get_activeItem();null!=b&&b.set_floater(a);return a},get_loadImageUrlMode:function(){var a=
this.get_activeItem();return null!=a?a.get_loadUrlMode():lt.ImageLoaderUrlMode.imageUrl},set_loadImageUrlMode:function(a){var b=this.get_activeItem();null!=b&&(b.set_loadUrlMode(a),this.onPropertyChanged(lt.Controls.ImageViewer._LoadImageUrlMode_Name));return a},get_backImageLoadImageUrlMode:function(){var a=this.get_activeItem();return null!=a?a.get_backImageLoadUrlMode():lt.ImageLoaderUrlMode.imageUrl},set_backImageLoadImageUrlMode:function(a){var b=this.get_activeItem();null!=b&&(b.set_backImageLoadUrlMode(a),
this.onPropertyChanged(lt.Controls.ImageViewer._BackImageLoadImageUrlMode_Name));return a},_doMouseWheel:function(a){this.disableTransitions();a=lt.LeadPointD.create(0,a);a=lt.Controls.ImageViewerPanZoomInteractiveMode._calculateMouseWheelChange(this,a);(!lt.LeadDoubleTools.isZero(a.get_x())||!lt.LeadDoubleTools.isZero(a.get_y()))&&this.scrollBy(a);this.enableTransitions()},_autoSizeChangedCounter:0,beginAutoSizeChanged:function(){this._autoSizeChangedCounter++},get__canAutoSizeChanged:function(){return!this._autoSizeChangedCounter},
endAutoSizeChanged:function(){if(!this._autoSizeChangedCounter)throw new lt.InvalidOperationException("'EndAutoSizeChanged' called without a matching 'BeginAutoSizeChanged'");this._autoSizeChangedCounter--;if(!this._autoSizeChangedCounter)this.onSizeChanged()},_ActiveItemBackgroundColor:"transparent",_ItemTextColor:"black",_ViewBorderColor:"black",_ItemBorderColor:"black",_ImageBorderColor:"black",_ItemBackgroundColor:"transparent",_ImageBackgroundColor:"transparent",_SelectedItemBorderColor:"transparent",
_SelectedItemBackgroundColor:"transparent",_HoveredItemBorderColor:"transparent",_HoveredItemBackgroundColor:"transparent",_ActiveItemBorderColor:"transparent",_SelectedItemTextColor:"black",get_updateShadowOnRotation:function(){return!1},set_updateShadowOnRotation:function(a){return a},_flipImageElement:!1,get_flipImageElement:function(){return this._flipImageElement},set_flipImageElement:function(a){this._checkSetForUseElements("FlipImageElement");if(this._flipImageElement!==a){this._flipImageElement=
a;var b=!1;this.beginTransform();for(var c=ss.IEnumerator.getEnumerator(this._items);c.moveNext();){var d=c.current;d.get_flipImageElement()!==this._flipImageElement&&(d.set_flipImageElement(this._flipImageElement),b=!0)}this._internalEndTransform(b,b)}return a},_reverseImageElement:!1,get_reverseImageElement:function(){return this._reverseImageElement},set_reverseImageElement:function(a){this._checkSetForUseElements("ReverseImageElement");if(this._reverseImageElement!==a){this._reverseImageElement=
a;var b=!1;this.beginTransform();for(var c=ss.IEnumerator.getEnumerator(this._items);c.moveNext();){var d=c.current;d.get_reverseImageElement()!==this._reverseImageElement&&(d.set_reverseImageElement(this._reverseImageElement),b=!0)}this._internalEndTransform(b,b)}return a},_checkSetForUseElements:function(a){if(!this.get_useElements())throw new lt.ArgumentException("Cannot change this property when UseElements mode is off",a);},updateStyles:function(){this._useElements&&(this._internalUpdateStyles(),
this.updateTransform())},_internalUpdateStyles:function(){if(0<this.get_items().get_count()){for(var a=null,b=0;b<this.get_items().get_count()&&!(a=this.get_items().get_item(b),null!=a.get_itemElement());b++);null!=a&&null!=a.get_itemElement()&&(b=a.get_itemElement(),a=a.get_imageBorderElement(),a=lt.Controls._elementsHelper.getElementComputedStyles(a),this._ImageBorderThickness=lt.Controls._elementsHelper.getElementCSSArrayInt(a,"border","Width")[0],b=lt.Controls._elementsHelper.getElementComputedStyles(b),
this._ItemBorderThickness=lt.Controls._elementsHelper.getElementCSSArrayInt(b,"border","Width")[0],a=lt.Controls._elementsHelper.getElementCSSArrayInt(b,"margin",""),this._ItemMargin=lt.Controls.ControlPadding.create(a[3],a[0],a[1],a[2]),b=lt.Controls._elementsHelper.getElementCSSArrayInt(b,"padding",""),this._ItemPadding=lt.Controls.ControlPadding.create(b[3],b[0],b[1],b[2]))}b=lt.Controls._elementsHelper.getElementComputedStyles(this._viewDiv);this._ViewBorderThickness=lt.Controls._elementsHelper.getElementCSSArrayInt(b,
"border","Width")[0];a=lt.Controls._elementsHelper.getElementCSSArrayInt(b,"margin","");this._ViewMargin=lt.Controls.ControlPadding.create(a[3],a[0],a[1],a[2]);b=lt.Controls._elementsHelper.getElementCSSArrayInt(b,"padding","");this._ViewPadding=lt.Controls.ControlPadding.create(b[3],b[0],b[1],b[2])},add_autoItemElementsAdded:function(a){this.__autoItemElementsAdded=ss.Delegate.combine(this.__autoItemElementsAdded,a)},remove_autoItemElementsAdded:function(a){this.__autoItemElementsAdded=ss.Delegate.remove(this.__autoItemElementsAdded,
a)},__autoItemElementsAdded_handler_get:function(){null==this.__autoItemElementsAdded_handler&&(this.__autoItemElementsAdded_handler=ss.EventHandler.create(this,this.add_autoItemElementsAdded,this.remove_autoItemElementsAdded));return this.__autoItemElementsAdded_handler},__autoItemElementsAdded:null,__autoItemElementsAdded_handler:null,onAutoItemElementsAdded:function(a){null!=this.__autoItemElementsAdded&&this.__autoItemElementsAdded(this,a)},add_autoItemElementsRemoved:function(a){this.__autoItemElementsRemoved=
ss.Delegate.combine(this.__autoItemElementsRemoved,a)},remove_autoItemElementsRemoved:function(a){this.__autoItemElementsRemoved=ss.Delegate.remove(this.__autoItemElementsRemoved,a)},__autoItemElementsRemoved_handler_get:function(){null==this.__autoItemElementsRemoved_handler&&(this.__autoItemElementsRemoved_handler=ss.EventHandler.create(this,this.add_autoItemElementsRemoved,this.remove_autoItemElementsRemoved));return this.__autoItemElementsRemoved_handler},__autoItemElementsRemoved:null,__autoItemElementsRemoved_handler:null,
onAutoItemElementsRemoved:function(a){null!=this.__autoItemElementsRemoved&&this.__autoItemElementsRemoved(this,a)},add_elementsUpdated:function(a){this.__elementsUpdated=ss.Delegate.combine(this.__elementsUpdated,a)},remove_elementsUpdated:function(a){this.__elementsUpdated=ss.Delegate.remove(this.__elementsUpdated,a)},__elementsUpdated_handler_get:function(){null==this.__elementsUpdated_handler&&(this.__elementsUpdated_handler=ss.EventHandler.create(this,this.add_elementsUpdated,this.remove_elementsUpdated));
return this.__elementsUpdated_handler},__elementsUpdated:null,__elementsUpdated_handler:null,onElementsUpdated:function(a){null!=this.__elementsUpdated&&this.__elementsUpdated(this,a)},_elementsViewTransitionEventSent:!1,_updateViewElement:function(){this._elementsViewTransitionEventSent=!1;if(this._useElements){var a=this.getViewBounds(!0,!1),b;if(this._useElementsOptions.get_autoRemoveItemElements()){b=this._getClientRectangle();var c=10+this._ViewMargin.get_top()+this._ViewBorderThickness+this._ViewPadding.get_top(),
d=10+this._ViewMargin.get_left()+this._ViewBorderThickness+this._ViewPadding.get_left();b.inflate(d,c);b=lt.LeadRectD.intersectRects(b,a)}else b=a;c=b.clone();c=lt.Controls.PaddingHelper.removeFromRectD(c,this.get_viewPadding());d=this.get_viewBorderThickness();c.inflate(-d,-d);c=lt.Controls.PaddingHelper.removeFromRectD(c,this.get_viewMargin());this._viewDiv.style.width=c.get_width().toString()+"px";this._viewDiv.style.height=c.get_height().toString()+"px";lt.Controls.ImageViewer._convertToElementCSSTransform(this._viewDiv,
lt.LeadMatrix.create(1,0,0,1,b.get_x(),b.get_y()));this._viewElementInflationOffset=lt.LeadPointD.create(a.get_x()-b.get_x(),a.get_y()-b.get_y());null!=this._passthroughDiv&&(a=a.clone(),a=lt.Controls.PaddingHelper.removeFromRectD(a,this._ViewMargin),this._useElementsOptions.get_autoRemoveItemElements()&&(b=this._getClientRectangle(),c=10+this._ViewBorderThickness+this._ViewPadding.get_top(),d=10+this._ViewBorderThickness+this._ViewPadding.get_left(),b.inflate(d,c),a=lt.LeadRectD.intersectRects(b,
a)),this._passthroughDiv.style.width=a.get_width().toString()+"px",this._passthroughDiv.style.height=a.get_height().toString()+"px",lt.Controls.ImageViewer._convertToElementCSSTransform(this._passthroughDiv,lt.LeadMatrix.create(1,0,0,1,a.get_x(),a.get_y())));this._updateViewElementDisplay()}},_updateViewElementDisplay:function(){this.get_useElements()&&(1>this._items.get_count()?(lt.LTHelper.addClass(this._viewDiv,"lt_no_display"),null!=this._passthroughDiv&&lt.LTHelper.addClass(this._passthroughDiv,
"lt_no_display")):(lt.LTHelper.removeClass(this._viewDiv,"lt_no_display"),null!=this._passthroughDiv&&lt.LTHelper.removeClass(this._passthroughDiv,"lt_no_display")))},_updateItemElement:function(a,b,c,d,e,f){if(this._useElements){var g=!c.propsChanged&&!b._itemChanged&&!b._itemImageChanged&&!b._itemBackImageChanged,h=!1;if(this._useElementsOptions.get_autoRemoveItemElements()){if(!e&&null!=b.get_itemElement()?c.stillHidden?(this.onAutoItemElementsRemoved(a),f.add(b)):c.stillHidden=!0:e&&null==b.get_itemElement()&&
(b._createItemElements(),this.onAutoItemElementsAdded(a),this._disableTransitionsOnItem(b),h=!0,null!=b.get_url()&&!b.get_hasImage()&&b._updateFromUrl(b.get_url(),b.get_resolution()),g=!1),e&&c.stillHidden)c.stillHidden=!1}else null==b.get_itemElement()&&(e?(b._createItemElements(),g=!1):g=!0);if(g)e&&d&&b._renderInterpolation(a,c);else if((b._itemImageChanged||b._itemBackImageChanged)&&this._disableTransitionsOnItem(b),h&&(e=c.removedItemOffset,e.get_isEmpty()||(f=lt.LeadMatrix.get_identity(),f.set_offsetX(e.get_x()),
f.set_offsetY(e.get_y()),null!=b.get_itemElement()&&!lt.LeadMatrix.equals(b._itemElement_DOM_Transform,f)&&(b._itemElement_DOM_Transform=f.clone(),lt.Controls.ImageViewer._convertToElementCSSTransform(b.get_itemElement(),f)),c.removedItemOffset=lt.LeadPointD.get_empty()),this._enableTransitionsOnItem(b)),e=this.getItemBounds(b,2),e.get_isEmpty()&&null!=b.get_itemElement()&&(lt.LTHelper.addClass(b.get_itemElement(),"lt_no_display"),null!=this._passthroughDiv&&lt.LTHelper.addClass(b.get_imageClippingElement(),
"lt_no_display")),f=lt.LeadMatrix.get_identity(),g=c.itemElementOffset,f.set_offsetX(e.get_x()-g.get_x()+this._viewElementInflationOffset.get_x()),f.set_offsetY(e.get_y()-g.get_y()+this._viewElementInflationOffset.get_y()),this._useElementsOptions.get_autoRemoveItemElements()&&null==b.get_itemElement())c.removedItemOffset=lt.LeadPointD.create(f.get_offsetX(),f.get_offsetY()),lt.Controls.ImageViewer._postRenderItemCleanup(b,c);else{if(null!=b.get_itemElement()&&(b._itemElement_DOM_Width!==e.get_width()&&
(b._itemElement_DOM_Width=e.get_width(),b.get_itemElement().style.width=e.get_width().toString()+"px"),b._itemElement_DOM_Height!==e.get_height()&&(b._itemElement_DOM_Height=e.get_height(),b.get_itemElement().style.height=e.get_height().toString()+"px"),!lt.LeadMatrix.equals(b._itemElement_DOM_Transform,f)))b._itemElement_DOM_Transform=f.clone(),lt.Controls.ImageViewer._convertToElementCSSTransform(b.get_itemElement(),f);b._imageClippingElement_DOM_Width!==e.get_width()&&(b._imageClippingElement_DOM_Width=
e.get_width(),b.get_imageClippingElement().style.width=e.get_width().toString()+"px");b._imageClippingElement_DOM_Height!==e.get_height()&&(b._imageClippingElement_DOM_Height=e.get_height(),b.get_imageClippingElement().style.height=e.get_height().toString()+"px");g=lt.LeadMatrix.get_identity();if(null!=this._passthroughDiv&&b.get__hasHTMLAsImage()||lt.Controls._elementsHelper.isSvgElement(b.get_element()))g=f.clone(),g.set_offsetX(g.get_offsetX()+this._ItemMargin.get_left()+this._ItemBorderThickness+
this._ItemPadding.get_left()+this._ViewBorderThickness+this._ViewPadding.get_left()),g.set_offsetY(g.get_offsetY()+this._ItemMargin.get_top()+this._ItemBorderThickness+this._ItemPadding.get_top()+this._ViewBorderThickness+this._ViewPadding.get_top());lt.LeadMatrix.equals(b._imageClippingElement_DOM_Transform,g)||(b._imageClippingElement_DOM_Transform=g.clone(),lt.Controls.ImageViewer._convertToElementCSSTransform(b.get_imageClippingElement(),g));b._updateClippingElement();if(null!=b.get_itemElement()){f=
this.get_isTransitionsEnabled()&&this._isTransitionsEnabledOnItem(b);g=new lt.Controls.ImageViewerElementsUpdatedEventArgs;g._setTransitioning(f);if(!f||!this._elementsViewTransitionEventSent)this._elementsViewTransitionEventSent=!0,h=new lt.Controls.ImageViewerElementsUpdatedEventArgs,h._setTransitioning(f),this.onElementsUpdated(h);this.onElementsUpdated(g)}this._updateItemInnerElements(b,c,e);lt.Controls.ImageViewer._postRenderItemCleanup(b,c);d&&b._renderInterpolation(a,c)}}},_updateItemInnerElements:function(a,
b,c){var b=b.imageTransform.clone(),b=lt.LeadPointD.create(lt.Controls.PrimitivesHelper.roundTo(Math.sqrt(Math.pow(b.get_m11(),2)+Math.pow(b.get_m12(),2)),5),lt.Controls.PrimitivesHelper.roundTo(Math.sqrt(Math.pow(b.get_m21(),2)+Math.pow(b.get_m22(),2)),5)),d=a.get_imageScale(),e=a.get_imageSize(),f=lt.LeadPointD.create(b.get_x()*d,b.get_y()*d),g=lt.LeadSizeD.create(e.get_width()*b.get_x(),e.get_height()*b.get_y()),b="";a._modifiedRotationAngle&&(b=String.format("rotate({0}deg)",a._modifiedRotationAngle));
var h=this.getItemViewBounds(a,2,!1),i=this.getItemViewBounds(a,3,!1);this.get_itemBorderThickness();var j=lt.LeadRectD.create(0,0,i.get_width(),i.get_height());j.get_isEmpty()||(j.set_x(i.get_x()-h.get_x()),j.set_y(i.get_y()-h.get_y()));a._imageFlipElement_DOM_Width!==j.get_width()&&(a._imageFlipElement_DOM_Width=j.get_width(),a.get_imageFlipElement().style.width=j.get_width().toString()+"px");a._imageFlipElement_DOM_Height!==j.get_height()&&(a._imageFlipElement_DOM_Height=j.get_height(),a.get_imageFlipElement().style.height=
j.get_height().toString()+"px");var i=String.format("translate({0}px, {1}px)",j.get_left(),j.get_top()),h=a.get_defaultZoomOrigin(),k="";a.get_flip()&&!h.get_isEmpty()&&(k="rotateX(180deg) ");var n="";a.get_reverse()&&!h.get_isEmpty()&&(n="rotateY(180deg) ");i=String.format("{0}{1}{2}",i,k,n);a._imageBorderElement_DOM_Width!==g.get_width()&&(a._imageBorderElement_DOM_Width=g.get_width(),a.get_imageBorderElement().style.width=g.get_width().toString()+"px");a._imageBorderElement_DOM_Height!==g.get_height()&&
(a._imageBorderElement_DOM_Height=g.get_height(),a.get_imageBorderElement().style.height=g.get_height().toString()+"px");if(k=a.get_resizeElementForView()&&(null!=a.get_canvas()||null!=a.get_element()||null!=a.get_image())){var m=a._resizeElementForViewWidth,s=a._resizeElementForViewHeight,n=parseInt(g.get_width()),l=parseInt(g.get_height());if(null!=a.get_canvas()){if(-1===m||-1===s||m!==n||s!==l)a.get_canvas().width=n,a.get_canvas().height=l;a._resizeElementForViewWidth=n;a._resizeElementForViewHeight=
l}else{if(-1===m||-1===s||m!==g.get_width()||s!==g.get_height())m=null!=a.get_image()?a.get_image():a.get_element(),lt.Controls._elementsHelper.isSvgElement(m)||(m.style.width=g.get_width().toString()+"px",m.style.height=g.get_height().toString()+"px");a._resizeElementForViewWidth=g.get_width();a._resizeElementForViewHeight=g.get_height()}null!=a.get_backImage()&&(lt.Controls._elementsHelper.isCanvasElement(a.get_backImage())?(a.get_backImage().width=n,a.get_backImage().height=l):(a.get_backImage().style.width=
g.get_width().toString()+"px",a.get_backImage().style.height=g.get_height().toString()+"px"))}n="";k||(n=String.format("scaleX({0}) scaleY({1})",f.get_x(),f.get_y()));f=lt.LeadPointD.create((j.get_width()-g.get_width())/2,(j.get_height()-g.get_height())/2);g=this.get_imageBorderThickness();g=lt.LeadPointD.create(f.get_x()-g,f.get_y()-g);g=String.format("translateX({0}px) translateY({1}px)",g.get_x(),g.get_y());k||(d=lt.LeadSizeD.create(e.get_width()/d,e.get_height()/d),f=lt.LeadPointD.create((j.get_width()-
d.get_width())/2,(j.get_height()-d.get_height())/2));d=String.format("translateX({0}px) translateY({1}px)",f.get_x(),f.get_y());e=String.format("{0} {1}",g,b);j="";a.get_flipImageElement()&&!h.get_isEmpty()&&(j="rotateX(180deg) ");f="";a.get_reverseImageElement()&&!h.get_isEmpty()&&(f="rotateY(180deg)");b=String.format("{0} {1} {2} {3} {4}",d,n,b,j,f);a._imageFlipElement_DOM_TransformString!==i&&(a._imageFlipElement_DOM_TransformString=i,lt.Controls.ImageViewer._setElementCSSTransform(a.get_imageFlipElement(),
i));a._imageBorderElement_DOM_TransformString!==e&&(a._imageBorderElement_DOM_TransformString=e,lt.Controls.ImageViewer._setElementCSSTransform(a.get_imageBorderElement(),e));null!=a.get_imageElement()&&a._imageElement_DOM_TransformString!==b&&(a._imageElement_DOM_TransformString=b,lt.Controls.ImageViewer._setElementCSSTransform(a.get_imageElement(),b));null!=a.get_backImageElement()&&a._backImageElement_DOM_TransformString!==b&&(a._backImageElement_DOM_TransformString=b,lt.Controls.ImageViewer._setElementCSSTransform(a.get_backImageElement(),
b));if(null!=a.get_imageElement()||null!=a.get_backImageElement())this._isTransitionsEnabledOnItem(a)||this._enableTransitionsOnItem(a);!c.get_isEmpty()&&null!=a.get_itemElement()&&(lt.LTHelper.removeClass(a.get_itemElement(),"lt_no_display"),null!=this._passthroughDiv&&lt.LTHelper.removeClass(a.get_imageClippingElement(),"lt_no_display"))},_updatedAllItemElements:function(a,b){if(0<b.length){this.beginTransform();for(var c=0;c<b.length;c++){var d=b[c];null!=d&&d._deleteItemElements(!0)}this.endTransform()}},
_transitionsEnabledCounter:0,disableTransitions:function(){if(this.get_useElements()){var a=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);this._transitionsEnabledCounter++;1===this._transitionsEnabledCounter&&(lt.LTHelper.addClass(this._viewDiv,"lt_no_transition"),null!=this._passthroughDiv&&lt.LTHelper.addClass(this._passthroughDiv,"lt_no_transition"));if(this._isSyncSource&&null!=a)for(var b=0;b<a.length;b++){var c=a[b];c!==this&&c.get_isSyncTarget()&&c.disableTransitions()}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)}},
get_isTransitionsEnabled:function(){return 0>=this._transitionsEnabledCounter},enableTransitions:function(){if(this.get_useElements()){var a=lt.Controls.ImageViewerSyncManager.beginSync(this._syncId);if(!this._transitionsEnabledCounter)throw new lt.InvalidOperationException("'EnableTransitions' called without a matching 'DisableTransitions'");this._transitionsEnabledCounter--;this._transitionsEnabledCounter||(lt.Controls._elementsHelper.repaint(this._mainDiv),lt.LTHelper.removeClass(this._viewDiv,
"lt_no_transition"),null!=this._passthroughDiv&&lt.LTHelper.removeClass(this._passthroughDiv,"lt_no_transition"));if(this._isSyncSource&&null!=a)for(var b=0;b<a.length;b++){var c=a[b];c!==this&&c.get_isSyncTarget()&&c.enableTransitions()}lt.Controls.ImageViewerSyncManager.endSync(this._syncId)}},_disableTransitionsOnItem:function(a){null!=a.get_itemElement()&&(lt.LTHelper.addClass(a.get_itemElement(),"lt_item_no_transition"),lt.LTHelper.addClass(a.get_imageClippingElement(),"lt_item_no_transition"))},
_isTransitionsEnabledOnItem:function(a){return null!=a.get_itemElement()?!lt.LTHelper.hasClass(a.get_itemElement(),"lt_item_no_transition"):!1},_enableTransitionsOnItem:function(a){null!=a.get_itemElement()&&(lt.Controls._elementsHelper.repaint(a.get_itemElement()),lt.LTHelper.removeClass(a.get_itemElement(),"lt_item_no_transition"),lt.Controls._elementsHelper.repaint(a.get_itemElement()),lt.LTHelper.removeClass(a.get_imageClippingElement(),"lt_item_no_transition"))},_updateActiveItemElement:function(a){null!=
this._activeItem&&null!=this._activeItem.get_itemElement()&&lt.LTHelper.removeClass(this._activeItem.get_itemElement(),this._useElementsOptions.get_itemActiveClass());null!=a&&null!=a.get_itemElement()&&lt.LTHelper.addClass(a.get_itemElement(),this._useElementsOptions.get_itemActiveClass())},add_imageLoading:function(a){this.__imageLoading=ss.Delegate.combine(this.__imageLoading,a)},remove_imageLoading:function(a){this.__imageLoading=ss.Delegate.remove(this.__imageLoading,a)},__imageLoading_handler_get:function(){null==
this.__imageLoading_handler&&(this.__imageLoading_handler=ss.EventHandler.create(this,this.add_imageLoading,this.remove_imageLoading));return this.__imageLoading_handler},__imageLoading:null,__imageLoading_handler:null,_onImageLoading:function(a){null!=this.__imageLoading&&this.__imageLoading(this,a)}};Object.defineProperty(lt.Controls.ImageViewer.prototype,"propertyChanged",{get:lt.Controls.ImageViewer.prototype.__propertyChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"syncId",{get:lt.Controls.ImageViewer.prototype.get_syncId,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"isSyncSource",{get:lt.Controls.ImageViewer.prototype.get_isSyncSource,set:lt.Controls.ImageViewer.prototype.set_isSyncSource,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"isSyncTarget",{get:lt.Controls.ImageViewer.prototype.get_isSyncTarget,set:lt.Controls.ImageViewer.prototype.set_isSyncTarget,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"screenDpi",{get:lt.Controls.ImageViewer.prototype.get_screenDpi,set:lt.Controls.ImageViewer.prototype.set_screenDpi,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"useDpi",{get:lt.Controls.ImageViewer.prototype.get_useDpi,set:lt.Controls.ImageViewer.prototype.set_useDpi,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"scrollMode",{get:lt.Controls.ImageViewer.prototype.get_scrollMode,
set:lt.Controls.ImageViewer.prototype.set_scrollMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"restrictScroll",{get:lt.Controls.ImageViewer.prototype.get_restrictScroll,set:lt.Controls.ImageViewer.prototype.set_restrictScroll,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"scrollOffset",{get:lt.Controls.ImageViewer.prototype.get_scrollOffset,set:lt.Controls.ImageViewer.prototype.set_scrollOffset,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"scrollOffsetChanged",{get:lt.Controls.ImageViewer.prototype.__scrollOffsetChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"maximumScrollSize",{get:lt.Controls.ImageViewer.prototype.get_maximumScrollSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewBorderThickness",{get:lt.Controls.ImageViewer.prototype.get_viewBorderThickness,
set:lt.Controls.ImageViewer.prototype.set_viewBorderThickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewBorderColor",{get:lt.Controls.ImageViewer.prototype.get_viewBorderColor,set:lt.Controls.ImageViewer.prototype.set_viewBorderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewMargin",{get:lt.Controls.ImageViewer.prototype.get_viewMargin,set:lt.Controls.ImageViewer.prototype.set_viewMargin,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewPadding",{get:lt.Controls.ImageViewer.prototype.get_viewPadding,set:lt.Controls.ImageViewer.prototype.set_viewPadding,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewDropShadow",{get:lt.Controls.ImageViewer.prototype.get_viewDropShadow,set:lt.Controls.ImageViewer.prototype.set_viewDropShadow,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"itemBorderThickness",{get:lt.Controls.ImageViewer.prototype.get_itemBorderThickness,set:lt.Controls.ImageViewer.prototype.set_itemBorderThickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemBorderColor",{get:lt.Controls.ImageViewer.prototype.get_itemBorderColor,set:lt.Controls.ImageViewer.prototype.set_itemBorderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemMargin",{get:lt.Controls.ImageViewer.prototype.get_itemMargin,
set:lt.Controls.ImageViewer.prototype.set_itemMargin,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemPadding",{get:lt.Controls.ImageViewer.prototype.get_itemPadding,set:lt.Controls.ImageViewer.prototype.set_itemPadding,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageBorderThickness",{get:lt.Controls.ImageViewer.prototype.get_imageBorderThickness,set:lt.Controls.ImageViewer.prototype.set_imageBorderThickness,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageBorderColor",{get:lt.Controls.ImageViewer.prototype.get_imageBorderColor,set:lt.Controls.ImageViewer.prototype.set_imageBorderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageDropShadow",{get:lt.Controls.ImageViewer.prototype.get_imageDropShadow,set:lt.Controls.ImageViewer.prototype.set_imageDropShadow,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"itemSpacing",{get:lt.Controls.ImageViewer.prototype.get_itemSpacing,set:lt.Controls.ImageViewer.prototype.set_itemSpacing,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemBackgroundColor",{get:lt.Controls.ImageViewer.prototype.get_itemBackgroundColor,set:lt.Controls.ImageViewer.prototype.set_itemBackgroundColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageBackgroundColor",{get:lt.Controls.ImageViewer.prototype.get_imageBackgroundColor,
set:lt.Controls.ImageViewer.prototype.set_imageBackgroundColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"selectedItemBorderColor",{get:lt.Controls.ImageViewer.prototype.get_selectedItemBorderColor,set:lt.Controls.ImageViewer.prototype.set_selectedItemBorderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"selectedItemBackgroundColor",{get:lt.Controls.ImageViewer.prototype.get_selectedItemBackgroundColor,set:lt.Controls.ImageViewer.prototype.set_selectedItemBackgroundColor,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"hoveredItemBorderColor",{get:lt.Controls.ImageViewer.prototype.get_hoveredItemBorderColor,set:lt.Controls.ImageViewer.prototype.set_hoveredItemBorderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"hoveredItemBackgroundColor",{get:lt.Controls.ImageViewer.prototype.get_hoveredItemBackgroundColor,set:lt.Controls.ImageViewer.prototype.set_hoveredItemBackgroundColor,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"activeItemBorderColor",{get:lt.Controls.ImageViewer.prototype.get_activeItemBorderColor,set:lt.Controls.ImageViewer.prototype.set_activeItemBorderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"activeItemBackgroundColor",{get:lt.Controls.ImageViewer.prototype.get_activeItemBackgroundColor,set:lt.Controls.ImageViewer.prototype.set_activeItemBackgroundColor,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemTextFont",{get:lt.Controls.ImageViewer.prototype.get_itemTextFont,set:lt.Controls.ImageViewer.prototype.set_itemTextFont,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemSize",{get:lt.Controls.ImageViewer.prototype.get_itemSize,set:lt.Controls.ImageViewer.prototype.set_itemSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemSizeMode",{get:lt.Controls.ImageViewer.prototype.get_itemSizeMode,
set:lt.Controls.ImageViewer.prototype.set_itemSizeMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"resizeOnTransform",{get:lt.Controls.ImageViewer.prototype.get_resizeOnTransform,set:lt.Controls.ImageViewer.prototype.set_resizeOnTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"clipImageToContent",{get:lt.Controls.ImageViewer.prototype.get_clipImageToContent,set:lt.Controls.ImageViewer.prototype.set_clipImageToContent,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageHorizontalAlignment",{get:lt.Controls.ImageViewer.prototype.get_imageHorizontalAlignment,set:lt.Controls.ImageViewer.prototype.set_imageHorizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageVerticalAlignment",{get:lt.Controls.ImageViewer.prototype.get_imageVerticalAlignment,set:lt.Controls.ImageViewer.prototype.set_imageVerticalAlignment,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"textHorizontalAlignment",{get:lt.Controls.ImageViewer.prototype.get_textHorizontalAlignment,set:lt.Controls.ImageViewer.prototype.set_textHorizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"textVerticalAlignment",{get:lt.Controls.ImageViewer.prototype.get_textVerticalAlignment,set:lt.Controls.ImageViewer.prototype.set_textVerticalAlignment,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemTextWrap",{get:lt.Controls.ImageViewer.prototype.get_itemTextWrap,set:lt.Controls.ImageViewer.prototype.set_itemTextWrap,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemTextTrimming",{get:lt.Controls.ImageViewer.prototype.get_itemTextTrimming,set:lt.Controls.ImageViewer.prototype.set_itemTextTrimming,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemTextColor",
{get:lt.Controls.ImageViewer.prototype.get_itemTextColor,set:lt.Controls.ImageViewer.prototype.set_itemTextColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"selectedItemTextColor",{get:lt.Controls.ImageViewer.prototype.get_selectedItemTextColor,set:lt.Controls.ImageViewer.prototype.set_selectedItemTextColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"items",{get:lt.Controls.ImageViewer.prototype.get_items,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"selectedItemsChanged",{get:lt.Controls.ImageViewer.prototype.__selectedItemsChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"activeItem",{get:lt.Controls.ImageViewer.prototype.get_activeItem,set:lt.Controls.ImageViewer.prototype.set_activeItem,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"activeItemChanged",{get:lt.Controls.ImageViewer.prototype.__activeItemChanged_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"hasItems",{get:lt.Controls.ImageViewer.prototype.get_hasItems,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewLayout",{get:lt.Controls.ImageViewer.prototype.get_viewLayout,set:lt.Controls.ImageViewer.prototype.set_viewLayout,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemChanged",{get:lt.Controls.ImageViewer.prototype.__itemChanged_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemError",{get:lt.Controls.ImageViewer.prototype.__itemError_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"aspectRatioCorrection",{get:lt.Controls.ImageViewer.prototype.get_aspectRatioCorrection,set:lt.Controls.ImageViewer.prototype.set_aspectRatioCorrection,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewHorizontalAlignment",
{get:lt.Controls.ImageViewer.prototype.get_viewHorizontalAlignment,set:lt.Controls.ImageViewer.prototype.set_viewHorizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewVerticalAlignment",{get:lt.Controls.ImageViewer.prototype.get_viewVerticalAlignment,set:lt.Controls.ImageViewer.prototype.set_viewVerticalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemHorizontalAlignment",{get:lt.Controls.ImageViewer.prototype.get_itemHorizontalAlignment,
set:lt.Controls.ImageViewer.prototype.set_itemHorizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"itemVerticalAlignment",{get:lt.Controls.ImageViewer.prototype.get_itemVerticalAlignment,set:lt.Controls.ImageViewer.prototype.set_itemVerticalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"flip",{get:lt.Controls.ImageViewer.prototype.get_flip,set:lt.Controls.ImageViewer.prototype.set_flip,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"reverse",{get:lt.Controls.ImageViewer.prototype.get_reverse,set:lt.Controls.ImageViewer.prototype.set_reverse,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"rotateAngle",{get:lt.Controls.ImageViewer.prototype.get_rotateAngle,set:lt.Controls.ImageViewer.prototype.set_rotateAngle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"invert",{get:lt.Controls.ImageViewer.prototype.get_invert,
set:lt.Controls.ImageViewer.prototype.set_invert,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"sizeMode",{get:lt.Controls.ImageViewer.prototype.get_sizeMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"maximumScaleFactor",{get:lt.Controls.ImageViewer.prototype.get_maximumScaleFactor,set:lt.Controls.ImageViewer.prototype.set_maximumScaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"minimumScaleFactor",{get:lt.Controls.ImageViewer.prototype.get_minimumScaleFactor,set:lt.Controls.ImageViewer.prototype.set_minimumScaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"xScaleFactor",{get:lt.Controls.ImageViewer.prototype.get_xScaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"yScaleFactor",{get:lt.Controls.ImageViewer.prototype.get_yScaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"scaleFactor",{get:lt.Controls.ImageViewer.prototype.get_scaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"transformChanged",{get:lt.Controls.ImageViewer.prototype.__transformChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"canTransform",{get:lt.Controls.ImageViewer.prototype.get_canTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewTransform",
{get:lt.Controls.ImageViewer.prototype.get_viewTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewSize",{get:lt.Controls.ImageViewer.prototype.get_viewSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"defaultZoomOrigin",{get:lt.Controls.ImageViewer.prototype.get_defaultZoomOrigin,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"ownerDraw",{get:lt.Controls.ImageViewer.prototype.get_ownerDraw,
set:lt.Controls.ImageViewer.prototype.set_ownerDraw,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageRegionRenderMode",{get:lt.Controls.ImageViewer.prototype.get_imageRegionRenderMode,set:lt.Controls.ImageViewer.prototype.set_imageRegionRenderMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"floaterRegionRenderMode",{get:lt.Controls.ImageViewer.prototype.get_floaterRegionRenderMode,set:lt.Controls.ImageViewer.prototype.set_floaterRegionRenderMode,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"floaterOpacity",{get:lt.Controls.ImageViewer.prototype.get_floaterOpacity,set:lt.Controls.ImageViewer.prototype.set_floaterOpacity,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"canRender",{get:lt.Controls.ImageViewer.prototype.get_canRender,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"isRenderRedirected",{get:lt.Controls.ImageViewer.prototype.get_isRenderRedirected,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"redirectRender",{get:lt.Controls.ImageViewer.prototype.__redirectRender_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderError",{get:lt.Controls.ImageViewer.prototype.__renderError_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"preRender",{get:lt.Controls.ImageViewer.prototype.__preRender_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"render",{get:lt.Controls.ImageViewer.prototype.__render_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"postRender",{get:lt.Controls.ImageViewer.prototype.__postRender_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"preRenderItem",{get:lt.Controls.ImageViewer.prototype.__preRenderItem_handler_get,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderItem",{get:lt.Controls.ImageViewer.prototype.__renderItem_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"postRenderItem",{get:lt.Controls.ImageViewer.prototype.__postRenderItem_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderItemRegion",{get:lt.Controls.ImageViewer.prototype.__renderItemRegion_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderItemFloaterRegion",{get:lt.Controls.ImageViewer.prototype.__renderItemFloaterRegion_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderItemFloater",{get:lt.Controls.ImageViewer.prototype.__renderItemFloater_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderShadow",{get:lt.Controls.ImageViewer.prototype.__renderShadow_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderBorder",{get:lt.Controls.ImageViewer.prototype.__renderBorder_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderBackground",{get:lt.Controls.ImageViewer.prototype.__renderBackground_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderImage",{get:lt.Controls.ImageViewer.prototype.__renderImage_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"renderText",{get:lt.Controls.ImageViewer.prototype.__renderText_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"interactiveService",{get:lt.Controls.ImageViewer.prototype.get_interactiveService,set:lt.Controls.ImageViewer.prototype.set_interactiveService,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"interactiveModes",
{get:lt.Controls.ImageViewer.prototype.get_interactiveModes,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"workingInteractiveMode",{get:lt.Controls.ImageViewer.prototype.get_workingInteractiveMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"idleInteractiveMode",{get:lt.Controls.ImageViewer.prototype.get_idleInteractiveMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"hitTestStateInteractiveMode",
{get:lt.Controls.ImageViewer.prototype.get_hitTestStateInteractiveMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"defaultInteractiveMode",{get:lt.Controls.ImageViewer.prototype.get_defaultInteractiveMode,set:lt.Controls.ImageViewer.prototype.set_defaultInteractiveMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"dropCopyKeyState",{get:lt.Controls.ImageViewer.prototype.get_dropCopyKeyState,set:lt.Controls.ImageViewer.prototype.set_dropCopyKeyState,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"dropMoveKeyState",{get:lt.Controls.ImageViewer.prototype.get_dropMoveKeyState,set:lt.Controls.ImageViewer.prototype.set_dropMoveKeyState,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"dropLinkKeyState",{get:lt.Controls.ImageViewer.prototype.get_dropLinkKeyState,set:lt.Controls.ImageViewer.prototype.set_dropLinkKeyState,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"itemDragDrop",{get:lt.Controls.ImageViewer.prototype.__itemDragDrop_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageResolution",{get:lt.Controls.ImageViewer.prototype.get_imageResolution,set:lt.Controls.ImageViewer.prototype.set_imageResolution,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageSize",{get:lt.Controls.ImageViewer.prototype.get_imageSize,set:lt.Controls.ImageViewer.prototype.set_imageSize,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageScale",{get:lt.Controls.ImageViewer.prototype.get_imageScale,set:lt.Controls.ImageViewer.prototype.set_imageScale,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"hasImage",{get:lt.Controls.ImageViewer.prototype.get_hasImage,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageTransform",{get:lt.Controls.ImageViewer.prototype.get_imageTransform,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"floaterTransform",{get:lt.Controls.ImageViewer.prototype.get_floaterTransform,set:lt.Controls.ImageViewer.prototype.set_floaterTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"autoResetOptions",{get:lt.Controls.ImageViewer.prototype.get_autoResetOptions,set:lt.Controls.ImageViewer.prototype.set_autoResetOptions,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"imageBounds",{get:lt.Controls.ImageViewer.prototype.get_imageBounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewBounds",{get:lt.Controls.ImageViewer.prototype.get_viewBounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"useElements",{get:lt.Controls.ImageViewer.prototype.get_useElements,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"tag",{get:lt.Controls.ImageViewer.prototype.get_tag,
set:lt.Controls.ImageViewer.prototype.set_tag,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imagesDiv",{get:lt.Controls.ImageViewer.prototype.get_imagesDiv,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"mainDiv",{get:lt.Controls.ImageViewer.prototype.get_mainDiv,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"autoScrollDiv",{get:lt.Controls.ImageViewer.prototype.get_autoScrollDiv,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"foreCanvas",{get:lt.Controls.ImageViewer.prototype.get_foreCanvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"eventCanvas",{get:lt.Controls.ImageViewer.prototype.get_eventCanvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"passthroughDiv",{get:lt.Controls.ImageViewer.prototype.get_passthroughDiv,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewDiv",{get:lt.Controls.ImageViewer.prototype.get_viewDiv,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"viewDivHolder",{get:lt.Controls.ImageViewer.prototype.get_viewDivHolder,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"controlSize",{get:lt.Controls.ImageViewer.prototype.get_controlSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"hasSize",{get:lt.Controls.ImageViewer.prototype.get_hasSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"enableRequestAnimationFrame",{get:lt.Controls.ImageViewer.prototype.get_enableRequestAnimationFrame,set:lt.Controls.ImageViewer.prototype.set_enableRequestAnimationFrame,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"autoCreateCanvas",{get:lt.Controls.ImageViewer.prototype.get_autoCreateCanvas,set:lt.Controls.ImageViewer.prototype.set_autoCreateCanvas,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"resizeElementForView",{get:lt.Controls.ImageViewer.prototype.get_resizeElementForView,set:lt.Controls.ImageViewer.prototype.set_resizeElementForView,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"foreCanvasSizeChanged",{get:lt.Controls.ImageViewer.prototype.__foreCanvasSizeChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer,
"imageProcessingLibrariesPath",{get:lt.Controls.ImageViewer.get_imageProcessingLibrariesPath,set:lt.Controls.ImageViewer.set_imageProcessingLibrariesPath,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"eraseBackgroundOnInvalidate",{get:lt.Controls.ImageViewer.prototype.get_eraseBackgroundOnInvalidate,set:lt.Controls.ImageViewer.prototype.set_eraseBackgroundOnInvalidate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"eraseBackground",{get:lt.Controls.ImageViewer.prototype.__eraseBackground_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"allowDrop",{get:lt.Controls.ImageViewer.prototype.get_allowDrop,set:lt.Controls.ImageViewer.prototype.set_allowDrop,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"interpolationRunMode",{get:lt.Controls.ImageViewer.prototype.get_interpolationRunMode,set:lt.Controls.ImageViewer.prototype.set_interpolationRunMode,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"interpolationMode",{get:lt.Controls.ImageViewer.prototype.get_interpolationMode,set:lt.Controls.ImageViewer.prototype.set_interpolationMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"interpolation",{get:lt.Controls.ImageViewer.prototype.__interpolation_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"image",{get:lt.Controls.ImageViewer.prototype.get_image,
set:lt.Controls.ImageViewer.prototype.set_image,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"element",{get:lt.Controls.ImageViewer.prototype.get_element,set:lt.Controls.ImageViewer.prototype.set_element,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"canvas",{get:lt.Controls.ImageViewer.prototype.get_canvas,set:lt.Controls.ImageViewer.prototype.set_canvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"imageUrl",{get:lt.Controls.ImageViewer.prototype.get_imageUrl,set:lt.Controls.ImageViewer.prototype.set_imageUrl,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"backImageUrl",{get:lt.Controls.ImageViewer.prototype.get_backImageUrl,set:lt.Controls.ImageViewer.prototype.set_backImageUrl,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"backImage",{get:lt.Controls.ImageViewer.prototype.get_backImage,set:lt.Controls.ImageViewer.prototype.set_backImage,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"floater",{get:lt.Controls.ImageViewer.prototype.get_floater,set:lt.Controls.ImageViewer.prototype.set_floater,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"loadImageUrlMode",{get:lt.Controls.ImageViewer.prototype.get_loadImageUrlMode,set:lt.Controls.ImageViewer.prototype.set_loadImageUrlMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,
"backImageLoadImageUrlMode",{get:lt.Controls.ImageViewer.prototype.get_backImageLoadImageUrlMode,set:lt.Controls.ImageViewer.prototype.set_backImageLoadImageUrlMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"updateShadowOnRotation",{get:lt.Controls.ImageViewer.prototype.get_updateShadowOnRotation,set:lt.Controls.ImageViewer.prototype.set_updateShadowOnRotation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"flipImageElement",
{get:lt.Controls.ImageViewer.prototype.get_flipImageElement,set:lt.Controls.ImageViewer.prototype.set_flipImageElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"reverseImageElement",{get:lt.Controls.ImageViewer.prototype.get_reverseImageElement,set:lt.Controls.ImageViewer.prototype.set_reverseImageElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"autoItemElementsAdded",{get:lt.Controls.ImageViewer.prototype.__autoItemElementsAdded_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"autoItemElementsRemoved",{get:lt.Controls.ImageViewer.prototype.__autoItemElementsRemoved_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"elementsUpdated",{get:lt.Controls.ImageViewer.prototype.__elementsUpdated_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"isTransitionsEnabled",{get:lt.Controls.ImageViewer.prototype.get_isTransitionsEnabled,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewer.prototype,"imageLoading",{get:lt.Controls.ImageViewer.prototype.__imageLoading_handler_get,enumerable:!0,configurable:!0});lt.Controls._imageViewerGroup=function(){};lt.Controls._imageViewerGroup.get_count=function(){return lt.Controls._imageViewerGroup._count};lt.Controls._imageViewerGroup.get_elementsModeCount=function(){return lt.Controls._imageViewerGroup._elementsModeCount};lt.Controls._imageViewerGroup.prefixCount=
function(a){return lt.Controls._imageViewerGroup._prefixes[a]};lt.Controls._imageViewerGroup.namespaceCount=function(a){return lt.Controls._imageViewerGroup._namespaces[a]};lt.Controls._imageViewerGroup.addViewer=function(a){lt.Controls._imageViewerGroup._viewers[lt.Controls._imageViewerGroup._count++]=a;if(a.get_useElements()){lt.Controls._imageViewerGroup._elementsModeCount++;var b=a._useElementsOptions.get_classPrefix();lt.Controls._imageViewerGroup._prefixes[b]=lt.Controls._imageViewerGroup._prefixes[b]?
lt.Controls._imageViewerGroup._prefixes[b]+1:1}a=a._options.get_parentDivClass();lt.Controls._imageViewerGroup._namespaces[a]=lt.Controls._imageViewerGroup._namespaces[a]?lt.Controls._imageViewerGroup._namespaces[a]+1:1;return lt.Controls._imageViewerGroup._count};lt.Controls._imageViewerGroup.removeViewer=function(a){for(var b=0;b<lt.Controls._imageViewerGroup._count;b++)if(lt.Controls._imageViewerGroup._viewers[b]===a)return lt.Controls._imageViewerGroup._viewers.splice(b,1),a.get_useElements()&&
(lt.Controls._imageViewerGroup._elementsModeCount--,b=a._useElementsOptions.get_classPrefix(),0<lt.Controls._imageViewerGroup._prefixes[b]&&(lt.Controls._imageViewerGroup._prefixes[b]-=1)),a=a._options.get_parentDivClass(),0<lt.Controls._imageViewerGroup._namespaces[a]&&(lt.Controls._imageViewerGroup._namespaces[a]-=1),--lt.Controls._imageViewerGroup._count;return-1};lt.Controls.ImageViewerImageLoadingEventArgs=function(a,b,c){lt.Controls.ImageViewerImageLoadingEventArgs.initializeBase(this);this._imageLoader$1=
a;this._item$1=b;this._isBackImage$1=c};lt.Controls.ImageViewerImageLoadingEventArgs.prototype={_imageLoader$1:null,get_imageLoader:function(){return this._imageLoader$1},_item$1:null,get_item:function(){return this._item$1},_isBackImage$1:!1,get_isBackImage:function(){return this._isBackImage$1}};Object.defineProperty(lt.Controls.ImageViewerImageLoadingEventArgs.prototype,"imageLoader",{get:lt.Controls.ImageViewerImageLoadingEventArgs.prototype.get_imageLoader,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerImageLoadingEventArgs.prototype,
"item",{get:lt.Controls.ImageViewerImageLoadingEventArgs.prototype.get_item,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerImageLoadingEventArgs.prototype,"isBackImage",{get:lt.Controls.ImageViewerImageLoadingEventArgs.prototype.get_isBackImage,enumerable:!0,configurable:!0});lt.Controls.ImageViewerCreateOptions=function(a){this._parentDiv=a};lt.Controls.ImageViewerCreateOptions.prototype={_useElements:!1,get_useElements:function(){return this._useElements},set_useElements:function(a){return this._useElements=
a},_elementsModeCreateOptions:null,get_elementsModeOptions:function(){return this._elementsModeCreateOptions},set_elementsModeOptions:function(a){return this._elementsModeCreateOptions=a},_parentDiv:null,get_parentDiv:function(){return this._parentDiv},set_parentDiv:function(a){return this._parentDiv=a},_parentDivClass:"lt-imageviewer",get_parentDivClass:function(){return this._parentDivClass},set_parentDivClass:function(a){return this._parentDivClass=a},_viewlayout:null,get_viewLayout:function(){return this._viewlayout},
set_viewLayout:function(a){return this._viewlayout=a}};Object.defineProperty(lt.Controls.ImageViewerCreateOptions.prototype,"useElements",{get:lt.Controls.ImageViewerCreateOptions.prototype.get_useElements,set:lt.Controls.ImageViewerCreateOptions.prototype.set_useElements,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerCreateOptions.prototype,"elementsModeOptions",{get:lt.Controls.ImageViewerCreateOptions.prototype.get_elementsModeOptions,set:lt.Controls.ImageViewerCreateOptions.prototype.set_elementsModeOptions,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerCreateOptions.prototype,"parentDiv",{get:lt.Controls.ImageViewerCreateOptions.prototype.get_parentDiv,set:lt.Controls.ImageViewerCreateOptions.prototype.set_parentDiv,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerCreateOptions.prototype,"parentDivClass",{get:lt.Controls.ImageViewerCreateOptions.prototype.get_parentDivClass,set:lt.Controls.ImageViewerCreateOptions.prototype.set_parentDivClass,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerCreateOptions.prototype,"viewLayout",{get:lt.Controls.ImageViewerCreateOptions.prototype.get_viewLayout,set:lt.Controls.ImageViewerCreateOptions.prototype.set_viewLayout,enumerable:!0,configurable:!0});lt.Controls.ImageViewerElementsModeCreateOptions=function(){this._classPrefix="lt";this._viewElementClass="view";this._itemElementClass="item";this._itemImageElementClass="image";this._itemBackImageElementClass="backimage";
this._itemImageBorderElementClass="image-border";this._itemImageClippingElementClass="image-clipping";this._itemImageFlipElementClass="image-flip";this._itemTextElementClass="item-text";this._itemHoverClass="item-hovered";this._itemSelectClass="item-selected";this._itemActiveClass="item-active";this._itemImageLoadingClass="image-loading";this._itemImageLoadedClass="image-loaded"};lt.Controls.ImageViewerElementsModeCreateOptions.prototype={_autoRemoveItemElements:!0,get_autoRemoveItemElements:function(){return this._autoRemoveItemElements},
set_autoRemoveItemElements:function(a){return this._autoRemoveItemElements=a},clone:function(a){var b=new lt.Controls.ImageViewerElementsModeCreateOptions;b.set_classPrefix(this._classPrefix);var c="";a&&null!=this._classPrefix&&0<this._classPrefix.length&&(c=this._classPrefix+"-");b.set_autoRemoveItemElements(this._autoRemoveItemElements);b.set_viewElementClass(c+this._viewElementClass);b.set_itemElementClass(c+this._itemElementClass);b.set_itemImageElementClass(c+this._itemImageElementClass);b.set_itemBackImageElementClass(c+
this._itemBackImageElementClass);b.set_itemImageClippingElementClass(c+this._itemImageClippingElementClass);b.set_itemImageFlipElementClass(c+this._itemImageFlipElementClass);b.set_itemImageBorderElementClass(c+this._itemImageBorderElementClass);b.set_itemTextElementClass(c+this._itemTextElementClass);b.set_itemHoverClass(c+this._itemHoverClass);b.set_itemSelectClass(c+this._itemSelectClass);b.set_itemActiveClass(c+this._itemActiveClass);b.set_itemImageLoadingClass(c+this._itemImageLoadingClass);
b.set_itemImageLoadedClass(c+this._itemImageLoadedClass);return b},get_classPrefix:function(){return this._classPrefix},set_classPrefix:function(a){return this._classPrefix=a},get_viewElementClass:function(){return this._viewElementClass},set_viewElementClass:function(a){return this._viewElementClass=a},get_itemElementClass:function(){return this._itemElementClass},set_itemElementClass:function(a){return this._itemElementClass=a},get_itemImageElementClass:function(){return this._itemImageElementClass},
set_itemImageElementClass:function(a){return this._itemImageElementClass=a},get_itemBackImageElementClass:function(){return this._itemBackImageElementClass},set_itemBackImageElementClass:function(a){return this._itemBackImageElementClass=a},get_itemImageBorderElementClass:function(){return this._itemImageBorderElementClass},set_itemImageBorderElementClass:function(a){return this._itemImageBorderElementClass=a},get_itemImageClippingElementClass:function(){return this._itemImageClippingElementClass},
set_itemImageClippingElementClass:function(a){return this._itemImageClippingElementClass=a},get_itemImageFlipElementClass:function(){return this._itemImageFlipElementClass},set_itemImageFlipElementClass:function(a){return this._itemImageFlipElementClass=a},get_itemTextElementClass:function(){return this._itemTextElementClass},set_itemTextElementClass:function(a){return this._itemTextElementClass=a},get_itemHoverClass:function(){return this._itemHoverClass},set_itemHoverClass:function(a){return this._itemHoverClass=
a},get_itemSelectClass:function(){return this._itemSelectClass},set_itemSelectClass:function(a){return this._itemSelectClass=a},get_itemActiveClass:function(){return this._itemActiveClass},set_itemActiveClass:function(a){return this._itemActiveClass=a},get_itemImageLoadingClass:function(){return this._itemImageLoadingClass},set_itemImageLoadingClass:function(a){return this._itemImageLoadingClass=a},get_itemImageLoadedClass:function(){return this._itemImageLoadedClass},set_itemImageLoadedClass:function(a){return this._itemImageLoadedClass=
a}};Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"autoRemoveItemElements",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_autoRemoveItemElements,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_autoRemoveItemElements,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"classPrefix",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_classPrefix,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_classPrefix,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"viewElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_viewElementClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_viewElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemElementClass,
set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemImageElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemImageElementClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemImageElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,
"itemBackImageElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemBackImageElementClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemBackImageElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemImageBorderElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemImageBorderElementClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemImageBorderElementClass,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemImageClippingElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemImageClippingElementClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemImageClippingElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemImageFlipElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemImageFlipElementClass,
set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemImageFlipElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemTextElementClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemTextElementClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemTextElementClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,
"itemHoverClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemHoverClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemHoverClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemSelectClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemSelectClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemSelectClass,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemActiveClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemActiveClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemActiveClass,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemImageLoadingClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemImageLoadingClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemImageLoadingClass,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsModeCreateOptions.prototype,"itemImageLoadedClass",{get:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.get_itemImageLoadedClass,set:lt.Controls.ImageViewerElementsModeCreateOptions.prototype.set_itemImageLoadedClass,enumerable:!0,configurable:!0});lt.Controls.ImageViewerRenderEventArgs=function(a,b){lt.Controls.ImageViewerRenderEventArgs.initializeBase(this);lt.Controls.ControlsHelper.checkIfNull(b,"clipRectangle");
this._context$1=a;this._clipRectangle$1=b.clone()};lt.Controls.ImageViewerRenderEventArgs.createForControl=function(a){if(null==a)return null;var b=a.getContext("2d");if(null==b)return null;a=lt.LeadRectD.create(0,0,a.width,a.height);return new lt.Controls.ImageViewerRenderEventArgs(b,a)};lt.Controls.ImageViewerRenderEventArgs.destroyForControl=function(a){null!=a&&(a._context$1=null,a._item$1=null)};lt.Controls.ImageViewerRenderEventArgs.prototype={_item$1:null,get_item:function(){return this._item$1},
_part$1:0,get_part:function(){return this._part$1},_setFor:function(a,b){this._item$1=a;this._part$1=b},_setError:function(a){this._error$1=a},_error$1:null,get_error:function(){return this._error$1},_clipRectangle$1:null,get_clipRectangle:function(){return this._clipRectangle$1.clone()},_context$1:null,get_context:function(){return this._context$1},get__autoClip:function(){return!1}};Object.defineProperty(lt.Controls.ImageViewerRenderEventArgs.prototype,"item",{get:lt.Controls.ImageViewerRenderEventArgs.prototype.get_item,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderEventArgs.prototype,"part",{get:lt.Controls.ImageViewerRenderEventArgs.prototype.get_part,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderEventArgs.prototype,"error",{get:lt.Controls.ImageViewerRenderEventArgs.prototype.get_error,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderEventArgs.prototype,"clipRectangle",{get:lt.Controls.ImageViewerRenderEventArgs.prototype.get_clipRectangle,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderEventArgs.prototype,"context",{get:lt.Controls.ImageViewerRenderEventArgs.prototype.get_context,enumerable:!0,configurable:!0});lt.Controls.ImageViewerItemChangedEventArgs=function(){lt.Controls.ImageViewerItemChangedEventArgs.initializeBase(this)};lt.Controls.ImageViewerItemChangedEventArgs.create=function(a,b){var c=new lt.Controls.ImageViewerItemChangedEventArgs;c._item$1=a;c._reason$1=b;return c};lt.Controls.ImageViewerItemChangedEventArgs.prototype=
{_item$1:null,get_item:function(){return this._item$1},_reason$1:0,get_reason:function(){return this._reason$1}};Object.defineProperty(lt.Controls.ImageViewerItemChangedEventArgs.prototype,"item",{get:lt.Controls.ImageViewerItemChangedEventArgs.prototype.get_item,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemChangedEventArgs.prototype,"reason",{get:lt.Controls.ImageViewerItemChangedEventArgs.prototype.get_reason,enumerable:!0,configurable:!0});lt.Controls.ImageViewerItemErrorEventArgs=
function(){lt.Controls.ImageViewerItemErrorEventArgs.initializeBase(this)};lt.Controls.ImageViewerItemErrorEventArgs.create=function(a,b,c,d){var e=new lt.Controls.ImageViewerItemErrorEventArgs;e._item$1=a;e._reason$1=b;e._data$1=c;e._error$1=d;return e};lt.Controls.ImageViewerItemErrorEventArgs.prototype={_item$1:null,get_item:function(){return this._item$1},_reason$1:0,get_reason:function(){return this._reason$1},_data$1:null,get_data:function(){return this._data$1},_error$1:null,get_error:function(){return this._error$1},
_removeEmptyItem$1:!0,get_removeEmptyItem:function(){return this._removeEmptyItem$1},set_removeEmptyItem:function(a){return this._removeEmptyItem$1=a}};Object.defineProperty(lt.Controls.ImageViewerItemErrorEventArgs.prototype,"item",{get:lt.Controls.ImageViewerItemErrorEventArgs.prototype.get_item,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemErrorEventArgs.prototype,"reason",{get:lt.Controls.ImageViewerItemErrorEventArgs.prototype.get_reason,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItemErrorEventArgs.prototype,"data",{get:lt.Controls.ImageViewerItemErrorEventArgs.prototype.get_data,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemErrorEventArgs.prototype,"error",{get:lt.Controls.ImageViewerItemErrorEventArgs.prototype.get_error,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemErrorEventArgs.prototype,"removeEmptyItem",{get:lt.Controls.ImageViewerItemErrorEventArgs.prototype.get_removeEmptyItem,
set:lt.Controls.ImageViewerItemErrorEventArgs.prototype.set_removeEmptyItem,enumerable:!0,configurable:!0});lt.Controls.ImageViewerItemDragDropEventArgs=function(){lt.Controls.ImageViewerItemDragDropEventArgs.initializeBase(this)};lt.Controls.ImageViewerItemDragDropEventArgs.prototype={_sourceImageViewer$1:null,get_sourceImageViewer:function(){return this._sourceImageViewer$1},_targetImageViewer$1:null,get_targetImageViewer:function(){return this._targetImageViewer$1},_operation$1:0,get_operation:function(){return this._operation$1},
_location$1:null,get_location:function(){return this._location$1.clone()},_nativeEvent$1:null,get_nativeEvent:function(){return this._nativeEvent$1},_sourceItem$1:null,get_sourceItem:function(){return this._sourceItem$1},_targetItem$1:null,get_targetItem:function(){return this._targetItem$1},set_targetItem:function(a){return this._targetItem$1=a},_effect$1:null,get_effect:function(){return this._effect$1},set_effect:function(a){return this._effect$1=a},_format$1:null,get_format:function(){return this._format$1},
_abort$1:!1,get_abort:function(){return this._abort$1},set_abort:function(a){return this._abort$1=a},_setValues:function(a,b,c,d,e,f){this._sourceImageViewer$1=a;this._targetImageViewer$1=b;this._sourceItem$1=c;this._targetItem$1=d;this._operation$1=e;this._format$1=f},_setNative:function(a,b){this._location$1=a.clone();this._nativeEvent$1=b},_customDragElement$1:null,get_customDragElement:function(){return this._customDragElement$1},_setCustom:function(a,b){this._targetItem$1=a;this._customDragElement$1=
b}};Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"sourceImageViewer",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_sourceImageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"targetImageViewer",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_targetImageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,
"operation",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_operation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"location",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_location,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"nativeEvent",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_nativeEvent,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"sourceItem",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_sourceItem,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"targetItem",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_targetItem,set:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.set_targetItem,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,
"effect",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_effect,set:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.set_effect,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"format",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_format,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"abort",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_abort,
set:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.set_abort,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItemDragDropEventArgs.prototype,"customDragElement",{get:lt.Controls.ImageViewerItemDragDropEventArgs.prototype.get_customDragElement,enumerable:!0,configurable:!0});lt.Controls.ImageViewerElementsUpdatedEventArgs=function(){lt.Controls.ImageViewerElementsUpdatedEventArgs.initializeBase(this);this._item$1=null;this._isTransitionsEnabled$1=!1};lt.Controls.ImageViewerElementsUpdatedEventArgs.prototype=
{_setItem:function(a){this._item$1=a},_item$1:null,get_item:function(){return this._item$1},_isTransitionsEnabled$1:!1,_setTransitioning:function(a){this._isTransitionsEnabled$1=a},get_isTransitionsEnabled:function(){return this._isTransitionsEnabled$1}};Object.defineProperty(lt.Controls.ImageViewerElementsUpdatedEventArgs.prototype,"item",{get:lt.Controls.ImageViewerElementsUpdatedEventArgs.prototype.get_item,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerElementsUpdatedEventArgs.prototype,
"isTransitionsEnabled",{get:lt.Controls.ImageViewerElementsUpdatedEventArgs.prototype.get_isTransitionsEnabled,enumerable:!0,configurable:!0});lt.Controls.ImageViewerRenderRedirectOptions=function(){this._backgroundColor=lt.Controls.GraphicsHelper.colorFromString("Transparent");this._transform=lt.LeadMatrix.get_identity()};lt.Controls.ImageViewerRenderRedirectOptions.prototype={_renderBorders:!0,get_renderBorders:function(){return this._renderBorders},set_renderBorders:function(a){return this._renderBorders=
a},_renderShadows:!0,get_renderShadows:function(){return this._renderShadows},set_renderShadows:function(a){return this._renderShadows=a},_renderBackgrounds:!0,get_renderBackgrounds:function(){return this._renderBackgrounds},set_renderBackgrounds:function(a){return this._renderBackgrounds=a},_renderText:!0,get_renderText:function(){return this._renderText},set_renderText:function(a){return this._renderText=a},_renderItemStates:!0,get_renderItemStates:function(){return this._renderItemStates},set_renderItemStates:function(a){return this._renderItemStates=
a},get_backgroundColor:function(){return this._backgroundColor},set_backgroundColor:function(a){lt.Controls.ControlsHelper.checkIfNull(this.get_backgroundColor(),"BackgroundColor");return this._backgroundColor=a},get_transform:function(){return this._transform.clone()},set_transform:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"Transform");this._transform=a.clone();return a},createTransform:function(a,b,c,d,e,f){lt.Controls.ControlsHelper.checkIfNull(b,"destinationRect");lt.Controls.ControlsHelper.checkIfNull(c,
"sourceRect");if(null==a)throw new lt.ArgumentNullException("imageViewer");a=lt.LeadMatrix.get_identity();if(!c.get_isEmpty()&&!lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(b)&&!(0>=b.get_width()||0>=b.get_height())){c=c.clone();b=lt.Controls.PrimitivesHelper.toLeadRectD(b);d=lt.Controls.ImageViewer.getScaleFactors(b.get_size(),c.get_size(),d);a.translate(-c.get_x(),-c.get_y());!lt.LeadDoubleTools.isZero(d.get_width())&&!lt.LeadDoubleTools.isZero(d.get_height())&&a.scale(d.get_width(),d.get_height());
var d=lt.LeadSizeD.create(d.get_width()*c.get_width(),d.get_height()*c.get_height()),g=c=0;1===e&&(c=b.get_x()+(b.get_width()-d.get_width())/2);1===f&&(g=b.get_y()+(b.get_height()-d.get_height())/2);a.translate(c,g)}this._transform=a}};Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"renderBorders",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_renderBorders,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_renderBorders,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"renderShadows",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_renderShadows,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_renderShadows,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"renderBackgrounds",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_renderBackgrounds,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_renderBackgrounds,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"renderText",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_renderText,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_renderText,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"renderItemStates",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_renderItemStates,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_renderItemStates,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"backgroundColor",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_backgroundColor,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_backgroundColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRenderRedirectOptions.prototype,"transform",{get:lt.Controls.ImageViewerRenderRedirectOptions.prototype.get_transform,set:lt.Controls.ImageViewerRenderRedirectOptions.prototype.set_transform,
enumerable:!0,configurable:!0});lt.Controls._controlInertiaScroller=function(){this._params=[];this._timerCallback_Delegate=ss.Delegate.create(this,this._timerCallback)};lt.Controls._controlInertiaScroller.get_instance=function(){return lt.Controls._controlInertiaScroller._instance};lt.Controls._controlInertiaScroller._nativeScrollBy=function(a,b,c){a.callback(b,c)};lt.Controls._controlInertiaScroller.prototype={_timerCallback_Delegate:null,get__paramsCount:function(){return this._params.length},
_addUpdateParams:function(a){if(this._params.length)for(var b=0;b<this._params.length;b++){var c=this._params[b];if(c.target===a.target){c!==a&&(this._params[b]=a);return}}this._params.add(a);0<this._params.length&&null==lt.Controls._controlInertiaScroller._timer&&(lt.Controls._controlInertiaScroller._timer=new lt.Controls._leadTimer(null,this._timerCallback_Delegate,null,0,10))},_getParams:function(a){for(var b=ss.IEnumerator.getEnumerator(this._params);b.moveNext();){var c=b.current;if(c.target===
a)return c}return null},_removeParams:function(a){for(var b=ss.IEnumerator.getEnumerator(this._params);b.moveNext();){var c=b.current;if(c.target===a){this._params.remove(c);c.dispose();break}}!this._params.length&&null!=lt.Controls._controlInertiaScroller._timer&&(lt.Controls._controlInertiaScroller._timer.dispose(),lt.Controls._controlInertiaScroller._timer=null)},_commonTimerCallback:function(){for(var a=0;a<this._params.length;a++){var b,c=this._params[a];if(c.amplitude.get_x()||c.amplitude.get_y()){var d=
lt.Controls.ControlsHelper.getTimeSpan(lt.Controls.ControlsHelper.getDateTimeNow(),c.timestamp);b=-c.amplitude.get_x()*Math.exp(-d/325);d=-c.amplitude.get_y()*Math.exp(-d/325);0.5<b||-0.5>b||0.5<d||-0.5>d?(b=lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(c.targetOffset.get_x()+b),lt.Controls.PrimitivesHelper.toInt(c.targetOffset.get_y()+d)),lt.Controls._controlInertiaScroller._nativeScrollBy(c,b,!1)):(c.stopping=!0,b=lt.LeadPointD.create(c.targetOffset.get_x(),c.targetOffset.get_y()),c.amplitude.set_x(0),
c.amplitude.set_y(0),lt.Controls._controlInertiaScroller._nativeScrollBy(c,b,!0))}else b=lt.LeadPointD.create(c.targetOffset.get_x(),c.targetOffset.get_y()),lt.Controls._controlInertiaScroller._nativeScrollBy(c,b,!0)}},_timerCallback:function(){this._commonTimerCallback()}};lt.Controls._inertiaParams=function(){};lt.Controls._inertiaParams.prototype={stopping:!1,target:null,amplitude:null,targetOffset:null,timestamp:0,callback:null,dispose:function(){this.stopping=!1;this.target=null;this.amplitude=
lt.LeadPointD.get_empty();this.targetOffset=lt.LeadPointD.get_empty();this.callback=null}};lt.Controls.ControlInertiaScrollOptions=function(){};lt.Controls.ControlInertiaScrollOptions.createDefault=function(){return new lt.Controls.ControlInertiaScrollOptions};lt.Controls.ControlInertiaScrollOptions.prototype={clone:function(){var a=new lt.Controls.ControlInertiaScrollOptions;a.set_isEnabled(this.get_isEnabled());return a},_isEnabled:!1,get_isEnabled:function(){return this._isEnabled},set_isEnabled:function(a){return this._isEnabled=
a}};Object.defineProperty(lt.Controls.ControlInertiaScrollOptions.prototype,"isEnabled",{get:lt.Controls.ControlInertiaScrollOptions.prototype.get_isEnabled,set:lt.Controls.ControlInertiaScrollOptions.prototype.set_isEnabled,enumerable:!0,configurable:!0});lt.Controls.ImageViewerActiveItemInteractiveMode=function(){this._lastMovePosition$1=lt.LeadPointD.get_empty();lt.Controls.ImageViewerActiveItemInteractiveMode.initializeBase(this);this.set_autoItemMode(1)};lt.Controls.ImageViewerActiveItemInteractiveMode._unhoverItems$1=
function(a){var b=!1;a.beginRender();for(var c=ss.IEnumerator.getEnumerator(a.get_items());c.moveNext();){var d=c.current;d.get_isHovered()&&(d.set_isHovered(!1),b=!0)}a._internalEndUpdate(b)};lt.Controls.ImageViewerActiveItemInteractiveMode._hitTestPart$1=function(a,b,c,d){switch(a.hitTestItemPart(b,c)){case 1:return!0;case 2:return 2===d;case 3:return 2===d||3===d;case 4:return 4===d||5===d;case 5:return 5===d;default:return!1}};lt.Controls.ImageViewerActiveItemInteractiveMode.prototype={get_name:function(){return"ActiveItem"},
get_id:function(){return 9},_isHovedEnabled$1:!1,get_isHoverEnabled:function(){return this._isHovedEnabled$1},set_isHoverEnabled:function(a){return this._isHovedEnabled$1=a},_isKeyboardEnabled$1:!0,get_isKeyboardEnabled:function(){return this._isKeyboardEnabled$1},set_isKeyboardEnabled:function(a){return this._isKeyboardEnabled$1=a},_hoveredItem$1:null,_isKeyboardHooked$1:!1,_isMoveHooked$1:!1,start:function(a){lt.Controls.ImageViewerActiveItemInteractiveMode.callBaseMethod(this,"start",[a]);var b=
lt.Controls.ImageViewerActiveItemInteractiveMode.callBaseMethod(this,"get_interactiveService");b.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));this.get_isHoverEnabled()&&(b.add_move(ss.Delegate.create(this,this._service_Move$1)),this._isMoveHooked$1=!0);this.get_isKeyboardEnabled()&&(b.add_keyDown(ss.Delegate.create(this,this._service_KeyDown$1)),this._isKeyboardHooked$1=!0);this.get_isHoverEnabled()&&lt.Controls.ImageViewerActiveItemInteractiveMode._unhoverItems$1(a);this._lastMovePosition$1=
lt.LeadPointD.get_empty();this.set_workOnBounds(!1);this._hoveredItem$1=null},stop:function(a){if(this.get_isStarted()){this._hoveredItem$1=null;var b=lt.Controls.ImageViewerActiveItemInteractiveMode.callBaseMethod(this,"get_interactiveService");b.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));this._isMoveHooked$1&&(b.remove_move(ss.Delegate.create(this,this._service_Move$1)),this._isMoveHooked$1=!1);this._isKeyboardHooked$1&&(b.remove_keyDown(ss.Delegate.create(this,this._service_KeyDown$1)),
this._isKeyboardHooked$1=!1);lt.Controls.ImageViewerActiveItemInteractiveMode.callBaseMethod(this,"stop",[a])}},_service_DragStarted$1:function(a,b){if(this.canStartWork(b)){var c=this.get_imageViewer(),d=b.get_position(),e=c.hitTestItem(d);null!=e&&e!==c.get_activeItem()&&lt.Controls.ImageViewerActiveItemInteractiveMode._hitTestPart$1(c,e,d,this.get_itemPart())&&(b.set_isHandled(!0),this.onWorkStarted(b),c.set_activeItem(e),this.onWorkCompleted(b))}},get_item:function(){return lt.Controls.ImageViewerActiveItemInteractiveMode.callBaseMethod(this,
"get_item")},set_item:function(a){lt.Controls.ImageViewerActiveItemInteractiveMode.callBaseMethod(this,"set_item",[null]);this._hoveredItem$1===a&&(this._hoveredItem$1=null);return a},_service_Move$1:function(a,b){if(this.get_isEnabled()&&this.get_isHoverEnabled()&&!lt.LeadPointD.equals(b.get_position(),this._lastMovePosition$1)){this._lastMovePosition$1=b.get_position();var c=this.get_imageViewer(),d=c.hitTestItem(b.get_position());null!=d&&(lt.Controls.ImageViewerActiveItemInteractiveMode._hitTestPart$1(c,
d,b.get_position(),this.get_itemPart())||(d=null));this._hoveredItem$1!==d&&(null!=this._hoveredItem$1&&this._hoveredItem$1.set_isHovered(!1),null!=d&&d.set_isHovered(!0),this._hoveredItem$1=d)}},_service_KeyDown$1:function(a,b){if(this.get_isEnabled()&&this.get_isKeyboardEnabled()){var c=b.get_keyCode();if(37===c||38===c||39===c||40===c||33===c||34===c||36===c||35===c){var d=this.get_imageViewer();b.set_isHandled(!0);var e=d.get_activeItem();if(null!=e&&(38===c||40===c||37===c||39===c)){var f=null,
f=38===c||40===c?lt.Controls.ImageViewerItems._findNextItemInRow(d,e.get_rowIndex(),e.get_columnIndex(),40===c):lt.Controls.ImageViewerItems._findNextItemInColumn(d,e.get_rowIndex(),e.get_columnIndex(),39===c);null!=f&&f!==d.get_activeItem()&&(d.set_activeItem(f),d.ensureItemVisible(f))}}}}};Object.defineProperty(lt.Controls.ImageViewerActiveItemInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerActiveItemInteractiveMode.prototype,
"id",{get:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerActiveItemInteractiveMode.prototype,"isHoverEnabled",{get:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.get_isHoverEnabled,set:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.set_isHoverEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerActiveItemInteractiveMode.prototype,"isKeyboardEnabled",
{get:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.get_isKeyboardEnabled,set:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.set_isKeyboardEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerActiveItemInteractiveMode.prototype,"item",{get:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.get_item,set:lt.Controls.ImageViewerActiveItemInteractiveMode.prototype.set_item,enumerable:!0,configurable:!0});lt.Controls.ImageViewerAutoPanInteractiveMode=
function(){this._result$1=0;this._oldPosition$1=lt.LeadPointD.get_empty();this._workingTimer$1=0;this._edgeSize$1=lt.LeadSizeD.create(15,15);this._autoScrollValue$1=lt.LeadPointD.get_empty();lt.Controls.ImageViewerAutoPanInteractiveMode.initializeBase(this);this._timerCallback_Delegate$1=ss.Delegate.create(this,this._timerCallback$1)};lt.Controls.ImageViewerAutoPanInteractiveMode._isAutoPanWorking$1=function(a){a=a.get_workingInteractiveMode();return null!=a&&a.get_isWorking()&&"PanZoom"===a.get_name()?
!0:!1};lt.Controls.ImageViewerAutoPanInteractiveMode.prototype={_timerCallback_Delegate$1:null,get_name:function(){return"AutoPan"},get_id:function(){return 5},_timer$1:null,get_edgeSize:function(){return this._edgeSize$1.clone()},set_edgeSize:function(a){this._edgeSize$1=lt.Controls.PrimitivesHelper.cloneOrZeroSize(a);return a},_moveThreshold$1:2,get_moveThreshold:function(){return this._moveThreshold$1},set_moveThreshold:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("MoveThreshold",
a,"must be greater than or equal to 0");return this._moveThreshold$1=a},_beginDelay$1:100,get_beginDelay:function(){return this._beginDelay$1},set_beginDelay:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("BeginDelay",a,"must be greater than or equal to 0");return this._beginDelay$1=a},_panDelay$1:0,get_panDelay:function(){return this._panDelay$1},set_panDelay:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("PanDelay",a,"must be greater than or equal to 0");return this._panDelay$1=
a},start:function(a){lt.Controls.ImageViewerAutoPanInteractiveMode.callBaseMethod(this,"start",[a]);this.set_workOnBounds(!1);var b=lt.Controls.ImageViewerAutoPanInteractiveMode.callBaseMethod(this,"get_interactiveService");b.add_move(ss.Delegate.create(this,this._service_Move$1));b.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));b.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));null!=this._timer$1&&this._timer$1.dispose();this._timer$1=new lt.Controls._leadTimer(a,
this._timerCallback_Delegate$1,null,lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite)},_mouseButtonReleased$1:!1,_service_DragStarted$1:function(a,b){this.get_isEnabled()&&(this._mouseButtonReleased$1=this.get_mouseButtons()!==b.get_mouseButton())},_service_DragCompleted$1:function(a,b){this.get_isEnabled()&&(this._mouseButtonReleased$1=this.get_mouseButtons()===b.get_mouseButton())},_canScroll$1:function(a){var b=this.get_imageViewer(),c=b.get_maximumScrollSize(),d=b.get_scrollOffset();
if(2===b.get_scrollMode())return!1;if(1===b.get_scrollMode()&&!b.get__realRestrictScrollMode())return!0;if(4===(a&4)){if(0<d.get_x())return!0}else if(8===(a&8)&&d.get_x()<c.get_width())return!0;if(2===(a&2)){if(0<d.get_y())return!0}else if(1===(a&1)&&d.get_y()<c.get_height())return!0;return!1},_lastCursorPosition$1:null,_service_Move$1:function(a,b){this._lastCursorPosition$1=b.get_position().clone();var c=this.get_imageViewer(),d=this.canStartWork(b);d&&lt.Controls.ImageViewerAutoPanInteractiveMode._isAutoPanWorking$1(c)&&
(d=!1);if(d){if(this._result$1=0,c=b.get_position(),this._result$1=this._hitTestEdge$1(c),this._canScroll$1(this._result$1))if(this._result$1){if(Math.abs(this._oldPosition$1.get_x()-c.get_x())>this._moveThreshold$1||Math.abs(this._oldPosition$1.get_y()-c.get_y())>this._moveThreshold$1)this._workingTimer$1=0,this._timer$1.change(this._beginDelay$1,this._beginDelay$1);this._oldPosition$1=b.get_position()}else this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite),this._oldPosition$1=
lt.LeadPointD.get_empty()}else this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite),this._oldPosition$1=lt.LeadPointD.get_empty()},_isMouseOnViewer$1:function(){return this.get_imageViewer()._getClientRectangle().containsPoint(this._lastCursorPosition$1)},_timerCallback$1:function(){this.get_isStarted()&&null!=this.get_imageViewer()&&(this._workingTimer$1?this._autoScrollTimer_Tick$1():this._beginDelayTimer_Tick$1())},_beginDelayTimer_Tick$1:function(){if(this.get_workOnBounds()&&
!this._isMouseOnViewer$1())this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite);else if(this._mouseButtonReleased$1)this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite);else{var a=this.get_imageViewer();if(lt.Controls.ImageViewerAutoPanInteractiveMode._isAutoPanWorking$1(a))this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite);else{var b=lt.LeadPointD.create(0,0),c=a._getClientRectangle(),d=Math.max(1,
c.get_width()/10),c=Math.max(1,c.get_height()/10);4===(this._result$1&4)?b.set_x(-d):8===(this._result$1&8)&&b.set_x(d);2===(this._result$1&2)?b.set_y(-c):1===(this._result$1&1)&&b.set_y(c);this.onWorkStarted(lt.LeadEventArgs.Empty);a.scrollByRestrict(b);this.onWorkCompleted(lt.LeadEventArgs.Empty);this._autoScrollValue$1=b.clone();this._workingTimer$1=1;this._timer$1.change(this._panDelay$1,this._panDelay$1)}}},_autoScrollTimer_Tick$1:function(){if(this._mouseButtonReleased$1)this._timer$1.change(lt.Controls._leadTimer.infinite,
lt.Controls._leadTimer.infinite);else if(!this.get_workOnBounds()||this._isMouseOnViewer$1()){var a=this.get_imageViewer();lt.Controls.ImageViewerAutoPanInteractiveMode._isAutoPanWorking$1(a)?this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite):(this.onWorkStarted(lt.LeadEventArgs.Empty),this._canScroll$1(this._result$1)?a.scrollByRestrict(this._autoScrollValue$1):this._timer$1.change(lt.Controls._leadTimer.infinite,lt.Controls._leadTimer.infinite),this.onWorkCompleted(lt.LeadEventArgs.Empty))}},
stop:function(a){if(this.get_isStarted()){var b=lt.Controls.ImageViewerAutoPanInteractiveMode.callBaseMethod(this,"get_interactiveService");b.remove_move(ss.Delegate.create(this,this._service_Move$1));b.remove_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));b.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));null!=this._timer$1&&(this._timer$1.dispose(),this._timer$1=null);lt.Controls.ImageViewerAutoPanInteractiveMode.callBaseMethod(this,"stop",[a])}},
_hitTestEdge$1:function(a){var b=0,c=this.get_imageViewer()._getClientRectangle(),d=lt.Controls.PrimitivesHelper.toInt(c.get_width()),e=lt.Controls.PrimitivesHelper.toInt(c.get_height()),f=this.get_edgeSize(),g=lt.LeadRectD.create(f.get_width(),f.get_height(),d-2*f.get_width(),e-2*f.get_height()),a=lt.LeadPointD.create(a.get_x(),a.get_y());if(!g.containsPoint(a)){var g=lt.LeadRectD.create(0,0,d,f.get_height()),h=lt.LeadRectD.create(0,e-f.get_height(),d,f.get_height()),i=lt.LeadRectD.create(0,0,f.get_width(),
e),d=lt.LeadRectD.create(d-f.get_width(),0,f.get_width(),e);if(i.containsPoint(a)||a.get_x()<=c.get_left())b|=4;else if(d.containsPoint(a)||a.get_x()>=c.get_right())b|=8;if(g.containsPoint(a)||a.get_y()<=c.get_top())b|=2;else if(h.containsPoint(a)||a.get_y()>=c.get_bottom())b|=1}return b}};Object.defineProperty(lt.Controls.ImageViewerAutoPanInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerAutoPanInteractiveMode.prototype,
"id",{get:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerAutoPanInteractiveMode.prototype,"edgeSize",{get:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.get_edgeSize,set:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.set_edgeSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerAutoPanInteractiveMode.prototype,"moveThreshold",{get:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.get_moveThreshold,
set:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.set_moveThreshold,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerAutoPanInteractiveMode.prototype,"beginDelay",{get:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.get_beginDelay,set:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.set_beginDelay,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerAutoPanInteractiveMode.prototype,"panDelay",{get:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.get_panDelay,
set:lt.Controls.ImageViewerAutoPanInteractiveMode.prototype.set_panDelay,enumerable:!0,configurable:!0});lt.Controls.ImageViewerCenterAtInteractiveMode=function(){lt.Controls.ImageViewerCenterAtInteractiveMode.initializeBase(this)};lt.Controls.ImageViewerCenterAtInteractiveMode.prototype={get_name:function(){return"CenterAt"},get_id:function(){return 2},_scaleFactor$1:1,get_scaleFactor:function(){return this._scaleFactor$1},set_scaleFactor:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("ScaleFactor",
a,"Must be a value greater than 0");return this._scaleFactor$1=a},start:function(a){lt.Controls.ImageViewerCenterAtInteractiveMode.callBaseMethod(this,"start",[a]);lt.Controls.ImageViewerCenterAtInteractiveMode.callBaseMethod(this,"get_interactiveService").add_tap(ss.Delegate.create(this,this._service_Tap$1))},stop:function(a){this.get_isStarted()&&(lt.Controls.ImageViewerCenterAtInteractiveMode.callBaseMethod(this,"get_interactiveService").remove_tap(ss.Delegate.create(this,this._service_Tap$1)),
lt.Controls.ImageViewerCenterAtInteractiveMode.callBaseMethod(this,"stop",[a]))},_service_Tap$1:function(a,b){if(this.canStartWork(b)){b.set_isHandled(!0);this.onWorkStarted(b);var c=this.get_imageViewer(),d=this.get_scaleFactor();lt.LeadDoubleTools.areClose(d,1)?c.centerAtPoint(b.get_origin()):(c.beginRender(),d*=c.get_scaleFactor(),c.centerAtPoint(b.get_origin()),c.zoom(0,d,b.get_origin()),c.endRender());this.onWorkCompleted(lt.LeadEventArgs.Empty)}}};Object.defineProperty(lt.Controls.ImageViewerCenterAtInteractiveMode.prototype,
"name",{get:lt.Controls.ImageViewerCenterAtInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerCenterAtInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerCenterAtInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerCenterAtInteractiveMode.prototype,"scaleFactor",{get:lt.Controls.ImageViewerCenterAtInteractiveMode.prototype.get_scaleFactor,set:lt.Controls.ImageViewerCenterAtInteractiveMode.prototype.set_scaleFactor,
enumerable:!0,configurable:!0});lt.Controls.ImageViewerDragInteractiveMode=function(){this._format$1="text";this._allowedEffects$1=lt.Controls.ImageViewerDragInteractiveMode._defaultAlowedEffects$1;this._targetImageViewerMode$1=0;this._dragMode$1=1;this._customDragElementLastOrigin$1=lt.LeadPointD.get_empty();this._customDragElementLastPosition$1=lt.LeadPointD.get_empty();this._userCustomDragElementSize$1=lt.LeadSizeD.get_empty();lt.Controls.ImageViewerDragInteractiveMode.initializeBase(this);this._init$1();
this.set_autoItemMode(2)};lt.Controls.ImageViewerDragInteractiveMode._checkFormat$1=function(a){if(String.compare(a,"text",!0))throw new lt.ArgumentOutOfRangeException("value",a,"Must be one of the supported data formats");};lt.Controls.ImageViewerDragInteractiveMode._checkAllowedEffects$1=function(a){if("copy"!==a||"move"!==a)throw new lt.ArgumentOutOfRangeException("value",a,"Must be one of the supported effects");};lt.Controls.ImageViewerDragInteractiveMode.prototype={get_format:function(){return this._format$1},
set_format:function(a){lt.Controls.ImageViewerDragInteractiveMode._checkFormat$1(a);return this._format$1=a},get_allowedEffects:function(){return this._allowedEffects$1},set_allowedEffects:function(a){lt.Controls.ImageViewerDragInteractiveMode._checkAllowedEffects$1(a);return this._allowedEffects$1=a},get_targetImageViewerMode:function(){return this._targetImageViewerMode$1},set_targetImageViewerMode:function(a){return this._targetImageViewerMode$1=a},get_name:function(){return"Drag"},get_id:function(){return 11},
start:function(a){lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,"start",[a]);this._doStart$1()},stop:function(a){this.get_isStarted()&&(this._doStop$1(),lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,"stop",[a]))},_service_DragStarted$1:function(a,b){this._checkPreventDefault$1(b);if(this.canStartWork(b)){var c=this.get_item();null!=c&&this.canWorkOnItem(c)&&this._doDragStarted$1(c,b)}},_init$1:function(){this.set_autoDisableTransitions(!1)},canWorkOnItem:function(a){return lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,
"canWorkOnItem",[a])&&null!=a&&a.get_hasImage()},get_mouseButtons:function(){return lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,"get_mouseButtons")},set_mouseButtons:function(a){if(1!==a&&!this._hasMouseButton(1))throw new lt.ArgumentException("Mouse button not supported","MouseButtons");lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,"set_mouseButtons",[a]);return a},get_dragMode:function(){return this._dragMode$1},set_dragMode:function(a){if(this._dragMode$1!==
a)return this._dragMode$1=a,this._updateEnabledDragStart$1(),a},_enabledNativeDragListeners$1:!1,_internalIsStarted$1:!1,_updateEnabledDragStart$1:function(){var a=this._internalIsStarted$1&&!this._dragMode$1;this._enabledNativeDragListeners$1!==a&&(this._enabledNativeDragListeners$1=a,this.get_interactiveService()._enableDragStart(a))},_savedUseCustomDragMode$1:!1,_savedDraggableState$1:!1,_doStart$1:function(){var a=this.get_interactiveService();this._internalIsStarted$1=!0;this._updateEnabledDragStart$1();
var b=a.get_eventsSource();null!=b&&(this._savedDraggableState$1=b.draggable,b.draggable=!0);a.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));a.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));a.add_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1))},_doStop$1:function(){var a=lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,"get_interactiveService");this._internalIsStarted$1=!1;this._updateEnabledDragStart$1();var b=a.get_eventsSource();
null!=b&&(b.draggable=this._savedDraggableState$1);a.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));a.remove_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));a.remove_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));this._resetCustomDragElement$1()},_savedAllowDrop$1:!1,_customDragElementData$1:null,_customDragElementHasMoved$1:!1,_internalCustomDragElement$1:null,_currentCustomDragElement$1:null,_userCustomDragElement$1:null,get_customDragElement:function(){return this._userCustomDragElement$1},
set_customDragElement:function(a){if(!(this._userCustomDragElement$1===a||null!=a&&this._internalCustomDragElement$1===a))return this._removeCurrentCustomDragElement$1(),this._userCustomDragElement$1=a,this._userCustomDragElementSize$1=lt.LeadSizeD.get_empty(),null!=a?(a.style.position="relative",this._userCustomDragElementSize$1=lt.Controls._elementsHelper.getSize(this._userCustomDragElement$1,!1),a.style.position="absolute",a.style.zIndex=200,a.style.cursor="inherit",null!=this._customDragElementData$1&&
a.setAttribute("data-drag",this._customDragElementData$1),this._currentCustomDragElement$1=a):this._currentCustomDragElement$1=this._internalCustomDragElement$1,this._updateCurrentCustomDragElement$1(),a},_removeCurrentCustomDragElement$1:function(){null!=this._currentCustomDragElement$1&&(this.get_interactiveService().get_userControls().remove(this._currentCustomDragElement$1),this._currentCustomDragElement$1.parentNode===document.body&&this._currentCustomDragElement$1.parentNode.removeChild(this._currentCustomDragElement$1),
lt.LTHelper.removeClass(this._currentCustomDragElement$1,"_lt_drag"))},_updateCurrentCustomDragElement$1:function(){if(null!=this._currentCustomDragElement$1&&this._savedUseCustomDragMode$1){var a=this._currentCustomDragElement$1===this._internalCustomDragElement$1;if(a||this._customDragElementHasMoved$1){this._currentCustomDragElement$1.parentNode!==document.body&&(this.get_interactiveService().get_userControls().add(this._currentCustomDragElement$1),document.body.appendChild(this._currentCustomDragElement$1),
lt.LTHelper.addClass(this._currentCustomDragElement$1,"_lt_drag"),lt.Controls.ImageViewerDragInteractiveMode._globalDragCustomElement=this._currentCustomDragElement$1);var b=lt.Controls.ImageViewerDragInteractiveMode.callBaseMethod(this,"get_interactiveService").get_targetOffset();if(!b.get_isEmpty()){var c=this._customDragElementLastOrigin$1,d=this._customDragElementLastPosition$1,e=b;a?(a=this.get_imageViewer().getItemViewBounds(this.get_item(),3,!1),e=c.get_isEmpty()||d.get_isEmpty()?lt.LeadPointD.create(b.get_x()+
a.get_x(),b.get_y()+a.get_y()):lt.LeadPointD.create(b.get_x()+a.get_x()+d.get_x()-c.get_x(),b.get_y()+a.get_y()+d.get_y()-c.get_y())):!d.get_isEmpty()&&!this._userCustomDragElementSize$1.get_isEmpty()&&(e=lt.LeadPointD.create(b.get_x()+d.get_x()-this._userCustomDragElementSize$1.get_width()/2,b.get_y()+d.get_y()-this._userCustomDragElementSize$1.get_height()/2));this._currentCustomDragElement$1.style.left=e.get_x()+"px";this._currentCustomDragElement$1.style.top=e.get_y()+"px"}}}},_checkPreventDefault$1:function(a){this.get_dragMode()&&
a.get_nativeEvent().preventDefault()},_doDragStarted$1:function(a,b){var c=b.get_nativeEvent();if(null!=c&&(this._resetCustomDragElement$1(),this._savedUseCustomDragMode$1=1===this.get_dragMode(),(!this.get_interactiveService().get_dragStartsOnDown()||!(!this._savedUseCustomDragMode$1&&"dragstart"!==c.type||this._savedUseCustomDragMode$1&&"mousedown"!==c.type&&"touchstart"!==c.type&&c.type!==lt.Controls._msEventsHelper.pointerdown))&&this.canStartWork(b))){var d=a.get_url(),e=this.get_allowedEffects();
if("none"!==e){var f=this.get_imageViewer();this._savedAllowDrop$1=f.get_allowDrop();var g=!1;if(this._savedUseCustomDragMode$1){c=a.get_image();null==c&&(c=a.get_canvas());null==c&&(c=a.get_element());b.get_nativeEvent().preventDefault();var g=!0,e=f.getItemViewBounds(a,3,!1),h=null;if(lt.Controls._elementsHelper.isImgElement(c)||lt.Controls._elementsHelper.isCanvasElement(c)||lt.Controls._elementsHelper.isSvgElement(c)){var h=parseInt(e.get_width()),i=parseInt(e.get_height()),j=document.createElement("canvas");
j.width=h;j.height=i;j.getContext("2d").drawImage(c,0,0,h,i);h=j}else h=document.createElement("div"),h.style.backgroundColor="#aaa";h.style.width=e.get_width()+"px";h.style.height=e.get_height()+"px";h.style.opacity=".5";h.style.position="absolute";h.style.zIndex=200;h.style.cursor="inherit";String.isNullOrEmpty(d)||(this._customDragElementData$1=d,h.setAttribute("data-drag",d));this._internalCustomDragElement$1=h;null==this._currentCustomDragElement$1&&(this._currentCustomDragElement$1=this._internalCustomDragElement$1,
this._updateCurrentCustomDragElement$1())}else c=c.dataTransfer,null!=c&&(c.effectAllowed=e,(e=String.isNullOrEmpty(d))&&(d="Test"),c.setData("text",d),c.getData("text")===d&&(e&&c.setData("text",""),g=!0,c.setDragImage&&(d=a.get_image(),null==d&&(d=a.get_canvas()),null!=d&&c.setDragImage(d,0,0))));g&&(2===this.get_targetImageViewerMode()&&f.set_allowDrop(!1),lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer=f,lt.Controls.ImageViewerDragInteractiveMode._globalDragIndex++,lt.Controls.ImageViewerDragInteractiveMode._globalDragCustomElement=
this._currentCustomDragElement$1,lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem=a,lt.Controls.ImageViewerDragInteractiveMode._globalTargetImageViewerMode=this.get_targetImageViewerMode(),b.set_isHandled(!0),this.onWorkStarted(b))}}},_service_DragDelta$1:function(a,b){this.get_isWorking()&&this._savedUseCustomDragMode$1&&(b.set_isHandled(!0),b.get_nativeEvent().preventDefault(),this._customDragElementLastPosition$1=b.get_position().clone(),this._customDragElementLastOrigin$1=b.get_origin().clone(),
this._customDragElementHasMoved$1=!0,this._updateCurrentCustomDragElement$1())},_service_DragCompleted$1:function(a,b){this.get_isWorking()&&(this._savedUseCustomDragMode$1?(lt.Controls.ImageViewerDragInteractiveMode._customDragCompleted_DropsOnly=!0,setTimeout(ss.Delegate.create(this,function(){lt.Controls.ImageViewerDragInteractiveMode._customDragCompleted_DropsOnly=!1;this._internal_service_DragCompleted$1(a,b)}),50)):this._internal_service_DragCompleted$1(a,b))},_internal_service_DragCompleted$1:function(a,
b){if(this.get_isWorking()){var c=this.get_imageViewer();c.get_allowDrop()!==this._savedAllowDrop$1&&c.set_allowDrop(this._savedAllowDrop$1);b.set_isHandled(!0);this.onWorkCompleted(b);lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer=null;lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem=null;lt.Controls.ImageViewerDragInteractiveMode._globalTargetImageViewerMode=0;this._resetCustomDragElement$1()}},_resetCustomDragElement$1:function(){lt.Controls.ImageViewerDragInteractiveMode._customDragCompleted_DropsOnly=
!1;this._customDragElementLastOrigin$1=lt.LeadPointD.get_empty();this._customDragElementLastPosition$1=lt.LeadPointD.get_empty();this._customDragElementData$1=null;this._customDragElementHasMoved$1=!1;this._removeCurrentCustomDragElement$1();var a=this._internalCustomDragElement$1;null!=a&&(this._currentCustomDragElement$1===a&&(this._currentCustomDragElement$1=null),null!=a.parentNode&&a.parentNode.removeChild(a),this._internalCustomDragElement$1=null);null!=document.body&&(document.body.style.cursor=
"",document.body.parentNode.style.cursor="");lt.Controls.ImageViewerDragInteractiveMode._globalDragCustomElement=null}};Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"format",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_format,set:lt.Controls.ImageViewerDragInteractiveMode.prototype.set_format,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"allowedEffects",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_allowedEffects,
set:lt.Controls.ImageViewerDragInteractiveMode.prototype.set_allowedEffects,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"targetImageViewerMode",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_targetImageViewerMode,set:lt.Controls.ImageViewerDragInteractiveMode.prototype.set_targetImageViewerMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_name,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"mouseButtons",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_mouseButtons,set:lt.Controls.ImageViewerDragInteractiveMode.prototype.set_mouseButtons,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,
"dragMode",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_dragMode,set:lt.Controls.ImageViewerDragInteractiveMode.prototype.set_dragMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerDragInteractiveMode.prototype,"customDragElement",{get:lt.Controls.ImageViewerDragInteractiveMode.prototype.get_customDragElement,set:lt.Controls.ImageViewerDragInteractiveMode.prototype.set_customDragElement,enumerable:!0,configurable:!0});lt.Controls._targetControls=function(){};
lt.Controls._targetControls.prototype={target:null,originalCursor:null,cursorChanged:!1};lt.Controls.ImageViewerInteractiveModes=function(a){lt.Controls.ImageViewerInteractiveModes.initializeBase(this);this._imageViewer$1=a};lt.Controls.ImageViewerInteractiveModes.prototype={_imageViewer$1:null,onCollectionChanged:function(a){switch(a.get_action()){case lt.NotifyLeadCollectionChangedAction.remove:case lt.NotifyLeadCollectionChangedAction.reset:if(null!=a.get_newItems()&&0<a.get_newItems().length)for(var b=
ss.IEnumerator.getEnumerator(a.get_newItems());b.moveNext();){var c=Type.safeCast(b.current,lt.Controls.ImageViewerInteractiveMode);null!=c&&this._stopInteractiveMode$1(c)}}this._updateCounter$1||this._resetInteractiveModes();lt.Controls.ImageViewerInteractiveModes.callBaseMethod(this,"onCollectionChanged",[a])},_resetInteractiveModes:function(){for(var a=ss.IEnumerator.getEnumerator(this);a.moveNext();){var b=a.current;this._stopInteractiveMode$1(b);b.get_isEnabled()&&this._startInteractiveMode$1(b)}this._startStopInteractiveService$1()},
_updateCounter$1:0,beginUpdate:function(){this._updateCounter$1++},endUpdate:function(){if(!this._updateCounter$1)throw new lt.InvalidOperationException("'EndUpdate' called without a matching 'BeginUpdate'");this._updateCounter$1--;this._updateCounter$1||this._resetInteractiveModes()},_startStopInteractiveService$1:function(){var a=this._imageViewer$1.get_interactiveService();if(null!=a){var b=!1;if(0<this.get_count())for(var c=ss.IEnumerator.getEnumerator(this);c.moveNext();)if(null!=c.current){b=
!0;break}b&&!a.get_isListening()?a.startListening():!b&&a.get_isListening()&&a.stopListening()}},_startInteractiveMode$1:function(a){this._startStopInteractiveService$1();null!=a&&(a.start(this._imageViewer$1),a.add_workStarted(ss.Delegate.create(this,this._interactiveMode_WorkStarted$1)),a.add_workCompleted(ss.Delegate.create(this,this._interactiveMode_WorkCompleted$1)))},_stopInteractiveMode$1:function(a){null!=a&&a.get_isStarted()&&(a.remove_workStarted(ss.Delegate.create(this,this._interactiveMode_WorkStarted$1)),
a.remove_workCompleted(ss.Delegate.create(this,this._interactiveMode_WorkCompleted$1)),a.stop(this._imageViewer$1))},_stopAll:function(){for(var a=ss.IEnumerator.getEnumerator(this);a.moveNext();)this._stopInteractiveMode$1(a.current)},_interactiveMode_WorkCompleted$1:function(){this._imageViewer$1._setWorkingInteractiveMode(null)},_interactiveMode_WorkStarted$1:function(a){this._imageViewer$1._setWorkingInteractiveMode(Type.safeCast(a,lt.Controls.ImageViewerInteractiveMode))},enableByIndex:function(a){this._doEnable$1(a,
null,-1,!1)},enable:function(a){this._doEnable$1(-1,a,-1,!1)},enableById:function(a){this._doEnable$1(-1,null,a,!0)},_doEnable$1:function(a,b,c,d){var e=this.get_count();this.beginUpdate();for(var f=0;f<e;f++){var g=this.get_item(f);g.set_isEnabled(g===b||a===f||d&&g.get_id()===c)}this.endUpdate()},findById:function(a){for(var b=null,c=this.get_count(),d=0;d<c&&null==b;d++){var e=this.get_item(d);e.get_id()===a&&(b=e)}return b}};lt.Controls.ImageViewerInteractiveMode=function(){this._mouseButtons=
1;this._itemPart=2};lt.Controls.ImageViewerInteractiveMode._isMouseWheelEvent=function(a){var b=Type.safeCast(a,lt.Controls.InteractiveDragStartedEventArgs);if(null!=b&&b.get_isMouseWheel())return!0;b=Type.safeCast(a,lt.Controls.InteractiveDragDeltaEventArgs);if(null!=b&&b.get_isMouseWheel())return!0;a=Type.safeCast(a,lt.Controls.InteractiveDragCompletedEventArgs);return null!=a&&a.get_isMouseWheel()?!0:!1};lt.Controls.ImageViewerInteractiveMode._canStartWorkOther=function(){return!1};lt.Controls.ImageViewerInteractiveMode.prototype=
{_tag:null,get_tag:function(){return this._tag},set_tag:function(a){return this._tag=a},toString:function(){return this.get_name()},_idleCursor:null,get_idleCursor:function(){return this._idleCursor},set_idleCursor:function(a){return this._idleCursor=a},_workingCursor:null,get_workingCursor:function(){return this._workingCursor},set_workingCursor:function(a){return this._workingCursor=a},_hitTestStateCursor:null,get_hitTestStateCursor:function(){return this._hitTestStateCursor},set_hitTestStateCursor:function(a){return this._hitTestStateCursor=
a},_hitTestState:!1,get_hitTestState:function(){return this._hitTestState},set_hitTestState:function(a){if(this._hitTestState!==a){var b=this.get_isStarted()&&null!=this.get_hitTestStateCursor(),c=this.get_imageViewer();b&&(this._restoreCursor(!1),null!=c&&c._setHitTestStateInteractiveMode(null));this._hitTestState=a;b&&this._hitTestState&&(this._setCursor(this.get_hitTestStateCursor()),null!=c&&c._setHitTestStateInteractiveMode(this))}return a},_interactiveService:null,get_interactiveService:function(){return this._interactiveService},
get_imageViewer:function(){return null!=this._interactiveService?this._interactiveService.get_owner():null},_isStarted:!1,get_isStarted:function(){return this._isStarted},_isEnabled:!0,get_isEnabled:function(){return this._isEnabled},set_isEnabled:function(a){return this._isEnabled=a},_targetControls:null,start:function(a){if(null==a)throw new lt.ArgumentNullException("imageViewer");if(this._isStarted)throw new lt.InvalidOperationException("Interactive mode already started");this._isStarted=!0;this._interactiveService=
a.get_interactiveService();this._doStartCursor(a)},stop:function(a){null!=a&&a.get_hasItems()&&this._restoreCursor(!1);null!=this._targetControls&&(this._targetControls.clear(),this._targetControls=null);this._interactiveService=null;this._isStarted=!1;null!=this.get_item()&&this.set_item(null)},_isWorking:!1,get_isWorking:function(){return this._isWorking},add_workStarted:function(a){this.__workStarted=ss.Delegate.combine(this.__workStarted,a)},remove_workStarted:function(a){this.__workStarted=ss.Delegate.remove(this.__workStarted,
a)},__workStarted_handler_get:function(){null==this.__workStarted_handler&&(this.__workStarted_handler=ss.EventHandler.create(this,this.add_workStarted,this.remove_workStarted));return this.__workStarted_handler},__workStarted:null,__workStarted_handler:null,onWorkStarted:function(a){var b=this.get_imageViewer();this._doOnWorkStarted(b);null!=b&&b.get_hasItems()&&this._setCursor(this._workingCursor);this._isWorking=!0;null!=this.__workStarted&&this.__workStarted(this,a)},add_workCompleted:function(a){this.__workCompleted=
ss.Delegate.combine(this.__workCompleted,a)},remove_workCompleted:function(a){this.__workCompleted=ss.Delegate.remove(this.__workCompleted,a)},__workCompleted_handler_get:function(){null==this.__workCompleted_handler&&(this.__workCompleted_handler=ss.EventHandler.create(this,this.add_workCompleted,this.remove_workCompleted));return this.__workCompleted_handler},__workCompleted:null,__workCompleted_handler:null,onWorkCompleted:function(a){var b=this.get_imageViewer();this._doOnWorkCompleted(b);null!=
b&&b.get_hasItems()&&this._restoreCursor(!0);this._isWorking=!1;null!=this.__workCompleted&&this.__workCompleted(this,a)},get_mouseButtons:function(){return this._mouseButtons},set_mouseButtons:function(a){if(this.get_isStarted())throw new lt.InvalidOperationException("Cannot change the property of this value while the interactive mode is started");return this._mouseButtons=a},_isDragMouseWheelEnabled:!0,get_isDragMouseWheelEnabled:function(){return this._isDragMouseWheelEnabled},set_isDragMouseWheelEnabled:function(a){return this._isDragMouseWheelEnabled=
a},_hasMouseButton:function(a){return!a?!this._mouseButtons:(this._mouseButtons&a)===a},_workOnBounds:!0,get_workOnBounds:function(){return this._workOnBounds},set_workOnBounds:function(a){return this._workOnBounds=a},_item:null,get_item:function(){return this._item},set_item:function(a){return this._item=a},get_itemPart:function(){return this._itemPart},set_itemPart:function(a){return this._itemPart=a},_autoItemMode:0,get_autoItemMode:function(){return this._autoItemMode},set_autoItemMode:function(a){return this._autoItemMode=
a},getWorkBounds:function(a,b){if(null==a)throw new lt.ArgumentNullException("imageViewer");var c=this.get_item();return null!=c?a.getItemViewBounds(c,this.get_itemPart(),b):a.getViewBounds(!1,b)},updateAutoItem:function(a,b){if(null==a)throw new lt.ArgumentNullException("imageViewer");var c=null,c=6===this.get_itemPart()?a.hitTestFloater(b):a.hitTestItem(b);this.set_item(c);3===this.get_autoItemMode()&&null!=c&&c!==a.get_activeItem()&&a.set_activeItem(c)},getItemWorkBounds:function(a,b){if(null==
a)throw new lt.ArgumentNullException("imageViewer");return null!=b?a.getItemViewBounds(b,this.get_itemPart(),!0):a.getViewBounds(!1,!0)},_isOnWorkBounds:function(a,b){if(!this.get_workOnBounds())return!0;var c=this.get_item();if(null!=c)return this.getItemWorkBounds(a,c).contains(b.get_x(),b.get_y());c=this.get_autoItemMode();return 2===c||3===c?!1:this.getItemWorkBounds(a,null).contains(b.get_x(),b.get_y())},canStartWork:function(a){if(a.get_isHandled()||!this.get_isEnabled())return!1;var b=this.get_imageViewer(),
c=this._hasMouseButton(a.get_mouseButton()),d=this.get_autoItemMode();c&&b.get_hasItems()&&(2===d||3===d)&&this.updateAutoItem(b,a.get_position());if(b.get_hasItems()&&this._isOnWorkBounds(b,a.get_position())){if(lt.Controls.ImageViewerInteractiveMode._isMouseWheelEvent(a))return this.get_isDragMouseWheelEnabled()&&(this._hasMouseButton(0)||c);if(c||lt.Controls.ImageViewerInteractiveMode._canStartWorkOther(b))return!0}return!1},canWorkOnItem:function(){return!0},_getVisibleUserControls:function(a){var b=
this.get_interactiveService().get_userControls();if(null==b||!b.length)return null;for(var c=[],b=ss.IEnumerator.getEnumerator(b);b.moveNext();){var d=b.current,e=!0;if(null!=a&&0<a.length)for(var e=!1,f=0;f<a.length&&!e;f++)e=!String.compare(d.tagName,a[f],!0);if(e){var f=lt.LTHelper.getElementStyle(d,"display"),g=lt.LTHelper.getElementStyle(d,"visibility");if("none"===f||"hidden"===g||"collapse"===g)e=!1}e&&c.add(d)}return c},_setCursor:function(a){if(lt.LTHelper.supportsMouse&&1===this._mouseButtons&&
!String.isNullOrEmpty(a)&&null!=this._targetControls&&0<this._targetControls.length){for(var b=this.get_imageViewer().get_mainDiv(),c=0;c<this._targetControls.length;c++){var d=this._targetControls[c];d.target!==b&&(d.target.style.cursor=a,d.cursorChanged=!0)}return!0}return!1},_restoreCursor:function(a){if(lt.LTHelper.supportsMouse&&1===this._mouseButtons&&null!=this._targetControls&&0<this._targetControls.length){for(var b=this.get_interactiveService(),c=0;c<this._targetControls.length;c++){var d=
this._targetControls[c];d.cursorChanged&&(a?d.target.style.cursor=this._idleCursor:(d.target.style.cursor=d.originalCursor,this._targetControls[c].cursorChanged=!1))}c=this.get_imageViewer();null!=b&&null!=this.get_imageViewer()&&!a&&this.get_imageViewer().get_idleInteractiveMode()===this&&c._setIdleInteractiveMode(null)}},_doStartCursor:function(a){if(null!=a&&lt.LTHelper.supportsMouse&&1===this._mouseButtons&&(null!=this._idleCursor||null!=this._workingCursor||null!=this._hitTestStateCursor)){var b=
this._getVisibleUserControls(null);null==b&&(b=[]);var c=null!=a.get_eventCanvas()?a.get_eventCanvas():a.get_foreCanvas();null!=c&&b.add(c);c=a.get_mainDiv();null!=c&&b.add(c);if(null!=b&&0<b.length){c=b.length;this._targetControls=Array(c);for(var d=0;d<c;d++)this._targetControls[d]=new lt.Controls._targetControls,this._targetControls[d].target=b[d],this._targetControls[d].cursorChanged=!1,this._targetControls[d].originalCursor=b[d].style.cursor}b=this.get_interactiveService();null!=this._idleCursor&&
null!=b&&this._setCursor(this._idleCursor)&&a._setIdleInteractiveMode(this)}},_doOnWorkStarted:function(a){this.get_autoDisableTransitions()&&a.disableTransitions();null!=this._interactiveService&&this._interactiveService.set_enableSelection(!1)},_doOnWorkCompleted:function(a){this.get_autoDisableTransitions()&&a.enableTransitions();null!=this._interactiveService&&this._interactiveService.set_enableSelection(!0)},_autoDisableTransitions:!0,get_autoDisableTransitions:function(){return this._autoDisableTransitions},
set_autoDisableTransitions:function(a){return this._autoDisableTransitions=a}};Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"tag",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_tag,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_tag,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"idleCursor",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_idleCursor,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_idleCursor,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"workingCursor",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_workingCursor,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_workingCursor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"hitTestStateCursor",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_hitTestStateCursor,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_hitTestStateCursor,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"hitTestState",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_hitTestState,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_hitTestState,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"interactiveService",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_interactiveService,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,
"imageViewer",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_imageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"isStarted",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_isStarted,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"isEnabled",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_isEnabled,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_isEnabled,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"isWorking",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_isWorking,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"workStarted",{get:lt.Controls.ImageViewerInteractiveMode.prototype.__workStarted_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"workCompleted",{get:lt.Controls.ImageViewerInteractiveMode.prototype.__workCompleted_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"mouseButtons",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_mouseButtons,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_mouseButtons,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"isDragMouseWheelEnabled",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_isDragMouseWheelEnabled,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_isDragMouseWheelEnabled,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"workOnBounds",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_workOnBounds,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_workOnBounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"item",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_item,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_item,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"itemPart",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_itemPart,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_itemPart,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"autoItemMode",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_autoItemMode,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_autoItemMode,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewerInteractiveMode.prototype,"autoDisableTransitions",{get:lt.Controls.ImageViewerInteractiveMode.prototype.get_autoDisableTransitions,set:lt.Controls.ImageViewerInteractiveMode.prototype.set_autoDisableTransitions,enumerable:!0,configurable:!0});lt.Controls.ImageViewerMagnifyGlassInteractiveMode=function(){lt.Controls.ImageViewerMagnifyGlassInteractiveMode.initializeBase(this);this._renderRedirectOptions$2=new lt.Controls.ImageViewerRenderRedirectOptions};
lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype={_scaleFactor$2:2,get_scaleFactor:function(){return this._scaleFactor$2},set_scaleFactor:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("ScaleFactor",a,"Must be a value greater than 0");return this._scaleFactor$2=a},_renderRedirectOptions$2:null,get_renderRedirectOptions:function(){return this._renderRedirectOptions$2},set_renderRedirectOptions:function(a){return this._renderRedirectOptions$2=a},
get_name:function(){return"MagnifyGlass"},get_id:function(){return 8},onWorkStarted:function(a){this._doStarted$2();lt.Controls.ImageViewerMagnifyGlassInteractiveMode.callBaseMethod(this,"onWorkStarted",[a])},onWorkCompleted:function(a){this._doCompleted$2();lt.Controls.ImageViewerMagnifyGlassInteractiveMode.callBaseMethod(this,"onWorkCompleted",[a])},_elements$2:null,_elementPositions$2:null,get_alwaysFillBackground:function(){return!0},_doStarted$2:function(){this._elements$2=this._getVisibleUserControls(["canvas"]);
this._elementPositions$2=null;if(null!=this._elements$2){this._elementPositions$2=[];for(var a=ss.IEnumerator.getEnumerator(this._elements$2);a.moveNext();){var b=a.current;this._elementPositions$2.add(lt.LTHelper.getPosition(b,b.parentNode))}}},_doCompleted$2:function(){null!=this._elements$2&&(this._elements$2.clear(),this._elements$2=null);null!=this._elementPositions$2&&(this._elementPositions$2.clear(),this._elementPositions$2=null)},onDrawImage:function(a){var b=a.get_context();this._renderMagGlass$2(a.get_destinationRectangle(),
b);this._renderChildrenCanvases$2(b);lt.Controls.ImageViewerMagnifyGlassInteractiveMode.callBaseMethod(this,"onDrawImage",[a])},_renderMagGlass$2:function(a,b){var c=this.get_size();c.get_isEmpty()&&(c=lt.LeadSizeD.create(0,0));var d=a;d.get_isEmpty()&&(d=lt.LeadRectD.create(0,0,0,0));if(!(0>=c.get_width()||0>=c.get_height()||0>=d.get_width()||0>=d.get_height())){b.setTransform(1,0,0,1,0,0);var e=this.get_scaleFactor();b.translate(-(e-1)*c.get_width()/2,-(e-1)*c.get_height()/2);b.scale(e,e);b.translate(-d.get_left(),
-d.get_top());c=this.get_imageViewer();b.save();null==this.get_backgroundColor()&&this._renderRedirectOptions$2.set_backgroundColor(this.get__fillBackgroundColor());c.renderRedirect(b,this._renderRedirectOptions$2,lt.LeadRectD.get_empty());b.restore()}},_renderChildrenCanvases$2:function(a){if(null!=this._elements$2)for(var b=0;b<this._elements$2.length;b++){var c=this._elements$2[b],d=this._elementPositions$2[b];a.drawImage(c,d.get_x(),d.get_y(),c.width,c.height)}}};Object.defineProperty(lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype,
"scaleFactor",{get:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.get_scaleFactor,set:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.set_scaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype,"renderRedirectOptions",{get:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.get_renderRedirectOptions,set:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.set_renderRedirectOptions,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype,"alwaysFillBackground",
{get:lt.Controls.ImageViewerMagnifyGlassInteractiveMode.prototype.get_alwaysFillBackground,enumerable:!0,configurable:!0});lt.Controls.ImageViewerNoneInteractiveMode=function(){lt.Controls.ImageViewerNoneInteractiveMode.initializeBase(this)};lt.Controls.ImageViewerNoneInteractiveMode.prototype={get_name:function(){return"None"},get_id:function(){return 0},start:function(a){lt.Controls.ImageViewerNoneInteractiveMode.callBaseMethod(this,"start",[a])},stop:function(a){this.get_isStarted()&&lt.Controls.ImageViewerNoneInteractiveMode.callBaseMethod(this,
"stop",[a])}};Object.defineProperty(lt.Controls.ImageViewerNoneInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerNoneInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerNoneInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerNoneInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});lt.Controls.ImageViewerPagerInteractiveMode=function(){lt.Controls.ImageViewerPagerInteractiveMode.initializeBase(this)};lt.Controls.ImageViewerPagerInteractiveMode._getPageCount$1=
function(){return 0};lt.Controls.ImageViewerPagerInteractiveMode._getPageNumber$1=function(){return 0};lt.Controls.ImageViewerPagerInteractiveMode._setPageNumber$1=function(){};lt.Controls.ImageViewerPagerInteractiveMode.prototype={get_name:function(){return"Pager"},get_id:function(){return 12},start:function(a){lt.Controls.ImageViewerPagerInteractiveMode.callBaseMethod(this,"start",[a]);a=lt.Controls.ImageViewerPagerInteractiveMode.callBaseMethod(this,"get_interactiveService");a.add_dragStarted(ss.Delegate.create(this,
this._service_DragStarted$1));a.add_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));a.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1))},stop:function(a){if(this.get_isStarted()){var b=lt.Controls.ImageViewerPagerInteractiveMode.callBaseMethod(this,"get_interactiveService");b.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));b.remove_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));b.remove_dragCompleted(ss.Delegate.create(this,
this._service_DragCompleted$1));lt.Controls.ImageViewerPagerInteractiveMode.callBaseMethod(this,"stop",[a])}},_flipPoint$1:null,_service_DragStarted$1:function(a,b){this.canStartWork(b)&&(this._flipPoint$1=b.get_origin().clone(),b.set_isHandled(!0),this.onWorkStarted(b))},_service_DragDelta$1:function(a,b){if(this.get_isWorking()){var c=this.get_imageViewer(),d=0,e=this.get_item(),f=this.get__changeActiveItem$1(),d=f?c.get_items().get_count():lt.Controls.ImageViewerPagerInteractiveMode._getPageCount$1(e);
if(1<d){var g=parseInt(b.get_position().get_y()-this._flipPoint$1.get_y()),h=lt.Controls.PrimitivesHelper.toInt(c._getClientRectangle().get_height()/d);if(Math.abs(g)>=h){f?(h=c.get_activeItem(),h=c.get_items().indexOf(h)+1):h=lt.Controls.ImageViewerPagerInteractiveMode._getPageNumber$1(e);var i=h;0>g?h--:h++;h=Math.max(1,Math.min(d,h));h!==i&&(f?c.set_activeItem(c.get_items().get_item(h-1)):lt.Controls.ImageViewerPagerInteractiveMode._setPageNumber$1(e,h));this._flipPoint$1=b.get_position().clone()}}b.set_isHandled(!0)}},
_service_DragCompleted$1:function(a,b){this.get_isWorking()&&(b.set_isHandled(!0),this.onWorkCompleted(lt.LeadEventArgs.Empty))},get__changeActiveItem$1:function(){return!0}};Object.defineProperty(lt.Controls.ImageViewerPagerInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerPagerInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPagerInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerPagerInteractiveMode.prototype.get_id,
enumerable:!0,configurable:!0});lt.Controls.ImageViewerPanControl=function(){this._renderRedirectOptions=new lt.Controls.ImageViewerRenderRedirectOptions;this._mouseButton=1;this._insideRect=lt.LeadRectD.create(0,0,0,0);this._outsideRect=lt.LeadRectD.create(0,0,0,0);this._renderRedirectOptions.set_renderBorders(!1);this._renderRedirectOptions.set_renderShadows(!1);this._renderRedirectOptions.set_renderBackgrounds(!1);this._renderRedirectOptions.set_renderText(!1);this._renderRedirectOptions.set_renderItemStates(!1)};
lt.Controls.ImageViewerPanControl.prototype={_interactiveService:null,get_interactiveService:function(){return this._interactiveService},_imageViewer:null,get_imageViewer:function(){return this._imageViewer},set_imageViewer:function(a){null!=this._imageViewer&&(this._imageViewer.remove_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged)),this._imageViewer.remove_redirectRender(ss.Delegate.create(this,this._imageViewer_RedirectRender)));this._imageViewer=a;null!=this._imageViewer&&
(this._imageViewer.add_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged)),this._imageViewer.add_redirectRender(ss.Delegate.create(this,this._imageViewer_RedirectRender)));this._updateTransform();return a},get__hasControl:function(){return null!=this._control},_control:null,get_control:function(){return this._control},set_control:function(a){null!=this._control&&this._attachControl(this._control,!1);this._control=a;null!=this._control&&this._attachControl(this._control,!0);
this._reCreate();return a},_workingCursor:null,get_workingCursor:function(){return this._workingCursor},set_workingCursor:function(a){return this._workingCursor=a},get_mouseButton:function(){return this._mouseButton},set_mouseButton:function(a){return this._mouseButton=a},_enablePan:!0,get_enablePan:function(){return this._enablePan},set_enablePan:function(a){this._enablePan=a;this._reCreate();return a},_reCreate:function(){this._enablePan?(null!=this._interactiveService&&this._disposeInteractiveService(),
this._createInteractiveService()?(this._interactiveService.add_dragStarted(ss.Delegate.create(this,this._interactiveService_DragStarted)),this._interactiveService.add_dragDelta(ss.Delegate.create(this,this._interactiveService_DragDelta)),this._interactiveService.add_dragCompleted(ss.Delegate.create(this,this._interactiveService_DragCompleted)),this._interactiveService.startListening(),this._updateTransform(),this._invalidate()):this._disposeInteractiveService()):this._disposeInteractiveService()},
_createInteractiveService:function(){if(null==this._control)return!1;this._interactiveService=lt.Controls.InteractiveService.create(this._control,this._control,this._control);return!0},_imageViewer_TransformChanged:function(){this._updateTransform()},_imageViewer_RedirectRender:function(){this._invalidate()},_getPanItem:function(){if(!this.get__hasControl()||null==this._imageViewer||!this._imageViewer.get_hasItems())return null;var a=this._imageViewer.get_activeItem();null==a&&(a=this._imageViewer.get_items().get_item(0));
return a},_updateTransform:function(){if(null==this._getPanItem())this._insideRect=lt.LeadRectD.create(0,0,0,0),this._outsideRect=lt.LeadRectD.create(0,0,0,0);else{var a=this._imageViewer.getViewBounds(!1,!1),b=lt.LeadRectD.intersectRects(a,lt.Controls.PrimitivesHelper.toLeadRectD(this._imageViewer._getClientRectangle()));this._renderRedirectOptions.createTransform(this._imageViewer,this._getControlClientRectangle(),a,3,1,1);a=lt.Controls.PrimitivesHelper.transformRect(a,this._renderRedirectOptions.get_transform());
b=lt.Controls.PrimitivesHelper.transformRect(b,this._renderRedirectOptions.get_transform());this._insideRect=b.clone();this._outsideRect=a.clone();this._canPan=!lt.LeadRectD.equals(this._insideRect,this._outsideRect)}},_canPan:!1,_isPanning:!1,_originalCursor:null,_interactiveService_DragStarted:function(a,b){var c=lt.Controls.PrimitivesHelper.toLeadPointD(b.get_position().clone());if(null!=this._getPanItem()&&b.get_mouseButton()===this.get_mouseButton()&&this._canPan&&this._outsideRect.containsPoint(c)&&
(this._imageViewer.disableTransitions(),lt.Controls._controlInertiaScroller.get_instance()._removeParams(this._imageViewer),this._isPanning=!0,null!=this._workingCursor?(this._originalCursor=this._getCurrentCursor(),this._setCursor(this._workingCursor)):this._originalCursor=null,!this._insideRect.containsPoint(c)&&!b.get_isMouseWheel())){var d=this._insideRect.get_x()+this._insideRect.get_width()/2,e=this._insideRect.get_y()+this._insideRect.get_height()/2,c=lt.LeadPointD.create(d-c.get_x(),e-c.get_y());
this._scrollBy(lt.Controls.PrimitivesHelper.toLeadPoint(c))}},_interactiveService_DragDelta:function(a,b){this._isPanning&&null!=this._imageViewer&&(this._handleDrag(b),this._scrollBy(b.get_change()))},_scrollBy:function(a){if(a.get_x()||a.get_y()){var b=lt.LeadRectD.create(0,0,Math.abs(a.get_x()),Math.abs(a.get_y())),b=lt.Controls.PrimitivesHelper.getCornerPoints(b),c=this._renderRedirectOptions.get_transform().clone();c.get_hasInverse()&&c.invert();c.transformPoints(b);b=lt.Controls.PrimitivesHelper.getBoundingRect(b);
b=lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(b.get_width()),lt.Controls.PrimitivesHelper.toInt(b.get_height()));0<a.get_x()&&b.set_x(-1*b.get_x());0<a.get_y()&&b.set_y(-1*b.get_y());this._imageViewer.scrollBy(b)}},_interactiveService_DragCompleted:function(){this._isPanning&&(this._imageViewer.enableTransitions(),this._isPanning=!1);null!=this._workingCursor&&this._setCursor(this._originalCursor)},_disposeInteractiveService:function(){null!=this._interactiveService&&(this._interactiveService.remove_dragStarted(ss.Delegate.create(this,
this._interactiveService_DragStarted)),this._interactiveService.remove_dragDelta(ss.Delegate.create(this,this._interactiveService_DragDelta)),this._interactiveService.remove_dragCompleted(ss.Delegate.create(this,this._interactiveService_DragCompleted)),this._interactiveService.stopListening(),this._interactiveService.dispose(),this._interactiveService=null)},_cleanUp:function(){this._disposeInteractiveService();this.set_control(null);this.set_imageViewer(null)},get_canvas:function(){return this.get_control()},
set_canvas:function(a){this.set_control(a);return a},_attachControl:function(){},_getControlClientRectangle:function(){if(null==this._control)return lt.LeadRectD.get_empty();var a=this._control;return lt.LeadRectD.create(0,0,a.width,a.height)},_borderColor:"blue",get_borderColor:function(){return this._borderColor},set_borderColor:function(a){return this._borderColor=a},_borderThickness:1,get_borderThickness:function(){return this._borderThickness},set_borderThickness:function(a){return this._borderThickness=
a},_insideColor:null,get_insideColor:function(){return this._insideColor},set_insideColor:function(a){return this._insideColor=a},_outsideColor:null,get_outsideColor:function(){return this._outsideColor},set_outsideColor:function(a){return this._outsideColor=a},_setCursor:function(a){lt.LTHelper.supportsMouse&&(this._control.style.cursor=a)},_getCurrentCursor:function(){return lt.LTHelper.supportsMouse?this._control.style.cursor:null},_handleDrag:function(a){a.get_nativeEvent().preventDefault()},
_invalidate:function(){if(null!=this._control){var a=this._control,b=a.getContext("2d");b.clearRect(0,0,a.width,a.height);this._imageViewer.renderRedirect(b,this._renderRedirectOptions,lt.LeadRectD.get_empty());b.save();String.isNullOrEmpty(this._insideColor)||(b.fillStyle=this._insideColor,b.fillRect(this._insideRect.get_x(),this._insideRect.get_y(),this._insideRect.get_width(),this._insideRect.get_height()));if(!String.isNullOrEmpty(this._outsideColor)&&this._canPan){a=lt.Controls.GraphicsHelper.saveContext(b);
try{lt.Controls.GraphicsHelper.renderExcludeClip(b,this._outsideRect,this._insideRect,this._outsideColor)}finally{lt.Controls.GraphicsHelper.restoreContext(b,a)}}!String.isNullOrEmpty(this._borderColor)&&0<this._borderThickness&&(b.strokeStyle=this._borderColor,b.strokeRect(this._insideRect.get_x(),this._insideRect.get_y(),this._insideRect.get_width(),this._insideRect.get_height()));b.restore()}},dispose:function(){this._cleanUp()}};Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,
"interactiveService",{get:lt.Controls.ImageViewerPanControl.prototype.get_interactiveService,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"imageViewer",{get:lt.Controls.ImageViewerPanControl.prototype.get_imageViewer,set:lt.Controls.ImageViewerPanControl.prototype.set_imageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"control",{get:lt.Controls.ImageViewerPanControl.prototype.get_control,
set:lt.Controls.ImageViewerPanControl.prototype.set_control,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"workingCursor",{get:lt.Controls.ImageViewerPanControl.prototype.get_workingCursor,set:lt.Controls.ImageViewerPanControl.prototype.set_workingCursor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"mouseButton",{get:lt.Controls.ImageViewerPanControl.prototype.get_mouseButton,set:lt.Controls.ImageViewerPanControl.prototype.set_mouseButton,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"enablePan",{get:lt.Controls.ImageViewerPanControl.prototype.get_enablePan,set:lt.Controls.ImageViewerPanControl.prototype.set_enablePan,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"canvas",{get:lt.Controls.ImageViewerPanControl.prototype.get_canvas,set:lt.Controls.ImageViewerPanControl.prototype.set_canvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,
"borderColor",{get:lt.Controls.ImageViewerPanControl.prototype.get_borderColor,set:lt.Controls.ImageViewerPanControl.prototype.set_borderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"borderThickness",{get:lt.Controls.ImageViewerPanControl.prototype.get_borderThickness,set:lt.Controls.ImageViewerPanControl.prototype.set_borderThickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"insideColor",
{get:lt.Controls.ImageViewerPanControl.prototype.get_insideColor,set:lt.Controls.ImageViewerPanControl.prototype.set_insideColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanControl.prototype,"outsideColor",{get:lt.Controls.ImageViewerPanControl.prototype.get_outsideColor,set:lt.Controls.ImageViewerPanControl.prototype.set_outsideColor,enumerable:!0,configurable:!0});lt.Controls.ImageViewerPanZoomInteractiveMode=function(){this._transformTarget$1=0;this._zoomKeyModifier$1=
131072;this._pageKeyModifier$1=262144;this._doubleTapSizeMode$1=4;this._inertiaScrollOptions$1=lt.Controls.ControlInertiaScrollOptions.createDefault();this._runningVelocity$1=lt.LeadPointD.create(0,0);this._delta$1=lt.LeadPointD.create(0,0);lt.Controls.ImageViewerPanZoomInteractiveMode.initializeBase(this);this.set_workOnBounds(!1);this._inertiaScroll_Delegate$1=ss.Delegate.create(this,this._inertiaScroll);this._timerCallback_Delegate$1=ss.Delegate.create(this,this._timerCallback$1)};lt.Controls.ImageViewerPanZoomInteractiveMode._calculateDefaultMouseWheelChange$1=
function(a,b){b=b.clone();if(null==a)return b;if(1<a.get_items().get_count()){var c=a.getLargestVisibleItem(1);if(null!=c&&(c=a.getItemViewBounds(c,1,!1),!c.get_isEmpty()))return c=Math.max(1,lt.Controls.PrimitivesHelper.toInt(c.get_height())),c=Math.max(1,c/10),b.set_x(0),b.set_y(b.get_y()*-Math.max(1,lt.Controls.PrimitivesHelper.toInt(c))),b}c=lt.Controls.PrimitivesHelper.toLeadRect(a.getViewBounds(!1,!0));b.set_x(0);b.set_y(b.get_y()*-Math.max(1,c.get_height()/10));return b};lt.Controls.ImageViewerPanZoomInteractiveMode._calculateMouseWheelChange=
function(a,b){b=b.clone();return null==a?b:b.get_isEmpty()?lt.Controls.ImageViewerPanZoomInteractiveMode._calculateDefaultMouseWheelChange$1(a,b):lt.LeadPointD.create(0,-b.get_y())};lt.Controls.ImageViewerPanZoomInteractiveMode._calculateMouseWheelZoomChange$1=function(a){return a};lt.Controls.ImageViewerPanZoomInteractiveMode._updateForMouseWheel$1=function(a){return a};lt.Controls.ImageViewerPanZoomInteractiveMode.prototype={_inertiaScroll_Delegate$1:null,_timerCallback_Delegate$1:null,_enablePan$1:!0,
get_enablePan:function(){return this._enablePan$1},set_enablePan:function(a){if(this.get_isStarted())throw new lt.InvalidOperationException("Cannot change the property of this value while the interactive mode is started");return this._enablePan$1=a},_enableZoom$1:!0,get_enableZoom:function(){return this._enableZoom$1},set_enableZoom:function(a){if(this.get_isStarted())throw new lt.InvalidOperationException("Cannot change the property of this value while the interactive mode is started");return this._enableZoom$1=
a},_enablePinchZoom$1:!0,get_enablePinchZoom:function(){return this._enablePinchZoom$1},set_enablePinchZoom:function(a){if(this.get_isStarted())throw new lt.InvalidOperationException("Cannot change the property of this value while the interactive mode is started");return this._enablePinchZoom$1=a},get_transformTarget:function(){return this._transformTarget$1},set_transformTarget:function(a){if(this.get_isWorking())throw new lt.InvalidOperationException("Cannot change this property while the interactive mode is working");
return this._transformTarget$1=a},get_zoomKeyModifier:function(){return this._zoomKeyModifier$1},set_zoomKeyModifier:function(a){switch(a){case 0:case 262144:case 65536:case 131072:this._zoomKeyModifier$1=a;break;default:throw new lt.ArgumentException("Invalid value","ZoomKeyModifier");}return a},get_pageKeyModifier:function(){return this._pageKeyModifier$1},set_pageKeyModifier:function(a){switch(a){case 0:case 262144:case 65536:case 131072:this._pageKeyModifier$1=a;break;default:throw new lt.ArgumentException("Invalid value",
"PageKeyModifier");}return a},_isKeyboardEnabled$1:!0,get_isKeyboardEnabled:function(){return this._isKeyboardEnabled$1},set_isKeyboardEnabled:function(a){return this._isKeyboardEnabled$1=a},_zoomAtWorkBoundsCenter$1:!1,get_zoomAtWorkBoundsCenter:function(){return this._zoomAtWorkBoundsCenter$1},set_zoomAtWorkBoundsCenter:function(a){return this._zoomAtWorkBoundsCenter$1=a},_minimumScaleFactor$1:0.1,get_minimumScaleFactor:function(){return this._minimumScaleFactor$1},set_minimumScaleFactor:function(a){if(a<
this.get_imageViewer().get_minimumScaleFactor())throw new lt.ArgumentOutOfRangeException("MinimumScaleFactor",a,"Must be a value greater than or equal to 'ImageViewer.MinimumScaleFactor'");return this._minimumScaleFactor$1=a},get_doubleTapSizeMode:function(){return this._doubleTapSizeMode$1},set_doubleTapSizeMode:function(a){return this._doubleTapSizeMode$1=a},get_name:function(){return"PanZoom"},get_id:function(){return 1},_isKeyboardHooked$1:!1,start:function(a){lt.Controls.ImageViewerPanZoomInteractiveMode.callBaseMethod(this,
"start",[a]);a=lt.Controls.ImageViewerPanZoomInteractiveMode.callBaseMethod(this,"get_interactiveService");a.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));a.add_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));a.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));a.add_doubleTap(ss.Delegate.create(this,this._service_DoubleTap$1));this.get_isKeyboardEnabled()&&(a.add_keyDown(ss.Delegate.create(this,this._service_KeyDown$1)),this._isKeyboardHooked$1=
!0);this._doStart$1(a);this._isZooming$1=this._isDragging$1=!1},stop:function(a){if(null!=lt.Controls._controlInertiaScroller.get_instance()._getParams(a)){lt.Controls._controlInertiaScroller.get_instance()._removeParams(a);var b=lt.Controls.ImageViewerSyncManager.beginSync(a.get_syncId());if(a.get_isSyncSource()&&null!=b)for(var c=0;c<b.length;c++){var d=b[c];d!==a&&d.get_isSyncTarget()&&lt.Controls._controlInertiaScroller.get_instance()._removeParams(d)}lt.Controls.ImageViewerSyncManager.endSync(a.get_syncId())}this._isZooming$1=
this._isDragging$1=!1;this.get_isStarted()&&(b=lt.Controls.ImageViewerPanZoomInteractiveMode.callBaseMethod(this,"get_interactiveService"),b.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1)),b.remove_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1)),b.remove_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1)),b.remove_doubleTap(ss.Delegate.create(this,this._service_DoubleTap$1)),this._isKeyboardHooked$1&&(b.remove_keyDown(ss.Delegate.create(this,
this._service_KeyDown$1)),this._isKeyboardHooked$1=!1),this._doStop$1(b),lt.Controls.ImageViewerPanZoomInteractiveMode.callBaseMethod(this,"stop",[a]))},_isDragging$1:!1,_isZooming$1:!1,_service_DragStarted$1:function(a,b){if(this.canStartWork(b)&&!this.get__isPinching$1()){this._isZooming$1=this._isDragging$1=!1;var c=this.get_imageViewer(),d=lt.Controls._controlInertiaScroller.get_instance()._getParams(c);if(null!=d){d.amplitude.set_x(0);d.amplitude.set_y(0);d.stopping=!0;this._runningVelocity$1.set_x(0);
this._runningVelocity$1.set_y(0);this._delta$1.set_x(0);this._delta$1.set_y(0);d=lt.Controls.ImageViewerSyncManager.beginSync(c.get_syncId());if(c.get_isSyncSource()&&null!=d)for(var e=0;e<d.length;e++){var f=d[e];f!==c&&f.get_isSyncTarget()&&lt.Controls._controlInertiaScroller.get_instance()._removeParams(f)}lt.Controls.ImageViewerSyncManager.endSync(c.get_syncId())}e=this.get_enableZoom();c=this.get_enablePan();d=this.get_enablePinchZoom();e&&(e=this.get_zoomKeyModifier(),f=!!e,this.get_interactiveService().get_supportsMouse()?
this._isZooming$1=f?lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),e):!c:(this._isZooming$1=!c&&!d,!this._isZooming$1&&f&&(this._isZooming$1=lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),e))));if(this._isZooming$1||c)this._isZooming$1||(this._timestamp$1=lt.Controls.ControlsHelper.getDateTimeNow(),this._timer$1=new lt.Controls._leadTimer(null,this._timerCallback_Delegate$1,null,0,10)),this._isDragging$1=!0,b.set_isHandled(!0),this.onWorkStarted(b)}},_service_DragDelta$1:function(a,
b){this.get_isWorking()&&this._isDragging$1&&(this._isZooming$1?this.zoom(this.get_imageViewer(),b):(this.get_enablePan()&&this.pan(this.get_imageViewer(),b),this._delta$1=b.get_change(),null!=this._timer$1&&this._timerCallback$1(null)))},_service_DragCompleted$1:function(a,b){if(this.get_isWorking()&&this._isDragging$1){var c=this._isZooming$1;this._isZooming$1=this._isDragging$1=!1;b.set_isHandled(!0);var d=this.get_imageViewer();d._internalEndOptimizedZoom();null!=this._timer$1&&(this._timer$1.dispose(),
this._timer$1=null);if(!c&&!b.get_isCanceled()&&this.get_inertiaScrollOptions().get_isEnabled()&&d.get__realRestrictScrollMode()&&!b.get_isMouseWheel()&&!this._transformTarget$1){this._delta$1.set_x(0);this._delta$1.set_y(0);var e=lt.LeadPointD.create(0.8*this._runningVelocity$1.get_x(),0.8*this._runningVelocity$1.get_y()),c=new lt.Controls._inertiaParams;c.target=d;c.amplitude=e;c.timestamp=lt.Controls.ControlsHelper.getDateTimeNow();c.callback=this._inertiaScroll_Delegate$1;c.targetOffset=lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(d.get_scrollOffset().get_x()+
e.get_x()),lt.Controls.PrimitivesHelper.toInt(d.get_scrollOffset().get_y()+e.get_y()));lt.Controls._controlInertiaScroller.get_instance()._addUpdateParams(c);c=lt.Controls.ImageViewerSyncManager.beginSync(d.get_syncId());d.get_isSyncSource()&&null!=c&&c.forEach(function(a){if(a!==d&&a.get_isSyncTarget()){var b=e.clone(),c=new lt.Controls._inertiaParams;c.target=a;c.amplitude=b;c.timestamp=lt.Controls.ControlsHelper.getDateTimeNow();c.callback=function(b,c){if(c)lt.Controls._controlInertiaScroller.get_instance()._removeParams(a);
else if(a!=null){lt.Controls.ImageViewerSyncManager.beginSync(a.get_syncId());a.disableTransitions();a.set_scrollOffset(b);a.enableTransitions();lt.Controls.ImageViewerSyncManager.endSync(a.get_syncId())}};c.targetOffset=lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(a.get_scrollOffset().get_x()+b.get_x()),lt.Controls.PrimitivesHelper.toInt(a.get_scrollOffset().get_y()+b.get_y()));lt.Controls._controlInertiaScroller.get_instance()._addUpdateParams(c)}});lt.Controls.ImageViewerSyncManager.endSync(d.get_syncId())}this._runningVelocity$1.set_x(0);
this._runningVelocity$1.set_y(0);this._delta$1.set_x(0);this._delta$1.set_y(0);this.onWorkCompleted(b)}},_service_DoubleTap$1:function(a,b){var c=this.get_doubleTapSizeMode();!this.get_isWorking()&&!b.get_isHandled()&&c&&c&&this.canStartWork(b)&&this.doubleTapZoom(this.get_imageViewer(),b)},_service_KeyDown$1:function(a,b){if(!(b.get_isHandled()||!this.get_isKeyboardEnabled()&&this.get_isWorking())){var c=!1,d=b.get_keyCode();if(37===d||38===d||39===d||40===d||33===d||34===d||36===d||35===d){var e=
this.get_imageViewer(),f=1,g=1,h=!1,i=lt.LeadRectD.create(0,0,0,0);if(1<e.get_items().get_count()){var j=e.getLargestVisibleItem(1);null!=j&&(i=e.getItemViewBounds(j,1,!0),i.get_isEmpty()||(f=Math.max(1,lt.Controls.PrimitivesHelper.toInt(i.get_width())),g=Math.max(1,lt.Controls.PrimitivesHelper.toInt(i.get_height())),h=!0))}h||(i=this.getWorkBounds(e,!0),i.get_isEmpty()||(f=Math.max(1,lt.Controls.PrimitivesHelper.toInt(i.get_width())),g=Math.max(1,lt.Controls.PrimitivesHelper.toInt(i.get_height()))));
var j=Math.max(1,f/10),h=Math.max(1,g/10),k=lt.LeadPointD.create(0,0),n=lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),this.get_pageKeyModifier());if(lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),this.get_zoomKeyModifier())){if(!this.get_enableZoom())return;if(38===d||40===d)c=!0,f=new lt.Controls.InteractiveDragDeltaEventArgs,f.set_nativeEvent(b.get_nativeEvent()),f.set_mouseButton(0),f.set_isMouseWheel(!1),f.set_origin(lt.Controls.PrimitivesHelper.toLeadPoint(lt.Controls.PrimitivesHelper.getCenterPoint(i))),
f.set_position(lt.LeadPointD.create(0,0)),f.set_change(lt.LeadPointD.create(0,38===d?h:-h)),this.zoom(e,f)}else{if(!this.get_enablePan())return;switch(d){case 37:k.set_x(n?-f:-j);break;case 38:k.set_y(n?-g:-h);break;case 39:k.set_x(n?f:j);break;case 40:k.set_y(n?g:h);break;case 33:k.set_y(-g);break;case 34:k.set_y(g);break;case 36:k.set_y(-1.0737418235E9);k.set_x(-1.0737418235E9);break;case 35:k.set_y(1.0737418235E9),k.set_x(1.0737418235E9)}if(k.get_x()||k.get_y())c=!0,e.scrollByRestrict(k)}b.set_isHandled(c)}}},
pan:function(a,b){if(null!=a){b.set_isHandled(!0);var c=b.get_change().clone(),d=b.get_isMouseWheel();d&&(c=lt.Controls.ImageViewerPanZoomInteractiveMode._calculateMouseWheelChange(a,c));if(lt.Controls.ImageViewerPanZoomInteractiveMode._updateForMouseWheel$1(this._transformTarget$1,d)){if(!(c.get_isEmpty()||!c.get_x()&&!c.get_y()))if(d=a.hitTestItem(b.get_origin()),null!=d)if(c=lt.LeadPointD.create(-c.get_x()/a.get_xScaleFactor(),-c.get_y()/a.get_yScaleFactor()),2===this._transformTarget$1)d.offsetBy(c);
else if(1===this._transformTarget$1){a.beginTransform();for(d=0;d<a.get_items().get_count();d++)a.get_items().get_item(d).offsetBy(c);a.endTransform()}}else a.scrollBy(c)}},zoom:function(a,b){if(null!=a){b.set_isHandled(!0);var c=this.getWorkBounds(a,!0),d=parseInt(b.get_change().get_y());b.get_isMouseWheel()&&(d=lt.Controls.ImageViewerPanZoomInteractiveMode._calculateMouseWheelZoomChange$1(d));if(0<Math.abs(d)&&0<c.get_height())if(d/=c.get_height(),this._transformTarget$1){if(f=b.get_origin(),c=
a.hitTestItem(f),null!=c){var e=this.get_imageViewer().getItemViewBounds(c,1,!1),f=lt.LeadPointD.create((f.get_x()-e.get_x())/e.get_width(),(f.get_y()-e.get_y())/e.get_height());if(2===this._transformTarget$1)this._zoomForItem$1(a,c,d,f);else if(1===this._transformTarget$1){a.beginTransform();for(c=0;c<a.get_items().get_count();c++)e=a.get_items().get_item(c),this._zoomForItem$1(a,e,d,f);a.endTransform()}}}else if(d*=a.get_scaleFactor(),d=a.get_scaleFactor()+2*d,d>this.get_minimumScaleFactor()){var f=
this.get_zoomAtWorkBoundsCenter()?lt.Controls.PrimitivesHelper.getCenterPoint(lt.Controls.PrimitivesHelper.toLeadRect(c)):b.get_origin();a._internalOptimizedZoom(0,d,f)}}},_zoomForItem$1:function(a,b,c,d){c*=b.get_scaleFactor();c=b.get_scaleFactor()+2*c;if(c>this.get_minimumScaleFactor()){var a=a.getItemViewBounds(b,1,!1),e=lt.LeadPointD.get_empty(),e=this.get_zoomAtWorkBoundsCenter()?lt.Controls.PrimitivesHelper.getCenterPoint(a):lt.LeadPointD.create(d.get_x()*a.get_width()+a.get_x(),d.get_y()*a.get_height()+
a.get_y()),e=this.get_imageViewer().convertPoint(b,0,4,e),e=b.get_transform().transformPoint(e);b.zoom(0,c,e)}},doubleTapZoom:function(a,b){if(null!=a){b.set_isHandled(!0);this.onWorkStarted(b);if(this._transformTarget$1){var c=b.get_position(),d=a.hitTestItem(c);if(null==d)return;if(2===this._transformTarget$1)d.zoom(this.get_doubleTapSizeMode(),1,lt.Controls.PrimitivesHelper.toLeadPointD(c));else if(1===this._transformTarget$1){d=this.get_imageViewer().getItemViewBounds(d,1,!1);c=lt.LeadPointD.create((c.get_x()-
d.get_x())/d.get_width(),(c.get_y()-d.get_y())/d.get_height());a.beginTransform();for(var e=0;e<a.get_items().get_count();e++){var f=a.get_items().get_item(e),g=lt.LeadPointD.create(c.get_x()*d.get_width()+d.get_x(),c.get_y()*d.get_height()+d.get_y()),g=this.get_imageViewer().convertPoint(f,0,4,g),g=f.get_transform().transformPoint(g);f.zoom(this.get_doubleTapSizeMode(),1,g)}a.endTransform()}}else a.zoom(this.get_doubleTapSizeMode(),1,b.get_position());this.onWorkCompleted(lt.LeadEventArgs.Empty)}},
_timer$1:null,_timestamp$1:0,get_inertiaScrollOptions:function(){return this._inertiaScrollOptions$1},set_inertiaScrollOptions:function(a){return this._inertiaScrollOptions$1=a},_inertiaScroll:function(a,b){var c=this.get_imageViewer();b?lt.Controls._controlInertiaScroller.get_instance()._removeParams(c):null!=c&&(lt.Controls.ImageViewerSyncManager.beginSync(c._syncId),c.disableTransitions(),c.set_scrollOffset(a),c.enableTransitions(),lt.Controls.ImageViewerSyncManager.endSync(c._syncId))},_trackVelocity$1:function(){var a=
lt.Controls.ControlsHelper.getDateTimeNow(),b=Math.max(1,lt.Controls.ControlsHelper.getTimeSpan(a,this._timestamp$1));this._timestamp$1=a;b=lt.LeadPointD.create(200*this._delta$1.get_x()/b,200*this._delta$1.get_y()/b);a=Math.min(12E3,Math.max(-12E3,0.8*b.get_x()+0.2*this._runningVelocity$1.get_x()));b=Math.min(12E3,Math.max(-12E3,0.8*b.get_y()+0.2*this._runningVelocity$1.get_y()));-5.0E-4<a&&5.0E-4>a&&(a=0);-5.0E-4<b&&5.0E-4>b&&(b=0);this._runningVelocity$1.set_x(a);this._runningVelocity$1.set_y(b);
this._delta$1.set_x(0);this._delta$1.set_y(0)},_isPinching$1:!1,_lastPinchDistanceRatio$1:0,_pinchOriginalScaleFactor$1:0,_pinchOriginalCenter$1:null,_pinchTransformTargetItem$1:null,_doStart$1:function(a){a.add_pinchStarted(ss.Delegate.create(this,this._service_PinchStarted$1));a.add_pinchDelta(ss.Delegate.create(this,this._service_PinchDelta$1));a.add_pinchCompleted(ss.Delegate.create(this,this._service_PinchCompleted$1));this._isPinching$1=!1;this._pinchTransformTargetItem$1=null},_doStop$1:function(a){this._isPinching$1=
!1;this._pinchTransformTargetItem$1=null;a.remove_pinchStarted(ss.Delegate.create(this,this._service_PinchStarted$1));a.remove_pinchDelta(ss.Delegate.create(this,this._service_PinchDelta$1));a.remove_pinchCompleted(ss.Delegate.create(this,this._service_PinchCompleted$1))},_service_PinchStarted$1:function(a,b){if(this.canStartWork(b)&&!this._isDragging$1&&this._enableZoom$1&&this._enablePinchZoom$1){var c=lt.LeadRectD.fromLTRB(b.get_origin().get_x(),b.get_origin().get_y(),b.get_origin2().get_x(),b.get_origin2().get_y()),
c=lt.LeadPointD.create(c.get_left()+c.get_width()/2,c.get_top()+c.get_height()/2),d=this.get_imageViewer();if(this._transformTarget$1&&(this._pinchTransformTargetItem$1=d.hitTestItem(c),null==this._pinchTransformTargetItem$1))return;this.onWorkStarted(b);this._isPinching$1=!0;this._lastPinchDistanceRatio$1=1;this._pinchOriginalCenter$1=c;this._pinchOriginalScaleFactor$1=this._transformTarget$1?this._pinchTransformTargetItem$1.get_scaleFactor():d.get_scaleFactor()}},_service_PinchDelta$1:function(a,
b){if(this.get_isWorking()&&this._isPinching$1&&this._lastPinchDistanceRatio$1!==b.get_distanceRatio()){var c=this.get_imageViewer();lt.LTHelper.msPointerEnabled&&b.set_distanceRatio(b.get_distanceRatio()*this._lastPinchDistanceRatio$1);this._lastPinchDistanceRatio$1=b.get_distanceRatio();var d=this._pinchOriginalScaleFactor$1*b.get_distanceRatio();if(d>this.get_minimumScaleFactor())if(this._transformTarget$1){var e=this._pinchTransformTargetItem$1;if(null!=e){var f=this._pinchOriginalCenter$1,g=
this.get_imageViewer().getItemViewBounds(e,1,!1),f=lt.LeadPointD.create((f.get_x()-g.get_x())/g.get_width(),(f.get_y()-g.get_y())/g.get_height());if(2===this._transformTarget$1)this._pinchForItem$1(c,e,d,f);else if(1===this._transformTarget$1){c.beginTransform();for(e=0;e<c.get_items().get_count();e++)g=c.get_items().get_item(e),this._pinchForItem$1(c,g,d,f);c.endTransform()}}}else c._internalOptimizedZoom(0,d,this._pinchOriginalCenter$1)}},_pinchForItem$1:function(a,b,c,d){a=a.getItemViewBounds(b,
1,!1);d=lt.LeadPointD.create(d.get_x()*a.get_width()+a.get_x(),d.get_y()*a.get_height()+a.get_y());d=this.get_imageViewer().convertPoint(b,0,4,d);d=b.get_transform().transformPoint(d);b.zoom(0,c,d)},_service_PinchCompleted$1:function(){this.get_isWorking()&&this._isPinching$1&&(this._isPinching$1=!1,this.get_imageViewer()._internalEndOptimizedZoom(),this.onWorkCompleted(lt.LeadEventArgs.Empty))},get__isPinching$1:function(){return this._isPinching$1},_timerCallback$1:function(){this._trackVelocity$1()}};
Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"enablePan",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_enablePan,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_enablePan,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"enableZoom",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_enableZoom,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_enableZoom,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"enablePinchZoom",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_enablePinchZoom,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_enablePinchZoom,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"transformTarget",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_transformTarget,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_transformTarget,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"zoomKeyModifier",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_zoomKeyModifier,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_zoomKeyModifier,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"pageKeyModifier",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_pageKeyModifier,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_pageKeyModifier,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"isKeyboardEnabled",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_isKeyboardEnabled,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_isKeyboardEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"zoomAtWorkBoundsCenter",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_zoomAtWorkBoundsCenter,
set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_zoomAtWorkBoundsCenter,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"minimumScaleFactor",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_minimumScaleFactor,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_minimumScaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"doubleTapSizeMode",
{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_doubleTapSizeMode,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_doubleTapSizeMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_id,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerPanZoomInteractiveMode.prototype,"inertiaScrollOptions",{get:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.get_inertiaScrollOptions,set:lt.Controls.ImageViewerPanZoomInteractiveMode.prototype.set_inertiaScrollOptions,enumerable:!0,configurable:!0});lt.Controls.ImageViewerRubberBandEventArgs=function(a){this._points$1=[];lt.Controls.ImageViewerRubberBandEventArgs.initializeBase(this);this._interactiveEventArgs$1=
a};lt.Controls.ImageViewerRubberBandEventArgs.prototype={_interactiveEventArgs$1:null,get_interactiveEventArgs:function(){return this._interactiveEventArgs$1},_isCanceled$1:!1,get_isCanceled:function(){return this._isCanceled$1},set_isCanceled:function(a){return this._isCanceled$1=a},get_points:function(){return this._points$1}};Object.defineProperty(lt.Controls.ImageViewerRubberBandEventArgs.prototype,"interactiveEventArgs",{get:lt.Controls.ImageViewerRubberBandEventArgs.prototype.get_interactiveEventArgs,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandEventArgs.prototype,"isCanceled",{get:lt.Controls.ImageViewerRubberBandEventArgs.prototype.get_isCanceled,set:lt.Controls.ImageViewerRubberBandEventArgs.prototype.set_isCanceled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandEventArgs.prototype,"points",{get:lt.Controls.ImageViewerRubberBandEventArgs.prototype.get_points,enumerable:!0,configurable:!0});lt.Controls.ImageViewerRubberBandInteractiveMode=
function(){this._shape$1=0;this._roundRectangleRadius$1=lt.LeadSizeD.create(20,20);this._points$1=[];lt.Controls.ImageViewerRubberBandInteractiveMode.initializeBase(this);this._init$1();this.set_isDragMouseWheelEnabled(!1)};lt.Controls.ImageViewerRubberBandInteractiveMode._getBoundsInControlCoordinates$1=function(a,b){for(var c=0,d=0,e=0,f=0,g=0;g<b.length;g++){var h=a.convertPoint(null,1,0,b[g]);g?(c=Math.min(c,h.get_x()),d=Math.min(d,h.get_y()),e=Math.max(e,h.get_x()),f=Math.max(f,h.get_y())):(c=
parseInt(h.get_x()),d=parseInt(h.get_y()),e=c,f=d)}return lt.LeadRectD.fromLTRB(c,d,e,f)};lt.Controls.ImageViewerRubberBandInteractiveMode._intersectPoint$1=function(a,b){var c=a.clone();c.get_x()<b.get_left()&&c.set_x(b.get_left());c.get_x()>b.get_right()&&c.set_x(b.get_right());c.get_y()<b.get_top()&&c.set_y(b.get_top());c.get_y()>b.get_bottom()&&c.set_y(b.get_bottom());return c};lt.Controls.ImageViewerRubberBandInteractiveMode._addPoints$1=function(a,b,c){for(b=ss.IEnumerator.getEnumerator(b);b.moveNext();){var d=
b.current;c.get_points().add(a.convertPoint(null,1,0,d))}};lt.Controls.ImageViewerRubberBandInteractiveMode.prototype={get_shape:function(){return this._shape$1},set_shape:function(a){if(this.get_isWorking())throw new lt.InvalidOperationException("Cannot change Shape while interactive mode is working");return this._shape$1=a},get_roundRectangleRadius:function(){return this._roundRectangleRadius$1},set_roundRectangleRadius:function(a){return this._roundRectangleRadius$1=a},add_rubberBandStarted:function(a){this.__rubberBandStarted$1=
ss.Delegate.combine(this.__rubberBandStarted$1,a)},remove_rubberBandStarted:function(a){this.__rubberBandStarted$1=ss.Delegate.remove(this.__rubberBandStarted$1,a)},__rubberBandStarted$1_handler_get:function(){null==this.__rubberBandStarted$1_handler&&(this.__rubberBandStarted$1_handler=ss.EventHandler.create(this,this.add_rubberBandStarted,this.remove_rubberBandStarted));return this.__rubberBandStarted$1_handler},__rubberBandStarted$1:null,__rubberBandStarted$1_handler:null,onRubberBandStarted:function(a){null!=
this.__rubberBandStarted$1&&this.__rubberBandStarted$1(this,a)},add_rubberBandDelta:function(a){this.__rubberBandDelta$1=ss.Delegate.combine(this.__rubberBandDelta$1,a)},remove_rubberBandDelta:function(a){this.__rubberBandDelta$1=ss.Delegate.remove(this.__rubberBandDelta$1,a)},__rubberBandDelta$1_handler_get:function(){null==this.__rubberBandDelta$1_handler&&(this.__rubberBandDelta$1_handler=ss.EventHandler.create(this,this.add_rubberBandDelta,this.remove_rubberBandDelta));return this.__rubberBandDelta$1_handler},
__rubberBandDelta$1:null,__rubberBandDelta$1_handler:null,onRubberBandDelta:function(a){null!=this.__rubberBandDelta$1&&this.__rubberBandDelta$1(this,a)},add_rubberBandCompleted:function(a){this.__rubberBandCompleted$1=ss.Delegate.combine(this.__rubberBandCompleted$1,a)},remove_rubberBandCompleted:function(a){this.__rubberBandCompleted$1=ss.Delegate.remove(this.__rubberBandCompleted$1,a)},__rubberBandCompleted$1_handler_get:function(){null==this.__rubberBandCompleted$1_handler&&(this.__rubberBandCompleted$1_handler=
ss.EventHandler.create(this,this.add_rubberBandCompleted,this.remove_rubberBandCompleted));return this.__rubberBandCompleted$1_handler},__rubberBandCompleted$1:null,__rubberBandCompleted$1_handler:null,onRubberBandCompleted:function(a){null!=this.__rubberBandCompleted$1&&this.__rubberBandCompleted$1(this,a)},_restrictToWorkBounds$1:!0,get_restrictToWorkBounds:function(){return this._restrictToWorkBounds$1},set_restrictToWorkBounds:function(a){return this._restrictToWorkBounds$1=a},get_name:function(){return"RubberBand"},
get_id:function(){return 6},start:function(a){lt.Controls.ImageViewerRubberBandInteractiveMode.callBaseMethod(this,"start",[a]);a=lt.Controls.ImageViewerRubberBandInteractiveMode.callBaseMethod(this,"get_interactiveService");a.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));a.add_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));a.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1))},stop:function(a){if(this.get_isStarted()){var b=lt.Controls.ImageViewerRubberBandInteractiveMode.callBaseMethod(this,
"get_interactiveService");b.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));b.remove_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));b.remove_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));lt.Controls.ImageViewerRubberBandInteractiveMode.callBaseMethod(this,"stop",[a])}},_lastControlPoint$1:null,_service_DragStarted$1:function(a,b){if(this.canStartWork(b)&&(this.onWorkStarted(b),this.get_isWorking())){b.set_isHandled(!0);var c=this.get_imageViewer();
this._points$1.clear();var d=c.convertPoint(null,0,1,b.get_origin());this._points$1.add(d);this._points$1.add(d.clone());this._doStarted$1();c.add_transformChanged(ss.Delegate.create(this,this._imageViewerControl_TransformChanged$1));c=new lt.Controls.ImageViewerRubberBandEventArgs(b);c.get_points().add(b.get_origin());c.get_points().add(b.get_origin().clone());this._lastControlPoint$1=b.get_origin().clone();this.onRubberBandStarted(c)}},_service_DragDelta$1:function(a,b){this.get_isWorking()&&(b.set_isHandled(!0),
this._lastControlPoint$1=b.get_position().clone(),this._updateLastPoint$1(b))},_updateLastPoint$1:function(a){var b=this.get_imageViewer(),c=lt.Controls.ImageViewerRubberBandInteractiveMode._getBoundsInControlCoordinates$1(b,this._points$1),d=lt.Controls.ImageViewerRubberBandInteractiveMode._intersectPoint$1(this._lastControlPoint$1,b._getClientRectangle()),e=!1;if(this.get_workOnBounds()&&this.get_restrictToWorkBounds()){var f=lt.Controls.PrimitivesHelper.toLeadRect(this.getWorkBounds(b,!0));f.get_isEmpty()||
!f.get_width()||!f.get_height()?e=!0:d=lt.Controls.ImageViewerRubberBandInteractiveMode._intersectPoint$1(d,f)}e||(d=b.convertPoint(null,0,1,d),this._addExtraPoint$1(d),this._points$1[this._points$1.length-1]=d.clone());d=lt.Controls.ImageViewerRubberBandInteractiveMode._getBoundsInControlCoordinates$1(b,this._points$1);this._doDelta$1(lt.Controls.PrimitivesHelper.unionRects(c,d));null!=a&&(a=new lt.Controls.ImageViewerRubberBandEventArgs(a),lt.Controls.ImageViewerRubberBandInteractiveMode._addPoints$1(b,
this._points$1,a),this.onRubberBandDelta(a))},_service_DragCompleted$1:function(a,b){if(this.get_isWorking()){var c=b.get_isHandled();b.set_isHandled(!0);this._doCompleted$1();var d=this.get_imageViewer();d.remove_transformChanged(ss.Delegate.create(this,this._imageViewerControl_TransformChanged$1));var e=new lt.Controls.ImageViewerRubberBandEventArgs(b);lt.Controls.ImageViewerRubberBandInteractiveMode._addPoints$1(d,this._points$1,e);e.set_isCanceled(c||b.get_isCanceled());this.onRubberBandCompleted(e);
this.onWorkCompleted(lt.LeadEventArgs.Empty)}},_imageViewerControl_TransformChanged$1:function(){this.get_isWorking()&&this._updateLastPoint$1(null)},_init$1:function(){this.set_autoDisableTransitions(!1)},_borderColor$1:"black",get_borderColor:function(){return this._borderColor$1},set_borderColor:function(a){return this._borderColor$1=a},_borderStyle$1:"dotted",get_borderStyle:function(){return this._borderStyle$1},set_borderStyle:function(a){return this._borderStyle$1=a},_borderThickness$1:1,get_borderThickness:function(){return this._borderThickness$1},
set_borderThickness:function(a){return this._borderThickness$1=a},_backgroundStyle$1:null,get_backgroundStyle:function(){return this._backgroundStyle$1},set_backgroundStyle:function(a){return this._backgroundStyle$1=a},_interactiveModeCanvas$1:null,get_interactiveModeCanvas:function(){return this._interactiveModeCanvas$1},set_interactiveModeCanvas:function(a){return this._interactiveModeCanvas$1=a},_firstDelta$1:!1,createInteractiveModeCanvas:function(a){var b=this.get_interactiveModeCanvas();null!=
b&&this.destroyInteractiveModeCanvas();a=null!=a.get_eventCanvas()?a.get_eventCanvas():a.get_foreCanvas();null!=a&&(a=a.parentNode);null!=a&&(b=document.createElement("canvas"),b.style.left="20px",b.style.top="20px",b.style.margin="0px",b.style.padding="0px",b.style.position="absolute",b.style.visibility="collapse",b.style.zIndex=32767,b.style.cursor=this.get_workingCursor(),String.isNullOrEmpty(this._borderColor$1)||(b.style.borderColor=this._borderColor$1),String.isNullOrEmpty(this._borderStyle$1)||
(b.style.borderStyle=this._borderStyle$1),String.isNullOrEmpty(this._backgroundStyle$1)||(b.style.background=this._backgroundStyle$1),b.style.borderWidth=this._borderThickness$1.toString()+"px",a.appendChild(b),this.set_interactiveModeCanvas(b))},destroyInteractiveModeCanvas:function(){var a=this.get_interactiveModeCanvas();null!=a&&(null!=a.parentNode&&a.parentNode.removeChild(a),this.set_interactiveModeCanvas(null))},_doStarted$1:function(){this.createInteractiveModeCanvas(this.get_imageViewer());
this._firstDelta$1=!0},_doDelta$1:function(){var a=this.get_imageViewer();a.get_mainDiv();var b=this.get_interactiveModeCanvas();if(null!=b)if(a=lt.Controls.ImageViewerRubberBandInteractiveMode._getBoundsInControlCoordinates$1(a,this._points$1),!a.get_width()||!a.get_height())b.style.visibility="collapse";else if(b.width=2>=a.get_width()?1:parseInt(a.get_width())-2,b.height=2>=a.get_height()?1:parseInt(a.get_height())-2,lt.LTHelper.OS===lt.LTOS.android&&(b.style.borderWidth="2px"),b.style.left=a.get_left().toString()+
"px",b.style.top=a.get_top().toString()+"px","visible"!==b.style.visibility)b.style.visibility="visible",this._firstDelta$1&&(this._firstDelta$1=!1,lt.LTHelper.browser===lt.LTBrowser.internetExplorer&&(b=this.get_imageViewer().get_viewDiv(),null!=b&&(b=b.parentNode,b.style.display="none",lt.Controls._elementsHelper.repaint(b),b.style.display="block")))},_doCompleted$1:function(){this.destroyInteractiveModeCanvas()},_addExtraPoint$1:function(){}};Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,
"shape",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_shape,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_shape,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"roundRectangleRadius",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_roundRectangleRadius,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_roundRectangleRadius,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,
"rubberBandStarted",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.__rubberBandStarted$1_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"rubberBandDelta",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.__rubberBandDelta$1_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"rubberBandCompleted",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.__rubberBandCompleted$1_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"restrictToWorkBounds",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_restrictToWorkBounds,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_restrictToWorkBounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_name,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"borderColor",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_borderColor,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_borderColor,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"borderStyle",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_borderStyle,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_borderStyle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"borderThickness",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_borderThickness,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_borderThickness,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"backgroundStyle",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_backgroundStyle,set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_backgroundStyle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerRubberBandInteractiveMode.prototype,"interactiveModeCanvas",{get:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.get_interactiveModeCanvas,
set:lt.Controls.ImageViewerRubberBandInteractiveMode.prototype.set_interactiveModeCanvas,enumerable:!0,configurable:!0});lt.Controls.ImageViewerSelectItemsInteractiveMode=function(){this._selectionMode$2=1;this._lastMovePosition$2=lt.LeadPointD.get_empty();this._multiSelectKeyModifier$2=131072;lt.Controls.ImageViewerSelectItemsInteractiveMode.initializeBase(this);this.set_autoItemMode(1);this.set_itemPart(1);this.set_isDragMouseWheelEnabled(!1)};lt.Controls.ImageViewerSelectItemsInteractiveMode._hitTestPart$2=
function(a,b,c,d){if(1===d)return!0;switch(a.hitTestItemPart(b,c)){case 1:return!0;case 2:return 2===d;case 3:return 2===d||3===d;case 4:return 4===d||5===d;case 5:return 5===d;default:return!1}};lt.Controls.ImageViewerSelectItemsInteractiveMode._getLastSelectedItem$2=function(a){for(var b=null,c=a.get_items().get_count()-1;0<=c&&null==b;c--){var d=a.get_items().get_item(c);d.get_isSelected()&&d.get_isVisible()&&d.get_isEnabled()&&(b=d)}return b};lt.Controls.ImageViewerSelectItemsInteractiveMode._getFirstSelectedItem$2=
function(a){for(var b=null,c=0;c<a.get_items().get_count()&&null==b;c++){var d=a.get_items().get_item(c);d.get_isSelected()&&d.get_isVisible()&&d.get_isEnabled()&&(b=d)}return b};lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype={get_name:function(){return"SelectItems"},get_id:function(){return 13},_canSelectDisabledItems$2:!1,get_canSelectDisabledItems:function(){return this._canSelectDisabledItems$2},set_canSelectDisabledItems:function(a){return this._canSelectDisabledItems$2=a},_canHoverDisabledItems$2:!1,
get_canHoverDisabledItems:function(){return this._canHoverDisabledItems$2},set_canHoverDisabledItems:function(a){return this._canHoverDisabledItems$2=a},get_selectionMode:function(){return this._selectionMode$2},set_selectionMode:function(a){return this._selectionMode$2=a},_isKeyboardEnabled$2:!0,get_isKeyboardEnabled:function(){return this._isKeyboardEnabled$2},set_isKeyboardEnabled:function(a){return this._isKeyboardEnabled$2=a},_hoveredItem$2:null,_lastSelectedItem$2:null,_isKeyboardHooked$2:!1,
start:function(a){lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"start",[a]);var b=lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"get_interactiveService");b.get_supportsMouse()&&b.add_move(ss.Delegate.create(this,this._service_Move$2));this.get_isKeyboardEnabled()&&(b.add_keyDown(ss.Delegate.create(this,this._service_KeyDown$2)),this._isKeyboardHooked$2=!0);this._unhoverItems$2(a);this._lastMovePosition$2=lt.LeadPointD.get_empty();this.set_workOnBounds(!1);
this._lastSelectedItem$2=this._hoveredItem$2=null},stop:function(a){if(this.get_isStarted()){this._lastSelectedItem$2=this._hoveredItem$2=null;var b=lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"get_interactiveService");b.get_supportsMouse()&&b.remove_move(ss.Delegate.create(this,this._service_Move$2));this._isKeyboardHooked$2&&(b.remove_keyDown(ss.Delegate.create(this,this._service_KeyDown$2)),this._isKeyboardHooked$2=!1);lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,
"stop",[a])}},get_item:function(){return lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"get_item")},set_item:function(a){lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"set_item",[null]);this._hoveredItem$2===a&&(this._hoveredItem$2=null);this._lastSelectedItem$2===a&&(this._lastSelectedItem$2=null);return a},get_shape:function(){return lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"get_shape")},set_shape:function(a){if(3===a)throw new lt.InvalidOperationException("Freehand Shape is not supported by this interactive mode");
lt.Controls.ImageViewerSelectItemsInteractiveMode.callBaseMethod(this,"set_shape",[a]);return a},get_multiSelectKeyModifier:function(){return this._multiSelectKeyModifier$2},set_multiSelectKeyModifier:function(a){switch(a){case 0:case 262144:case 65536:case 131072:this._multiSelectKeyModifier$2=a;break;default:throw new lt.ArgumentException("Invalid key value","MultiSelectKeyModifier");}return a},_unhoverItems$2:function(a){var b=this.get_canHoverDisabledItems(),c=!1;a.beginRender();for(var d=ss.IEnumerator.getEnumerator(a.get_items());d.moveNext();){var e=
d.current;if(e.get_isHovered()&&(e.get_isEnabled()||b))e.set_isHovered(!1),c=!0}a._internalEndUpdate(c)},_service_Move$2:function(a,b){if(this.get_isEnabled()&&!lt.LeadPointD.equals(b.get_position(),this._lastMovePosition$2)){this._lastMovePosition$2=b.get_position();var c=this.get_imageViewer(),d=c.hitTestItem(b.get_position());null!=d&&(lt.Controls.ImageViewerSelectItemsInteractiveMode._hitTestPart$2(c,d,b.get_position(),this.get_itemPart())||(d=null));this._hoveredItem$2!==d&&(null!=this._hoveredItem$2&&
this._hoveredItem$2.set_isHovered(!1),null!=d&&d.set_isHovered(!0),this._hoveredItem$2=d)}},onRubberBandStarted:function(a){a.get_interactiveEventArgs().set_isHandled(!1);var b=this.get_selectionMode();if(b){var c=null!=a.get_interactiveEventArgs()&&lt.Controls.InteractiveService.checkKeyModifier(a.get_interactiveEventArgs().get_nativeEvent(),this.get_multiSelectKeyModifier()),d=this.get_imageViewer(),e=a.get_points()[0],a=d.hitTestItem(e);null!=a&&lt.Controls.ImageViewerSelectItemsInteractiveMode._hitTestPart$2(d,
a,e,this.get_itemPart())?(e=[],2===b&&c?(c=d.get_items().getSelected(),e.addRange(c),e.contains(a)||e.add(a)):e.add(a),d.get_items().select(lt.Controls.ImageViewerItems._toArray(e)),this._lastSelectedItem$2=a):2===b&&!c&&(d.get_items().select(null),this._lastSelectedItem$2=a);if(1===b)this.onWorkCompleted(lt.LeadEventArgs.Empty)}},onRubberBandDelta:function(a){var b=this.get_selectionMode();if(b){var c=a.get_points()[0],d=a.get_points()[1],d=lt.Controls.PrimitivesHelper.normalizeRect(lt.LeadRectD.fromLTRB(c.get_x(),
c.get_y(),d.get_x(),d.get_y())),c=this.get_imageViewer(),d=c.hitTestItems(lt.Controls.PrimitivesHelper.toLeadRectD(d)),e=null!=a.get_interactiveEventArgs()&&lt.Controls.InteractiveService.checkKeyModifier(a.get_interactiveEventArgs().get_nativeEvent(),this.get_multiSelectKeyModifier()),a=[];if(2===b&&e){b=c.get_items().getSelected();a.addRange(b);for(b=ss.IEnumerator.getEnumerator(d);b.moveNext();)d=b.current,a.contains(d)||a.add(d)}else a.addRange(d);c.get_items().select(lt.Controls.ImageViewerItems._toArray(a));
null==this._lastSelectedItem$2&&(this._lastSelectedItem$2=lt.Controls.ImageViewerSelectItemsInteractiveMode._getLastSelectedItem$2(c))}},_service_KeyDown$2:function(a,b){if(this.get_isEnabled()&&this.get_isKeyboardEnabled()){var c=this.get_selectionMode();if(c){var d=b.get_keyCode();if(37===d||38===d||39===d||40===d||33===d||34===d||36===d||35===d){var e=this.get_imageViewer();b.set_isHandled(!0);null==this._lastSelectedItem$2&&(this._lastSelectedItem$2=lt.Controls.ImageViewerSelectItemsInteractiveMode._getLastSelectedItem$2(e));
if(null!=this._lastSelectedItem$2&&(38===d||40===d||37===d||39===d)){var f=null,f=38===d||40===d?lt.Controls.ImageViewerItems._findNextItemInRow(e,this._lastSelectedItem$2.get_rowIndex(),this._lastSelectedItem$2.get_columnIndex(),40===d):lt.Controls.ImageViewerItems._findNextItemInColumn(e,this._lastSelectedItem$2.get_rowIndex(),this._lastSelectedItem$2.get_columnIndex(),39===d);if(null!=f){var g=lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),this.get_multiSelectKeyModifier());
if(2===c&&g&&null!=this._lastSelectedItem$2){g=40===d||39===d?e.get_items().indexOf(lt.Controls.ImageViewerSelectItemsInteractiveMode._getFirstSelectedItem$2(e)):e.get_items().indexOf(lt.Controls.ImageViewerSelectItemsInteractiveMode._getLastSelectedItem$2(e));c=e.get_items().indexOf(f);g>c&&(d=g,g=c,c=d);for(d=[];g<=c;g++){var h=e.get_items().get_item(g);h.get_isEnabled()&&h.get_isVisible()&&d.add(h)}e.get_items().select(lt.Controls.ImageViewerItems._toArray(d))}else e.get_items().select([f]);this._lastSelectedItem$2=
f}null!=this._lastSelectedItem$2&&e.ensureItemVisible(this._lastSelectedItem$2)}}}}}};Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,
"canSelectDisabledItems",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_canSelectDisabledItems,set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_canSelectDisabledItems,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"canHoverDisabledItems",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_canHoverDisabledItems,set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_canHoverDisabledItems,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"selectionMode",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_selectionMode,set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_selectionMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"isKeyboardEnabled",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_isKeyboardEnabled,
set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_isKeyboardEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"item",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_item,set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_item,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"shape",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_shape,
set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_shape,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype,"multiSelectKeyModifier",{get:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.get_multiSelectKeyModifier,set:lt.Controls.ImageViewerSelectItemsInteractiveMode.prototype.set_multiSelectKeyModifier,enumerable:!0,configurable:!0});lt.Controls.ImageViewerSpyGlassDrawImageEventArgs=function(){this._destinationRectangle$1=
lt.LeadRectD.get_empty();this._offset$1=lt.LeadPointD.get_empty();lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.initializeBase(this)};lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype={get_destinationRectangle:function(){return this._destinationRectangle$1.clone()},set_destinationRectangle:function(a){this._destinationRectangle$1=lt.Controls.PrimitivesHelper.cloneOrZeroRect(a);return a},get_offset:function(){return this._offset$1},set_offset:function(a){return this._offset$1=a},_context$1:null,
get_context:function(){return this._context$1},set_context:function(a){return this._context$1=a}};Object.defineProperty(lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype,"destinationRectangle",{get:lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype.get_destinationRectangle,set:lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype.set_destinationRectangle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype,"offset",
{get:lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype.get_offset,set:lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype.set_offset,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype,"context",{get:lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype.get_context,set:lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.prototype.set_context,enumerable:!0,configurable:!0});lt.Controls.ImageViewerSpyGlassInteractiveMode=
function(){this._size$1=lt.LeadSizeD.create(200,200);this._shape$1=2;this._roundRectangleRadius$1=lt.LeadSizeD.create(20,20);this._crosshair$1=1;this._offset$1=lt.LeadPointD.create(0,0);this._currentPosition$1=new lt.LeadPointD;lt.Controls.ImageViewerSpyGlassInteractiveMode.initializeBase(this);this._nativeBindDelegates$1();this.set_isDragMouseWheelEnabled(!1)};lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype={add_drawImage:function(a){this.__drawImage$1=ss.Delegate.combine(this.__drawImage$1,
a)},remove_drawImage:function(a){this.__drawImage$1=ss.Delegate.remove(this.__drawImage$1,a)},__drawImage$1_handler_get:function(){null==this.__drawImage$1_handler&&(this.__drawImage$1_handler=ss.EventHandler.create(this,this.add_drawImage,this.remove_drawImage));return this.__drawImage$1_handler},__drawImage$1:null,__drawImage$1_handler:null,onDrawImage:function(a){null!=this.__drawImage$1&&this.__drawImage$1(this,a)},get_size:function(){return this._size$1.clone()},set_size:function(a){this._size$1=
lt.Controls.PrimitivesHelper.cloneOrZeroSize(a);return a},get_shape:function(){return this._shape$1},set_shape:function(a){return this._shape$1=a},get_roundRectangleRadius:function(){return this._roundRectangleRadius$1.clone()},set_roundRectangleRadius:function(a){this._roundRectangleRadius$1=lt.Controls.PrimitivesHelper.cloneOrZeroSize(a);return a},get_crosshair:function(){return this._crosshair$1},set_crosshair:function(a){return this._crosshair$1=a},get_offset:function(){return this._offset$1.clone()},
set_offset:function(a){this._offset$1=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_ensureVisible$1:!0,get_ensureVisible:function(){return this._ensureVisible$1},set_ensureVisible:function(a){return this._ensureVisible$1=a},get_name:function(){return"SpyGlass"},get_id:function(){return 7},get_currentPosition:function(){return this._currentPosition$1},set_currentPosition:function(a){return this._currentPosition$1=a},start:function(a){lt.Controls.ImageViewerSpyGlassInteractiveMode.callBaseMethod(this,
"start",[a]);a=lt.Controls.ImageViewerSpyGlassInteractiveMode.callBaseMethod(this,"get_interactiveService");a.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));a.add_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));a.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1))},stop:function(a){if(this.get_isStarted()){var b=lt.Controls.ImageViewerSpyGlassInteractiveMode.callBaseMethod(this,"get_interactiveService");b.remove_dragStarted(ss.Delegate.create(this,
this._service_DragStarted$1));b.remove_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));b.remove_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));lt.Controls.ImageViewerSpyGlassInteractiveMode.callBaseMethod(this,"stop",[a])}},_spyGlassCurrentPosition$1:null,_bounds$1:null,_getBounds:function(a){this._spyGlassCurrentPosition$1=a.clone();var b=this.get_size(),a=lt.LeadRectD.create(this._offset$1.get_x()+a.get_x()-b.get_width()/2,this._offset$1.get_y()+a.get_y()-b.get_height()/
2,b.get_width(),b.get_height());if(this.get_ensureVisible()){var b=lt.Controls.PrimitivesHelper.toLeadRect(this.getWorkBounds(this.get_imageViewer(),!1)),c=lt.LeadPointD.create(a.get_x()+a.get_width()/2,a.get_y()+a.get_height()/2),d=0,e=0;c.get_x()<b.get_left()?d=parseInt(b.get_left()-c.get_x()):c.get_x()>b.get_right()&&(d=-parseInt(c.get_x()-b.get_right()));c.get_y()<b.get_top()?e=parseInt(b.get_top()-c.get_y()):c.get_y()>b.get_bottom()&&(e=-parseInt(c.get_y()-b.get_bottom()));(d||e)&&a.offset(d,
e)}return a},_service_DragStarted$1:function(a,b){this.canStartWork(b)&&(b.set_isHandled(!0),this.onWorkStarted(b),this._bounds$1=this._getBounds(b.get_position()),this._doStarted$1())},_service_DragDelta$1:function(a,b){if(this.get_isWorking()&&(b.get_change().get_x()||b.get_change().get_y())){this._currentPosition$1=b.get_position();b.set_isHandled(!0);var c=this._bounds$1;this._bounds$1=this._getBounds(b.get_position());this._doDelta$1(lt.Controls.PrimitivesHelper.unionRects(c,this._bounds$1))}},
_service_DragCompleted$1:function(a,b){this.get_isWorking()&&(this._currentPosition$1=b.get_position(),b.set_isHandled(!0),this._doCompleted$1(),this.onWorkCompleted(lt.LeadEventArgs.Empty))},_nativeBindDelegates$1:function(){this._doRender_Delegate$1=ss.Delegate.create(this,this._doRender$1)},_doRender_Delegate$1:null,_backgroundColor$1:null,get_backgroundColor:function(){return this._backgroundColor$1},set_backgroundColor:function(a){return this._backgroundColor$1=a},get_alwaysFillBackground:function(){return!0},
_fillBackgroundColor$1:null,get__fillBackgroundColor:function(){return this._fillBackgroundColor$1},_getBackgroundColor$1:function(){var a=this.get_backgroundColor();if(String.isNullOrEmpty(a)&&(a=this.get_imageViewer().get_mainDiv(),a=lt.LTHelper.getElementStyle(a,"backgroundColor"),String.isNullOrEmpty(a)||!String.compare(a,"transparent")))a=lt.LTHelper.getElementStyle(document.body,"backgroundColor"),String.isNullOrEmpty(a)&&(a="white");return a},_borderColor$1:"black",get_borderColor:function(){return this._borderColor$1},
set_borderColor:function(a){return this._borderColor$1=a},_borderThickness$1:1,get_borderThickness:function(){return this._borderThickness$1},set_borderThickness:function(a){return this._borderThickness$1=a},_crosshairColor$1:"black",get_crosshairColor:function(){return this._crosshairColor$1},set_crosshairColor:function(a){return this._crosshairColor$1=a},_crosshairThickness$1:1,get_crosshairThickness:function(){return this._crosshairThickness$1},set_crosshairThickness:function(a){return this._crosshairThickness$1=
a},_redirectCanvas$1:null,get_redirectCanvas:function(){return this._redirectCanvas$1},set_redirectCanvas:function(a){if(this.get_isWorking())throw new lt.InvalidOperationException("Cannot change this property while the interactive mode is working");return this._redirectCanvas$1=a},restart:function(){this.destroyInteractiveModeCanvas();this._bounds$1=this._getBounds(this._spyGlassCurrentPosition$1);this._doStarted$1()},_interactiveModeCanvas$1:null,get_interactiveModeCanvas:function(){return this._interactiveModeCanvas$1},
set_interactiveModeCanvas:function(a){return this._interactiveModeCanvas$1=a},createInteractiveModeCanvas:function(a){var b=this.get_interactiveModeCanvas();null!=b&&this.destroyInteractiveModeCanvas();if(null==this._redirectCanvas$1){if(a=null!=a.get_eventCanvas()?a.get_eventCanvas():a.get_foreCanvas(),null!=a&&(a=a.parentNode),null!=a){b=document.createElement("canvas");b.style.left="20px";b.style.top="20px";b.style.margin="0px";b.style.padding="0px";b.style.position="absolute";b.style.visibility=
"collapse";b.style.zIndex=32767;b.style.cursor=this.get_workingCursor();var c=this.get_size().get_isEmpty()?lt.LeadSizeD.create(0,0):this.get_size();b.width=parseInt(c.get_width());b.height=parseInt(c.get_height());a.appendChild(b);this.set_interactiveModeCanvas(b)}}else this.set_interactiveModeCanvas(this._redirectCanvas$1)},destroyInteractiveModeCanvas:function(){var a=this.get_interactiveModeCanvas();null!=a&&(null==this._redirectCanvas$1&&null!=a.parentNode&&a.parentNode.removeChild(a),this.set_interactiveModeCanvas(null))},
_doStarted$1:function(){this.createInteractiveModeCanvas(this.get_imageViewer());this._fillBackgroundColor$1=this.get_backgroundColor();String.isNullOrEmpty(this._fillBackgroundColor$1)&&this.get_alwaysFillBackground()&&(this._fillBackgroundColor$1=this._getBackgroundColor$1());this._moveToPosition$1(this._bounds$1)},_doDelta$1:function(){this._moveToPosition$1(this._bounds$1)},_doCompleted$1:function(){this.destroyInteractiveModeCanvas()},_moveToPosition$1:function(a){if(null!=this.get_interactiveModeCanvas()){var b=
this.get_imageViewer();this._moveCanvasToPlace$1(a);b.get_enableRequestAnimationFrame()?(this._needsRender$1=!0,lt.LTHelper.requestAnimationFrame(this._doRender_Delegate$1)):this._render$1()}},_needsRender$1:!1,_renderRect$1:null,_doRender$1:function(){this._needsRender$1&&(this._needsRender$1=!1,null!=this.get_interactiveModeCanvas()&&this._render$1())},_moveCanvasToPlace$1:function(a){var b=this.get_interactiveModeCanvas();null!=b&&(null==this._redirectCanvas$1&&(b.style.left=a.get_x().toString()+
"px",b.style.top=a.get_y().toString()+"px"),this._renderRect$1=a.clone())},invalidate:function(){this._render$1()},_render$1:function(){var a=this.get_interactiveModeCanvas();if(null!=a){var b=a.getContext("2d"),c=this._fillBackgroundColor$1,d=this.get_borderColor(),e=this.get_borderThickness(),f=this.get_crosshair(),g=this.get_crosshairColor(),h=this.get_crosshairThickness(),i=!String.isNullOrEmpty(c),e=!String.isNullOrEmpty(d)&&0<e,f=!!f&&!String.isNullOrEmpty(g)&&0<h,g=this._renderRect$1.get_width(),
h=this._renderRect$1.get_height(),j=this.get_shape();b.save();i?(b.fillStyle=c,this._renderSpyGlass$1(!0,!1,b,j,g,h)):this._renderSpyGlass$1(!0,!0,b,j,g,h);c=new lt.Controls.ImageViewerSpyGlassDrawImageEventArgs;c.set_destinationRectangle(this._renderRect$1.clone());c.set_context(b);this.onDrawImage(c);i&&b.restore();f&&(b.save(),b.beginPath(),b.moveTo(0,h/2),b.lineTo(g,h/2),b.moveTo(g/2,0),b.lineTo(g/2,h),b.strokeStyle=this._crosshairColor$1,b.lineWidth=this._crosshairThickness$1,b.stroke(),b.restore());
e&&(b.save(),b.strokeStyle=d,this._renderSpyGlass$1(!1,!1,b,j,g,h),b.restore());"visible"!==a.style.visibility&&(a.style.visibility="visible")}},_renderSpyGlass$1:function(a,b,c,d,e,f){switch(d){case 0:case 1:a?c.fillRect(0,0,e,f):1===d&&c.strokeRect(0,0,e,f);break;case 2:c.beginPath();lt.Controls.GraphicsHelper.addRoundRect(c,lt.LeadRectD.create(0,0,e,f),this.get_roundRectangleRadius().get_width(),this.get_roundRectangleRadius().get_height());c.closePath();a?(c.clip(),b||c.fill()):c.stroke();break;
case 3:c.beginPath(),lt.Controls.GraphicsHelper.addEllipse(c,lt.LeadRectD.create(0,0,e,f)),c.closePath(),a?(c.clip(),b||c.fill()):c.stroke()}}};Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"drawImage",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.__drawImage$1_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"size",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_size,
set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_size,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"shape",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_shape,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_shape,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"roundRectangleRadius",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_roundRectangleRadius,
set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_roundRectangleRadius,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"crosshair",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_crosshair,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_crosshair,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"offset",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_offset,
set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_offset,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"ensureVisible",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_ensureVisible,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_ensureVisible,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_name,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"currentPosition",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_currentPosition,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_currentPosition,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"backgroundColor",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_backgroundColor,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_backgroundColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"alwaysFillBackground",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_alwaysFillBackground,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"borderColor",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_borderColor,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_borderColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"borderThickness",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_borderThickness,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_borderThickness,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"crosshairColor",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_crosshairColor,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_crosshairColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"crosshairThickness",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_crosshairThickness,
set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_crosshairThickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"redirectCanvas",{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_redirectCanvas,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_redirectCanvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype,"interactiveModeCanvas",
{get:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.get_interactiveModeCanvas,set:lt.Controls.ImageViewerSpyGlassInteractiveMode.prototype.set_interactiveModeCanvas,enumerable:!0,configurable:!0});lt.Controls.ImageViewerZoomAtInteractiveMode=function(){this._transformTarget$1=0;lt.Controls.ImageViewerZoomAtInteractiveMode.initializeBase(this)};lt.Controls.ImageViewerZoomAtInteractiveMode.prototype={get_name:function(){return"ZoomAt"},get_id:function(){return 3},_scaleFactor$1:2,get_scaleFactor:function(){return this._scaleFactor$1},
set_scaleFactor:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("ScaleFactor",a,"Must be a value greater than 0");return this._scaleFactor$1=a},start:function(a){lt.Controls.ImageViewerZoomAtInteractiveMode.callBaseMethod(this,"start",[a]);lt.Controls.ImageViewerZoomAtInteractiveMode.callBaseMethod(this,"get_interactiveService").add_tap(ss.Delegate.create(this,this._service_Tap$1))},stop:function(a){this.get_isStarted()&&(lt.Controls.ImageViewerZoomAtInteractiveMode.callBaseMethod(this,
"get_interactiveService").remove_tap(ss.Delegate.create(this,this._service_Tap$1)),lt.Controls.ImageViewerZoomAtInteractiveMode.callBaseMethod(this,"stop",[a]))},get_transformTarget:function(){return this._transformTarget$1},set_transformTarget:function(a){return this._transformTarget$1=a},_service_Tap$1:function(a,b){if(this.canStartWork(b)){b.set_isHandled(!0);this.onWorkStarted(b);if(!lt.LeadDoubleTools.areClose(this._scaleFactor$1,1)){var c=this.get_imageViewer();if(this._transformTarget$1){var d=
c.hitTestItem(b.get_origin());if(null==d)return;var e=this.get_imageViewer().getItemViewBounds(d,1,!1),e=lt.LeadPointD.create((b.get_origin().get_x()-e.get_x())/e.get_width(),(b.get_origin().get_y()-e.get_y())/e.get_height());if(2===this._transformTarget$1)this._zoomAtForItem$1(d,e);else if(1===this._transformTarget$1){c.beginTransform();for(d=0;d<c.get_items().get_count();d++)this._zoomAtForItem$1(c.get_items().get_item(d),e);c.endTransform()}}else d=c.get_scaleFactor()*this._scaleFactor$1,c.zoom(0,
d,b.get_origin())}this.onWorkCompleted(lt.LeadEventArgs.Empty)}},_zoomAtForItem$1:function(a,b){var c=this.get_imageViewer().getItemViewBounds(a,1,!1),d=a.get_scaleFactor()*this._scaleFactor$1,c=lt.LeadPointD.create(b.get_x()*c.get_width()+c.get_x(),b.get_y()*c.get_height()+c.get_y()),c=this.get_imageViewer().convertPoint(a,0,4,c),c=a.get_transform().transformPoint(c);a.zoom(0,d,c)}};Object.defineProperty(lt.Controls.ImageViewerZoomAtInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerZoomAtInteractiveMode.prototype.get_name,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerZoomAtInteractiveMode.prototype,"id",{get:lt.Controls.ImageViewerZoomAtInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerZoomAtInteractiveMode.prototype,"scaleFactor",{get:lt.Controls.ImageViewerZoomAtInteractiveMode.prototype.get_scaleFactor,set:lt.Controls.ImageViewerZoomAtInteractiveMode.prototype.set_scaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerZoomAtInteractiveMode.prototype,
"transformTarget",{get:lt.Controls.ImageViewerZoomAtInteractiveMode.prototype.get_transformTarget,set:lt.Controls.ImageViewerZoomAtInteractiveMode.prototype.set_transformTarget,enumerable:!0,configurable:!0});lt.Controls.ImageViewerZoomToInteractiveMode=function(){this._transformTarget$2=0;lt.Controls.ImageViewerZoomToInteractiveMode.initializeBase(this)};lt.Controls.ImageViewerZoomToInteractiveMode.prototype={get_name:function(){return"ZoomTo"},get_id:function(){return 4},get_transformTarget:function(){return this._transformTarget$2},
set_transformTarget:function(a){return this._transformTarget$2=a},get_shape:function(){return lt.Controls.ImageViewerZoomToInteractiveMode.callBaseMethod(this,"get_shape")},set_shape:function(a){if(3===a)throw new lt.InvalidOperationException("Freehand Shape is not supported by this interactive mode");lt.Controls.ImageViewerZoomToInteractiveMode.callBaseMethod(this,"set_shape",[a]);return a},onRubberBandCompleted:function(a){lt.Controls.ImageViewerZoomToInteractiveMode.callBaseMethod(this,"onRubberBandCompleted",
[a]);if(!a.get_isCanceled()){var b=a.get_points()[0].clone(),a=a.get_points()[1].clone(),c=lt.Controls.PrimitivesHelper.toLeadRectD(lt.Controls.PrimitivesHelper.normalizeRect(lt.LeadRectD.fromLTRB(b.get_x(),b.get_y(),a.get_x(),a.get_y()))),b=this.get_imageViewer();if(0<c.get_width()&&0<c.get_height()&&b.get_hasItems())if(this._transformTarget$2){var d=this.get_imageViewer().hitTestItems(c),a=null;if(null!=d&&d.length){var a=d[0],d=lt.Controls.PrimitivesHelper.getCenterPoint(c),e=this.get_imageViewer().getItemViewBounds(a,
1,!1),d=lt.LeadPointD.create((d.get_x()-e.get_x())/e.get_width(),(d.get_y()-e.get_y())/e.get_height()),c=lt.LeadSizeD.create(c.get_width(),c.get_height());if(2===this._transformTarget$2)this._zoomToForItem$2(a,d,c);else if(1===this._transformTarget$2){b.beginTransform();for(a=0;a<b.get_items().get_count();a++)this._zoomToForItem$2(b.get_items().get_item(a),d,c);b.endTransform()}}}else b.zoomToRect(c)}},_zoomToForItem$2:function(a,b,c){var d=this.get_imageViewer().getItemViewBounds(a,1,!1),e=lt.LeadSizeD.create(d.get_width(),
d.get_height()),c=1/lt.Controls.ImageViewer.getScaleFactors(c,e,2).get_width(),c=c*a.get_scaleFactor(),b=lt.LeadPointD.create(b.get_x()*d.get_width()+d.get_x(),b.get_y()*d.get_height()+d.get_y()),b=this.get_imageViewer().convertPoint(a,0,4,b),b=a.get_transform().transformPoint(b);a.zoom(0,c,b)}};Object.defineProperty(lt.Controls.ImageViewerZoomToInteractiveMode.prototype,"name",{get:lt.Controls.ImageViewerZoomToInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerZoomToInteractiveMode.prototype,
"id",{get:lt.Controls.ImageViewerZoomToInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerZoomToInteractiveMode.prototype,"transformTarget",{get:lt.Controls.ImageViewerZoomToInteractiveMode.prototype.get_transformTarget,set:lt.Controls.ImageViewerZoomToInteractiveMode.prototype.set_transformTarget,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerZoomToInteractiveMode.prototype,"shape",{get:lt.Controls.ImageViewerZoomToInteractiveMode.prototype.get_shape,
set:lt.Controls.ImageViewerZoomToInteractiveMode.prototype.set_shape,enumerable:!0,configurable:!0});lt.Controls.ImageViewerItem=function(){this._leadIndex=-1;this._size=lt.LeadSizeD.get_empty();this._resolution=lt.LeadSizeD.create(0,0);this._transform=lt.LeadMatrix.get_identity();this._sizeMode=0;this._scale=lt.LeadSizeD.create(1,1);this._scaleFactors=lt.LeadSizeD.create(1,1);this._offset=lt.LeadPointD.create(0,0);this._textHorizontalAlignment=this._imageVerticalAlignment=this._imageHorizontalAlignment=
1;this._textVerticalAlignment=2;this._floaterTransform=lt.LeadMatrix.get_identity();this._itemElement_DOM_Height=this._itemElement_DOM_Width=this._resizeElementForViewHeight=this._resizeElementForViewWidth=-1;this._itemElement_DOM_Transform=lt.LeadMatrix.get_identity();this._imageClippingElement_DOM_Height=this._imageClippingElement_DOM_Width=this._imageBorderElement_DOM_Height=this._imageBorderElement_DOM_Width=-1;this._imageClippingElement_DOM_Transform=lt.LeadMatrix.get_identity();this._imageFlipElement_DOM_Height=
this._imageFlipElement_DOM_Width=this._imageFlipElement_DOM_Top=this._imageFlipElement_DOM_Left=-1;this._imageSize=lt.LeadSizeD.get_empty();this._backImageLoadUrlMode=this._loadUrlMode=lt.ImageLoaderUrlMode.imageUrl};lt.Controls.ImageViewerItem.createFromImage=function(a,b){return lt.Controls.ImageViewerItem.createFromElement(a,b)};lt.Controls.ImageViewerItem.createFromCanvas=function(a,b){return lt.Controls.ImageViewerItem.createFromElement(a,b)};lt.Controls.ImageViewerItem.createFromElement=function(a,
b){var c=lt.LeadSizeD.get_empty(),c=lt.Controls._elementsHelper.getSize(a,!0),d=new lt.Controls.ImageViewerItem;d._update(a,c,b,9);return d};lt.Controls.ImageViewerItem._isImageCompleted=function(a){return a.src&&a.complete};lt.Controls.ImageViewerItem.prototype={_imageViewer:null,get_imageViewer:function(){return this._imageViewer},beginChange:function(a){null!=this._imageViewer&&this._imageViewer._doItemChanged(this,!0,a)},endChange:function(a){null!=this._imageViewer&&this._imageViewer._doItemChanged(this,
!1,a)},_rowIndex:0,get_rowIndex:function(){return this._rowIndex},set_rowIndex:function(a){return this._rowIndex=a},_columnIndex:0,get_columnIndex:function(){return this._columnIndex},set_columnIndex:function(a){return this._columnIndex=a},_setSize:function(a,b){this._size=a.clone();this._resolution=b.clone()},get_size:function(){return this._size},set_size:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"Size");lt.LeadSizeD.equals(this._size,a)||(this.beginChange(0),this._size=a.clone(),this.endChange(0));
return a},get_resolution:function(){return this._resolution.clone()},set_resolution:function(a){lt.Controls.ControlsHelper.checkResolution(a,"Resolution");var b=a.get_isEmpty()?lt.LeadSizeD.create(0,0):a;lt.LeadSizeD.equals(this._resolution,b)||(this.beginChange(0),this._resolution=b.clone(),null!=this._imageViewer&&lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(this._imageViewer.get_itemSize())&&(this._size=this._imageViewer.getItemImageSize(this,this._imageViewer.get_useDpi())),this.endChange(0));
return a},_isVisible:!0,get_isVisible:function(){return this._isVisible},set_isVisible:function(a){this._isVisible!==a&&(this.beginChange(1),this._isVisible=a,this.endChange(1));return a},_isEnabled:!0,get_isEnabled:function(){return this._isEnabled},set_isEnabled:function(a){this._isEnabled!==a&&(this.beginChange(2),this._isEnabled=a,this.endChange(2));return a},_isSelected:!1,get_isSelected:function(){return this._isSelected},set_isSelected:function(a){this._isSelected!==a&&(this._setSelected(a),
null!=this._imageViewer&&this._imageViewer._internalOnSelectedItemsChanged());return a},_setSelected:function(a){this._isSelected!==a&&(this.beginChange(3),this._isSelected=a,this._doSetSelected(this._isSelected),this.endChange(3))},_isHovered:!1,get_isHovered:function(){return this._isHovered},set_isHovered:function(a){this._isHovered!==a&&(this.beginChange(4),this._isHovered=a,this._doSetHovered(this._isHovered),this.endChange(4));return a},_text:null,get_text:function(){return this._text},set_text:function(a){this._text!==
a&&(this.beginChange(5),this._text=a,this.get__useElements()&&this._updateTextElement(),this.endChange(5));return a},_tag:null,get_tag:function(){return this._tag},set_tag:function(a){return this._tag=a},_url:null,get_url:function(){return this._url},set_url:function(a){null!=this._imageViewer?this._updateFromUrl(a,this.get_resolution()):this._setUrl(a);return a},_setUrl:function(a){this._url=a},_setBackImageUrl:function(a){this._backImageUrl=a},get_transform:function(){return this._transform.clone()},
set_transform:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"Transform");this._setTransform(a,!0);return a},_setTransform:function(a,b){lt.LeadMatrix.equals(this._transform,a)||(this.beginChange(1),this._transform=a.clone(),b&&(this._modifiedRotationAngle=this._rotateAngle=0,this._reverse=this._flip=!1,this._scale=lt.LeadSizeD.create(1,1),this._offset=lt.LeadPointD.create(0,0)),this.endChange(1))},get_sizeMode:function(){return this._sizeMode},zoom:function(a,b,c){lt.Controls.ControlsHelper.checkIfNull(c,
"origin");if(lt.LeadDoubleTools.isZero(b)||0>b)throw new lt.ArgumentOutOfRangeException("value",b,"Must be a value greater than 0");null!=this._imageViewer&&this._imageViewer.disableTransitions();this.beginChange(1);this._sizeMode!==a&&(this._sizeMode=a);a=c.clone();if(c.get_isEmpty()||this._sizeMode)a=this.get_defaultZoomOrigin();this._scaleAt(lt.LeadSizeD.create(b,b),a);this._sizeMode&&(b=this.get_flip(),c=this.get_reverse(),a=this.get_rotateAngle(),this._setTransform(lt.LeadMatrix.get_identity(),
!0),this.set_flip(b),this.set_reverse(c),this.set_rotateAngle(a));this.endChange(1);null!=this._imageViewer&&this._imageViewer.enableTransitions()},get_origin:function(){var a=this.get_imageSize();lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(a)&&(a=this.get_size());return lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(a)?lt.LeadPointD.get_empty():lt.LeadPointD.create(a.get_width()/2,a.get_height()/2)},get_defaultZoomOrigin:function(){var a=this.get_origin();a.get_isEmpty()||(a=this.get_transform().transformPoint(a));
return a},_itemChanged:!1,_flip:!1,get_flip:function(){return this._flip},set_flip:function(a){if(this._flip!==a){this._flip=a;var b=this.get_defaultZoomOrigin();if(!b.get_isEmpty()){var c=lt.LeadMatrix.get_identity();c.scaleAt(1,-1,b.get_x(),b.get_y());this._setTransform(lt.LeadMatrix.multiply(this.get_transform(),c),!1)}}return a},_reverse:!1,get_reverse:function(){return this._reverse},set_reverse:function(a){if(this._reverse!==a){this._reverse=a;var b=this.get_defaultZoomOrigin();if(!b.get_isEmpty()){var c=
lt.LeadMatrix.get_identity();c.scaleAt(-1,1,b.get_x(),b.get_y());this._setTransform(lt.LeadMatrix.multiply(this.get_transform(),c),!1)}}return a},_rotateAngle:0,get_rotateAngle:function(){return this._rotateAngle},set_rotateAngle:function(a){if(!this.get__useElements()){for(;0>a;)a+=360;for(;360<=a;)a-=360}if(this._rotateAngle!==a){var b=a-this._rotateAngle;this._updateItemRotation(b);this._rotateAngle=a;if(!lt.LeadDoubleTools.isZero(b)){var c=this.get_defaultZoomOrigin();if(!c.get_isEmpty()){var d=
lt.LeadMatrix.get_identity();d.rotateAt(b,c.get_x(),c.get_y());this._setTransform(lt.LeadMatrix.multiply(this.get_transform(),d),!1)}}}return a},get_scale:function(){return this._scale.clone()},set_scale:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"Scale");var b=a.get_isEmpty()?lt.LeadSizeD.create(1,1):a.clone();if(0>=b.get_width()||0>=b.get_height())throw new lt.ArgumentOutOfRangeException("Scale",b,"Must have a values greater than 0");lt.LeadSizeD.equals(this._scale,b)||this._scaleAt(b,
this.get_defaultZoomOrigin());return a},_scaleAt:function(a,b){var c=a.get_width()/this._scale.get_width(),d=a.get_height()/this._scale.get_height();this._scale=a;if((!lt.LeadDoubleTools.isOne(c)||!lt.LeadDoubleTools.isOne(d))&&!b.get_isEmpty()){var e=lt.LeadMatrix.get_identity();e.scaleAt(c,d,b.get_x(),b.get_y());this._setTransform(lt.LeadMatrix.multiply(this.get_transform(),e),!1)}},get_scaleFactors:function(){return this._scaleFactors.clone()},_setScaleFactors:function(a){this._scaleFactors=a.clone()},
get_scaleFactor:function(){return Math.max(this._scaleFactors.get_width(),this._scaleFactors.get_height())},get_offset:function(){return this._offset.clone()},set_offset:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"Offset");var b=a.get_isEmpty()?lt.LeadPointD.create(0,0):a.clone();if(!lt.LeadPointD.equals(this._offset,b)){var c=b.get_x()-this._offset.get_x(),d=b.get_y()-this._offset.get_y();this._offset=b;if(!lt.LeadDoubleTools.isZero(c)||!lt.LeadDoubleTools.isZero(d))b=lt.LeadMatrix.get_identity(),
b.translate(c,d),this._setTransform(lt.LeadMatrix.multiply(this.get_transform(),b),!1)}return a},offsetBy:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"value");var b=a.get_isEmpty()?lt.LeadPointD.create(0,0):a.clone();if(!lt.LeadDoubleTools.isZero(b.get_x())||!lt.LeadDoubleTools.isZero(b.get_y()))b=this.get_offset(),b.set_x(b.get_x()+a.get_x()),b.set_y(b.get_y()+a.get_y()),this.set_offset(b)},_resizeOnTransform:!0,get_resizeOnTransform:function(){return this._resizeOnTransform},set_resizeOnTransform:function(a){this._resizeOnTransform!==
a&&(this.beginChange(1),this._resizeOnTransform=a,this.endChange(1));return a},_clipImageToContent:!0,get_clipImageToContent:function(){return this._clipImageToContent},set_clipImageToContent:function(a){this._clipImageToContent!==a&&(this.beginChange(1),this._clipImageToContent=a,this._itemChanged=!0,this.endChange(1));return a},get_imageHorizontalAlignment:function(){return this._imageHorizontalAlignment},set_imageHorizontalAlignment:function(a){this._imageHorizontalAlignment!==a&&(this.beginChange(1),
this._imageHorizontalAlignment=a,this.endChange(1));return a},get_imageVerticalAlignment:function(){return this._imageVerticalAlignment},set_imageVerticalAlignment:function(a){this._imageVerticalAlignment!==a&&(this.beginChange(1),this._imageVerticalAlignment=a,this.endChange(1));return a},get_textHorizontalAlignment:function(){return this._textHorizontalAlignment},set_textHorizontalAlignment:function(a){this._textHorizontalAlignment!==a&&(this.beginChange(1),this._textHorizontalAlignment=a,this.endChange(1));
return a},get_textVerticalAlignment:function(){return this._textVerticalAlignment},set_textVerticalAlignment:function(a){this._textVerticalAlignment!==a&&(this.beginChange(1),this._textVerticalAlignment=a,this.endChange(1));return a},get_floaterTransform:function(){return this._floaterTransform},set_floaterTransform:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"FloaterTransform");if(!lt.LeadMatrix.equals(this._floaterTransform,a)){var b=lt.LeadRectD.get_empty();this.beginChange(12);null!=
this._imageViewer&&(b=this._imageViewer.getItemViewBounds(this,6,!1));this._floaterTransform=a;this.endChange(12);if(null!=this._imageViewer&&(b=lt.LeadRectD.unionRects(b,this._imageViewer.getItemViewBounds(this,6,!1)),!b.get_isEmpty())){var c=lt.Controls.ControlRegionRenderer.get_instance().get_size();b.inflate(2*c+2,2*c+2);this._imageViewer._nativeInvalidate(b)}}return a},_floaterOpacity:1,get_floaterOpacity:function(){return this._floaterOpacity},set_floaterOpacity:function(a){if(lt.LeadDoubleTools.lessThan(a,
0)||lt.LeadDoubleTools.greaterThan(a,1))throw new lt.ArgumentOutOfRangeException("FloaterOpacity",a,"Must be a value between 0 and 1");if(!lt.LeadDoubleTools.areClose(this._floaterOpacity,a)){var b=lt.LeadRectD.get_empty();this.beginChange(12);null!=this._imageViewer&&(b=this._imageViewer.getItemViewBounds(this,6,!1));this._floaterOpacity=a;this.endChange(12);if(null!=this._imageViewer&&(b=lt.LeadRectD.unionRects(b,this._imageViewer.getItemViewBounds(this,6,!1)),!b.get_isEmpty())){var c=lt.Controls.ControlRegionRenderer.get_instance().get_size();
b.inflate(2*c+2,2*c+2);this._imageViewer._nativeInvalidate(b)}}return a},get_hasVisibleFloater:function(){return this.get_hasFloater()&&lt.LeadDoubleTools.greaterThan(this.get_floaterOpacity(),0)},_internalDeleteFloater:function(){this.deleteFloater()},_imageScale:1,get_imageScale:function(){return this._imageScale},set_imageScale:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("ImageScale",a,"Must be a value greater than 0");return this._imageScale=a},get_leadIndex:function(){return this._leadIndex},
set_leadIndex:function(a){return this._leadIndex=a},_autoCreateCanvas:!1,get_autoCreateCanvas:function(){return this._autoCreateCanvas},set_autoCreateCanvas:function(a){a!==this._autoCreateCanvas&&(this._autoCreateCanvas=a);return a},_resizeElementForView:!1,get_resizeElementForView:function(){return this._resizeElementForView},set_resizeElementForView:function(a){a!==this._resizeElementForView&&(this._resizeElementForView=a);return a},_useElements:!1,get__useElements:function(){return this._useElements},
_itemElement:null,get_itemElement:function(){return this._itemElement},_imageElement:null,get_imageElement:function(){return this._imageElement},_imageElement_DOM_TransformString:null,_backImageElement:null,get_backImageElement:function(){return this._backImageElement},_backImageElement_DOM_TransformString:null,_textElement:null,get_textElement:function(){return this._textElement},_imageBorderElement:null,get_imageBorderElement:function(){return this._imageBorderElement},_imageBorderElement_DOM_TransformString:null,
_imageBorderElement_DOM_Shadow:null,_imageClippingElement:null,get_imageClippingElement:function(){return this._imageClippingElement},_imageFlipElement:null,get_imageFlipElement:function(){return this._imageFlipElement},_imageFlipElement_DOM_TransformString:null,_deleteItemImageElement:function(a,b){null!=this._imageElement&&(null!=this._imageElement.parentNode&&this._imageElement.parentNode.removeChild(this._imageElement),this._imageElement=null);this._imageElement_DOM_TransformString=null;if(b&&
(null!=this._image||null!=this._canvas||null!=this._element)){var c=null;null!=this._canvas?this._canvas=null:null!=this._image?c=this._image.src:null!=this._element&&(c=this._url);this._size=lt.LeadSizeD.get_empty();this.set_imageSize(this._imageSize);this._imageViewer.get_items().get__props()[this._imageViewer.get_items().indexOf(this)].removedImageUrl=c}this._resizeElementForViewHeight=this._resizeElementForViewWidth=-1;a&&this._deleteItemBackImageElement(b);null!=this._itemElement&&lt.LTHelper.removeClass(this._itemElement,
this.get_imageViewer()._useElementsOptions.get_itemImageLoadedClass())},_deleteItemBackImageElement:function(a){null!=this._backImageElement&&(null!=this._backImageElement.parentNode&&this._backImageElement.parentNode.removeChild(this._backImageElement),this._backImageElement_DOM_TransformString=this._backImageElement=null,a&&null!=this._backImage&&(a=null,lt.Controls._elementsHelper.isImgElement(this._backImage)?a=this._backImage.src:lt.Controls._elementsHelper.isSvgElement(this._backImage)&&(a=
this._backImageUrl),this._imageViewer.get_items().get__props()[this._imageViewer.get_items().indexOf(this)].removedBackImageUrl=a,this._backImage=null))},_deleteItemElements:function(a){if(!(null==this._itemElement||null==this._imageViewer)){var b=this._imageViewer.get_viewDiv();null!=b&&(this._deleteItemImageElement(!0,a),null!=this._textElement&&(null!=this._textElement.parentNode&&this._textElement.parentNode.removeChild(this._textElement),this._textElement=null,null!=this._imageBorderElement&&
(null!=this._imageBorderElement.parentNode&&this._imageBorderElement.parentNode.removeChild(this._imageBorderElement),this._imageBorderElement=null,this._imageBorderElement_DOM_Height=this._imageBorderElement_DOM_Width=-1,this._imageBorderElement_DOM_TransformString=this._imageBorderElement_DOM_Shadow=null,null!=this._imageFlipElement&&(null!=this._imageFlipElement.parentNode&&this._imageFlipElement.parentNode.removeChild(this._imageFlipElement),this._imageFlipElement=null,this._imageFlipElement_DOM_Height=
this._imageFlipElement_DOM_Width=this._imageFlipElement_DOM_Top=this._imageFlipElement_DOM_Left=-1,this._imageFlipElement_DOM_TransformString=null,null!=this._imageClippingElement&&(null!=this._imageClippingElement.parentNode&&this._imageClippingElement.parentNode.removeChild(this._imageClippingElement),this._imageClippingElement=null,this._imageClippingElement_DOM_Height=this._imageClippingElement_DOM_Width=-1,this._imageClippingElement_DOM_Transform=lt.LeadMatrix.get_identity(),this._itemElement.parentNode===
b&&b.removeChild(this._itemElement),this._itemElement=null,this._itemElement_DOM_Height=this._itemElement_DOM_Width=-1,this._itemElement_DOM_Transform=lt.LeadMatrix.get_identity())))))}},_setImageViewer:function(a){null==a&&this._useElements&&this._deleteItemElements(!1);this._imageViewer=a;null!=this._imageViewer&&(this._useElements=this._imageViewer.get_useElements())},_doSetHovered:function(a){null!=this.get_itemElement()&&(a?lt.LTHelper.addClass(this.get_itemElement(),this._imageViewer._useElementsOptions.get_itemHoverClass()):
lt.LTHelper.removeClass(this.get_itemElement(),this._imageViewer._useElementsOptions.get_itemHoverClass()))},_doSetSelected:function(a){null!=this.get_itemElement()&&(a?lt.LTHelper.addClass(this.get_itemElement(),this._imageViewer._useElementsOptions.get_itemSelectClass()):lt.LTHelper.removeClass(this.get_itemElement(),this._imageViewer._useElementsOptions.get_itemSelectClass()))},_render:function(a,b){null!=this.get_imageViewer()&&this._renderImageOrCanvas(a,b)},_renderInterpolation:function(a,b){var c=
b.interpolator;return null!=c&&c.get_hasInterpolationResult()?(c.renderImage(a.get_context()),!0):!1},_renderImageOrCanvas:function(a,b){var c=this.get_imageViewer(),d=this.get_image(),e=this.get_canvas(),f=this.get_backImage();if(!(null==d&&null==e&&null==f)){var g=c.getItemImageSize(this,!1);if(!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(g)&&(c=c.getItemImageTransform(this),c.get_hasInverse()&&!this._renderInterpolation(a,b))){var h=a.get_context(),i=null;try{c.get_isIdentity()||(i=lt.Controls.GraphicsHelper.saveContext(h),
lt.Controls.GraphicsHelper.multiplyTransform(h,c)),null!=f&&lt.Controls._elementsHelper.isImgElement(f)||lt.Controls._elementsHelper.isSvgElement(f)?h.drawImage(f,0,0,g.get_width(),g.get_height()):lt.Controls.GraphicsHelper.fillBackground(h,this._imageViewer.get_imageBackgroundColor(),lt.LeadRectD.create(0,0,g.get_width(),g.get_height()),lt.LeadMatrix.get_identity()),null!=d?h.drawImage(d,0,0,g.get_width(),g.get_height()):null!=e&&h.drawImage(e,0,0,g.get_width(),g.get_height())}finally{null!=i&&lt.Controls.GraphicsHelper.restoreContext(h,
i)}}}},_createItemElements:function(){var a=this.get_imageViewer();if(null!=a&&(a=a.get_viewDiv(),null!=a)){this._internalCreateItemElement(a);this._createClippingElement();this._createFlipElement();this._createBorderElement();this._createTextElement();var a=this._imageViewer.get_items().get__props()[this._imageViewer.get_items().indexOf(this)],b=a.removedImageUrl;null!=b&&this.set_url(b);a=a.removedBackImageUrl;null!=a&&this.set_backImageUrl(a);this._updateBackImageElement();this._updateImageElement()}},
_itemImageChanged:!1,_updateImageElement:function(){if(!(null==this.get_image()&&null==this.get_canvas()&&null==this.get_element()||null==this.get_imageFlipElement())){var a;a=null!=this._canvas?this._canvas:null!=this._image?this._image:null!=this._element?this._element:null;var b=this._imageViewer.getItemImageSize(this,!1);lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(b)||(this._imageElement=a,this._imageElement_DOM_TransformString=null,this._configureForPassthrough(this.get__hasHTMLAsImage()||
lt.Controls._elementsHelper.isSvgElement(a)),lt.LTHelper.addClass(a,this._imageViewer._useElementsOptions.get_itemImageElementClass()),this._imageFlipElement.appendChild(a),this._itemImageChanged=this._imageViewer._InternalImmediateRender=!0,this._useElements&&lt.Controls._elementsHelper.isImgElement(this._imageElement)?lt.Controls.ImageViewerItem._isImageCompleted(a)?(lt.LTHelper.addClass(this._itemElement,this.get_imageViewer()._useElementsOptions.get_itemImageLoadedClass()),this._imageViewer._internalUpdateStyles()):
lt.LTHelper.browser===lt.LTBrowser.internetExplorer&&9===lt.LTHelper.version?(b=ss.Delegate.create(this,function(){"complete"===a.readyState&&(lt.LTHelper.addClass(this._itemElement,this.get_imageViewer()._useElementsOptions.get_itemImageLoadedClass()),this._imageViewer._internalUpdateStyles(),a.onreadystatechange=null)}),a.onreadystatechange=b):(b=null,b=ss.Delegate.create(this,function(){a.onload="";lt.LTHelper.addClass(this._itemElement,this.get_imageViewer()._useElementsOptions.get_itemImageLoadedClass());
this._imageViewer.updateStyles()}),a.onload=b):this._useElements&&lt.Controls._elementsHelper.isElement(this._imageElement)&&(lt.LTHelper.addClass(this._itemElement,this.get_imageViewer()._useElementsOptions.get_itemImageLoadedClass()),this._imageViewer._internalUpdateStyles()))}},_itemBackImageChanged:!1,_updateBackImageElement:function(){if(!(null==this._backImage||null==this.get_imageFlipElement())){var a=this._backImage;this._backImageElement_DOM_TransformString=null;var b=this._imageViewer.getItemImageSize(this,
!1);if(!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(b)){if(!this.get_resizeElementForView()){var c=lt.Controls.PrimitivesHelper.toInt(b.get_width()/this._imageScale),b=lt.Controls.PrimitivesHelper.toInt(b.get_height()/this._imageScale);if(lt.Controls._elementsHelper.isImgElement(a))a.style.width=c+"px",a.style.height=b+"px";else if(lt.Controls._elementsHelper.isSvgElement(a)){var d=a.getAttribute("viewBox");if(String.isNullOrEmpty(d)){var d=parseInt(a.getAttribute("width")),e=parseInt(a.getAttribute("height"));
a.setAttribute("viewBox","0 0 "+d+" "+e)}a.setAttribute("width",c);a.setAttribute("height",b);a.setAttribute("preserveAspectRatio","xMinYMin meet")}}lt.LTHelper.addClass(a,this._imageViewer._useElementsOptions.get_itemBackImageElementClass());null!=this._imageElement&&this._imageElement.parentNode===this._imageFlipElement?this._imageFlipElement.insertBefore(a,this._imageElement):this._imageFlipElement.appendChild(a);this._backImageElement=a;this._itemBackImageChanged=!0}}},get__hasHTMLAsImage:function(){return this._useElements&&
lt.Controls._elementsHelper.isNonImgAndNonSvgElement(this._imageElement)},_configureForPassthrough:function(a){null!=this.get_imageClippingElement()&&(a&&null!=this.get_imageViewer().get_passthroughDiv()&&this._imageClippingElement.parentNode===this._itemElement?(this._imageClippingElement.parentNode.removeChild(this._imageClippingElement),this._imageViewer.get_passthroughDiv().appendChild(this._imageClippingElement),lt.Controls.ElementInsertionHelper.removePointerEvents([this._imageClippingElement])):
!a&&this._imageClippingElement.parentNode===this._imageViewer.get_passthroughDiv()&&(this._imageClippingElement.parentNode.removeChild(this._imageClippingElement),this._itemElement.appendChild(this._imageClippingElement),lt.Controls.ElementInsertionHelper.clearPointerEventChangesFromRoot(this._imageClippingElement)))},_createClippingElement:function(){if(null==this._imageClippingElement){var a=document.createElement("div");lt.LTHelper.addClass(a,this._imageViewer._useElementsOptions.get_itemImageClippingElementClass());
this._itemElement.appendChild(a);this._imageClippingElement=a;this._updateClippingElement()}},_updateClippingElement:function(){this._useElements&&null!=this._imageClippingElement&&(!this._resizeOnTransform&&this._clipImageToContent?lt.LTHelper.addClass(this._imageClippingElement,"lt_no_overflow"):lt.LTHelper.removeClass(this._imageClippingElement,"lt_no_overflow"))},_createFlipElement:function(){if(null==this._imageFlipElement){var a=document.createElement("div");lt.LTHelper.addClass(a,this._imageViewer._useElementsOptions.get_itemImageFlipElementClass());
this._imageClippingElement.appendChild(a);this._imageFlipElement=a}},_createBorderElement:function(){if(null==this._imageBorderElement){var a=document.createElement("div");lt.LTHelper.addClass(a,this._imageViewer._useElementsOptions.get_itemImageBorderElementClass());this._imageFlipElement.appendChild(a);this._imageBorderElement=a}},_internalCreateItemElement:function(a){if(null==this._itemElement){var b=document.createElement("div");lt.LTHelper.addClass(b,this._imageViewer._useElementsOptions.get_itemElementClass());
this._imageViewer.get_activeItem()===this&&lt.LTHelper.addClass(b,this._imageViewer._useElementsOptions.get_itemActiveClass());a.appendChild(b);this._itemElement=b;this._doSetSelected(this._isSelected);this._doSetHovered(this._isHovered)}},_createTextElement:function(){if(null==this._textElement){var a=document.createElement("span");lt.LTHelper.addClass(a,this._imageViewer._useElementsOptions.get_itemTextElementClass());this._itemElement.appendChild(a);this._textElement=a;this._updateTextElement()}},
_updateTextElement:function(){null==this._text||null==this.get_textElement()||(this._textElement.innerHTML=this._text)},_modifiedRotationAngle:0,_updateItemRotation:function(a){this._modifiedRotationAngle+=1===(this._flip^this._reverse)?-a:a},_flipImageElement:!1,get_flipImageElement:function(){return this._flipImageElement},set_flipImageElement:function(a){this._imageViewer._checkSetForUseElements("FlipImageElement");this._imageViewer.beginTransform();this._flipImageElement!==a&&(this._itemChanged=
!0,this._flipImageElement=a);this._imageViewer.endTransform();return a},_reverseImageElement:!1,get_reverseImageElement:function(){return this._reverseImageElement},set_reverseImageElement:function(a){this._imageViewer._checkSetForUseElements("ReverseImageElement");this._imageViewer.beginTransform();this._reverseImageElement!==a&&(this._itemChanged=!0,this._reverseImageElement=a);this._imageViewer.endTransform();return a},_update:function(a,b,c,d){this._doUpdate(a,b,c,d,!1,lt.LeadSizeD.get_empty())},
_updateImageSize:function(a,b){this._doUpdate(null,lt.LeadSizeD.get_empty(),this.get_resolution(),b,!0,a)},_doUpdate:function(a,b,c,d,e,f){var g=null,h=null,i=null;if(null!=a){var j=a.tagName;null!=j&&(j=j.toLowerCase());"img"===j?g=a:"canvas"===j?h=a:i=a}j=lt.LeadSizeD.create(0,0);a=this.get_imageViewer();if(null!=g||null!=h||null!=i){if(null!=g){this._imageSize=b.clone();if(this._imageSize.get_isEmpty()||!this._imageSize.get_width()||!this._imageSize.get_height()){d=Error("Image has naturalWidth or naturalHeight value of 0");
if(null!=this._imageViewer){this._imageViewer._internalOnItemError(lt.Controls.ImageViewerItemErrorEventArgs.create(this,9,g,d));return}throw d;}this._imageSize.set_width(lt.Controls.PrimitivesHelper.toInt(this._imageSize.get_width()*this._imageScale));this._imageSize.set_height(lt.Controls.PrimitivesHelper.toInt(this._imageSize.get_height()*this._imageScale));if(null!=g&&this.get_autoCreateCanvas()){b=new lt.CanvasHelper;b.set_autoScale(lt.Controls.CanvasOptions.get_autoScale());b.set_maximumSize(lt.Controls.CanvasOptions.get_maximumSize());
try{var k=b.create(g,this._imageSize);null!=k&&(g=null,h=k,this._imageSize=b.get_size(),this._canvasScale=b.get_scale())}catch(n){null!=a&&(k=lt.Controls.ImageViewerItemErrorEventArgs.create(this,9,null,n),a._internalOnItemError(k))}}}else if(null!=h)this.get_resizeElementForView()||(this._resizeElementForViewWidth=h.width,this._resizeElementForViewHeight=h.height,this._imageSize=lt.LeadSizeD.create(this._resizeElementForViewWidth,this._resizeElementForViewHeight));else if(null!=i&&!this.get_resizeElementForView()){this._imageSize=
b.clone();if(this._imageSize.get_isEmpty()||!this._imageSize.get_width()||!this._imageSize.get_height()){d=Error("Invalid element size");if(null!=this._imageViewer){this._imageViewer._internalOnItemError(lt.Controls.ImageViewerItemErrorEventArgs.create(this,9,i,d));return}throw d;}this._imageSize.set_width(lt.Controls.PrimitivesHelper.toInt(this._imageSize.get_width()*this._imageScale));this._imageSize.set_height(lt.Controls.PrimitivesHelper.toInt(this._imageSize.get_height()*this._imageScale))}k=
lt.LeadSizeD.get_empty();null!=a&&(k=a.get_itemSize());j=lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(k)?this._imageSize:k}else this._imageSize=e?f.clone():lt.LeadSizeD.get_empty(),j=this.get_size(),e&&j.get_isEmpty()&&(j=f.clone());null!=a&&(a._doItemChanged(this,!0,d),null!=this._image&&this._image!==g&&a._tryDispose(this),null!=this._canvas&&this._canvas!==h&&a._tryDispose(this),null!=this._element&&this._element!==i&&a._tryDispose(this));this._image=g;this._element=i;this._canvas=h;g=c.clone();
if(g.get_isEmpty()||!g.get_width()||!g.get_height())g=null!=a?a.get_screenDpi():lt.LeadSizeD.create(96,96);null!=a&&a.get_useDpi()&&(j=a._calculateItemSize(g,j,!0));this._setSize(j,g);this._useElements&&this._updateImageElement();null!=a&&a._doItemChanged(this,!1,d)},_tryDispose:function(){null==this._image&&null==this._canvas&&null==this._element||(this._element=this._canvas=this._image=null)},_tryDisposeBackImage:function(a){if(null!=this._backImage){for(a=ss.IEnumerator.getEnumerator(a);a.moveNext();){var b=
a.current;if(b!==this){b.get_backImage();break}}this._backImage=null}},_updateFromUrl:function(a,b){this._updateFromImageUrl(a,b,!1)},_updateFromImageUrl:function(a,b,c){var d=this.get_imageViewer();null!=d&&(null==a?(null!=this.get_image()&&this.set_image(null),null!=this.get_canvas()&&this.set_canvas(null),null!=this.get_element()&&this.set_element(null)):this._doUpdateFromUrl(d,a,b,c,c?this.get_backImageLoadUrlMode():this.get_loadUrlMode()))},_doUpdateFromUrl:function(a,b,c,d,e){var f=d?13:6,g=
null,h=null,i=null,g=function(e){var g=e.get_tag();if(d)g._setBackImageUrl(b),g.set_backImage(e.get_element());else{g._setUrl(b);var h=e.get_element();g._update(h,lt.LeadSizeD.create(e.get_width(),e.get_height()),c,f);a.get_invert()&&lt.Controls._imageProcessingHelper.get_canInvert()&&lt.Controls._imageProcessingHelper.invert(g)}},h=function(b){var c=b.get_tag(),b=lt.Controls.ImageViewerItemErrorEventArgs.create(c,f,b.get_element(),b.get_error());a._internalOnItemError(b);!d&&b.get_removeEmptyItem()&&
null!=c&&a.get_items().contains(c)&&!c.get_hasImage()&&(lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(c.get_size())||lt.LeadSizeD.equals(c.get_size(),a.get_itemSize()))&&a.get_items().remove(c)},i=ss.Delegate.create(this,function(b){b.remove_done(g);b.remove_fail(h);b.remove_always(i);b=b.get_tag();this.get__useElements()&&null!=b._imageViewer&&(null!=b.get_itemElement()&&(lt.LTHelper.removeClass(b.get_itemElement(),a._useElementsOptions.get_itemImageLoadingClass()),lt.LTHelper.addClass(b.get_itemElement(),
a._useElementsOptions.get_itemImageLoadedClass())),b._imageViewer._internalUpdateStyles())});this.get__useElements()&&null!=this.get_itemElement()&&(lt.LTHelper.removeClass(this.get_itemElement(),a._useElementsOptions.get_itemImageLoadedClass()),lt.LTHelper.addClass(this.get_itemElement(),a._useElementsOptions.get_itemImageLoadingClass()));var j=new lt.ImageLoader;j.set_urlMode(e);j.set_url(b);j.set_tag(this);j.set_imagesHolder(a.get_imagesDiv());j.add_done(g);j.add_fail(h);j.add_always(i);this._imageViewer._onImageLoading(new lt.Controls.ImageViewerImageLoadingEventArgs(j,
this,d));null!=j&&!j.get_isWorking()&&null==j.get_element()&&null==j.get_error()&&j.run()},_image:null,get_image:function(){return this._image},set_image:function(a){this._image!==a&&this._update(a,lt.Controls._elementsHelper.getSize(a,!1),this.get_resolution(),9);return a},_element:null,get_element:function(){return this._element},set_element:function(a){this._element!==a&&this._update(a,lt.Controls._elementsHelper.getSize(a,!0),this.get_resolution(),9);return a},_canvas:null,get_canvas:function(){return this._canvas},
set_canvas:function(a){this._canvas!==a&&this._update(a,lt.LeadSizeD.get_empty(),this.get_resolution(),9);return a},_backImage:null,get_backImage:function(){return this._backImage},set_backImage:function(a){this._backImage!==a&&(this.beginChange(14),null!=this._backImage&&null!=this._imageViewer&&this._imageViewer._tryDisposeBackImage(this),this.get__useElements()&&null==a&&this._deleteItemBackImageElement(!1),this._backImage=a,this.endChange(14));return a},_canvasScale:1,get_canvasScale:function(){return this._canvasScale},
_floater:null,get_floater:function(){return this._floater},set_floater:function(a){if(this._floater!==a){var b=this.get_imageViewer(),c=lt.LeadRectD.get_empty();null!=b&&(c=b.getItemViewBounds(this,6,!1),b._doItemChanged(this,!0,11));b.setItemFloater(this,a);if(null!=b&&(b._doItemChanged(this,!1,11),c=lt.LeadRectD.unionRects(c,b.getItemViewBounds(this,6,!1)),!c.get_isEmpty())){var d=lt.Controls.ControlRegionRenderer.get_instance().get_size();c.inflate(2*d+2,2*d+2);b._nativeInvalidate(c)}}return a},
_setFloater:function(a){this._floater=a},get_hasImage:function(){return null!=this._image||null!=this._canvas||null!=this._element||!this._imageSize.get_isEmpty()},deleteImage:function(){null!=this._image&&this.set_image(null);null!=this._canvas&&this.set_canvas(null);null!=this._element&&(this._element=null);null!=this._backImage&&this.set_backImage(null)},_backImageUrl:null,get_backImageUrl:function(){return this._backImageUrl},set_backImageUrl:function(a){null!=this._imageViewer?this._updateFromImageUrl(a,
lt.LeadSizeD.create(0,0),!0):this._setBackImageUrl(a);return a},get_imageSize:function(){return this._imageSize.clone()},set_imageSize:function(a){this._updateImageSize(a,9);return a},get_loadUrlMode:function(){return this._loadUrlMode},set_loadUrlMode:function(a){return this._loadUrlMode=a},get_backImageLoadUrlMode:function(){return this._backImageLoadUrlMode},set_backImageLoadUrlMode:function(a){return this._backImageLoadUrlMode=a},get_hasFloater:function(){return null!=this._floater},deleteFloater:function(){this.set_floater(null)},
get_floaterSize:function(){return null!=this._floater?lt.LeadSizeD.create(this._floater.width,this._floater.height):lt.LeadSizeD.get_empty()},combineFloater:function(){return!1},imageRegionToFloater:function(){return!1}};Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageViewer",{get:lt.Controls.ImageViewerItem.prototype.get_imageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"rowIndex",{get:lt.Controls.ImageViewerItem.prototype.get_rowIndex,
set:lt.Controls.ImageViewerItem.prototype.set_rowIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"columnIndex",{get:lt.Controls.ImageViewerItem.prototype.get_columnIndex,set:lt.Controls.ImageViewerItem.prototype.set_columnIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"size",{get:lt.Controls.ImageViewerItem.prototype.get_size,set:lt.Controls.ImageViewerItem.prototype.set_size,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"resolution",{get:lt.Controls.ImageViewerItem.prototype.get_resolution,set:lt.Controls.ImageViewerItem.prototype.set_resolution,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"isVisible",{get:lt.Controls.ImageViewerItem.prototype.get_isVisible,set:lt.Controls.ImageViewerItem.prototype.set_isVisible,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"isEnabled",
{get:lt.Controls.ImageViewerItem.prototype.get_isEnabled,set:lt.Controls.ImageViewerItem.prototype.set_isEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"isSelected",{get:lt.Controls.ImageViewerItem.prototype.get_isSelected,set:lt.Controls.ImageViewerItem.prototype.set_isSelected,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"isHovered",{get:lt.Controls.ImageViewerItem.prototype.get_isHovered,set:lt.Controls.ImageViewerItem.prototype.set_isHovered,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"text",{get:lt.Controls.ImageViewerItem.prototype.get_text,set:lt.Controls.ImageViewerItem.prototype.set_text,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"tag",{get:lt.Controls.ImageViewerItem.prototype.get_tag,set:lt.Controls.ImageViewerItem.prototype.set_tag,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"url",{get:lt.Controls.ImageViewerItem.prototype.get_url,
set:lt.Controls.ImageViewerItem.prototype.set_url,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"transform",{get:lt.Controls.ImageViewerItem.prototype.get_transform,set:lt.Controls.ImageViewerItem.prototype.set_transform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"sizeMode",{get:lt.Controls.ImageViewerItem.prototype.get_sizeMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,
"origin",{get:lt.Controls.ImageViewerItem.prototype.get_origin,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"defaultZoomOrigin",{get:lt.Controls.ImageViewerItem.prototype.get_defaultZoomOrigin,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"flip",{get:lt.Controls.ImageViewerItem.prototype.get_flip,set:lt.Controls.ImageViewerItem.prototype.set_flip,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,
"reverse",{get:lt.Controls.ImageViewerItem.prototype.get_reverse,set:lt.Controls.ImageViewerItem.prototype.set_reverse,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"rotateAngle",{get:lt.Controls.ImageViewerItem.prototype.get_rotateAngle,set:lt.Controls.ImageViewerItem.prototype.set_rotateAngle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"scale",{get:lt.Controls.ImageViewerItem.prototype.get_scale,set:lt.Controls.ImageViewerItem.prototype.set_scale,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"scaleFactors",{get:lt.Controls.ImageViewerItem.prototype.get_scaleFactors,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"scaleFactor",{get:lt.Controls.ImageViewerItem.prototype.get_scaleFactor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"offset",{get:lt.Controls.ImageViewerItem.prototype.get_offset,set:lt.Controls.ImageViewerItem.prototype.set_offset,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"resizeOnTransform",{get:lt.Controls.ImageViewerItem.prototype.get_resizeOnTransform,set:lt.Controls.ImageViewerItem.prototype.set_resizeOnTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"clipImageToContent",{get:lt.Controls.ImageViewerItem.prototype.get_clipImageToContent,set:lt.Controls.ImageViewerItem.prototype.set_clipImageToContent,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageHorizontalAlignment",{get:lt.Controls.ImageViewerItem.prototype.get_imageHorizontalAlignment,set:lt.Controls.ImageViewerItem.prototype.set_imageHorizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageVerticalAlignment",{get:lt.Controls.ImageViewerItem.prototype.get_imageVerticalAlignment,set:lt.Controls.ImageViewerItem.prototype.set_imageVerticalAlignment,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"textHorizontalAlignment",{get:lt.Controls.ImageViewerItem.prototype.get_textHorizontalAlignment,set:lt.Controls.ImageViewerItem.prototype.set_textHorizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"textVerticalAlignment",{get:lt.Controls.ImageViewerItem.prototype.get_textVerticalAlignment,set:lt.Controls.ImageViewerItem.prototype.set_textVerticalAlignment,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"floaterTransform",{get:lt.Controls.ImageViewerItem.prototype.get_floaterTransform,set:lt.Controls.ImageViewerItem.prototype.set_floaterTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"floaterOpacity",{get:lt.Controls.ImageViewerItem.prototype.get_floaterOpacity,set:lt.Controls.ImageViewerItem.prototype.set_floaterOpacity,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,
"hasVisibleFloater",{get:lt.Controls.ImageViewerItem.prototype.get_hasVisibleFloater,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageScale",{get:lt.Controls.ImageViewerItem.prototype.get_imageScale,set:lt.Controls.ImageViewerItem.prototype.set_imageScale,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"leadIndex",{get:lt.Controls.ImageViewerItem.prototype.get_leadIndex,set:lt.Controls.ImageViewerItem.prototype.set_leadIndex,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"autoCreateCanvas",{get:lt.Controls.ImageViewerItem.prototype.get_autoCreateCanvas,set:lt.Controls.ImageViewerItem.prototype.set_autoCreateCanvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"resizeElementForView",{get:lt.Controls.ImageViewerItem.prototype.get_resizeElementForView,set:lt.Controls.ImageViewerItem.prototype.set_resizeElementForView,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"itemElement",{get:lt.Controls.ImageViewerItem.prototype.get_itemElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageElement",{get:lt.Controls.ImageViewerItem.prototype.get_imageElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"backImageElement",{get:lt.Controls.ImageViewerItem.prototype.get_backImageElement,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"textElement",{get:lt.Controls.ImageViewerItem.prototype.get_textElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageBorderElement",{get:lt.Controls.ImageViewerItem.prototype.get_imageBorderElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageClippingElement",{get:lt.Controls.ImageViewerItem.prototype.get_imageClippingElement,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageFlipElement",{get:lt.Controls.ImageViewerItem.prototype.get_imageFlipElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"flipImageElement",{get:lt.Controls.ImageViewerItem.prototype.get_flipImageElement,set:lt.Controls.ImageViewerItem.prototype.set_flipImageElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,
"reverseImageElement",{get:lt.Controls.ImageViewerItem.prototype.get_reverseImageElement,set:lt.Controls.ImageViewerItem.prototype.set_reverseImageElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"image",{get:lt.Controls.ImageViewerItem.prototype.get_image,set:lt.Controls.ImageViewerItem.prototype.set_image,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"element",{get:lt.Controls.ImageViewerItem.prototype.get_element,
set:lt.Controls.ImageViewerItem.prototype.set_element,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"canvas",{get:lt.Controls.ImageViewerItem.prototype.get_canvas,set:lt.Controls.ImageViewerItem.prototype.set_canvas,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"backImage",{get:lt.Controls.ImageViewerItem.prototype.get_backImage,set:lt.Controls.ImageViewerItem.prototype.set_backImage,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"canvasScale",{get:lt.Controls.ImageViewerItem.prototype.get_canvasScale,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"floater",{get:lt.Controls.ImageViewerItem.prototype.get_floater,set:lt.Controls.ImageViewerItem.prototype.set_floater,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"hasImage",{get:lt.Controls.ImageViewerItem.prototype.get_hasImage,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"backImageUrl",{get:lt.Controls.ImageViewerItem.prototype.get_backImageUrl,set:lt.Controls.ImageViewerItem.prototype.set_backImageUrl,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"imageSize",{get:lt.Controls.ImageViewerItem.prototype.get_imageSize,set:lt.Controls.ImageViewerItem.prototype.set_imageSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,
"loadUrlMode",{get:lt.Controls.ImageViewerItem.prototype.get_loadUrlMode,set:lt.Controls.ImageViewerItem.prototype.set_loadUrlMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"backImageLoadUrlMode",{get:lt.Controls.ImageViewerItem.prototype.get_backImageLoadUrlMode,set:lt.Controls.ImageViewerItem.prototype.set_backImageLoadUrlMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"hasFloater",{get:lt.Controls.ImageViewerItem.prototype.get_hasFloater,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerItem.prototype,"floaterSize",{get:lt.Controls.ImageViewerItem.prototype.get_floaterSize,enumerable:!0,configurable:!0});lt.Controls.ElementInsertionHelper=function(){};lt.Controls.ElementInsertionHelper._setPointerEvent=function(a,b){null!=a&&(a.style.pointerEvents=b)};lt.Controls.ElementInsertionHelper.removePointerEventsFromRoot=function(a){if(null!=a.children)for(var b=0;b<a.children.length;b++)lt.Controls.ElementInsertionHelper.removePointerEventsFromRoot(a.children[b]);
lt.Controls.ElementInsertionHelper._setPointerEvent(a,lt.Controls.ElementInsertionHelper._None)};lt.Controls.ElementInsertionHelper.forcePointerEventsFromRoot=function(a){if(null!=a.children)for(var b=0;b<a.children.length;b++)lt.Controls.ElementInsertionHelper.forcePointerEventsFromRoot(a.children[b]);lt.Controls.ElementInsertionHelper._setPointerEvent(a,lt.Controls.ElementInsertionHelper._All)};lt.Controls.ElementInsertionHelper.clearPointerEventChangesFromRoot=function(a){if(null!=a.children)for(var b=
0;b<a.children.length;b++)lt.Controls.ElementInsertionHelper.removePointerEventsFromRoot(a.children[b]);lt.Controls.ElementInsertionHelper._setPointerEvent(a,lt.Controls.ElementInsertionHelper._Clear)};lt.Controls.ElementInsertionHelper.removePointerEvents=function(a){lt.LTHelper.supportsHTMLPointerEvents&&null!=a&&a.forEach(function(a){lt.Controls.ElementInsertionHelper._setPointerEvent(a,lt.Controls.ElementInsertionHelper._None)})};lt.Controls.ElementInsertionHelper.forcePointerEvents=function(a){lt.LTHelper.supportsHTMLPointerEvents&&
null!=a&&a.forEach(function(a){lt.Controls.ElementInsertionHelper._setPointerEvent(a,lt.Controls.ElementInsertionHelper._All)})};lt.Controls.ElementInsertionHelper.clearPointerEventChanges=function(a){lt.LTHelper.supportsHTMLPointerEvents&&null!=a&&a.forEach(function(a){lt.Controls.ElementInsertionHelper._setPointerEvent(a,lt.Controls.ElementInsertionHelper._Clear)})};lt.Controls.ImageViewerItems=function(a){this._itemProps$1=[];lt.Controls.ImageViewerItems.initializeBase(this);this._imageViewer$1=
a};lt.Controls.ImageViewerItems._findNextItemInRow=function(a,b,c,d){for(var e=0,f=ss.IEnumerator.getEnumerator(a.get_items());f.moveNext();){var g=f.current;g.get_rowIndex()>e&&(e=g.get_rowIndex())}for(var b=d?b+1:b-1,h=f=null;b<=e&&0<=b&&null==f;){for(var i=a.get_items().get_count(),j=0;j<i&&null==f;j++)g=a.get_items().get_item(j),g.get_rowIndex()===b&&g.get_isVisible()&&g.get_isEnabled()&&(g.get_columnIndex()===c?f=g:null==h&&(h=g));null==f&&(d?b++:b--)}null==f&&null!=h&&(f=h);return f};lt.Controls.ImageViewerItems._findNextItemInColumn=
function(a,b,c,d){for(var e=0,f=ss.IEnumerator.getEnumerator(a.get_items());f.moveNext();){var g=f.current;g.get_columnIndex()>e&&(e=g.get_columnIndex())}for(var c=d?c+1:c-1,h=f=null;c<=e&&0<=c&&null==f;){for(var i=a.get_items().get_count(),j=0;j<i&&null==f;j++)g=a.get_items().get_item(j),g.get_columnIndex()===c&&g.get_isVisible()&&g.get_isEnabled()&&(g.get_rowIndex()===b?f=g:null==h&&(h=g));null==f&&(d?c++:c--)}null==f&&null!=h&&(f=h);return f};lt.Controls.ImageViewerItems._toArray=function(a){for(var b=
a.length,c=Array(a.length),d=0;d<b;d++)c[d]=a[d];return c};lt.Controls.ImageViewerItems.prototype={_imageViewer$1:null,get_imageViewer:function(){return this._imageViewer$1},insertItem:function(a,b){if(null==b)throw new lt.ArgumentNullException("item");var c=Type.safeCast(b,lt.Controls.ImageViewerItem);if(-1!==this.indexOf(c))throw new lt.ArgumentException("Item already added to this viewer","item");for(var d=this.get_count(),e=a;e<d;e++)this.get_item(e).set_leadIndex(e+1);c.set_leadIndex(a);lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(this._imageViewer$1.get_itemSize())||
c.set_size(this._imageViewer$1.get_itemSize());c.set_resizeOnTransform(this._imageViewer$1.get_resizeOnTransform());this._itemProps$1.insert(a,new lt.Controls._itemProps);this._saveCollectionChanged$1=!0;lt.Controls.ImageViewerItems.callBaseMethod(this,"insertItem",[a,c]);this._imageViewer$1.beginTransform();this._imageViewer$1._insertItem(c);this._imageViewer$1.endTransform();c.get_isSelected()&&this._imageViewer$1._internalOnSelectedItemsChanged();this._saveCollectionChanged$1=!1;lt.Controls.ImageViewerItems.callBaseMethod(this,
"onCollectionChanged",[this._saveArgs$1])},clearItems:function(){var a=!1;this._imageViewer$1._stopVirtulizer(!1);this._imageViewer$1.beginTransform();this._imageViewer$1.set_activeItem(null);for(var b=this.get_count(),c=0;c<b;c++){var d=Type.safeCast(this.get_item(c),lt.Controls.ImageViewerItem),a=d.get_isSelected();this._imageViewer$1._removeItem(d);d.set_leadIndex(-1)}this._itemProps$1.clear();this._saveCollectionChanged$1=!0;lt.Controls.ImageViewerItems.callBaseMethod(this,"clearItems");this._imageViewer$1._postRemoveItem(0);
this._imageViewer$1.endTransform();a&&this._imageViewer$1._internalOnSelectedItemsChanged();this._saveCollectionChanged$1=!1;lt.Controls.ImageViewerItems.callBaseMethod(this,"onCollectionChanged",[this._saveArgs$1])},removeItem:function(a){var b=Type.safeCast(this.get_item(a),lt.Controls.ImageViewerItem),c=b.get_isSelected();this._imageViewer$1.beginTransform();this._imageViewer$1._removeItem(b);this._saveCollectionChanged$1=!0;lt.Controls.ImageViewerItems.callBaseMethod(this,"removeItem",[a]);b.set_leadIndex(-1);
this._imageViewer$1._postRemoveItem(a);for(var b=this.get_count(),d=a;d<b;d++)this.get_item(d).set_leadIndex(d);this._itemProps$1.removeAt(a);this._imageViewer$1.endTransform();c&&this._imageViewer$1._internalOnSelectedItemsChanged();this._saveCollectionChanged$1=!1;lt.Controls.ImageViewerItems.callBaseMethod(this,"onCollectionChanged",[this._saveArgs$1])},indexOf:function(a){return null==a?-1:a.get_leadIndex()},get__props:function(){return this._itemProps$1},getSelected:function(){for(var a=[],b=
ss.IEnumerator.getEnumerator(this);b.moveNext();){var c=b.current;c.get_isSelected()&&a.add(c)}return lt.Controls.ImageViewerItems._toArray(a)},select:function(a){var b=!1;this._imageViewer$1.beginRender();for(var c=ss.IEnumerator.getEnumerator(this);c.moveNext();){var d=c.current,e=!1;if(null!=a)for(var f=ss.IEnumerator.getEnumerator(a);f.moveNext();)if(f.current===d){e=!0;d.get_isSelected()||(d._setSelected(!0),b=!0);break}!e&&d.get_isSelected()&&(d._setSelected(!1),b=!0)}this._imageViewer$1._internalEndUpdate(b);
b&&this._imageViewer$1._internalOnSelectedItemsChanged()},_saveCollectionChanged$1:!1,_saveArgs$1:null,onCollectionChanged:function(a){this._saveCollectionChanged$1?this._saveArgs$1=a:(lt.Controls.ImageViewerItems.callBaseMethod(this,"onCollectionChanged",[a]),this._saveArgs$1=null)},addFromImage:function(a,b){return this.addFromElement(a,b)},insertFromImage:function(a,b,c){return this.insertFromElement(a,b,c)},addFromElement:function(a,b){return this.insertFromElement(this.get_count(),a,b)},insertFromElement:function(a,
b,c){b=lt.Controls.ImageViewerItem.createFromElement(b,c);this.insert(a,b);return b},addFromCanvas:function(a,b){return this.addFromElement(a,b)},insertFromCanvas:function(a,b,c){return this.insertFromElement(a,b,c)},addFromUrl:function(a,b){return this.insertFromUrl(this.get_count(),a,b)},insertFromUrl:function(a,b,c){if(null==b)throw new lt.ArgumentNullException("url");lt.Controls.ControlsHelper.checkResolution(c,"resolution");var d=new lt.Controls.ImageViewerItem,e=d.get_loadUrlMode();d.set_loadUrlMode(lt.ImageLoaderUrlMode.imageUrl);
try{return this.insert(a,d),d._updateFromUrl(b,c),d}finally{d.set_loadUrlMode(e)}},addFromSvgUrl:function(a,b){return this.insertFromSvgUrl(this.get_count(),a,b)},insertFromSvgUrl:function(a,b,c){if(null==b)throw new lt.ArgumentNullException("url");lt.Controls.ControlsHelper.checkResolution(c,"resolution");var d=new lt.Controls.ImageViewerItem,e=d.get_loadUrlMode();d.set_loadUrlMode(lt.ImageLoaderUrlMode.ajaxXml);try{return this.insert(a,d),d._updateFromUrl(b,c),d}finally{d.set_loadUrlMode(e)}},updateImage:function(a,
b,c){this.updateElement(a,b,c)},updateElement:function(a,b,c){if(null==a)throw new lt.ArgumentNullException("item");lt.Controls.ControlsHelper.checkResolution(c,"resolution");this._imageViewer$1._getItemIndex(a,"item");var d=lt.Controls._elementsHelper.getSize(b,!0);a._update(b,d,c,9)},updateCanvas:function(a,b,c){this.updateElement(a,b,c)},updateUrl:function(a,b,c){lt.Controls.ControlsHelper.checkResolution(c,"resolution");if(null==a)throw new lt.ArgumentNullException("item");this._imageViewer$1._getItemIndex(a,
"item");a._updateFromUrl(b,lt.LeadSizeD.get_empty())}};Object.defineProperty(lt.Controls.ImageViewerItems.prototype,"imageViewer",{get:lt.Controls.ImageViewerItems.prototype.get_imageViewer,enumerable:!0,configurable:!0});lt.Controls.ImageViewerHorizontalViewLayout=function(){lt.Controls.ImageViewerHorizontalViewLayout.initializeBase(this)};lt.Controls.ImageViewerHorizontalViewLayout.prototype={get_name:function(){return"Horizontal"},_rows$1:1,get_rows:function(){return this._rows$1},set_rows:function(a){if(0>
a)throw new lt.ArgumentOutOfRangeException("Rows",a,"Must be a value greater than or equal to 0");return this._rows$1=a},updateTransform:function(a,b,c,d,e,f){if(null==a)throw new lt.ArgumentNullException("imageViewer");if(null==f)throw new lt.ArgumentNullException("itemBounds");for(var g=a.get_items(),h=a.get_itemMargin(),i=a.get_itemBorderThickness(),j=a.get_itemPadding(),k=a.get_itemSpacing(),n=h.get_left()+i+j.get_left(),m=h.get_top()+i+j.get_top(),s=j.get_right()+i+h.get_right(),h=j.get_bottom()+
i+h.get_bottom(),i=lt.LeadSizeD.create(n+s,m+h),j=g.get_count(),l=0,o=0,r=this.get_rows(),q=!lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(e)?e.get_height():0,u=a.get_itemHorizontalAlignment(),a=a.get_itemVerticalAlignment(),w=0,A=0,x=-1,z=-1,B=0,y=0,p=!1,e=[];y<j;){var t=Type.safeCast(g.get_item(y),lt.Controls.ImageViewerItem),v=t.get_size();if(!t.get_isVisible()||lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(v)||1>v.get_width()||1>v.get_height())f[y]=lt.LeadRectD.get_empty(),t.set_rowIndex(-1),
t.set_columnIndex(-1),y++;else{p=lt.LeadSizeD.create(v.get_width()*b,v.get_height()*c);v=lt.LeadRectD.create(0,0,p.get_width(),p.get_height());t.get_resizeOnTransform()&&!t.get_transform().get_isIdentity()&&(v=t.get_transform().transformRect(v),p=v.get_size());var p=lt.LeadRectD.create(0,0,p.get_width()+i.get_width(),p.get_height()+i.get_height()),C=v=0;if(!l||!r||l<r)if(v=w,C=A,p.offset(v,C),!l||l<r||p.get_bottom()<=q){f[y]=p.clone();t.set_rowIndex(l);t.set_columnIndex(o);A=p.get_bottom()+k.get_height();
-1===x&&(x=y);z=y;B++;y++;l++;p=!0;continue}t=this.alignWidths(x,z,f,u);l=new lt.Controls._layoutRowColumnInfo(x,z,t);l.itemCount=B;e.add(l);p=!1;x=-1;B=l=0;o++;A=0;t.get_isEmpty()||(w+=t.get_width()+k.get_width())}}p&&(t=this.alignWidths(x,z,f,u),l=new lt.Controls._layoutRowColumnInfo(x,z,t),l.itemCount=B,e.add(l));b=[];for(c=ss.IEnumerator.getEnumerator(e);c.moveNext();)l=c.current,g=new lt.Controls.ImageViewerViewLayoutVector,g.set_firstItemIndex(l.firstItemIndex),g.set_lastItemIndex(l.lastItemIndex),
b.add(g);this._setVectors(b);c=!1;i=e.length;if(0<i){j=b=g=0;p=e[0].bounds;p.get_isEmpty()||(g=p.get_width(),b=p.get_height());for(o=1;o<i;o++)if(p=e[o].bounds,!p.get_isEmpty()&&(lt.LeadDoubleTools.areClose(p.get_height(),b)||(p.get_height()>b&&(b=p.get_height()),c=!0),p.get_width()>g))g=p.get_width(),j=o;d&&(d=e[j].itemCount,this.set_sizeModeWidthItemCount(d),this.set_sizeModeWidth(g-(k.get_width()*(d-1)+d*(n+s))),this.set_sizeModeHeightItemCount(1),this.set_sizeModeHeight(b-(m+h)));if(c&&a)for(k=
ss.IEnumerator.getEnumerator(e);k.moveNext();)l=k.current,this.alignColumn(l.firstItemIndex,l.lastItemIndex,f,!l.bounds.get_isEmpty()?l.bounds.get_height():b,b,a)}}};Object.defineProperty(lt.Controls.ImageViewerHorizontalViewLayout.prototype,"name",{get:lt.Controls.ImageViewerHorizontalViewLayout.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerHorizontalViewLayout.prototype,"rows",{get:lt.Controls.ImageViewerHorizontalViewLayout.prototype.get_rows,set:lt.Controls.ImageViewerHorizontalViewLayout.prototype.set_rows,
enumerable:!0,configurable:!0});lt.Controls.ImageViewerSingleViewLayout=function(){lt.Controls.ImageViewerSingleViewLayout.initializeBase(this)};lt.Controls.ImageViewerSingleViewLayout.prototype={get_name:function(){return"Single"},updateTransform:function(a,b,c,d,e,f){if(null==a)throw new lt.ArgumentNullException("imageViewer");if(null==f)throw new lt.ArgumentNullException("itemBounds");for(var e=a.get_items(),g=a.get_itemMargin(),h=a.get_itemBorderThickness(),i=a.get_itemPadding(),j=g.get_left()+
h+i.get_left(),k=g.get_top()+h+i.get_top(),n=i.get_right()+h+g.get_right(),g=i.get_bottom()+h+g.get_bottom(),h=lt.LeadSizeD.create(j+n,k+g),i=e.get_count(),m=-1,s=-1,l=0,o=null;l<i;){var r=Type.safeCast(e.get_item(l),lt.Controls.ImageViewerItem),q=r.get_size();r!==a.get_activeItem()||!r.get_isVisible()||lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(q)||1>q.get_width()||1>q.get_height()?(f[l]=lt.LeadRectD.get_empty(),r.set_rowIndex(-1),r.set_columnIndex(-1)):(m=lt.LeadSizeD.create(q.get_width()*b,
q.get_height()*c),o=lt.LeadRectD.create(0,0,m.get_width(),m.get_height()),r.get_resizeOnTransform()&&!r.get_transform().get_isIdentity()&&(o=r.get_transform().transformRect(o),m=o.get_size()),o=lt.LeadRectD.create(0,0,m.get_width()+h.get_width(),m.get_height()+h.get_height()),f[l]=o.clone(),m=o.get_width(),s=o.get_height(),r.set_rowIndex(0),r.set_columnIndex(0),o=new lt.Controls.ImageViewerViewLayoutVector,o.set_firstItemIndex(l),o.set_lastItemIndex(l));l++}d&&(this.set_sizeModeWidthItemCount(1),
this.set_sizeModeWidth(m-(j+n)),this.set_sizeModeHeightItemCount(1),this.set_sizeModeHeight(s-(k+g)));a=[];a.add(o);this._setVectors(a)}};Object.defineProperty(lt.Controls.ImageViewerSingleViewLayout.prototype,"name",{get:lt.Controls.ImageViewerSingleViewLayout.prototype.get_name,enumerable:!0,configurable:!0});lt.Controls.ImageViewerVerticalViewLayout=function(){lt.Controls.ImageViewerVerticalViewLayout.initializeBase(this)};lt.Controls.ImageViewerVerticalViewLayout.prototype={get_name:function(){return"Vertical"},
_columns$1:1,get_columns:function(){return this._columns$1},set_columns:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("Columns",a,"Must be a value greater than or equal to 0");return this._columns$1=a},updateTransform:function(a,b,c,d,e,f){if(null==a)throw new lt.ArgumentNullException("imageViewer");if(null==f)throw new lt.ArgumentNullException("itemBounds");for(var g=a.get_items(),h=a.get_itemMargin(),i=a.get_itemBorderThickness(),j=a.get_itemPadding(),k=a.get_itemSpacing(),n=h.get_left()+
i+j.get_left(),m=h.get_top()+i+j.get_top(),s=j.get_right()+i+h.get_right(),h=j.get_bottom()+i+h.get_bottom(),i=lt.LeadSizeD.create(n+s,m+h),j=g.get_count(),l=0,o=0,r=this.get_columns(),q=!lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(e)?e.get_width():0,e=a.get_itemHorizontalAlignment(),u=a.get_itemVerticalAlignment(),w=0,A=0,x=-1,z=-1,B=0,y=0,p=!1,a=[];y<j;){var t=Type.safeCast(g.get_item(y),lt.Controls.ImageViewerItem),v=t.get_size();if(!t.get_isVisible()||lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(v)||
1>v.get_width()||1>v.get_height())f[y]=lt.LeadRectD.get_empty(),t.set_rowIndex(-1),t.set_columnIndex(-1),y++;else{p=lt.LeadSizeD.create(v.get_width()*b,v.get_height()*c);v=lt.LeadRectD.create(0,0,p.get_width(),p.get_height());t.get_resizeOnTransform()&&!t.get_transform().get_isIdentity()&&(v=t.get_transform().transformRect(v),p=v.get_size());var p=lt.LeadRectD.create(0,0,p.get_width()+i.get_width(),p.get_height()+i.get_height()),C=v=0;if(!l||!r||l<r)if(v=w,C=A,p.offset(v,C),!l||l<r||p.get_right()<=
q){f[y]=p.clone();t.set_rowIndex(o);t.set_columnIndex(l);w=p.get_right()+k.get_width();-1===x&&(x=y);z=y;B++;y++;l++;p=!0;continue}t=this.alignHeights(x,z,f,u);l=new lt.Controls._layoutRowColumnInfo(x,z,t);l.itemCount=B;a.add(l);p=!1;x=-1;B=l=0;o++;w=0;t.get_isEmpty()||(A+=t.get_height()+k.get_height())}}p&&(t=this.alignHeights(x,z,f,u),l=new lt.Controls._layoutRowColumnInfo(x,z,t),l.itemCount=B,a.add(l));b=[];for(c=ss.IEnumerator.getEnumerator(a);c.moveNext();)l=c.current,g=new lt.Controls.ImageViewerViewLayoutVector,
g.set_firstItemIndex(l.firstItemIndex),g.set_lastItemIndex(l.lastItemIndex),b.add(g);this._setVectors(b);c=!1;i=a.length;if(0<i){j=g=b=0;p=a[0].bounds;p.get_isEmpty()||(b=p.get_width(),g=p.get_height());for(o=1;o<i;o++)p=a[o].bounds,p.get_isEmpty()||(lt.LeadDoubleTools.areClose(p.get_width(),b)||(p.get_width()>b&&(b=p.get_width(),j=o),c=!0),p.get_height()>g&&(g=p.get_height()));d&&(d=a[j].itemCount,this.set_sizeModeWidthItemCount(d),this.set_sizeModeWidth(b-(k.get_width()*(d-1)+d*(n+s))),this.set_sizeModeHeightItemCount(1),
this.set_sizeModeHeight(g-(m+h)));if(c&&e)for(k=ss.IEnumerator.getEnumerator(a);k.moveNext();)l=k.current,this.alignRow(l.firstItemIndex,l.lastItemIndex,f,!l.bounds.get_isEmpty()?l.bounds.get_width():b,b,e)}}};Object.defineProperty(lt.Controls.ImageViewerVerticalViewLayout.prototype,"name",{get:lt.Controls.ImageViewerVerticalViewLayout.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerVerticalViewLayout.prototype,"columns",{get:lt.Controls.ImageViewerVerticalViewLayout.prototype.get_columns,
set:lt.Controls.ImageViewerVerticalViewLayout.prototype.set_columns,enumerable:!0,configurable:!0});lt.Controls.ImageViewerViewLayoutVector=function(){};lt.Controls.ImageViewerViewLayoutVector.prototype={_firstItemIndex:0,get_firstItemIndex:function(){return this._firstItemIndex},set_firstItemIndex:function(a){return this._firstItemIndex=a},_lastItemIndex:0,get_lastItemIndex:function(){return this._lastItemIndex},set_lastItemIndex:function(a){return this._lastItemIndex=a}};Object.defineProperty(lt.Controls.ImageViewerViewLayoutVector.prototype,
"firstItemIndex",{get:lt.Controls.ImageViewerViewLayoutVector.prototype.get_firstItemIndex,set:lt.Controls.ImageViewerViewLayoutVector.prototype.set_firstItemIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerViewLayoutVector.prototype,"lastItemIndex",{get:lt.Controls.ImageViewerViewLayoutVector.prototype.get_lastItemIndex,set:lt.Controls.ImageViewerViewLayoutVector.prototype.set_lastItemIndex,enumerable:!0,configurable:!0});lt.Controls.ImageViewerViewLayout=function(){this._vectors=
[]};lt.Controls.ImageViewerViewLayout.prototype={toString:function(){return this.get_name()},_sizeModeWidth:0,get_sizeModeWidth:function(){return this._sizeModeWidth},set_sizeModeWidth:function(a){return this._sizeModeWidth=a},_sizeModeWidthItemCount:0,get_sizeModeWidthItemCount:function(){return this._sizeModeWidthItemCount},set_sizeModeWidthItemCount:function(a){return this._sizeModeWidthItemCount=a},_sizeModeHeight:0,get_sizeModeHeight:function(){return this._sizeModeHeight},set_sizeModeHeight:function(a){return this._sizeModeHeight=
a},_sizeModeHeightItemCount:0,get_sizeModeHeightItemCount:function(){return this._sizeModeHeightItemCount},set_sizeModeHeightItemCount:function(a){return this._sizeModeHeightItemCount=a},_vectors:null,get_vectors:function(){return this._vectors},_setVectors:function(a){this._vectors=a},alignHeights:function(a,b,c,d){if(null==c||!c.length||-1===a||-1===b)return lt.LeadRectD.get_empty();if(a===b)return c[a].clone();for(var e=-1,f=a;f<=b;f++){var g=c[f];g.get_isEmpty()||(e=Math.max(e,g.get_height()))}g=
lt.LeadRectD.get_empty();for(f=a;f<=b;f++)a=c[f],lt.LeadDoubleTools.lessThan(a.get_height(),e)&&(1===d?a.set_y(a.get_y()+(e-a.get_height())/2):2===d&&a.set_y(a.get_y()+(e-a.get_height())),c[f]=a),g=g.get_isEmpty()?a.clone():lt.LeadRectD.unionRects(g,a);return g},alignWidths:function(a,b,c,d){if(null==c||!c.length||-1===a||-1===b)return lt.LeadRectD.get_empty();if(a===b)return c[a].clone();for(var e=-1,f=a;f<=b;f++){var g=c[f];g.get_isEmpty()||(e=Math.max(e,g.get_width()))}g=lt.LeadRectD.get_empty();
for(f=a;f<=b;f++)a=c[f],lt.LeadDoubleTools.lessThan(a.get_width(),e)&&(1===d?a.set_x(a.get_x()+(e-a.get_width())/2):2===d&&a.set_x(a.get_x()+(e-a.get_width())),c[f]=a),g=g.get_isEmpty()?a.clone():lt.LeadRectD.unionRects(g,a);return g},alignRow:function(a,b,c,d,e,f){if(!(null==c||!c.length||!f||-1===a||-1===b||lt.LeadDoubleTools.areClose(d,e)))for(d=1===f?(e-d)/2:e-d;a<=b;a++)e=c[a],e.get_isEmpty()||(e.set_x(e.get_x()+d),c[a]=e)},alignColumn:function(a,b,c,d,e,f){if(!(null==c||!c.length||!f||-1===
a||-1===b||lt.LeadDoubleTools.areClose(d,e)))for(d=1===f?(e-d)/2:e-d;a<=b;a++)e=c[a],e.get_isEmpty()||(e.set_y(e.get_y()+d),c[a]=e)}};Object.defineProperty(lt.Controls.ImageViewerViewLayout.prototype,"sizeModeWidth",{get:lt.Controls.ImageViewerViewLayout.prototype.get_sizeModeWidth,set:lt.Controls.ImageViewerViewLayout.prototype.set_sizeModeWidth,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerViewLayout.prototype,"sizeModeWidthItemCount",{get:lt.Controls.ImageViewerViewLayout.prototype.get_sizeModeWidthItemCount,
set:lt.Controls.ImageViewerViewLayout.prototype.set_sizeModeWidthItemCount,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerViewLayout.prototype,"sizeModeHeight",{get:lt.Controls.ImageViewerViewLayout.prototype.get_sizeModeHeight,set:lt.Controls.ImageViewerViewLayout.prototype.set_sizeModeHeight,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerViewLayout.prototype,"sizeModeHeightItemCount",{get:lt.Controls.ImageViewerViewLayout.prototype.get_sizeModeHeightItemCount,
set:lt.Controls.ImageViewerViewLayout.prototype.set_sizeModeHeightItemCount,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.ImageViewerViewLayout.prototype,"vectors",{get:lt.Controls.ImageViewerViewLayout.prototype.get_vectors,enumerable:!0,configurable:!0});lt.Controls.InteractiveService=function(){this._userControls=[];this._origin=lt.LeadPointD.create(0,0);this._lastPosition=lt.LeadPointD.create(0,0);this._redundantPosition=lt.LeadPointD.create(0,0);this._dragDirection=0;this._lastTapTime=
lt.Controls.ControlsHelper.getDateTimeNow();this._dragStartOrigin=lt.LeadPointD.get_empty();this._mouseWheelThrottleTime=this._holdIntervalId=-1};lt.Controls.InteractiveService.create=function(a,b,c){if(null==b)throw new lt.ArgumentNullException("eventsSource");if(null==c)throw new lt.ArgumentNullException("eventsTarget");var d=new lt.Controls.InteractiveService;d.createControl(a,b,c);return d};lt.Controls.InteractiveService.registerGlobalModifierKeys=function(){lt.Controls._windowModifierKeyHelper.registerGlobalModifierKeys()};
lt.Controls.InteractiveService.deregisterGlobalModifierKeys=function(){lt.Controls._windowModifierKeyHelper.deregisterGlobalModifierKeys()};lt.Controls.InteractiveService.get_modifierKeys=function(){return lt.Controls._windowModifierKeyHelper.get_modifierKeys()};lt.Controls.InteractiveService._getMouseButton=function(a){switch(a){case 0:return 1;case 2:return 2;case 1:return 4;default:return 0}};lt.Controls.InteractiveService._getControlPosition=function(a,b){return lt.LTHelper.getPosition(a,b)};
lt.Controls.InteractiveService.checkKeyModifier=function(a,b){if(!b)return!1;switch(b){case 262144:return a.altKey;case 65536:return a.shiftKey;case 131072:return a.ctrlKey;case 1:return 1===lt.Controls.InteractiveService._getMouseButton(a.button);case 2:return 2===lt.Controls.InteractiveService._getMouseButton(a.button);case 4:return 4===lt.Controls.InteractiveService._getMouseButton(a.button);default:return!1}};lt.Controls.InteractiveService.prototype={_destroy:function(){this._isListening&&this.stopListening();
this._eventsTarget=this._eventsSource=this._owner=null;this._userControls.clear();this._userControls=null},createControl:function(a,b,c){this._owner=a;this._eventsSource=b;this._eventsTarget=c;this._targetOffset=lt.Controls.InteractiveService._getControlPosition(this._eventsTarget,null);this._initialize()},_owner:null,get_owner:function(){return this._owner},_eventsSource:null,get_eventsSource:function(){return this._eventsSource},_eventsTarget:null,get_eventsTarget:function(){return this._eventsTarget},
set_eventsTarget:function(a){if(null==a)throw new lt.ArgumentNullException("EventsTarget");this._eventsTarget!==a&&(this._eventsTarget=a,this._targetOffset=lt.Controls.InteractiveService._getControlPosition(this._eventsTarget,null));return a},_hitTestBuffer:0,get_hitTestBuffer:function(){return this._hitTestBuffer},set_hitTestBuffer:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("HitTestBuffer",a,"Must be a value greater than or equal to 0");return this._hitTestBuffer=a},_targetOffset:null,
get_targetOffset:function(){return this._targetOffset},_isListening:!1,get_isListening:function(){return this._isListening},startListening:function(){if(this._isListening)throw new lt.InvalidOperationException("Interactive service is already listening");this._doStartListening();this._isListening=!0},stopListening:function(){this._isListening&&(this._doStopListening(),this._isListening=!1)},_tapOnDown:!1,get_tapOnDown:function(){return this._tapOnDown},set_tapOnDown:function(a){return this._tapOnDown=
a},_enableHold:!1,get_enableHold:function(){return this._enableHold},set_enableHold:function(a){a!==this._enableHold&&(this._enableHold=a,this._doEnableHold());return a},_holdDelay:1100,get_holdDelay:function(){return this._holdDelay},set_holdDelay:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("HoldDelay",a,"Must be a value greater than or equal to 0");return this._holdDelay=a},_dragStartsOnDown:!0,get_dragStartsOnDown:function(){return this._dragStartsOnDown},set_dragStartsOnDown:function(a){return this._dragStartsOnDown=
a},_pinchStartsOnDown:!0,get_pinchStartsOnDown:function(){return this._pinchStartsOnDown},set_pinchStartsOnDown:function(a){return this._pinchStartsOnDown=a},_enableMouseWheel:!0,get_enableMouseWheel:function(){return this._enableMouseWheel},set_enableMouseWheel:function(a){return this._enableMouseWheel=a},_doubleTapDelay:500,get_doubleTapDelay:function(){return this._doubleTapDelay},set_doubleTapDelay:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("DoubleTapDelay",a,"Must be a value greater than or equal to 0");
return this._doubleTapDelay=a},_cancelOnEscape:!0,get_cancelOnEscape:function(){return this._cancelOnEscape},set_cancelOnEscape:function(a){return this._cancelOnEscape=a},add_move:function(a){this.__move=ss.Delegate.combine(this.__move,a)},remove_move:function(a){this.__move=ss.Delegate.remove(this.__move,a)},__move_handler_get:function(){null==this.__move_handler&&(this.__move_handler=ss.EventHandler.create(this,this.add_move,this.remove_move));return this.__move_handler},__move:null,__move_handler:null,
onMove:function(a){null!=this.__move&&this.__move(this,a)},add_tap:function(a){this.__tap=ss.Delegate.combine(this.__tap,a)},remove_tap:function(a){this.__tap=ss.Delegate.remove(this.__tap,a)},__tap_handler_get:function(){null==this.__tap_handler&&(this.__tap_handler=ss.EventHandler.create(this,this.add_tap,this.remove_tap));return this.__tap_handler},__tap:null,__tap_handler:null,onTap:function(a){null!=this.__tap&&this.__tap(this,a)},add_hold:function(a){this.__hold=ss.Delegate.combine(this.__hold,
a)},remove_hold:function(a){this.__hold=ss.Delegate.remove(this.__hold,a)},__hold_handler_get:function(){null==this.__hold_handler&&(this.__hold_handler=ss.EventHandler.create(this,this.add_hold,this.remove_hold));return this.__hold_handler},__hold:null,__hold_handler:null,onHold:function(a){null!=this.__hold&&this.__hold(this,a)},add_doubleTap:function(a){this.__doubleTap=ss.Delegate.combine(this.__doubleTap,a)},remove_doubleTap:function(a){this.__doubleTap=ss.Delegate.remove(this.__doubleTap,a)},
__doubleTap_handler_get:function(){null==this.__doubleTap_handler&&(this.__doubleTap_handler=ss.EventHandler.create(this,this.add_doubleTap,this.remove_doubleTap));return this.__doubleTap_handler},__doubleTap:null,__doubleTap_handler:null,onDoubleTap:function(a){null!=this.__doubleTap&&this.__doubleTap(this,a)},add_dragStarted:function(a){this.__dragStarted=ss.Delegate.combine(this.__dragStarted,a)},remove_dragStarted:function(a){this.__dragStarted=ss.Delegate.remove(this.__dragStarted,a)},__dragStarted_handler_get:function(){null==
this.__dragStarted_handler&&(this.__dragStarted_handler=ss.EventHandler.create(this,this.add_dragStarted,this.remove_dragStarted));return this.__dragStarted_handler},__dragStarted:null,__dragStarted_handler:null,onDragStarted:function(a){null!=this.__dragStarted&&this.__dragStarted(this,a)},add_dragDelta:function(a){this.__dragDelta=ss.Delegate.combine(this.__dragDelta,a)},remove_dragDelta:function(a){this.__dragDelta=ss.Delegate.remove(this.__dragDelta,a)},__dragDelta_handler_get:function(){null==
this.__dragDelta_handler&&(this.__dragDelta_handler=ss.EventHandler.create(this,this.add_dragDelta,this.remove_dragDelta));return this.__dragDelta_handler},__dragDelta:null,__dragDelta_handler:null,onDragDelta:function(a){null!=this.__dragDelta&&this.__dragDelta(this,a)},add_dragCompleted:function(a){this.__dragCompleted=ss.Delegate.combine(this.__dragCompleted,a)},remove_dragCompleted:function(a){this.__dragCompleted=ss.Delegate.remove(this.__dragCompleted,a)},__dragCompleted_handler_get:function(){null==
this.__dragCompleted_handler&&(this.__dragCompleted_handler=ss.EventHandler.create(this,this.add_dragCompleted,this.remove_dragCompleted));return this.__dragCompleted_handler},__dragCompleted:null,__dragCompleted_handler:null,onDragCompleted:function(a){null!=this.__dragCompleted&&this.__dragCompleted(this,a)},add_keyDown:function(a){this.__keyDown=ss.Delegate.combine(this.__keyDown,a)},remove_keyDown:function(a){this.__keyDown=ss.Delegate.remove(this.__keyDown,a)},__keyDown_handler_get:function(){null==
this.__keyDown_handler&&(this.__keyDown_handler=ss.EventHandler.create(this,this.add_keyDown,this.remove_keyDown));return this.__keyDown_handler},__keyDown:null,__keyDown_handler:null,onKeyDown:function(a){null!=this.__keyDown&&this.__keyDown(this,a)},add_keyUp:function(a){this.__keyUp=ss.Delegate.combine(this.__keyUp,a)},remove_keyUp:function(a){this.__keyUp=ss.Delegate.remove(this.__keyUp,a)},__keyUp_handler_get:function(){null==this.__keyUp_handler&&(this.__keyUp_handler=ss.EventHandler.create(this,
this.add_keyUp,this.remove_keyUp));return this.__keyUp_handler},__keyUp:null,__keyUp_handler:null,onKeyUp:function(a){null!=this.__keyUp&&this.__keyUp(this,a)},add_pinchStarted:function(a){this.__pinchStarted=ss.Delegate.combine(this.__pinchStarted,a)},remove_pinchStarted:function(a){this.__pinchStarted=ss.Delegate.remove(this.__pinchStarted,a)},__pinchStarted_handler_get:function(){null==this.__pinchStarted_handler&&(this.__pinchStarted_handler=ss.EventHandler.create(this,this.add_pinchStarted,this.remove_pinchStarted));
return this.__pinchStarted_handler},__pinchStarted:null,__pinchStarted_handler:null,onPinchStarted:function(a){null!=this.__pinchStarted&&this.__pinchStarted(this,a)},add_pinchDelta:function(a){this.__pinchDelta=ss.Delegate.combine(this.__pinchDelta,a)},remove_pinchDelta:function(a){this.__pinchDelta=ss.Delegate.remove(this.__pinchDelta,a)},__pinchDelta_handler_get:function(){null==this.__pinchDelta_handler&&(this.__pinchDelta_handler=ss.EventHandler.create(this,this.add_pinchDelta,this.remove_pinchDelta));
return this.__pinchDelta_handler},__pinchDelta:null,__pinchDelta_handler:null,onPinchDelta:function(a){null!=this.__pinchDelta&&this.__pinchDelta(this,a)},add_pinchCompleted:function(a){this.__pinchCompleted=ss.Delegate.combine(this.__pinchCompleted,a)},remove_pinchCompleted:function(a){this.__pinchCompleted=ss.Delegate.remove(this.__pinchCompleted,a)},__pinchCompleted_handler_get:function(){null==this.__pinchCompleted_handler&&(this.__pinchCompleted_handler=ss.EventHandler.create(this,this.add_pinchCompleted,
this.remove_pinchCompleted));return this.__pinchCompleted_handler},__pinchCompleted:null,__pinchCompleted_handler:null,onPinchCompleted:function(a){null!=this.__pinchCompleted&&this.__pinchCompleted(this,a)},_isDragging:!1,_dragStartedEventFired:!1,_dragStartTime:0,_workMouseButton:0,_isDown:!1,_dragDeltaFired:!1,_dragDirectionCalculated:!1,_fireHoldEvent:!1,_doDragStarted:function(a,b){this._isDragging=this._dragStartedEventFired=!0;this._dragStartTime=lt.Controls.ControlsHelper.getDateTimeNow();
var c=new lt.Controls.InteractiveDragStartedEventArgs;c.set_mouseButton(this._workMouseButton);c.set_nativeEvent(a);c.set_origin(this._origin);c.set_position(b);c.set_change(lt.LeadPointD.create(this._lastPosition.get_x()-b.get_x(),this._lastPosition.get_y()-b.get_y()));this.onDragStarted(c);this._dragDeltaFired=!1},_completeDrag:function(a,b){if(this._isDragging&&this._dragStartedEventFired){this._isDragging=this._dragStartedEventFired=!1;var c=lt.LeadPointD.create(this._lastPosition.get_x()-this._origin.get_x(),
this._lastPosition.get_y()-this._origin.get_y()),d=lt.Controls.ControlsHelper.getDateTimeNow(),e=Math.max(lt.Controls.ControlsHelper.getTimeSpan(d,this._dragStartTime),1),e=lt.LeadPointD.create(1E3*c.get_x()/(1+e),1E3*c.get_y()/(1+e));this._dragStartTime=d;d=new lt.Controls.InteractiveDragCompletedEventArgs;d.set_mouseButton(this._workMouseButton);d.set_nativeEvent(a);d.set_origin(this._origin);d.set_position(this._lastPosition);d.set_change(c);d.set_direction(this._dragDirection);d.set_velocity(e);
d.set_isCanceled(b);this.onDragCompleted(d);this._dragDirectionCalculated=!1;this._dragDirection=0}},_doTapDoubleTap:function(a,b){var c=new lt.Controls.InteractiveEventArgs;c.set_mouseButton(this._workMouseButton);c.set_nativeEvent(a.originalEvent);c.set_origin(a.points[0]);c.set_position(a.points[0]);var d=b;if(!d&&this.get__isManualDoubleTap()){var e=lt.Controls.ControlsHelper.getDateTimeNow();lt.Controls.ControlsHelper.getTimeSpan(e,this._lastTapTime)<=this.get_doubleTapDelay()&&(d=!0);this._lastTapTime=
e}if(d)this.onDoubleTap(c);else this.onTap(c)},_doMove:function(a){var b=new lt.Controls.InteractiveEventArgs;b.set_mouseButton(this._workMouseButton);b.set_nativeEvent(a.originalEvent);b.set_origin(a.points[0]);b.set_position(a.points[0]);this._lastTapTime=-this.get_doubleTapDelay();this.onMove(b)},_doFireHoldEvent:function(a){this._stopWorking(a,!0,!1,!0);var b=new lt.Controls.InteractiveEventArgs;b.set_mouseButton(this._workMouseButton);b.set_nativeEvent(a);b.set_origin(this._origin);b.set_position(this._origin);
this._fireHoldEvent&&(this.onHold(b),this._fireHoldEvent=!1)},_stopWorking:function(a,b,c,d){this._clearHoldInterval();c&&this._fireHoldEvent&&(this._fireHoldEvent=!1);!this._stopPinching(a,d)&&this._isDragging&&this._completeDrag(a,d);this._isDown&&!b&&(this._isDown=!1)},get_userControls:function(){return this._userControls},_msPointerEnabled:!1,_initialize:function(){if((this._msPointerEnabled=lt.LTHelper.msPointerEnabled)&&"MSGesture"in window)this._msPinchGesture=new MSGesture;lt.Controls._windowInteractiveServiceHelper.add(this);
this._processMSGestureChange_Delegate=ss.Delegate.create(this,this._processMSGestureChange);this._processMSGestureEnd_Delegate=ss.Delegate.create(this,this._processMSGestureEnd);this._processContextMenu_Delegate=ss.Delegate.create(this,this._processContextMenu);this._processDragStart_Delegate=ss.Delegate.create(this,this._processDragStart);this._processDragEnd_Delegate=ss.Delegate.create(this,this._processDragEnd)},_listenGlobal_MSPointer:!1,_listenGlobal_Touch:!1,_listenGlobal_Mouse:!1,dispose:function(){lt.Controls._windowInteractiveServiceHelper.remove(this);
this._destroy();this._processDragEnd_Delegate=this._processDragStart_Delegate=this._processContextMenu_Delegate=this._processMSGestureEnd_Delegate=this._processMSGestureChange_Delegate=null;this._listenGlobal_ProcessSelectStart=this._listenGlobal_ProcessResize=this._listenGlobal_ProcessMouseWheel=this._listenGlobal_ProcessDrag=this._listenGlobal_Mouse=this._listenGlobal_Touch=this._listenGlobal_MSPointer=!1;this._multiTouchLastPosition=this._multiTouchStartPosition=null},_msPinchGesture:null,_getMSPinchGesture:function(){if(null!=
this._msPinchGesture&&null==this._msPinchGesture.target){if(null==this._eventsTarget)return null;this._msPinchGesture.target=this._eventsTarget}return this._msPinchGesture},_listenGlobal_ProcessResize:!1,_global_ProcessResize:function(){if(this._listenGlobal_ProcessResize)this.onSizeChanged()},_window_scroll_recently:!1,_global_ProcessScroll:function(){this._window_scroll_recently=!0},_checkWindowScroll:function(){this._window_scroll_recently&&(this.onSizeChanged(),this._window_scroll_recently=!1)},
_listenGlobal_KeyDown:!1,_global_ProcessKeyDown:function(a){if(this._listenGlobal_KeyDown){this.get_cancelOnEscape()&&27===a.keyCode&&this._stopWorking(a,!1,!0,!0);var b=new lt.Controls.InteractiveKeyEventArgs;b.set_nativeEvent(a);b.set_keyCode(a.keyCode);this.onKeyDown(b)}},_keyDownManual:function(a,b){var c=new lt.Controls.InteractiveKeyEventArgs;c.set_nativeEvent(a);c.set_keyCode(b);this.onKeyDown(c)},_listenGlobal_KeyUp:!1,_global_ProcessKeyUp:function(a){if(this._listenGlobal_KeyUp){var b=new lt.Controls.InteractiveKeyEventArgs;
b.set_nativeEvent(a);b.set_keyCode(a.keyCode);this.onKeyUp(b)}},_keyUpManual:function(a,b){var c=new lt.Controls.InteractiveKeyEventArgs;c.set_nativeEvent(a);c.set_keyCode(b);this.onKeyUp(c)},_dragStartCounter:0,_enableDragStart:function(a){a?this._dragStartCounter++:0<this._dragStartCounter&&this._dragStartCounter--},_processDragStart_Delegate:null,_processDragStart:function(a){if(1>this._dragStartCounter)a.preventDefault();else{var b=new lt.Controls._serviceEventData;this._checkWindowScroll();b.fill(this,
a,this._targetOffset,this._lastPosition);if(this._isOnTarget(b))if(this._stopWorking(a,!1,!0,!0),0<=b.pointCount){b=b.points[0].clone();this._dragStartOrigin=b.clone();var c=new lt.Controls.InteractiveDragStartedEventArgs;c.set_mouseButton(1);c.set_nativeEvent(a);c.set_origin(b);c.set_position(b);c.set_change(lt.LeadPointD.create(0,0));this.onDragStarted(c);c.get_isHandled()||a.preventDefault()}else a.preventDefault();else a.preventDefault()}},_processDragEnd_Delegate:null,_processDragEnd:function(a){if(1>
this._dragStartCounter)a.preventDefault();else{var b=new lt.Controls._serviceEventData;b.fill(this,a,this._targetOffset,this._lastPosition);if(0<=b.pointCount){var b=b.points[0].clone(),c=new lt.Controls.InteractiveDragCompletedEventArgs;c.set_mouseButton(1);c.set_nativeEvent(a);c.set_origin(this._dragStartOrigin);c.set_position(b);c.set_change(lt.LeadPointD.create(0,0));c.set_direction(1);c.set_velocity(lt.LeadPointD.create(0,0));c.set_isMouseWheel(!0);this.onDragCompleted(c)}}},_contextMenuEventAttached:!1,
_preventContextMenu:!1,get_preventContextMenu:function(){return this._preventContextMenu},set_preventContextMenu:function(a){this._preventContextMenu=a;if(lt.LTHelper.device===lt.LTDevice.desktop&&this._isListening&&null!=this._eventsSource&&(this._contextMenuEventAttached&&!this._preventContextMenu&&(lt.Controls._eventHelper.removeEventListener(this._eventsSource,"contextmenu",this._processContextMenu_Delegate),this._msPointerEnabled&&lt.Controls._eventHelper.removeEventListener(this._eventsSource,
"MSGestureHold",this._processContextMenu_Delegate),this._contextMenuEventAttached=!1),!this._contextMenuEventAttached&&this._preventContextMenu))lt.Controls._eventHelper.addEventListener(this._eventsSource,"contextmenu",this._processContextMenu_Delegate),this._msPointerEnabled&&lt.Controls._eventHelper.addEventListener(this._eventsSource,"MSGestureHold",this._processContextMenu_Delegate),this._contextMenuEventAttached=!0;return a},_enableSelection:!0,get_enableSelection:function(){return this._enableSelection},
set_enableSelection:function(a){return this._enableSelection=a},_doStartListening:function(){this._listenGlobal_ProcessSelectStart=!0;null!=this._multiTouchStartPosition&&(this._multiTouchStartPosition=null);null!=this._multiTouchLastPosition&&(this._multiTouchLastPosition=null);this._msPointerEnabled&&(null!=this._msPinchGesture&&(this._msPinchGesture.target=this._eventsTarget),this._listenGlobal_MSPointer=!0,lt.Controls._eventHelper.addEventListener(this._eventsSource,"MSGestureChange",this._processMSGestureChange_Delegate),
lt.Controls._eventHelper.addEventListener(this._eventsSource,"MSGestureEnd",this._processMSGestureEnd_Delegate));lt.LTHelper.browser===lt.LTBrowser.edge&&this._msPointerEnabled&&(this._eventsSource.style.touchAction="none",this._eventsSource.style.msTouchAction="none",this._eventsSource.style["touch-action"]="none",this._eventsSource.style["-ms-touch-action"]="none");lt.LTHelper.supportsTouch&&!this._msPointerEnabled&&(this._listenGlobal_Touch=!0);lt.LTHelper.supportsMouse&&(this._msPointerEnabled||
(this._listenGlobal_Mouse=!0),this._listenGlobal_ProcessMouseWheel=this._listenGlobal_ProcessDrag=!0);if(lt.LTHelper.browser===lt.LTBrowser.firefox&&lt.LTHelper.device!==lt.LTDevice.desktop||lt.LTHelper.OS===lt.LTOS.mac)this._preventContextMenu=!0;this._preventContextMenu&&(lt.Controls._eventHelper.addEventListener(this._eventsSource,"contextmenu",this._processContextMenu_Delegate),this._msPointerEnabled&&lt.Controls._eventHelper.addEventListener(this._eventsSource,"MSGestureHold",this._processContextMenu_Delegate),
this._contextMenuEventAttached=!0);this._listenGlobal_KeyUp=this._listenGlobal_KeyDown=!0;lt.Controls._eventHelper.addEventListener(this._eventsSource,"dragstart",this._processDragStart_Delegate);lt.Controls._eventHelper.addEventListener(this._eventsSource,"dragend",this._processDragEnd_Delegate);Type.canCast(this._owner,lt.Controls.ImageViewer)||(this._listenGlobal_ProcessResize=!0)},_doStopListening:function(){-1!==this._holdIntervalId&&(clearInterval(this._holdIntervalId),this._holdIntervalId=
-1);null!=this._multiTouchStartPosition&&(this._multiTouchStartPosition=null);null!=this._multiTouchLastPosition&&(this._multiTouchLastPosition=null);this._listenGlobal_ProcessSelectStart=!1;this._msPointerEnabled&&(null!=this._msPinchGesture&&this._msPinchGesture.stop(),this._listenGlobal_MSPointer=!1,lt.Controls._eventHelper.removeEventListener(this._eventsSource,"MSGestureChange",this._processMSGestureChange_Delegate),lt.Controls._eventHelper.removeEventListener(this._eventsSource,"MSGestureEnd",
this._processMSGestureEnd_Delegate));lt.LTHelper.supportsTouch&&!this._msPointerEnabled&&(this._listenGlobal_Touch=!1);lt.LTHelper.browser===lt.LTBrowser.edge&&this._msPointerEnabled&&(this._eventsSource.style.touchAction="",this._eventsSource.style.msTouchAction="",this._eventsSource.style["touch-action"]="",this._eventsSource.style["-ms-touch-action"]="");lt.LTHelper.supportsMouse&&(this._msPointerEnabled||(this._listenGlobal_Mouse=!1),this._listenGlobal_ProcessMouseWheel=this._listenGlobal_ProcessDrag=
!1);this._contextMenuEventAttached&&(lt.Controls._eventHelper.removeEventListener(this._eventsSource,"contextmenu",this._processContextMenu_Delegate),this._msPointerEnabled&&lt.Controls._eventHelper.removeEventListener(this._eventsSource,"MSGestureHold",this._processContextMenu_Delegate),this._contextMenuEventAttached=!1);this._listenGlobal_KeyUp=this._listenGlobal_KeyDown=!1;lt.Controls._eventHelper.removeEventListener(this._eventsSource,"dragstart",this._processDragStart_Delegate);lt.Controls._eventHelper.removeEventListener(this._eventsSource,
"dragend",this._processDragEnd_Delegate);this._listenGlobal_ProcessResize=!1},onSizeChanged:function(){this._targetOffset=lt.Controls.InteractiveService._getControlPosition(this._eventsTarget,null)},_multiTouchStartPosition:null,_multiTouchLastPosition:null,_startPinchEventFired:!1,_pinchStartDistance:1,_pinchStartAngle:0,_doEnableHold:function(){},_processContextMenu_Delegate:null,_processContextMenu:function(a){if(lt.LTHelper.OS!==lt.LTOS.mac||a.ctrlKey)a.preventDefault(),a.stopImmediatePropagation()},
_listenGlobal_ProcessSelectStart:!1,_global_ProcessSelectStart:function(a){this._listenGlobal_ProcessSelectStart&&(this._enableSelection||a.preventDefault())},get__isManualDoubleTap:function(){return!0},_global_ProcessTouchStart:function(a){this._listenGlobal_Touch&&this._processDown(a)},_global_ProcessMSPointerDown:function(a){this._listenGlobal_MSPointer&&this._processDown(a)},_global_ProcessMouseDown:function(a){this._listenGlobal_Mouse&&this._processDown(a)},_processDown:function(a){var b=new lt.Controls._serviceEventData;
this._checkWindowScroll();b.fill(this,a,this._targetOffset,this._lastPosition);this._msPointerEnabled&&a.target.msSetPointerCapture&&a.target.msSetPointerCapture(a.pointerId);this._isOnTarget(b)&&(b.isTouchEvent&&(lt.LTHelper.OS===lt.LTOS.android||lt.LTHelper.browser===lt.LTBrowser.chrome)&&a.preventDefault(),this._stopWorking(a,!1,!0,!0),this._startPinchEventFired=this._dragStartedEventFired=!1,this._isDown=!0,this._enableHold&&(this._fireHoldEvent=!0),this._origin=b.points[0].clone(),this._workMouseButton=
b.mouseButton,this._holdIntervalId=setInterval(ss.Delegate.create(this,function(){if(this._holdIntervalId!==-1){clearInterval(this._holdIntervalId);this._holdIntervalId=-1}this._fireHoldEvent&&this._doFireHoldEvent(a)}),this.get_holdDelay()),b.isTouchEvent&&1<b.pointCount?(this._multiTouchStartPosition=b.points.clone(),this._multiTouchLastPosition=this._multiTouchStartPosition.clone(),this._pinchStartsOnDown&&this._doPinchStart(a,this._multiTouchStartPosition)):(this._lastPosition=b.points[0],this._dragStartsOnDown&&
(this._doDragStarted(a,this._lastPosition),this._dragDeltaFired=!1)),this._tapOnDown&&this._doTapDoubleTap(b,!1),lt.LTHelper.OS===lt.LTOS.iOS&&lt.LTHelper.browser===lt.LTBrowser.safari&&"touchstart"===a.type&&1===b.pointCount&&a.preventDefault())},_global_ProcessTouchMove:function(a){this._listenGlobal_Touch&&this._processMove(a)},_global_ProcessMSPointerMove:function(a){this._listenGlobal_MSPointer&&this._processMove(a)},_global_ProcessMouseMove:function(a){this._listenGlobal_Mouse&&this._processMove(a)},
_listenGlobal_ProcessDrag:!1,_global_ProcessDrag:function(a){this._listenGlobal_ProcessDrag&&this._processMove(a)},_processMove:function(a){var b=new lt.Controls._serviceEventData;b.fill(this,a,this._targetOffset,this._lastPosition);var c="drag"===a.type,d=this._isOnTarget(b);if(!c||d)b.isTouchEvent&&d&&!(1===b.pointCount&&"touchmove"===a.type&&lt.LTHelper.browser===lt.LTBrowser.chrome)&&a.preventDefault(),c=b.points[0].clone(),1===b.pointCount&&(!(this._lastPosition.get_x()-c.get_x())&&!(this._lastPosition.get_y()-
c.get_y())||(this._redundantPosition.get_x()||this._redundantPosition.get_y())&&c.get_x()===this._redundantPosition.get_x()&&c.get_y()===this._redundantPosition.get_y())||(this._fireHoldEvent=!1,1<b.pointCount?(this._multiTouchLastPosition=b.points.clone(),!this._pinchStartsOnDown&&!this._startPinchEventFired?(this._startPinchEventFired=!0,this._multiTouchStartPosition=this._multiTouchLastPosition.clone(),this._doPinchStart(a,this._multiTouchStartPosition)):null!=this._multiTouchStartPosition&&(d=
new lt.Controls.InteractivePinchDeltaEventArgs,d.set_mouseButton(this._workMouseButton),d.set_nativeEvent(a),this._calculatePinchDelta(d,this._multiTouchStartPosition[0],this._multiTouchStartPosition[1],this._multiTouchLastPosition[0],this._multiTouchLastPosition[1]),this.onPinchDelta(d))):!this._dragStartsOnDown&&!this._dragStartedEventFired&&this._isDown?(this._dragStartedEventFired=!0,this._doDragStarted(a,c),this._dragDeltaFired=!1):this._isDragging&&(d=new lt.Controls.InteractiveDragDeltaEventArgs,
d.set_mouseButton(this._workMouseButton),d.set_nativeEvent(a),d.set_origin(this._origin),d.set_position(c),d.set_change(lt.LeadPointD.create(this._lastPosition.get_x()-c.get_x(),this._lastPosition.get_y()-c.get_y())),this._dragDirectionCalculated||(this._dragDirectionCalculated=!0,this._dragDirection=Math.abs(d.get_change().get_x())>Math.abs(d.get_change().get_y())?0:1),d.set_direction(this._dragDirection),this.onDragDelta(d),this._dragDeltaFired=!0,this._redundantPosition=this._lastPosition.clone(),
this._lastPosition=c.clone()),this._doMove(b))},_global_ProcessTouchEndCancel:function(a){this._listenGlobal_Touch&&this._processUp(a)},_global_ProcessMSPointerUpCancel:function(a){this._listenGlobal_MSPointer&&this._processUp(a)},_global_ProcessMouseUp:function(a){this._listenGlobal_Mouse&&this._processUp(a)},_processUp:function(a){this._msPointerEnabled&&a.target.msReleasePointerCapture&&a.target.msReleasePointerCapture(a.pointerId);if(Type.canCast(this._owner,lt.Controls.ImageViewer)){var b=new lt.Controls._serviceEventData;
b.fill(this,a,this._targetOffset,this._lastPosition);this._isOnTarget(b)&&a.preventDefault();var c=new lt.Controls.InteractiveEventArgs;c.set_mouseButton(this._workMouseButton);c.set_nativeEvent(b.originalEvent);c.set_origin(b.points[0]);c.set_position(b.points[0]);this._internalOnUp(c)}b=!this._tapOnDown&&this._isDragging&&!this._dragDeltaFired;this._stopWorking(a,!1,!0,!1);b&&(b=new lt.Controls._serviceEventData,b.fill(this,a,this._targetOffset,this._lastPosition),this._isOnTarget(b)&&(a.preventDefault(),
this._doTapDoubleTap(b,!1)))},add__up:function(a){this.__up=ss.Delegate.combine(this.__up,a)},remove__up:function(a){this.__up=ss.Delegate.remove(this.__up,a)},__up_handler_get:function(){null==this.__up_handler&&(this.__up_handler=ss.EventHandler.create(this,this.add__up,this.remove__up));return this.__up_handler},__up:null,_internalOnUp:function(a){null!=this.__up&&this.__up(this,a)},_calculatePinchStarted:function(a,b,c,d,e){a.set_origin(b);a.set_origin2(c);a.set_position(d);a.set_position2(e);
b=a.get_origin().get_x()-a.get_origin2().get_x();c=a.get_origin().get_y()-a.get_origin2().get_y();this._pinchStartDistance=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));a.set_distance(this._pinchStartDistance);this._pinchStartAngle=180*Math.atan(c/b)/Math.PI;a.set_angle(this._pinchStartAngle)},_calculatePinchDelta:function(a,b,c,d,e){a.set_origin(b);a.set_origin2(c);a.set_position(d);a.set_position2(e);b=a.get_position().get_x()-a.get_position2().get_x();c=a.get_position().get_y()-a.get_position2().get_y();
d=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));this._pinchStartDistance?a.set_distanceRatio(d/this._pinchStartDistance):a.set_distanceRatio(1);b=180*Math.atan(c/b)/Math.PI;a.set_totalAngleDelta(b-this._pinchStartAngle)},_calculatePinchCompleted:function(a,b,c,d,e){a.set_origin(b);a.set_origin2(c);a.set_position(d);a.set_position2(e);b=a.get_position().get_x()-a.get_position2().get_x();c=a.get_position().get_y()-a.get_position2().get_y();d=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));this._pinchStartDistance?
a.set_distanceRatio(d/this._pinchStartDistance):a.set_distanceRatio(1);b=180*Math.atan(c/b)/Math.PI;a.set_totalAngleDelta(b-this._pinchStartAngle)},_processMSGestureChange_Delegate:null,_processMSGestureChange:function(a){if(1!==a.scale){this._completeDrag(a,!0);var b=lt.LeadPointD.create(a.offsetX,a.offsetY);if(!this._startPinchEventFired){this._startPinchEventFired=!0;var c=new lt.Controls.InteractivePinchStartedEventArgs;c.set_mouseButton(this._workMouseButton);c.set_nativeEvent(a);c.set_origin(b);
c.set_origin2(b);c.set_position(b);c.set_position2(b);c.set_angle(0);c.set_distance(0);this.onPinchStarted(c)}c=new lt.Controls.InteractivePinchDeltaEventArgs;c.set_origin(b);c.set_origin2(b);c.set_position(b);c.set_position2(b);c.set_distanceRatio(a.scale);c.set_mouseButton(this._workMouseButton);c.set_nativeEvent(a);this.onPinchDelta(c)}},_processMSGestureEnd_Delegate:null,_processMSGestureEnd:function(a){if(this._startPinchEventFired){var b=new lt.Controls.InteractivePinchCompletedEventArgs,c=
lt.LeadPointD.create(a.offsetX,a.offsetY);b.set_origin(c);b.set_origin2(c);b.set_position(c);b.set_position2(c);b.set_distanceRatio(a.scale);b.set_mouseButton(this._workMouseButton);b.set_nativeEvent(a);this.onPinchCompleted(b)}this._startPinchEventFired=!1;null!=this._msPinchGesture&&this._msPinchGesture.stop()},_mouseWheelThrottleMS:20,_listenGlobal_ProcessMouseWheel:!1,_global_ProcessMouseWheel:function(a){if(this._listenGlobal_ProcessMouseWheel&&this._enableMouseWheel){this._stopWorking(a,!1,
!0,!0);var b=new lt.Controls._serviceEventData;b.fill(this,a,this._targetOffset,this._lastPosition);if(this._isOnTarget(b)){var c=0;if(a.ctrlKey&&-1!==this._mouseWheelThrottleTime&&Date.get_now().getTime()-this._mouseWheelThrottleTime<this._mouseWheelThrottleMS)a.preventDefault();else{this._mouseWheelThrottleTime=Date.get_now().getTime();var d=0;void 0!==a.wheelDeltaY?(d=a.wheelDeltaY,c=d/120):void 0!==a.wheelDelta?(d=a.wheelDelta,c=d/120):void 0!==a.detail&&(c=-a.detail/3);c&&(c*=30,0<c?c=(30+c)/
2:0>c&&(c=(c-30)/2));if(void 0!==a.deltaY){var e=-a.deltaY;Math.abs(e)<=Math.abs(d)/3+1&&(c=e)}c=parseInt(c);d=!1;if(c){b=b.points[0];d=new lt.Controls.InteractiveDragStartedEventArgs;d.set_mouseButton(1);d.set_nativeEvent(a);d.set_origin(b);d.set_position(b);d.set_change(lt.LeadPointD.create(0,0));d.set_isMouseWheel(!0);this.onDragStarted(d);var d=d.get_isHandled(),e=lt.LeadPointD.create(0,c),f=lt.LeadPointD.create(b.get_x(),b.get_y()+c),g=new lt.Controls.InteractiveDragDeltaEventArgs;g.set_mouseButton(1);
g.set_nativeEvent(a);g.set_origin(b);g.set_position(f);g.set_change(e);g.set_direction(1);g.set_isMouseWheel(!0);this.onDragDelta(g);d=d||g.get_isHandled();g=new lt.Controls.InteractiveDragCompletedEventArgs;g.set_mouseButton(1);g.set_nativeEvent(a);g.set_origin(b);g.set_position(f);g.set_change(e);g.set_direction(1);g.set_velocity(lt.LeadPointD.create(0,1));g.set_isMouseWheel(!0);this.onDragCompleted(g);d=d||g.get_isHandled()}a.preventDefault();a.returnValue=!1;!d&&Type.canCast(this._owner,lt.Controls.ImageViewer)&&
this._owner._doMouseWheel(c)}}}},_doPinchStart:function(a,b){this._startPinchEventFired=!0;var c=new lt.Controls.InteractivePinchStartedEventArgs;c.set_mouseButton(this._workMouseButton);c.set_nativeEvent(a);this._calculatePinchStarted(c,this._multiTouchStartPosition[0],this._multiTouchStartPosition[1],b[0],b[1]);this.onPinchStarted(c)},_isOnTarget:function(a){for(var b=ss.IEnumerator.getEnumerator(this._userControls);b.moveNext();)if(a.originalEvent.target===b.current)return!0;return null!=a.originalEvent.target&&
a.originalEvent.target===this._eventsTarget||a.originalEvent.target===this._eventsSource&&null!=this._eventsTarget&&(b=lt.LeadRectD.create(0,0,this._eventsTarget.clientWidth,this._eventsTarget.clientHeight),b.inflate(this._hitTestBuffer,this._hitTestBuffer),b.contains(a.points[0].get_x(),a.points[0].get_y()))?!0:!1},_clearHoldInterval:function(){-1!==this._holdIntervalId&&(clearInterval(this._holdIntervalId),this._holdIntervalId=-1)},_stopPinching:function(a,b){return this._startPinchEventFired&&
a.type!==lt.Controls._msEventsHelper.pointerup&&a.type!==lt.Controls._msEventsHelper.pointerdown?(this._completePinch(a,b),!0):!1},_completePinch:function(a,b){var c=new lt.Controls._serviceEventData;c.fill(this,a,this._targetOffset,this._lastPosition);this._startPinchEventFired=!1;if(0<c.pointCount){var d=new lt.Controls.InteractivePinchCompletedEventArgs;d.set_mouseButton(this._workMouseButton);d.set_nativeEvent(a);this._calculatePinchCompleted(d,this._multiTouchStartPosition[0],this._multiTouchStartPosition[1],
c.points[0],c.points[1]);d.set_isCanceled(b);this.onPinchCompleted(d)}else d=new lt.Controls.InteractivePinchCompletedEventArgs,d.set_mouseButton(this._workMouseButton),d.set_nativeEvent(a),this._calculatePinchCompleted(d,this._multiTouchStartPosition[0],this._multiTouchStartPosition[1],this._multiTouchLastPosition[0],this._multiTouchLastPosition[1]),this.onPinchCompleted(d),lt.LeadPointD.equals(this._multiTouchLastPosition[0],c.points[0])},get_supportsMouse:function(){return lt.LTHelper.supportsMouse}};
Object.defineProperty(lt.Controls.InteractiveService.prototype,"owner",{get:lt.Controls.InteractiveService.prototype.get_owner,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"eventsSource",{get:lt.Controls.InteractiveService.prototype.get_eventsSource,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"eventsTarget",{get:lt.Controls.InteractiveService.prototype.get_eventsTarget,set:lt.Controls.InteractiveService.prototype.set_eventsTarget,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"hitTestBuffer",{get:lt.Controls.InteractiveService.prototype.get_hitTestBuffer,set:lt.Controls.InteractiveService.prototype.set_hitTestBuffer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"targetOffset",{get:lt.Controls.InteractiveService.prototype.get_targetOffset,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,
"isListening",{get:lt.Controls.InteractiveService.prototype.get_isListening,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"tapOnDown",{get:lt.Controls.InteractiveService.prototype.get_tapOnDown,set:lt.Controls.InteractiveService.prototype.set_tapOnDown,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"enableHold",{get:lt.Controls.InteractiveService.prototype.get_enableHold,set:lt.Controls.InteractiveService.prototype.set_enableHold,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"holdDelay",{get:lt.Controls.InteractiveService.prototype.get_holdDelay,set:lt.Controls.InteractiveService.prototype.set_holdDelay,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"dragStartsOnDown",{get:lt.Controls.InteractiveService.prototype.get_dragStartsOnDown,set:lt.Controls.InteractiveService.prototype.set_dragStartsOnDown,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Controls.InteractiveService.prototype,"pinchStartsOnDown",{get:lt.Controls.InteractiveService.prototype.get_pinchStartsOnDown,set:lt.Controls.InteractiveService.prototype.set_pinchStartsOnDown,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"enableMouseWheel",{get:lt.Controls.InteractiveService.prototype.get_enableMouseWheel,set:lt.Controls.InteractiveService.prototype.set_enableMouseWheel,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,
"doubleTapDelay",{get:lt.Controls.InteractiveService.prototype.get_doubleTapDelay,set:lt.Controls.InteractiveService.prototype.set_doubleTapDelay,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"cancelOnEscape",{get:lt.Controls.InteractiveService.prototype.get_cancelOnEscape,set:lt.Controls.InteractiveService.prototype.set_cancelOnEscape,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"move",{get:lt.Controls.InteractiveService.prototype.__move_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"tap",{get:lt.Controls.InteractiveService.prototype.__tap_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"hold",{get:lt.Controls.InteractiveService.prototype.__hold_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"doubleTap",{get:lt.Controls.InteractiveService.prototype.__doubleTap_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"dragStarted",{get:lt.Controls.InteractiveService.prototype.__dragStarted_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"dragDelta",{get:lt.Controls.InteractiveService.prototype.__dragDelta_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"dragCompleted",{get:lt.Controls.InteractiveService.prototype.__dragCompleted_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"keyDown",{get:lt.Controls.InteractiveService.prototype.__keyDown_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"keyUp",{get:lt.Controls.InteractiveService.prototype.__keyUp_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"pinchStarted",{get:lt.Controls.InteractiveService.prototype.__pinchStarted_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"pinchDelta",{get:lt.Controls.InteractiveService.prototype.__pinchDelta_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"pinchCompleted",{get:lt.Controls.InteractiveService.prototype.__pinchCompleted_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService,"modifierKeys",{get:lt.Controls.InteractiveService.get_modifierKeys,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"userControls",{get:lt.Controls.InteractiveService.prototype.get_userControls,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"preventContextMenu",{get:lt.Controls.InteractiveService.prototype.get_preventContextMenu,set:lt.Controls.InteractiveService.prototype.set_preventContextMenu,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,
"enableSelection",{get:lt.Controls.InteractiveService.prototype.get_enableSelection,set:lt.Controls.InteractiveService.prototype.set_enableSelection,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveService.prototype,"supportsMouse",{get:lt.Controls.InteractiveService.prototype.get_supportsMouse,enumerable:!0,configurable:!0});lt.Controls.InteractiveEventArgs=function(){lt.Controls.InteractiveEventArgs.initializeBase(this)};lt.Controls.InteractiveEventArgs.prototype={_mouseButton$1:0,
get_mouseButton:function(){return this._mouseButton$1},set_mouseButton:function(a){return this._mouseButton$1=a},_nativeEvent$1:null,get_nativeEvent:function(){return this._nativeEvent$1},set_nativeEvent:function(a){return this._nativeEvent$1=a},_origin$1:null,get_origin:function(){return this._origin$1.clone()},set_origin:function(a){this._origin$1=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_position$1:null,get_position:function(){return this._position$1.clone()},set_position:function(a){this._position$1=
lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_isHandled$1:!1,get_isHandled:function(){return this._isHandled$1},set_isHandled:function(a){return this._isHandled$1=a}};Object.defineProperty(lt.Controls.InteractiveEventArgs.prototype,"mouseButton",{get:lt.Controls.InteractiveEventArgs.prototype.get_mouseButton,set:lt.Controls.InteractiveEventArgs.prototype.set_mouseButton,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveEventArgs.prototype,"nativeEvent",{get:lt.Controls.InteractiveEventArgs.prototype.get_nativeEvent,
set:lt.Controls.InteractiveEventArgs.prototype.set_nativeEvent,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveEventArgs.prototype,"origin",{get:lt.Controls.InteractiveEventArgs.prototype.get_origin,set:lt.Controls.InteractiveEventArgs.prototype.set_origin,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveEventArgs.prototype,"position",{get:lt.Controls.InteractiveEventArgs.prototype.get_position,set:lt.Controls.InteractiveEventArgs.prototype.set_position,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveEventArgs.prototype,"isHandled",{get:lt.Controls.InteractiveEventArgs.prototype.get_isHandled,set:lt.Controls.InteractiveEventArgs.prototype.set_isHandled,enumerable:!0,configurable:!0});lt.Controls.InteractiveDragStartedEventArgs=function(){lt.Controls.InteractiveDragStartedEventArgs.initializeBase(this)};lt.Controls.InteractiveDragStartedEventArgs.prototype={_change$2:null,get_change:function(){return this._change$2.clone()},
set_change:function(a){this._change$2=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_isMouseWheel$2:!1,get_isMouseWheel:function(){return this._isMouseWheel$2},set_isMouseWheel:function(a){return this._isMouseWheel$2=a}};Object.defineProperty(lt.Controls.InteractiveDragStartedEventArgs.prototype,"change",{get:lt.Controls.InteractiveDragStartedEventArgs.prototype.get_change,set:lt.Controls.InteractiveDragStartedEventArgs.prototype.set_change,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragStartedEventArgs.prototype,
"isMouseWheel",{get:lt.Controls.InteractiveDragStartedEventArgs.prototype.get_isMouseWheel,set:lt.Controls.InteractiveDragStartedEventArgs.prototype.set_isMouseWheel,enumerable:!0,configurable:!0});lt.Controls.InteractiveDragDeltaEventArgs=function(){lt.Controls.InteractiveDragDeltaEventArgs.initializeBase(this)};lt.Controls.InteractiveDragDeltaEventArgs.prototype={_direction$2:0,get_direction:function(){return this._direction$2},set_direction:function(a){return this._direction$2=a},_change$2:null,
get_change:function(){return this._change$2.clone()},set_change:function(a){this._change$2=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_isMouseWheel$2:!1,get_isMouseWheel:function(){return this._isMouseWheel$2},set_isMouseWheel:function(a){return this._isMouseWheel$2=a}};Object.defineProperty(lt.Controls.InteractiveDragDeltaEventArgs.prototype,"direction",{get:lt.Controls.InteractiveDragDeltaEventArgs.prototype.get_direction,set:lt.Controls.InteractiveDragDeltaEventArgs.prototype.set_direction,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragDeltaEventArgs.prototype,"change",{get:lt.Controls.InteractiveDragDeltaEventArgs.prototype.get_change,set:lt.Controls.InteractiveDragDeltaEventArgs.prototype.set_change,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragDeltaEventArgs.prototype,"isMouseWheel",{get:lt.Controls.InteractiveDragDeltaEventArgs.prototype.get_isMouseWheel,set:lt.Controls.InteractiveDragDeltaEventArgs.prototype.set_isMouseWheel,
enumerable:!0,configurable:!0});lt.Controls.InteractiveDragCompletedEventArgs=function(){lt.Controls.InteractiveDragCompletedEventArgs.initializeBase(this)};lt.Controls.InteractiveDragCompletedEventArgs.prototype={_direction$2:0,get_direction:function(){return this._direction$2},set_direction:function(a){return this._direction$2=a},_change$2:null,get_change:function(){return this._change$2.clone()},set_change:function(a){this._change$2=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_velocity$2:null,
get_velocity:function(){return this._velocity$2.clone()},set_velocity:function(a){this._velocity$2=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_isMouseWheel$2:!1,get_isMouseWheel:function(){return this._isMouseWheel$2},set_isMouseWheel:function(a){return this._isMouseWheel$2=a},_isCanceled$2:!1,get_isCanceled:function(){return this._isCanceled$2},set_isCanceled:function(a){return this._isCanceled$2=a}};Object.defineProperty(lt.Controls.InteractiveDragCompletedEventArgs.prototype,"direction",
{get:lt.Controls.InteractiveDragCompletedEventArgs.prototype.get_direction,set:lt.Controls.InteractiveDragCompletedEventArgs.prototype.set_direction,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragCompletedEventArgs.prototype,"change",{get:lt.Controls.InteractiveDragCompletedEventArgs.prototype.get_change,set:lt.Controls.InteractiveDragCompletedEventArgs.prototype.set_change,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragCompletedEventArgs.prototype,
"velocity",{get:lt.Controls.InteractiveDragCompletedEventArgs.prototype.get_velocity,set:lt.Controls.InteractiveDragCompletedEventArgs.prototype.set_velocity,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragCompletedEventArgs.prototype,"isMouseWheel",{get:lt.Controls.InteractiveDragCompletedEventArgs.prototype.get_isMouseWheel,set:lt.Controls.InteractiveDragCompletedEventArgs.prototype.set_isMouseWheel,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveDragCompletedEventArgs.prototype,
"isCanceled",{get:lt.Controls.InteractiveDragCompletedEventArgs.prototype.get_isCanceled,set:lt.Controls.InteractiveDragCompletedEventArgs.prototype.set_isCanceled,enumerable:!0,configurable:!0});lt.Controls.InteractiveKeyEventArgs=function(){lt.Controls.InteractiveKeyEventArgs.initializeBase(this)};lt.Controls.InteractiveKeyEventArgs.prototype={_nativeEvent$1:null,get_nativeEvent:function(){return this._nativeEvent$1},set_nativeEvent:function(a){return this._nativeEvent$1=a},_keyCode$1:0,get_keyCode:function(){return this._keyCode$1},
set_keyCode:function(a){return this._keyCode$1=a},_isHandled$1:!1,get_isHandled:function(){return this._isHandled$1},set_isHandled:function(a){return this._isHandled$1=a}};Object.defineProperty(lt.Controls.InteractiveKeyEventArgs.prototype,"nativeEvent",{get:lt.Controls.InteractiveKeyEventArgs.prototype.get_nativeEvent,set:lt.Controls.InteractiveKeyEventArgs.prototype.set_nativeEvent,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveKeyEventArgs.prototype,"keyCode",{get:lt.Controls.InteractiveKeyEventArgs.prototype.get_keyCode,
set:lt.Controls.InteractiveKeyEventArgs.prototype.set_keyCode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveKeyEventArgs.prototype,"isHandled",{get:lt.Controls.InteractiveKeyEventArgs.prototype.get_isHandled,set:lt.Controls.InteractiveKeyEventArgs.prototype.set_isHandled,enumerable:!0,configurable:!0});lt.Controls.InteractiveMultiTouchEventArgs=function(){lt.Controls.InteractiveMultiTouchEventArgs.initializeBase(this)};lt.Controls.InteractiveMultiTouchEventArgs.prototype=
{_origin2$2:null,get_origin2:function(){return this._origin2$2.clone()},set_origin2:function(a){this._origin2$2=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a},_position2$2:null,get_position2:function(){return this._position2$2.clone()},set_position2:function(a){this._position2$2=lt.Controls.PrimitivesHelper.cloneOrZeroPoint(a);return a}};Object.defineProperty(lt.Controls.InteractiveMultiTouchEventArgs.prototype,"origin2",{get:lt.Controls.InteractiveMultiTouchEventArgs.prototype.get_origin2,
set:lt.Controls.InteractiveMultiTouchEventArgs.prototype.set_origin2,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractiveMultiTouchEventArgs.prototype,"position2",{get:lt.Controls.InteractiveMultiTouchEventArgs.prototype.get_position2,set:lt.Controls.InteractiveMultiTouchEventArgs.prototype.set_position2,enumerable:!0,configurable:!0});lt.Controls.InteractivePinchStartedEventArgs=function(){lt.Controls.InteractivePinchStartedEventArgs.initializeBase(this)};lt.Controls.InteractivePinchStartedEventArgs.prototype=
{_angle$3:0,get_angle:function(){return this._angle$3},set_angle:function(a){return this._angle$3=a},_distance$3:0,get_distance:function(){return this._distance$3},set_distance:function(a){return this._distance$3=a}};Object.defineProperty(lt.Controls.InteractivePinchStartedEventArgs.prototype,"angle",{get:lt.Controls.InteractivePinchStartedEventArgs.prototype.get_angle,set:lt.Controls.InteractivePinchStartedEventArgs.prototype.set_angle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractivePinchStartedEventArgs.prototype,
"distance",{get:lt.Controls.InteractivePinchStartedEventArgs.prototype.get_distance,set:lt.Controls.InteractivePinchStartedEventArgs.prototype.set_distance,enumerable:!0,configurable:!0});lt.Controls.InteractivePinchDeltaEventArgs=function(){lt.Controls.InteractivePinchDeltaEventArgs.initializeBase(this)};lt.Controls.InteractivePinchDeltaEventArgs.prototype={_distanceRatio$3:0,get_distanceRatio:function(){return this._distanceRatio$3},set_distanceRatio:function(a){return this._distanceRatio$3=a},
_totalAngleDelta$3:0,get_totalAngleDelta:function(){return this._totalAngleDelta$3},set_totalAngleDelta:function(a){return this._totalAngleDelta$3=a}};Object.defineProperty(lt.Controls.InteractivePinchDeltaEventArgs.prototype,"distanceRatio",{get:lt.Controls.InteractivePinchDeltaEventArgs.prototype.get_distanceRatio,set:lt.Controls.InteractivePinchDeltaEventArgs.prototype.set_distanceRatio,enumerable:!0,configurable:!0});Object.defineProperty(lt.Controls.InteractivePinchDeltaEventArgs.prototype,"totalAngleDelta",
{get:lt.Controls.InteractivePinchDeltaEventArgs.prototype.get_totalAngleDelta,set:lt.Controls.InteractivePinchDeltaEventArgs.prototype.set_totalAngleDelta,enumerable:!0,configurable:!0});lt.Controls.InteractivePinchCompletedEventArgs=function(){lt.Controls.InteractivePinchCompletedEventArgs.initializeBase(this)};lt.Controls.InteractivePinchCompletedEventArgs.prototype={_isCanceled$4:!1,get_isCanceled:function(){return this._isCanceled$4},set_isCanceled:function(a){return this._isCanceled$4=a}};Object.defineProperty(lt.Controls.InteractivePinchCompletedEventArgs.prototype,
"isCanceled",{get:lt.Controls.InteractivePinchCompletedEventArgs.prototype.get_isCanceled,set:lt.Controls.InteractivePinchCompletedEventArgs.prototype.set_isCanceled,enumerable:!0,configurable:!0});lt.Controls.PaddingHelper=function(){};lt.Controls.PaddingHelper.create=function(a,b,c,d){return lt.Controls.ControlPadding.create(a,b,c,d)};lt.Controls.PaddingHelper.isNotEqual=function(a,b){return a.get_left()!==b.get_left()||a.get_top()!==b.get_top()||a.get_right()!==b.get_right()||a.get_bottom()!==
b.get_bottom()};lt.Controls.PaddingHelper.addToRectD=function(a,b){if(!b.get_all())return a.clone();var c=a.get_isEmpty()?lt.LeadRectD.create(0,0,0,0):a.clone();return lt.LeadRectD.fromLTRB(c.get_left()-b.get_left(),c.get_top()-b.get_top(),c.get_right()+b.get_right(),c.get_bottom()+b.get_bottom())};lt.Controls.PaddingHelper.removeFromRectD=function(a,b){if(!b.get_all())return a.clone();var c=a.get_isEmpty()?lt.LeadRectD.create(0,0,0,0):a.clone(),d=c.get_left()+b.get_left(),e=c.get_top()+b.get_top(),
f=c.get_right()-b.get_right(),c=c.get_bottom()-b.get_bottom();return f<d||c<e?lt.LeadRectD.get_empty():lt.LeadRectD.fromLTRB(d,e,f,c)};lt.Controls._imageViewerSyncGroup=function(){};lt.Controls._imageViewerSyncGroup.prototype={viewers:null,counter:0};lt.Controls.ImageViewerSyncManager=function(){};lt.Controls.ImageViewerSyncManager.beginSync=function(a){if(-1===a)return null;a=lt.Controls.ImageViewerSyncManager._syncGroups[a];if(null==a)return null;a.counter++;return 1===a.counter?a.viewers:null};
lt.Controls.ImageViewerSyncManager.isSyncing=function(a){if(-1===a)return!1;a=lt.Controls.ImageViewerSyncManager._syncGroups[a];return null==a?!1:0<a.counter};lt.Controls.ImageViewerSyncManager.endSync=function(a){if(-1!==a&&(a=lt.Controls.ImageViewerSyncManager._syncGroups[a],null!=a)){if(!a.counter)throw new lt.InvalidOperationException("'EndSync' called without a matching 'BeginSync'");a.counter--}};lt.Controls.ImageViewerSyncManager.sync=function(a){for(var b=lt.Controls.ImageViewerSyncManager._globalSyncId,
c=!0,d=!1,e=[],f=ss.IEnumerator.getEnumerator(a);f.moveNext();)if(a=f.current,null!=a)if(e.add(a),a=a._syncId,-1===a)d=!0,b!==lt.Controls.ImageViewerSyncManager._globalSyncId&&(c=!1);else{if(d||b!==lt.Controls.ImageViewerSyncManager._globalSyncId&&b!==a)c=!1;b=Math.min(b,a)}if(!(2>e.length||!d&&c))if(d&&b===lt.Controls.ImageViewerSyncManager._globalSyncId){for(b=0;b<e.length;b++)a=e[b],a._syncId=lt.Controls.ImageViewerSyncManager._globalSyncId,a._syncIndex=b;b=new lt.Controls._imageViewerSyncGroup;
b.viewers=e;lt.Controls.ImageViewerSyncManager._syncGroups[lt.Controls.ImageViewerSyncManager._globalSyncId]=b;lt.Controls.ImageViewerSyncManager._globalSyncId++}else{c=lt.Controls.ImageViewerSyncManager._syncGroups[b].viewers;d=c.length;for(e=ss.IEnumerator.getEnumerator(e);e.moveNext();)if(a=e.current,f=a._syncId,f!==b)if(f=lt.Controls.ImageViewerSyncManager.unsyncGroup(f),null!=f)for(f=ss.IEnumerator.getEnumerator(f);f.moveNext();)a._syncId=b,a._syncIndex=d,c.add(a),d++;else a._syncId=b,a._syncIndex=
d,c.add(a),d++}};lt.Controls.ImageViewerSyncManager.getSynced=function(a){if(-1===a)return null;a=lt.Controls.ImageViewerSyncManager._syncGroups[a];return null==a?null:a.viewers};lt.Controls.ImageViewerSyncManager.unsync=function(a){if(null!=a){var b=a._syncId;if(-1!==b){var c=lt.Controls.ImageViewerSyncManager._syncGroups[b];if(null!=c){c=c.viewers;if(null!=c){for(var d=a._syncIndex+1;d<c.length;d++)c[d]._syncIndex--;c.removeAt(a._syncIndex);2>c.length&&(1===c.length&&(c[0]._syncId=-1,c[0]._syncIndex=
-1),lt.Controls.ImageViewerSyncManager._syncGroups[b]=null,b===lt.Controls.ImageViewerSyncManager._globalSyncId-1&&lt.Controls.ImageViewerSyncManager._globalSyncId--)}a._syncId=-1;a._syncIndex=-1}}}};lt.Controls.ImageViewerSyncManager.unsyncGroup=function(a){if(-1===a)return null;var b=lt.Controls.ImageViewerSyncManager._syncGroups[a];if(null==b)return null;b=b.viewers;if(null!=b){for(var c=ss.IEnumerator.getEnumerator(b);c.moveNext();){var d=c.current;d._syncId=-1;d._syncIndex=-1}lt.Controls.ImageViewerSyncManager._syncGroups[a]=
null;a===lt.Controls.ImageViewerSyncManager._globalSyncId-1&&lt.Controls.ImageViewerSyncManager._globalSyncId--;return b}return null};lt.Controls._itemProps=function(){this.viewBounds=lt.LeadRectD.get_empty();this.viewContentBounds=lt.LeadRectD.get_empty();this.bounds=lt.LeadRectD.get_empty();this.itemElementOffset=lt.LeadPointD.get_empty();this.removedItemOffset=lt.LeadPointD.get_empty();this.contentBounds=lt.LeadRectD.get_empty();this.textAreaBounds=lt.LeadRectD.get_empty();this.textBounds=lt.LeadRectD.get_empty();
this.imageTransform=lt.LeadMatrix.get_identity();this.imageTransformFloatingPoint=lt.LeadMatrix.get_identity();this.imageTransformNoDpi=lt.LeadMatrix.get_identity();this.floaterTransform=lt.LeadMatrix.get_identity()};lt.Controls._itemProps.prototype={propsChanged:!1,stillHidden:!1,removedImageUrl:null,removedBackImageUrl:null,region:null,floaterRegion:null,interpolator:null};lt.Controls._layoutRowColumnInfo=function(a,b,c){this.firstItemIndex=a;this.lastItemIndex=b;this.bounds=c.clone()};lt.Controls._layoutRowColumnInfo.prototype=
{firstItemIndex:0,lastItemIndex:0,itemCount:0,bounds:null};lt.Controls._serviceEventData=function(){this.points=Array(2);this.points[0]=lt.LeadPointD.create(0,0);this.points[1]=lt.LeadPointD.create(0,0)};lt.Controls._serviceEventData.prototype={originalEvent:null,pointCount:0,mouseButton:0,isTouchEvent:!1,fill:function(a,b,c,d){this.originalEvent=b;this.pointCount=0;this.points[0].set_x(0);this.points[0].set_y(0);var e=0,f=0;if(b.type===lt.Controls._msEventsHelper.pointerdown||b.type===lt.Controls._msEventsHelper.pointermove||
b.type===lt.Controls._msEventsHelper.pointerup||b.type===lt.Controls._msEventsHelper.pointercancel){this.isTouchEvent=!0;var d=null,g="getPointerList"in b;g?(d=b.getPointerList(b.pointerId),e=d.length,1<e&&(this.isTouchEvent=!0)):e=1;this.pointCount=Math.min(2,e);for(var h=0;h<this.pointCount;h++)g?(e=d[h].clientX,f=d[h].clientY):(e=b.pageX,f=b.pageY),this.points[h].set_x(parseInt(e-c.get_x()+0.5)),this.points[h].set_y(parseInt(f-c.get_y()+0.5));b.type===lt.Controls._msEventsHelper.pointerdown&&(a=
a._getMSPinchGesture(),null!=a&&(void 0!=b.pointer?a.addPointer(b.pointer.id):void 0!=b.pointerId&&a.addPointer(b.pointerId)),this.mouseButton=lt.Controls.InteractiveService._getMouseButton(b.button),"preventMouseEvent"in b&&b.preventMouseEvent(),"preventManipulation"in b&&b.preventManipulation());this.mouseButton=1}else if(!("MSGestureChange"===b.type||"MSGestureEnd"===b.type))if("touchstart"===b.type||"touchmove"===b.type||"touchend"===b.type||"touchcancel"===b.type){this.isTouchEvent=!0;if(!("touches"in
b))throw Error("Unknown touch device");e=b.touches.length;if(this.pointCount=lt.LTHelper.supportsMultiTouch?Math.min(2,e):Math.min(1,e))for(h=0;h<this.pointCount;h++)e=b.touches[h].pageX,f=b.touches[h].pageY,this.points[h].set_x(parseInt(e-c.get_x()+0.5)),this.points[h].set_y(parseInt(f-c.get_y()+0.5));else this.pointCount=1,this.points[0].set_x(parseInt(d.get_x()+0.5)),this.points[0].set_y(parseInt(d.get_y()+0.5));this.mouseButton=1}else this.isTouchEvent=!1,e=b.pageX,f=b.pageY,this.pointCount=1,
this.points[0].set_x(parseInt(e-c.get_x()+0.5)),this.points[0].set_y(parseInt(f-c.get_y()+0.5)),this.mouseButton="mousedown"===b.type||"click"===b.type||"dblclick"===b.type?lt.Controls.InteractiveService._getMouseButton(b.button):0}};lt.Controls._msEventsHelper=function(){};lt.Controls._dragDropData=function(){};lt.Controls._dragDropData.prototype={effect:null,format:null};lt.Controls._dragDropHelper=function(){};lt.Controls._dragDropHelper.getDragData=function(){var a=new lt.Controls._dragDropData;
a.effect="copy";a.format="text";return a};lt.Controls._textSizeHelper=function(){this._init()};lt.Controls._textSizeHelper.get_instance=function(){return lt.Controls._textSizeHelper._instance};lt.Controls._textSizeHelper.prototype={_init:function(){this._canvas=document.createElement("canvas");this._canvas.width=400;this._canvas.height=400},_canvas:null,start:function(){return null==this._canvas?null:this._canvas.getContext("2d")},stop:function(){},measureHeight:function(a,b){if(null==a||null==b)return 0;
var c=parseInt(a.measureText("gM").width)+1;a.font=b;a.textBaseline="top";a.fillStyle="#000000";a.fillText("gM",0,0);var d=0,e=0;if(0<c){for(var f=a.getImageData(0,0,c,200),g=200,h=0;!e&&0<g;){g--;for(h=0;h<c;h++)if(f.data[4*g*c+4*h+3]){e=g;break}}for(g=0;200>g&&!d;){g++;for(h=0;h<c;h++)if(f.data[4*g*c+4*h+3]){d=g;break}}}return Math.max(0,e+d)},getSize:function(a,b,c,d,e){if(null==a||null==c)return lt.LeadSizeD.create(0,0);a.save();a.font=c;b=lt.LeadSizeD.create(a.measureText(b).width,d);a.restore();
return!e.get_isEmpty()?(a=lt.LeadRectD.create(e.get_x(),e.get_y(),b.get_width(),b.get_height()),a=lt.LeadRectD.intersectRects(a,e),a.get_isEmpty()?lt.LeadSizeD.create(0,0):a.get_size()):b}};lt.Controls.GraphicsHelper=function(){};lt.Controls.GraphicsHelper.getCornerPoints=function(a,b,c,d){a=lt.Controls.PrimitivesHelper.getCornerPoints(a);if(b.get_left()||b.get_top()||b.get_right()||b.get_bottom())for(var e=c.get_width(),c=c.get_height(),b=[lt.LeadPointD.create(-b.get_left()/e,-b.get_top()/c),lt.LeadPointD.create(b.get_right()/
e,-b.get_top()/c),lt.LeadPointD.create(b.get_right()/e,b.get_bottom()/c),lt.LeadPointD.create(-b.get_left()/e,b.get_bottom()/c)],c=0;c<a.length;c++)a[c]=lt.LeadPointD.create(a[c].get_x()+b[c].get_x(),a[c].get_y()+b[c].get_y());d.transformPoints(a);return a};lt.Controls.GraphicsHelper.colorFromString=function(a){return a};lt.Controls.GraphicsHelper.areEqualColors=function(a,b){return a.toLowerCase()===b.toLowerCase()};lt.Controls.GraphicsHelper.isTransparentColor=function(a){return String.isNullOrEmpty(a)||
!String.compare(a,"transparent",!0)};lt.Controls.GraphicsHelper.saveContext=function(a){a.save();return 1};lt.Controls.GraphicsHelper.restoreContext=function(a,b){null!=b&&a.restore()};lt.Controls.GraphicsHelper.multiplyTransform=function(a,b){var c=lt.LeadMatrix.create(b.get_m11(),b.get_m12(),b.get_m21(),b.get_m22(),b.get_offsetX(),b.get_offsetY());a.transform(c.get_m11(),c.get_m12(),c.get_m21(),c.get_m22(),c.get_offsetX(),c.get_offsetY())};lt.Controls.GraphicsHelper.intersectClip=function(a,b){b.get_isEmpty()||
(a.beginPath(),a.rect(b.get_x(),b.get_y(),b.get_width(),b.get_height()),a.clip())};lt.Controls.GraphicsHelper.renderExcludeClip=function(a,b,c,d){if(!b.get_isEmpty()&&!c.get_isEmpty()){null==lt.Controls.GraphicsHelper._maskCanvas&&(lt.Controls.GraphicsHelper._maskCanvas=document.createElement("canvas"));lt.Controls.GraphicsHelper._maskCanvas.width=Math.ceil(b.get_width());lt.Controls.GraphicsHelper._maskCanvas.height=Math.ceil(b.get_height());var e=lt.Controls.GraphicsHelper._maskCanvas.getContext("2d");
e.clearRect(0,0,b.get_width(),b.get_height());e.fillStyle=d;e.fillRect(0,0,b.get_width(),b.get_height());e.save();e.beginPath();e.rect(c.get_x()-b.get_x(),c.get_y()-b.get_y(),c.get_width(),c.get_height());e.clip();e.closePath();e.fillStyle="transparent";e.globalCompositeOperation="copy";e.rect(c.get_x()-b.get_x(),c.get_y()-b.get_y(),c.get_width(),c.get_height());e.fill();e.globalCompositeOperation="source-over";e.restore();a.save();a.beginPath();a.rect(b.get_x(),b.get_y(),b.get_width(),b.get_height());
a.clip();a.closePath();a.drawImage(lt.Controls.GraphicsHelper._maskCanvas,b.get_x(),b.get_y());a.restore();lt.Controls.GraphicsHelper._maskCanvas.width=0;lt.Controls.GraphicsHelper._maskCanvas.height=0}};lt.Controls.GraphicsHelper.getScaleFactor=function(){return lt.LeadSizeD.create(1,1)};lt.Controls.GraphicsHelper.renderBorder=function(a,b,c,d,e,f,g){if(!(0>=c||lt.Controls.GraphicsHelper.isTransparentColor(d)||e.get_isEmpty()||1>e.get_width()||1>e.get_height())&&lt.Controls.ControlsHelper.isRightAngle(g))1!==
b&&(c=Math.min(1,c*b),c=lt.Controls.PrimitivesHelper.toInt(c)),e=lt.Controls.GraphicsHelper.getCornerPoints(e,f,lt.LeadSizeD.create(1,1),g),e=lt.Controls.PrimitivesHelper.getBoundingRect(e),a.strokeStyle=d,a.lineWidth=c,d=Math.floor(c/2),e.inflate(d,d),a.strokeRect(e.get_x(),e.get_y(),e.get_width(),e.get_height())};lt.Controls.GraphicsHelper.renderShadow=function(a,b,c,d,e,f,g){if(!d.get_isEmpty()&&!(1>d.get_width()||1>d.get_height()||!c.get_isVisible()||!c.get_offsetX()&&!c.get_offsetY()||lt.Controls.GraphicsHelper.isTransparentColor(c.get_color()))&&
lt.Controls.ControlsHelper.isRightAngle(f))if(d=lt.Controls.GraphicsHelper.getCornerPoints(d,e,lt.LeadSizeD.create(1,1),f),d=lt.Controls.PrimitivesHelper.getBoundingRect(d),!d.get_isEmpty()&&!(1>d.get_width()||1>d.get_height())){e=Math.abs(c.get_offsetX());f=Math.abs(c.get_offsetY());5*e>d.get_width()&&(e=Math.max(0,e/5)+0.5);5*f>d.get_height()&&(f=Math.max(0,f/5)+0.5);0>e&&(e*=-1);0>f&&(f*=-1);var h=c.get_blur();1!==b&&(h=Math.max(0,lt.Controls.PrimitivesHelper.toInt(b*h)));a.save();a.shadowColor=
c.get_color();a.shadowBlur=h;a.shadowOffsetX=e;a.shadowOffsetY=f;a.fillStyle=c.get_color();a.fillRect(d.get_x(),d.get_y(),d.get_width(),d.get_height());a.restore();lt.Controls.GraphicsHelper.isTransparentColor(g)?a.clearRect(d.get_x(),d.get_y(),d.get_width(),d.get_height()):(a.fillStyle=g,a.fillRect(d.get_x(),d.get_y(),d.get_width(),d.get_height()))}};lt.Controls.GraphicsHelper.fillBackground=function(a,b,c,d){if(!c.get_isEmpty()&&!(1>c.get_width()||1>c.get_height()||lt.Controls.GraphicsHelper.isTransparentColor(b))){var e=
null;d.get_isIdentity()||(e=lt.Controls.GraphicsHelper.saveContext(a),lt.Controls.GraphicsHelper.multiplyTransform(a,d));d=a.fillStyle;a.fillStyle=b;a.fillRect(c.get_x(),c.get_y(),c.get_width(),c.get_height());a.fillStyle=d;null!=e&&lt.Controls.GraphicsHelper.restoreContext(a,e)}};lt.Controls.GraphicsHelper.clearBackground=function(a,b,c){if(!b.get_isEmpty()&&!(1>b.get_width()||1>b.get_height())){var d=null;c.get_isIdentity()?(d=lt.Controls.GraphicsHelper.saveContext(a),a.setTransform(1,0,0,1,0,0)):
(d=lt.Controls.GraphicsHelper.saveContext(a),lt.Controls.GraphicsHelper.multiplyTransform(a,c));a.clearRect(b.get_x(),b.get_y(),b.get_width(),b.get_height());null!=d&&lt.Controls.GraphicsHelper.restoreContext(a,d)}};lt.Controls.GraphicsHelper.renderText=function(a,b,c,d,e,f,g,h,i){if(!g.get_isEmpty()&&!(1>g.get_width()||1>g.get_height()||null==b||null==c||lt.Controls.GraphicsHelper.isTransparentColor(d)))a.save(),a.beginPath(),h.get_isEmpty()||lt.Controls.GraphicsHelper.intersectClip(a,h),lt.Controls.GraphicsHelper.multiplyTransform(a,
i),a.font=c,a.textBaseline="top",a.fillStyle=d,a.fillText(b,g.get_x(),g.get_y()),a.restore()};lt.Controls.GraphicsHelper.addRoundRect=function(a,b,c,d){if(1>c||1>d)return a.rect(b.get_x(),b.get_y(),b.get_width(),b.get_height()),!0;var e=b.get_x(),f=b.get_y(),g=b.get_width(),b=b.get_height();a.moveTo(e+c,f);a.lineTo(e+g-c,f);a.quadraticCurveTo(e+g,f,e+g,f+d);a.lineTo(e+g,f+b-d);a.quadraticCurveTo(e+g,f+b,e+g-c,f+b);a.lineTo(e+c,f+b);a.quadraticCurveTo(e,f+b,e,f+b-d);a.lineTo(e,f+d);a.quadraticCurveTo(e,
f,e+c,f);return!0};lt.Controls.GraphicsHelper.addEllipse=function(a,b){var c=b.get_x(),d=b.get_width(),e=b.get_y(),f=b.get_height(),g=0.5522848*(d/2),h=0.5522848*(f/2),i=c+d,j=e+f,d=c+d/2,f=e+f/2;a.moveTo(c,f);a.bezierCurveTo(c,f-h,d-g,e,d,e);a.bezierCurveTo(d+g,e,i,f-h,i,f);a.bezierCurveTo(i,f+h,d+g,j,d,j);a.bezierCurveTo(d-g,j,c,f+h,c,f)};lt.Controls.GraphicsHelper.getNativeContext=function(a){return a.get_context()};lt.Controls._imageViewerCommonClasses=function(){};lt.Controls._elementsHelper=
function(){};lt.Controls._elementsHelper.isImgElement=function(a){return null!=a&&a instanceof HTMLImageElement};lt.Controls._elementsHelper.isCanvasElement=function(a){return null!=a&&a instanceof HTMLCanvasElement};lt.Controls._elementsHelper.isSvgElement=function(a){return null!=a&&a instanceof SVGElement};lt.Controls._elementsHelper.isElement=function(a){return null!=a&&a instanceof Element};lt.Controls._elementsHelper.isHTMLElement=function(a){return null!=a&&a instanceof HTMLElement};lt.Controls._elementsHelper.isNonImgAndNonSvgElement=
function(a){return lt.Controls._elementsHelper.isElement(a)&&!lt.Controls._elementsHelper.isImgElement(a)&&!lt.Controls._elementsHelper.isSvgElement(a)};lt.Controls._elementsHelper.repaint=function(a){return a.offsetHeight};lt.Controls._elementsHelper.getElementComputedStyles=function(a){return window.getComputedStyle(a)};lt.Controls._elementsHelper.getElementCSSString=function(a,b){return a[b].toString()};lt.Controls._elementsHelper.getElementCSSInt=function(a,b){var c=lt.Controls._elementsHelper.getElementCSSString(a,
b),c=parseInt(c,10);return isNaN(c)?0:c};lt.Controls._elementsHelper.getElementCSSArrayInt=function(a,b,c){for(var d=["Top","Right","Bottom","Left"],e=Array(4),f=0;4>f;f++)e[f]=lt.Controls._elementsHelper.getElementCSSInt(a,b+d[f]+c);return e};lt.Controls._elementsHelper.getSize=function(a){var b=-1,c=-1;if(lt.Controls._elementsHelper.isHTMLElement(a)){if(lt.Controls._elementsHelper.isImgElement(a)&&a.naturalWidth&&a.naturalHeight)return lt.LeadSizeD.create(a.naturalWidth,a.naturalHeight);var d=document.createElement("span");
d.style.visibility="hidden";d.style.display="inline-block";d.style.position="absolute";d.appendChild(a);document.body.appendChild(d);var e=!1,b=a.style.boxSizing;String.isNullOrWhiteSpace(b)&&(b=lt.Controls._elementsHelper.getElementComputedStyles(a).boxSizing,!String.isNullOrWhiteSpace(b)&&"content-box"!==b&&(e=!0,a.style.boxSizing="content-box"));c=lt.Controls._elementsHelper.getElementComputedStyles(d);b=parseInt(c.width,10);c=parseInt(c.height,10);document.body.removeChild(d);d.removeChild(a);
e&&(a.style.boxSizing="")}else lt.Controls._elementsHelper.isSvgElement(a)&&(b=parseInt(a.getAttribute("width")),c=parseInt(a.getAttribute("height")));return 0>b||0>c?lt.LeadSizeD.get_empty():lt.LeadSizeD.create(b,c)};lt.Controls._elementsHelper.createElementsModePrefixClasses=function(a,b){var c=document.createElement("style");c.type="text/css";c.id=b;var d,e="",f;d={position:"absolute","box-sizing":"content-box",visibility:"visible"};var g=[a.get_viewElementClass(),a.get_itemElementClass(),a.get_itemImageElementClass(),
a.get_itemBackImageElementClass(),a.get_itemImageClippingElementClass(),a.get_itemImageFlipElementClass(),a.get_itemImageBorderElementClass(),a.get_itemTextElementClass()];f="";for(var h=0;h<g.length-1;h++)f+=String.format(".{0}, ",g[h]);f+=String.format(".{0}",g[h]);e+=lt.Controls._elementsHelper._createClassText(f,d);d={"-ms-transform-origin":"0 0","-webkit-transform-origin":"0 0","transform-origin":"0 0"};f=String.format(".{0}, .{1}, .{2}",a.get_viewElementClass(),a.get_itemElementClass(),a.get_itemImageClippingElementClass());
e+=lt.Controls._elementsHelper._createClassText(f,d);d={"-ms-transform-origin":"50% 50%","-webkit-transform-origin":"50% 50%","transform-origin":"50% 50%"};f=String.format(".{0}, .{1}, .{2}",a.get_itemImageElementClass(),a.get_itemBackImageElementClass(),a.get_itemImageFlipElementClass(),a.get_itemImageBorderElementClass());e+=lt.Controls._elementsHelper._createClassText(f,d);d={left:"0px",top:"0px",overflow:"hidden"};f=String.format(".{0}",a.get_viewElementClass());e+=lt.Controls._elementsHelper._createClassText(f,
d);d={"white-space":"nowrap"};f=String.format(".{0}",a.get_itemImageFlipElementClass());e+=lt.Controls._elementsHelper._createClassText(f,d);d={position:"relative"};f=String.format(".{0} > *",a.get_itemImageElementClass());e+=lt.Controls._elementsHelper._createClassText(f,d);c.innerHTML=e;document.getElementsByTagName("head")[0].appendChild(c)};lt.Controls._elementsHelper.createElementsModeCommonClasses=function(a){var b=document.createElement("style");b.type="text/css";b.id=a;var c="",d,a={"-webkit-transition":"none !important",
transition:"none !important"};d=String.format(".{0}, .{0} *","lt_no_transition");c+=lt.Controls._elementsHelper._createClassText(d,a);a={"-ms-transition":"none !important","-webkit-transition":"none !important",transition:"none !important"};d=String.format(".{0}, .{0} *","lt_item_no_transition");c+=lt.Controls._elementsHelper._createClassText(d,a);b.innerHTML=c;document.getElementsByTagName("head")[0].appendChild(b)};lt.Controls._elementsHelper.createNamespaceClasses=function(a,b){var c=document.createElement("style");
c.type="text/css";c.id=b;var d,e="",f="";d={position:"relative"};f=String.format(".{0}",a);e+=lt.Controls._elementsHelper._createClassText(f,d);d={margin:"0px",position:"relative","z-index":"inherit","vertical-align":"inherit"};f=String.format(".{0}-{1}",a,"autoscroll");e+=lt.Controls._elementsHelper._createClassText(f,d);d={width:"100%",height:"100%",padding:"0px",position:"absolute"};f=String.format(".{0}-{1}",a,"main");e+=lt.Controls._elementsHelper._createClassText(f,d);d={left:"0",top:"0",position:"absolute"};
f=String.format(".{0}-{1}",a,"forecanvas");e+=lt.Controls._elementsHelper._createClassText(f,d);d={visibility:"hidden"};f=String.format(".{0}-{1}",a,"images");e+=lt.Controls._elementsHelper._createClassText(f,d);d={left:"0",top:"0",position:"absolute",overflow:"hidden"};f=String.format(".{0}-{1}",a,"viewholder");e+=lt.Controls._elementsHelper._createClassText(f,d);d={left:"0",top:"0",position:"absolute"};f=String.format(".{0}-{1}",a,"eventcanvas");e+=lt.Controls._elementsHelper._createClassText(f,
d);d={position:"relative",height:"100%",overflow:"hidden","pointer-events":"none"};f=String.format(".{0}-{1}",a,"passthrough");e+=lt.Controls._elementsHelper._createClassText(f,d);d={"pointer-events":"none"};f=String.format(".{0} .{1}-{2}","lt_pointer_events",a,"forecanvas");e+=lt.Controls._elementsHelper._createClassText(f,d);c.innerHTML=e;document.getElementsByTagName("head")[0].appendChild(c)};lt.Controls._elementsHelper.createCommonClasses=function(a){var b=document.createElement("style");b.type=
"text/css";b.id=a;var c="",d,a={overflow:"hidden"};d=String.format(".{0}","lt_no_overflow");c+=lt.Controls._elementsHelper._createClassText(d,a);a={display:"none"};d=String.format(".{0}","lt_no_display");c+=lt.Controls._elementsHelper._createClassText(d,a);b.innerHTML="\n"+c;document.getElementsByTagName("head")[0].appendChild(b)};lt.Controls._elementsHelper._createClassText=function(a,b){var c="",d;for(d in b)c+=String.format("   {0}: {1};\n",d,b[d]);return String.format("{0} {\n{1}}\n",a,c)};lt.Controls.ControlsHelper=
function(){};lt.Controls.ControlsHelper.checkIfNull=function(a,b){if(null==a)throw new lt.ArgumentNullException(b);};lt.Controls.ControlsHelper.isTranslateOnly=function(a){return lt.LeadDoubleTools.areClose(a.get_m11(),1)&&lt.LeadDoubleTools.areClose(a.get_m12(),0)&&lt.LeadDoubleTools.areClose(a.get_m21(),0)&&lt.LeadDoubleTools.areClose(a.get_m22(),1)};lt.Controls.ControlsHelper.isRightAngle=function(a){var b=Math.abs(a.get_m11()),c=Math.abs(a.get_m12()),d=Math.abs(a.get_m21()),a=Math.abs(a.get_m22()),
e=!lt.LeadDoubleTools.areClose(b,0)&&!lt.LeadDoubleTools.areClose(a,0)&&lt.LeadDoubleTools.areClose(c,0)&&lt.LeadDoubleTools.areClose(d,0);e||(e=lt.LeadDoubleTools.areClose(b,0)&&lt.LeadDoubleTools.areClose(a,0)&&!lt.LeadDoubleTools.areClose(c,0)&&!lt.LeadDoubleTools.areClose(d,0));return e};lt.Controls.ControlsHelper.getDateTimeNow=function(){return Date.get_now().getTime()};lt.Controls.ControlsHelper.getTimeSpan=function(a,b){return a-b};lt.Controls.ControlsHelper._isUpper=function(a,b){return"A"<=
a[b]&&"Z">=a[b]};lt.Controls.ControlsHelper.getPropertyName=function(a){if(String.isNullOrEmpty(a))return a;if("ID"===a)return"id";for(var b=!1,c=0,d=0;d<a.length;d++)if(lt.Controls.ControlsHelper._isUpper(a,d))c++;else{b=!0;break}return!b&&1!==a.length||!c?a:1<c?a.substring(0,c-1).toLowerCase()+a.substring(c-1):1===a.length?a.toLowerCase():a.substring(0,1).toLowerCase()+a.substring(1)};lt.Controls.ControlsHelper.checkResolution=function(a,b){lt.Controls.ControlsHelper.checkIfNull(a,b);if(!a.get_isEmpty()&&
(0>a.get_width()||0>a.get_height()))throw new lt.ArgumentOutOfRangeException(b,a,"Must have a width and height values greater than or equal to 0");};lt.Controls._imageProcessingHelper=function(){};lt.Controls._imageProcessingHelper.get_canInvert=function(){return null!=lt.Controls.ImageViewer.get_imageProcessingLibrariesPath()};lt.Controls._imageProcessingHelper.invert=function(a){if(null==a)return!1;var b=a.get_canvas();if(null==b)return!1;for(var c=a=null,d=null,c=b.getContext("2d"),a=c.getImageData(0,
0,b.width,b.height),d=a.data,b=d.length,e=0;e<b;)d[e]=lt.Controls._imageProcessingHelper._invertMap[d[e++]],d[e]=lt.Controls._imageProcessingHelper._invertMap[d[e++]],d[e]=lt.Controls._imageProcessingHelper._invertMap[d[e++]],e++;c.putImageData(a,0,0);return!0};lt.Controls._interpolatorRenderData=function(){this._srcRect=lt.LeadRectD.create(0,0,0,0);this._dstRect=lt.LeadRectD.create(0,0,0,0);this._transform=lt.LeadMatrix.get_identity()};lt.Controls._interpolatorRenderData.prototype={get_srcRect:function(){return this._srcRect.clone()},
set_srcRect:function(a){this._srcRect=a.clone();return a},get_dstRect:function(){return this._dstRect.clone()},set_dstRect:function(a){this._dstRect=a.clone();return a},get_transform:function(){return this._transform.clone()},set_transform:function(a){this._transform=a.clone();return a},updateTransform:function(a){this._transform=a.clone();if(this._transform.get_isIdentity())this._dstRect=this._srcRect;else{var a=this._transform.get_m11(),b=this._transform.get_m12(),c=this._transform.get_m21(),d=
this._transform.get_m22(),e=this._transform.get_offsetX(),f=this._transform.get_offsetY(),g=Math.sqrt(a*a+b*b),h=Math.sqrt(c*c+d*d);this._dstRect=lt.LeadRectD.create(parseInt(this._srcRect.get_x()*g+0.5),parseInt(this._srcRect.get_y()*h+0.5),parseInt(this._srcRect.get_width()*g+0.5),parseInt(this._srcRect.get_height()*h+0.5));this._transform=lt.LeadMatrix.create(a/g,b/g,c/h,d/h,e,f)}}};lt.Controls._wholeNumberQueueData=function(){this.previous=this.next=-1};lt.Controls._wholeNumberQueue=function(){this._tail=
this._head=-1;this._map=[]};lt.Controls._wholeNumberQueue.prototype={_map:null,_length:0,get_length:function(){return this._length},remove:function(a){var b=this._map[a];if(null==b)return this._length;var c=this._map[b.next],d=this._map[b.previous];this._head===a?this._head=b.next:d.next=b.next;this._tail===a?this._tail=b.previous:c.previous=b.previous;this._map[a]=null;this._length--;return this._length},enqueue:function(a){if(0>a)throw new lt.InvalidOperationException("Can only queue whole numbers");
this.remove(a);var b=new lt.Controls._wholeNumberQueueData;b.previous=this._tail;var c=this._map[this._tail];null!=c?c.next=a:this._head=a;this._tail=a;this._map[a]=b;this._length++;return this._length},dequeue:function(){var a=this._head;this.remove(this._head);return a}};lt.Controls._interpolatorManager=function(a){this._lastQueued=-1;this._imageViewer=a;this._runMode=0;this._updateRunMode()};lt.Controls._interpolatorManager.prototype={_imageViewer:null,_runMode:0,get_runMode:function(){return this._runMode},
set_runMode:function(a){this._runMode!==a&&(this._runMode=a,this._updateRunMode());return a},_interpolatorQueue:null,_currentItemIndex:0,_updateRunMode:function(){this._runMode?this._interpolatorQueue=null:(this._interpolatorQueue=new lt.Controls._wholeNumberQueue,this._currentItemIndex=-1)},register:function(a){if(this._runMode||this._currentItemIndex===a)return!0;if(-1===this._currentItemIndex)return this._currentItemIndex=a,!0;a!==this._lastQueued&&(this._lastQueued=a,this._interpolatorQueue.enqueue(a));
return!1},release:function(a){this._runMode||null==this._imageViewer||((a===this._lastQueued&&(this._lastQueued=-1),a===this._currentItemIndex)?(this._currentItemIndex=this._interpolatorQueue.dequeue(),-1!==this._currentItemIndex&&(a=this._imageViewer.get_items().get__props()[this._currentItemIndex],null!=a.interpolator&&a.interpolator.start())):this._interpolatorQueue.remove(a))}};lt.Controls._canvasManager=function(){};lt.Controls._canvasManager.createSourceData=function(a,b,c){if(b.get_isEmpty()||
null==a)return null;var d=b.get_width(),b=b.get_height(),e=1;if(0<c&&(d>c||b>c))e=d>b?c/d:c/b,d=lt.Controls.PrimitivesHelper.toInt(d*e),b=lt.Controls.PrimitivesHelper.toInt(b*e);lt.Controls._canvasManager._canvas.width=parseInt(d);lt.Controls._canvasManager._canvas.height=parseInt(b);if((e=lt.LTHelper.ensureUsableCanvas(lt.Controls._canvasManager._canvas))&&1!==e)d*=e,b*=e;c=lt.Controls._canvasManager._canvas.getContext("2d");e=null;try{c.drawImage(a,0,0,d,b),e=c.getImageData(0,0,d,b)}catch(f){return null}return e};
lt.Controls._canvasManager.createDestinationData=function(a){var b=lt.Controls.PrimitivesHelper.toInt(a.get_width()),a=lt.Controls.PrimitivesHelper.toInt(a.get_height());if(b!==lt.Controls._canvasManager._canvas.width||a!==lt.Controls._canvasManager._canvas.height)lt.Controls._canvasManager._canvas.width=b,lt.Controls._canvasManager._canvas.height=a;return lt.Controls._canvasManager._canvas.getContext("2d").createImageData(b,a)};lt.Controls._canvasManager.drawResult=function(a,b,c){var d=lt.Controls.PrimitivesHelper.toInt(c.get_width()),
e=lt.Controls.PrimitivesHelper.toInt(c.get_height());if(d!==lt.Controls._canvasManager._canvas.width||e!==lt.Controls._canvasManager._canvas.height)lt.Controls._canvasManager._canvas.width=d,lt.Controls._canvasManager._canvas.height=e;lt.Controls._canvasManager._canvas.getContext("2d").putImageData(b,0,0);a.drawImage(lt.Controls._canvasManager._canvas,c.get_x(),c.get_y(),c.get_width(),c.get_height())};lt.Controls._interpolator=function(a,b){this._imageViewer=a;this._item=b;this._interpolationTimeout_Delegate=
ss.Delegate.create(this,this._interpolationTimeout)};lt.Controls._interpolator.prototype={_imageViewer:null,_item:null,_command:null,_timeoutVar:0,_resultData:null,_interpolationTimeout_Delegate:null,dispose:function(){this._resultData=null},stop:function(a,b){null==this._imageViewer||null==this._item||(this._stopCommand(a),this._hasInterpolationResult=!1,this._renderData=this._resultData=null,b&&this._imageViewer._InterpolatorManager.release(this._imageViewer.get_items().indexOf(this._item)))},_stopCommand:function(a){this._timeoutVar&&
(clearTimeout(this._timeoutVar),this._timeoutVar=0);null!=this._command&&this._command.get_isRunning()&&(this._command.abort(),a&&this._imageViewer._internalOnInterpolation(lt.Controls.InterpolationEventArgs.create(this._imageViewer.get_interpolationMode(),this._item,null,2)));this._command=null},start:function(){if(!(null==this._imageViewer||null==this._item||!this._item.get_hasImage()||null==lt.Controls.ImageViewer.get_imageProcessingLibrariesPath())){var a=this._imageViewer.get_items().indexOf(this._item);
if(-1!==a&&this._imageViewer._InterpolatorManager.register(a)&&(this.stop(!0,!1),1===this._imageViewer.get_interpolationMode()||2===this._imageViewer.get_interpolationMode()))this._timeoutVar&&(clearTimeout(this._timeoutVar),this._timeoutVar=0),this._timeoutVar=setTimeout(this._interpolationTimeout_Delegate,100)}},_interpolationTimeout:function(){if(!(null==this._imageViewer||null==this._item)){var a=this._imageViewer.get_items().indexOf(this._item),b=this._imageViewer.get_interpolationMode(),c=lt.Controls.InterpolationEventArgs.create(b,
this._item,null,0);this._imageViewer._internalOnInterpolation(c);if(c.get_isCanceled())this._imageViewer._InterpolatorManager.release(a);else{c=null;1===b?c="ResizeBilinear":2===b&&(c="ScaleToGray");var d=this._item.get_imageSize(),e=this._item.get_imageScale(),f=d.clone();f.set_width(f.get_width()/e);f.set_height(f.get_height()/e);e={};e.width=parseInt(d.get_width());e.height=parseInt(d.get_height());var g=new lt.Controls._interpolatorRenderData;g.set_srcRect(lt.LeadRectD.create(0,0,d.get_width(),
d.get_height()));g.updateTransform(this._imageViewer.getItemImageTransform(this._item));var h=g.get_dstRect();if(8>h.get_width()||8>h.get_height()||h.get_width()>=d.get_width()||h.get_height()>=d.get_height())this._imageViewer._InterpolatorManager.release(a);else{var i=null,d=null;try{null!=this._item.get_canvas()&&(i=this._item.get_canvas().getContext("2d").getImageData(0,0,this._item.get_canvas().width,this._item.get_canvas().height));if(null==i){var j=this._item.get_image();null!=j&&lt.Controls.ImageViewerItem._isImageCompleted(j)&&
(i=lt.Controls._canvasManager.createSourceData(j,f,lt.Controls.CanvasOptions.get_maximumInterpolationSize()))}if(null==i)this._imageViewer._InterpolatorManager.release(a);else{d=lt.Controls._canvasManager.createDestinationData(h);this._command=new lt.ImageProcessing;this._command.set_jsFilePath(lt.Controls.ImageViewer._getImageProcessingFile(lt.Controls.ImageViewer.get_imageProcessingLibrariesPath(),"Leadtools.ImageProcessing.Core.js"));this._command.set_command(c);this._command.set_imageData(i);
var k=this._command.get_arguments();if(null!=e)for(a=0;a<Object.getKeyCount(e);a++)k[Object.keys(e)[a]]=e[Object.keys(e)[a]];k.resultImage=d;this._command.add_completed(ss.Delegate.create(this,this._imageProcessingCompeletedHandler));this._command.add_error(ss.Delegate.create(this,this._imageProcessingErrorHandler));this._renderData=g;this._command.run()}}catch(n){this._imageViewer._internalOnInterpolation(lt.Controls.InterpolationEventArgs.create(b,this._item,n,3))}}}}},_hasInterpolationResult:!1,
get_hasInterpolationResult:function(){return this._hasInterpolationResult},_renderData:null,_imageProcessingCompeletedHandler:function(a,b){var c=Type.safeCast(a,lt.ImageProcessing);c.remove_completed(ss.Delegate.create(this,this._imageProcessingCompeletedHandler));c.remove_error(ss.Delegate.create(this,this._imageProcessingErrorHandler));c.abort();c=null;try{this._resultData=b.get_results().resultImage}catch(d){c=d}this._interpolationCompeleted(c)},_interpolationCompeleted:function(a){if(null!=a)this.stop(!1,
!0),this._imageViewer._internalOnInterpolation(lt.Controls.InterpolationEventArgs.create(this._imageViewer.get_interpolationMode(),this._item,a,3));else{this._hasInterpolationResult=!0;this._stopCommand(!1);a=this._imageViewer.get_eraseBackgroundOnInvalidate();try{this._imageViewer.set_eraseBackgroundOnInvalidate(!1),this._imageViewer.invalidateItem(this._item),this._imageViewer._internalOnInterpolation(lt.Controls.InterpolationEventArgs.create(this._imageViewer.get_interpolationMode(),this._item,
null,1))}finally{this._imageViewer.set_eraseBackgroundOnInvalidate(a)}this._imageViewer._InterpolatorManager.release(this._imageViewer.get_items().indexOf(this._item))}},_imageProcessingErrorHandler:function(a,b){var c=Type.safeCast(a,lt.ImageProcessing);c.remove_completed(ss.Delegate.create(this,this._imageProcessingCompeletedHandler));c.remove_error(ss.Delegate.create(this,this._imageProcessingErrorHandler));c.abort();this._interpolationCompeleted(b.get_error())},renderImage:function(a){if(null!=
this._resultData){var b=this._renderData.get_transform(),c=this._renderData.get_dstRect();a.save();a.transform(b.get_m11(),b.get_m12(),b.get_m21(),b.get_m22(),b.get_offsetX(),b.get_offsetY());lt.Controls._canvasManager.drawResult(a,this._resultData,c);a.restore()}},onTransformChanged:function(){if(this._hasInterpolationResult){var a=this._item.get_imageSize(),b=new lt.Controls._interpolatorRenderData;b.set_srcRect(lt.LeadRectD.create(0,0,a.get_width(),a.get_height()));b.updateTransform(this._imageViewer.getItemImageTransform(this._item));
var c=b.get_dstRect(),d=this._renderData.get_dstRect(),a=parseInt(d.get_width()+0.5),d=parseInt(d.get_height()+0.5),e=parseInt(c.get_width()+0.5),c=parseInt(c.get_height()+0.5);if(a===e||d===c){this._renderData=b;return}}this.stop(!0,!1);this.start()}};lt.Controls._leadTimer=function(a,b,c,d,e){this._intervalId=this._timeoutId=-1;this._ownerControl=a;this._callback=b;this._createNativeTimer(c,d,e);this._init()};lt.Controls._leadTimer.prototype={_ownerControl:null,_callback:null,_cleanUp:function(){this._deleteNativeTimers();
this._callback=this._ownerControl=null},_init:function(){this._onCallback_Delegate=ss.Delegate.create(this,this._onCallback)},_onCallback_Delegate:null,dispose:function(){this._cleanUp()},_period:0,_state:null,_createNativeTimer:function(a,b,c){c||(c=1);this._state=a;this.change(b,c)},_deleteNativeTimers:function(){-1!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=-1);-1!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=-1);this._period=0},change:function(a,
b){this._deleteNativeTimers();this._period=b;this._period||(this._period=1);-1!==a&&(this._timeoutId=setTimeout(ss.Delegate.create(this,function(){this._callback!=null&&this._callback(this._state);clearTimeout(this._timeoutId);this._timeoutId=-1;if(this._period>0)this._intervalId=setInterval(this._onCallback_Delegate,b)}),a))},_onCallback:function(){null!=this._callback&&this._callback(this._state)}};lt.Controls.PrimitivesHelper=function(){};lt.Controls.PrimitivesHelper.toInt=function(a){return 0<=
a?Math.round(a):-Math.round(-a)};lt.Controls.PrimitivesHelper.toRenderTransform=function(a){if(a.get_isIdentity())return a;a.set_offsetX(lt.Controls.PrimitivesHelper.toInt(1E5*a.get_offsetX())/1E5);a.set_offsetY(lt.Controls.PrimitivesHelper.toInt(1E5*a.get_offsetY())/1E5);a.set_m11(lt.Controls.PrimitivesHelper.toInt(1E5*a.get_m11())/1E5);a.set_m12(lt.Controls.PrimitivesHelper.toInt(1E5*a.get_m12())/1E5);a.set_m21(lt.Controls.PrimitivesHelper.toInt(1E5*a.get_m21())/1E5);a.set_m22(lt.Controls.PrimitivesHelper.toInt(1E5*
a.get_m22())/1E5);return a};lt.Controls.PrimitivesHelper.roundTo=function(a,b){var c=Math.pow(10,b);return lt.Controls.PrimitivesHelper.toInt(a*c)/c};lt.Controls.PrimitivesHelper.toCSSTransform=function(a){return String.format("matrix({0}, {1}, {2}, {3}, {4}, {5})",a.get_m11(),a.get_m12(),a.get_m21(),a.get_m22(),a.get_offsetX(),a.get_offsetY())};lt.Controls.PrimitivesHelper.getBoundingRect=function(a){for(var b=a[0].get_x(),c=a[0].get_y(),d=b,e=c,f=1;f<a.length;f++)a[f].get_x()<b&&(b=a[f].get_x()),
a[f].get_x()>d&&(d=a[f].get_x()),a[f].get_y()<c&&(c=a[f].get_y()),a[f].get_y()>e&&(e=a[f].get_y());return lt.LeadRectD.fromLTRB(b,c,d,e)};lt.Controls.PrimitivesHelper.getCornerPoints=function(a){var b=a.get_isEmpty();return[!b?lt.LeadPointD.create(a.get_left(),a.get_top()):lt.LeadPointD.create(0,0),!b?lt.LeadPointD.create(a.get_right(),a.get_top()):lt.LeadPointD.create(0,0),!b?lt.LeadPointD.create(a.get_right(),a.get_bottom()):lt.LeadPointD.create(0,0),!b?lt.LeadPointD.create(a.get_left(),a.get_bottom()):
lt.LeadPointD.create(0,0)]};lt.Controls.PrimitivesHelper.transformRect=function(a,b){var c=lt.Controls.PrimitivesHelper.getCornerPoints(a);b.transformPoints(c);return lt.Controls.PrimitivesHelper.getBoundingRect(c)};lt.Controls.PrimitivesHelper.getCenterPoint=function(a){return lt.LeadPointD.create(a.get_x()+a.get_width()/2,a.get_y()+a.get_height()/2)};lt.Controls.PrimitivesHelper.unionRects=function(a,b){return lt.LeadRectD.unionRects(a,b)};lt.Controls.PrimitivesHelper.cloneOrZeroPoint=function(a){return null==
a||a.get_isEmpty()?lt.LeadPointD.create(0,0):a.clone()};lt.Controls.PrimitivesHelper.cloneOrZeroSize=function(a){return null==a||a.get_isEmpty()?lt.LeadSizeD.create(0,0):a.clone()};lt.Controls.PrimitivesHelper.cloneOrZeroRect=function(a){return null==a||a.get_isEmpty()?lt.LeadRectD.create(0,0,0,0):a.clone()};lt.Controls.PrimitivesHelper.isEmptyOrZeroPoint=function(a){return a.get_isEmpty()||!a.get_x()&&!a.get_y()};lt.Controls.PrimitivesHelper.isEmptyOrZeroSize=function(a){return a.get_isEmpty()||
!a.get_width()&&!a.get_height()};lt.Controls.PrimitivesHelper.isEmptyOrZeroRect=function(a){return a.get_isEmpty()||!a.get_width()&&!a.get_height()};lt.Controls.PrimitivesHelper.toLeadPointD=function(a){return a.clone()};lt.Controls.PrimitivesHelper.toLeadSizeD=function(a){return a.clone()};lt.Controls.PrimitivesHelper.toLeadRectD=function(a){return a.clone()};lt.Controls.PrimitivesHelper.toLeadPoint=function(a){return a.get_isEmpty()?lt.LeadPointD.create(0,0):lt.LeadPointD.create(lt.Controls.PrimitivesHelper.toInt(a.get_x()),
lt.Controls.PrimitivesHelper.toInt(a.get_y()))};lt.Controls.PrimitivesHelper.toLeadSize=function(a){return a.get_isEmpty()?lt.LeadSizeD.create(0,0):lt.LeadSizeD.create(lt.Controls.PrimitivesHelper.toInt(a.get_width()),lt.Controls.PrimitivesHelper.toInt(a.get_height()))};lt.Controls.PrimitivesHelper.toLeadRect=function(a){return a.get_isEmpty()?lt.LeadRectD.create(0,0,0,0):lt.LeadRectD.create(lt.Controls.PrimitivesHelper.toInt(a.get_x()),lt.Controls.PrimitivesHelper.toInt(a.get_y()),lt.Controls.PrimitivesHelper.toInt(a.get_width()),
lt.Controls.PrimitivesHelper.toInt(a.get_height()))};lt.Controls.PrimitivesHelper.normalizeRect=function(a){return a};lt.Controls._eventHelper=function(){};lt.Controls._eventHelper.windowAddEventListener=function(a,b){lt.Controls._eventHelper._changeEventListener(!0,lt.Controls._eventHelper._window,a,b,!1,!1)};lt.Controls._eventHelper.windowRemoveEventListener=function(a,b){lt.Controls._eventHelper._changeEventListener(!1,lt.Controls._eventHelper._window,a,b,!1,!1)};lt.Controls._eventHelper.documentAddEventListener=
function(a,b){lt.Controls._eventHelper._changeEventListener(!0,lt.Controls._eventHelper._document,a,b,!1,!1)};lt.Controls._eventHelper.documentRemoveEventListener=function(a,b){lt.Controls._eventHelper._changeEventListener(!1,lt.Controls._eventHelper._document,a,b,!1,!1)};lt.Controls._eventHelper.addEventListener=function(a,b,c){lt.Controls._eventHelper._changeEventListener(!0,a,b,c,!1,!1)};lt.Controls._eventHelper.removeEventListener=function(a,b,c){lt.Controls._eventHelper._changeEventListener(!1,
a,b,c,!1,!1)};lt.Controls._eventHelper._changeEventListener=function(a,b,c,d,e,f){if(lt.LTHelper.browser===lt.LTBrowser.chrome&&56<=lt.LTHelper.version)b[(a?"add":"remove")+"EventListener"](c,d,{capture:e,passive:f});else a?b.addEventListener(c,d,!1):b.removeEventListener(c,d,!1)};lt.Controls._windowViewerHelper=function(){};lt.Controls._windowViewerHelper.add=function(a){lt.Controls._windowViewerHelper._viewers.contains(a)||(lt.Controls._windowViewerHelper._viewers.length||(lt.Controls._eventHelper.windowAddEventListener("resize",
lt.Controls._windowViewerHelper._resize_Delegate),lt.Controls._eventHelper.windowAddEventListener("orientationchange",lt.Controls._windowViewerHelper._delayedResize_Delegate),lt.Controls._eventHelper.windowAddEventListener("orientationchanged",lt.Controls._windowViewerHelper._delayedResize_Delegate),lt.Controls._windowModifierKeyHelper.registerGlobalModifierKeys()),lt.Controls._windowViewerHelper._viewers.add(a))};lt.Controls._windowViewerHelper.remove=function(a){lt.Controls._windowViewerHelper._viewers.contains(a)&&
(lt.Controls._windowViewerHelper._viewers.remove(a),lt.Controls._windowViewerHelper._viewers.length||(lt.Controls._eventHelper.windowRemoveEventListener("resize",lt.Controls._windowViewerHelper._resize_Delegate),lt.Controls._eventHelper.windowRemoveEventListener("orientationchange",lt.Controls._windowViewerHelper._delayedResize_Delegate),lt.Controls._eventHelper.windowRemoveEventListener("orientationchanged",lt.Controls._windowViewerHelper._delayedResize_Delegate),lt.Controls._windowModifierKeyHelper.deregisterGlobalModifierKeys()))};
lt.Controls._windowViewerHelper._resize=function(){for(var a=ss.IEnumerator.getEnumerator(lt.Controls._windowViewerHelper._viewers);a.moveNext();){var b=a.current;if(b.get__canAutoSizeChanged())b.onSizeChanged();if(null!=b.get_interactiveService())b.get_interactiveService().onSizeChanged()}};lt.Controls._windowViewerHelper._delayedResize=function(a){-1===lt.Controls._windowViewerHelper._resizeDelayTimeout&&(lt.Controls._windowViewerHelper._resizeDelayTimeout=setTimeout(function(){lt.Controls._windowViewerHelper._resizeDelayTimeout=
-1;lt.Controls._windowViewerHelper._resize(a)},400))};lt.Controls._windowInteractiveServiceHelper=function(){};lt.Controls._windowInteractiveServiceHelper.add=function(a){lt.Controls._windowInteractiveServiceHelper._services.contains(a)||(lt.Controls._windowInteractiveServiceHelper._services.length||(lt.Controls._eventHelper.windowAddEventListener("scroll",lt.Controls._windowInteractiveServiceHelper._captureScroll_Delegate),lt.Controls._eventHelper.windowAddEventListener("resize",lt.Controls._windowInteractiveServiceHelper._resize_Delegate),
lt.Controls._eventHelper.documentAddEventListener("drag",lt.Controls._windowInteractiveServiceHelper._drag_Delegate),lt.Controls._eventHelper.windowAddEventListener(lt.LTHelper.mouseWheelEvent,lt.Controls._windowInteractiveServiceHelper._mouseWheel_Delegate),lt.Controls._eventHelper.documentAddEventListener("selectstart",lt.Controls._windowInteractiveServiceHelper._selectStart_Delegate),lt.Controls._eventHelper.documentAddEventListener(lt.Controls._msEventsHelper.pointerdown,lt.Controls._windowInteractiveServiceHelper._msPointerDown_Delegate),
lt.Controls._eventHelper.documentAddEventListener(lt.Controls._msEventsHelper.pointermove,lt.Controls._windowInteractiveServiceHelper._msPointerMove_Delegate),lt.Controls._eventHelper.documentAddEventListener(lt.Controls._msEventsHelper.pointerup,lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel_Delegate),lt.Controls._eventHelper.documentAddEventListener(lt.Controls._msEventsHelper.pointercancel,lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel_Delegate),lt.Controls._eventHelper.documentAddEventListener("touchstart",
lt.Controls._windowInteractiveServiceHelper._touchStart_Delegate),lt.Controls._eventHelper.documentAddEventListener("touchmove",lt.Controls._windowInteractiveServiceHelper._touchMove_Delegate),lt.Controls._eventHelper.documentAddEventListener("touchend",lt.Controls._windowInteractiveServiceHelper._touchEndCancel_Delegate),lt.Controls._eventHelper.documentAddEventListener("touchcancel",lt.Controls._windowInteractiveServiceHelper._touchEndCancel_Delegate),lt.Controls._eventHelper.documentAddEventListener("mousedown",
lt.Controls._windowInteractiveServiceHelper._mouseDown_Delegate),lt.Controls._eventHelper.documentAddEventListener("mousemove",lt.Controls._windowInteractiveServiceHelper._mouseMove_Delegate),lt.Controls._eventHelper.documentAddEventListener("mouseup",lt.Controls._windowInteractiveServiceHelper._mouseUp_Delegate)),lt.Controls._windowInteractiveServiceHelper._services.add(a))};lt.Controls._windowInteractiveServiceHelper.remove=function(a){lt.Controls._windowInteractiveServiceHelper._services.contains(a)&&
(lt.Controls._windowInteractiveServiceHelper._services.remove(a),lt.Controls._windowInteractiveServiceHelper._services.length||(lt.Controls._eventHelper.windowRemoveEventListener("scroll",lt.Controls._windowInteractiveServiceHelper._captureScroll_Delegate),lt.Controls._eventHelper.windowRemoveEventListener("resize",lt.Controls._windowInteractiveServiceHelper._resize_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("selectstart",lt.Controls._windowInteractiveServiceHelper._selectStart_Delegate),
lt.Controls._eventHelper.documentRemoveEventListener("drag",lt.Controls._windowInteractiveServiceHelper._drag_Delegate),lt.Controls._eventHelper.windowRemoveEventListener(lt.LTHelper.mouseWheelEvent,lt.Controls._windowInteractiveServiceHelper._mouseWheel_Delegate),lt.Controls._eventHelper.documentRemoveEventListener(lt.Controls._msEventsHelper.pointerdown,lt.Controls._windowInteractiveServiceHelper._msPointerDown_Delegate),lt.Controls._eventHelper.documentRemoveEventListener(lt.Controls._msEventsHelper.pointermove,
lt.Controls._windowInteractiveServiceHelper._msPointerMove_Delegate),lt.Controls._eventHelper.documentRemoveEventListener(lt.Controls._msEventsHelper.pointerup,lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel_Delegate),lt.Controls._eventHelper.documentRemoveEventListener(lt.Controls._msEventsHelper.pointercancel,lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("touchstart",lt.Controls._windowInteractiveServiceHelper._touchStart_Delegate),
lt.Controls._eventHelper.documentRemoveEventListener("touchmove",lt.Controls._windowInteractiveServiceHelper._touchMove_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("touchend",lt.Controls._windowInteractiveServiceHelper._touchEndCancel_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("touchcancel",lt.Controls._windowInteractiveServiceHelper._touchEndCancel_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("mousedown",lt.Controls._windowInteractiveServiceHelper._mouseDown_Delegate),
lt.Controls._eventHelper.documentRemoveEventListener("mousemove",lt.Controls._windowInteractiveServiceHelper._mouseMove_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("mouseup",lt.Controls._windowInteractiveServiceHelper._mouseUp_Delegate)))};lt.Controls._windowInteractiveServiceHelper._captureScroll=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessScroll(a)};lt.Controls._windowInteractiveServiceHelper._resize=
function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessResize(a)};lt.Controls._windowInteractiveServiceHelper._drag=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessDrag(a)};lt.Controls._windowInteractiveServiceHelper._mouseWheel=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMouseWheel(a)};
lt.Controls._windowInteractiveServiceHelper._selectStart=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessSelectStart(a)};lt.Controls._windowInteractiveServiceHelper._msPointerDown=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMSPointerDown(a)};lt.Controls._windowInteractiveServiceHelper._msPointerMove=function(a){for(var b=
ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMSPointerMove(a)};lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMSPointerUpCancel(a)};lt.Controls._windowInteractiveServiceHelper._touchStart=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessTouchStart(a)};
lt.Controls._windowInteractiveServiceHelper._touchMove=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessTouchMove(a)};lt.Controls._windowInteractiveServiceHelper._touchEndCancel=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessTouchEndCancel(a)};lt.Controls._windowInteractiveServiceHelper._mouseDown=function(a){for(var b=
ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMouseDown(a)};lt.Controls._windowInteractiveServiceHelper._mouseMove=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMouseMove(a)};lt.Controls._windowInteractiveServiceHelper._mouseUp=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessMouseUp(a)};
lt.Controls._windowInteractiveServiceHelper.keyDown=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessKeyDown(a)};lt.Controls._windowInteractiveServiceHelper.keyDownManual=function(a,b){for(var c=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);c.moveNext();)c.current._keyDownManual(a,b)};lt.Controls._windowInteractiveServiceHelper.keyUp=function(a){for(var b=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);b.moveNext();)b.current._global_ProcessKeyUp(a)};
lt.Controls._windowInteractiveServiceHelper.keyUpManual=function(a,b){for(var c=ss.IEnumerator.getEnumerator(lt.Controls._windowInteractiveServiceHelper._services);c.moveNext();)c.current._keyUpManual(a,b)};lt.Controls._windowModifierKeyHelper=function(){};lt.Controls._windowModifierKeyHelper.registerGlobalModifierKeys=function(){lt.Controls._windowModifierKeyHelper._modifierKeysCounter++;1===lt.Controls._windowModifierKeyHelper._modifierKeysCounter&&(lt.Controls._eventHelper.windowAddEventListener("keydown",
lt.Controls._windowModifierKeyHelper._keyDown_Delegate),lt.Controls._eventHelper.windowAddEventListener("keyup",lt.Controls._windowModifierKeyHelper._keyUp_Delegate),lt.Controls._eventHelper.documentAddEventListener("mouseover",lt.Controls._windowModifierKeyHelper._mouseOver_Delegate),lt.Controls._eventHelper.documentAddEventListener("mouseleave",lt.Controls._windowModifierKeyHelper._mouseLeave_Delegate))};lt.Controls._windowModifierKeyHelper.get_isGlobalModifierKeysRegistered=function(){return 1<=
lt.Controls._windowModifierKeyHelper._modifierKeysCounter};lt.Controls._windowModifierKeyHelper.deregisterGlobalModifierKeys=function(){if(!lt.Controls._windowModifierKeyHelper._modifierKeysCounter)throw new lt.InvalidOperationException("'DeregisterGlobalModifierKeys' called without a matching 'RegisterGlobalModifierKeys'");lt.Controls._windowModifierKeyHelper._modifierKeysCounter--;lt.Controls._windowModifierKeyHelper._modifierKeysCounter||(lt.Controls._eventHelper.windowRemoveEventListener("keydown",
lt.Controls._windowModifierKeyHelper._keyDown_Delegate),lt.Controls._eventHelper.windowRemoveEventListener("keyup",lt.Controls._windowModifierKeyHelper._keyUp_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("mouseover",lt.Controls._windowModifierKeyHelper._mouseOver_Delegate),lt.Controls._eventHelper.documentRemoveEventListener("mouseleave",lt.Controls._windowModifierKeyHelper._mouseLeave_Delegate))};lt.Controls._windowModifierKeyHelper.get_modifierKeys=function(){return lt.Controls._windowModifierKeyHelper._modifierKeys};
lt.Controls._windowModifierKeyHelper._keyDown=function(a){lt.Controls._windowModifierKeyHelper._needsReset=!1;switch(a.keyCode){case 16:lt.Controls._windowModifierKeyHelper._modifierKeys|=65536;break;case 17:lt.Controls._windowModifierKeyHelper._modifierKeys|=131072;break;case 18:lt.Controls._windowModifierKeyHelper._modifierKeys|=262144}lt.Controls._windowInteractiveServiceHelper.keyDown(a)};lt.Controls._windowModifierKeyHelper._keyUp=function(a){lt.Controls._windowModifierKeyHelper._needsReset=
!1;switch(a.keyCode){case 16:lt.Controls._windowModifierKeyHelper._modifierKeys&=-65537;break;case 17:lt.Controls._windowModifierKeyHelper._modifierKeys&=-131073;break;case 18:lt.Controls._windowModifierKeyHelper._modifierKeys&=-262145}lt.Controls._windowInteractiveServiceHelper.keyUp(a)};lt.Controls._windowModifierKeyHelper._mouseOver=function(a){if(lt.Controls._windowModifierKeyHelper._needsReset){lt.Controls._windowModifierKeyHelper._needsReset=!1;try{(a.shiftKey&&65536!==(lt.Controls._windowModifierKeyHelper._modifierKeys&
65536)?(lt.Controls._windowModifierKeyHelper._modifierKeys|=65536,lt.Controls._windowInteractiveServiceHelper.keyDownManual(a,65536)):!a.shiftKey&&65536===(lt.Controls._windowModifierKeyHelper._modifierKeys&65536)&&(lt.Controls._windowModifierKeyHelper._modifierKeys&=-65537,lt.Controls._windowInteractiveServiceHelper.keyUpManual(a,65536)),a.ctrlKey&&131072!==(lt.Controls._windowModifierKeyHelper._modifierKeys&131072)?(lt.Controls._windowModifierKeyHelper._modifierKeys|=131072,lt.Controls._windowInteractiveServiceHelper.keyDownManual(a,
131072)):!a.ctrlKey&&131072===(lt.Controls._windowModifierKeyHelper._modifierKeys&131072)&&(lt.Controls._windowModifierKeyHelper._modifierKeys&=-131073,lt.Controls._windowInteractiveServiceHelper.keyUpManual(a,131072)),a.altKey&&262144!==(lt.Controls._windowModifierKeyHelper._modifierKeys&262144))?(lt.Controls._windowModifierKeyHelper._modifierKeys|=262144,lt.Controls._windowInteractiveServiceHelper.keyDownManual(a,262144)):!a.altKey&&262144===(lt.Controls._windowModifierKeyHelper._modifierKeys&262144)&&
(lt.Controls._windowModifierKeyHelper._modifierKeys&=-262145,lt.Controls._windowInteractiveServiceHelper.keyUpManual(a,262144))}catch(b){}}};lt.Controls._windowModifierKeyHelper._mouseLeave=function(){lt.Controls._windowModifierKeyHelper._needsReset=!0};lt.Controls._lT_VersionNumber.registerClass("lt.Controls._lT_VersionNumber");lt.Controls.CanvasOptions.registerClass("lt.Controls.CanvasOptions");lt.Controls.ControlDropShadowOptions.registerClass("lt.Controls.ControlDropShadowOptions");lt.Controls.InterpolationEventArgs.registerClass("lt.Controls.InterpolationEventArgs",
lt.LeadEventArgs);lt.Controls.ControlPadding.registerClass("lt.Controls.ControlPadding");lt.Controls.PropertyChangedEventArgs.registerClass("lt.Controls.PropertyChangedEventArgs",lt.LeadEventArgs);lt.Controls.ControlRegionRenderer.registerClass("lt.Controls.ControlRegionRenderer");lt.Controls.ImageViewer.registerClass("lt.Controls.ImageViewer",null,ss.IDisposable);lt.Controls._imageViewerGroup.registerClass("lt.Controls._imageViewerGroup");lt.Controls.ImageViewerImageLoadingEventArgs.registerClass("lt.Controls.ImageViewerImageLoadingEventArgs",
lt.LeadEventArgs);lt.Controls.ImageViewerCreateOptions.registerClass("lt.Controls.ImageViewerCreateOptions");lt.Controls.ImageViewerElementsModeCreateOptions.registerClass("lt.Controls.ImageViewerElementsModeCreateOptions");lt.Controls.ImageViewerRenderEventArgs.registerClass("lt.Controls.ImageViewerRenderEventArgs",lt.LeadEventArgs);lt.Controls.ImageViewerItemChangedEventArgs.registerClass("lt.Controls.ImageViewerItemChangedEventArgs",lt.LeadEventArgs);lt.Controls.ImageViewerItemErrorEventArgs.registerClass("lt.Controls.ImageViewerItemErrorEventArgs",
lt.LeadEventArgs);lt.Controls.ImageViewerItemDragDropEventArgs.registerClass("lt.Controls.ImageViewerItemDragDropEventArgs",lt.LeadEventArgs);lt.Controls.ImageViewerElementsUpdatedEventArgs.registerClass("lt.Controls.ImageViewerElementsUpdatedEventArgs",lt.LeadEventArgs);lt.Controls.ImageViewerRenderRedirectOptions.registerClass("lt.Controls.ImageViewerRenderRedirectOptions");lt.Controls._controlInertiaScroller.registerClass("lt.Controls._controlInertiaScroller");lt.Controls._inertiaParams.registerClass("lt.Controls._inertiaParams");
lt.Controls.ControlInertiaScrollOptions.registerClass("lt.Controls.ControlInertiaScrollOptions");lt.Controls.ImageViewerInteractiveMode.registerClass("lt.Controls.ImageViewerInteractiveMode");lt.Controls.ImageViewerActiveItemInteractiveMode.registerClass("lt.Controls.ImageViewerActiveItemInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerAutoPanInteractiveMode.registerClass("lt.Controls.ImageViewerAutoPanInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerCenterAtInteractiveMode.registerClass("lt.Controls.ImageViewerCenterAtInteractiveMode",
lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerDragInteractiveMode.registerClass("lt.Controls.ImageViewerDragInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls._targetControls.registerClass("lt.Controls._targetControls");lt.Controls.ImageViewerInteractiveModes.registerClass("lt.Controls.ImageViewerInteractiveModes",lt.LeadCollection);lt.Controls.ImageViewerSpyGlassInteractiveMode.registerClass("lt.Controls.ImageViewerSpyGlassInteractiveMode",lt.Controls.ImageViewerInteractiveMode);
lt.Controls.ImageViewerMagnifyGlassInteractiveMode.registerClass("lt.Controls.ImageViewerMagnifyGlassInteractiveMode",lt.Controls.ImageViewerSpyGlassInteractiveMode);lt.Controls.ImageViewerNoneInteractiveMode.registerClass("lt.Controls.ImageViewerNoneInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerPagerInteractiveMode.registerClass("lt.Controls.ImageViewerPagerInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerPanControl.registerClass("lt.Controls.ImageViewerPanControl",
null,ss.IDisposable);lt.Controls.ImageViewerPanZoomInteractiveMode.registerClass("lt.Controls.ImageViewerPanZoomInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerRubberBandEventArgs.registerClass("lt.Controls.ImageViewerRubberBandEventArgs",lt.LeadEventArgs);lt.Controls.ImageViewerRubberBandInteractiveMode.registerClass("lt.Controls.ImageViewerRubberBandInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerSelectItemsInteractiveMode.registerClass("lt.Controls.ImageViewerSelectItemsInteractiveMode",
lt.Controls.ImageViewerRubberBandInteractiveMode);lt.Controls.ImageViewerSpyGlassDrawImageEventArgs.registerClass("lt.Controls.ImageViewerSpyGlassDrawImageEventArgs",lt.LeadEventArgs);lt.Controls.ImageViewerZoomAtInteractiveMode.registerClass("lt.Controls.ImageViewerZoomAtInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Controls.ImageViewerZoomToInteractiveMode.registerClass("lt.Controls.ImageViewerZoomToInteractiveMode",lt.Controls.ImageViewerRubberBandInteractiveMode);lt.Controls.ImageViewerItem.registerClass("lt.Controls.ImageViewerItem");
lt.Controls.ElementInsertionHelper.registerClass("lt.Controls.ElementInsertionHelper");lt.Controls.ImageViewerItems.registerClass("lt.Controls.ImageViewerItems",lt.LeadCollection);lt.Controls.ImageViewerViewLayout.registerClass("lt.Controls.ImageViewerViewLayout");lt.Controls.ImageViewerHorizontalViewLayout.registerClass("lt.Controls.ImageViewerHorizontalViewLayout",lt.Controls.ImageViewerViewLayout);lt.Controls.ImageViewerSingleViewLayout.registerClass("lt.Controls.ImageViewerSingleViewLayout",lt.Controls.ImageViewerViewLayout);
lt.Controls.ImageViewerVerticalViewLayout.registerClass("lt.Controls.ImageViewerVerticalViewLayout",lt.Controls.ImageViewerViewLayout);lt.Controls.ImageViewerViewLayoutVector.registerClass("lt.Controls.ImageViewerViewLayoutVector");lt.Controls.InteractiveService.registerClass("lt.Controls.InteractiveService",null,ss.IDisposable);lt.Controls.InteractiveEventArgs.registerClass("lt.Controls.InteractiveEventArgs",lt.LeadEventArgs);lt.Controls.InteractiveDragStartedEventArgs.registerClass("lt.Controls.InteractiveDragStartedEventArgs",
lt.Controls.InteractiveEventArgs);lt.Controls.InteractiveDragDeltaEventArgs.registerClass("lt.Controls.InteractiveDragDeltaEventArgs",lt.Controls.InteractiveEventArgs);lt.Controls.InteractiveDragCompletedEventArgs.registerClass("lt.Controls.InteractiveDragCompletedEventArgs",lt.Controls.InteractiveEventArgs);lt.Controls.InteractiveKeyEventArgs.registerClass("lt.Controls.InteractiveKeyEventArgs",lt.LeadEventArgs);lt.Controls.InteractiveMultiTouchEventArgs.registerClass("lt.Controls.InteractiveMultiTouchEventArgs",
lt.Controls.InteractiveEventArgs);lt.Controls.InteractivePinchStartedEventArgs.registerClass("lt.Controls.InteractivePinchStartedEventArgs",lt.Controls.InteractiveMultiTouchEventArgs);lt.Controls.InteractivePinchDeltaEventArgs.registerClass("lt.Controls.InteractivePinchDeltaEventArgs",lt.Controls.InteractiveMultiTouchEventArgs);lt.Controls.InteractivePinchCompletedEventArgs.registerClass("lt.Controls.InteractivePinchCompletedEventArgs",lt.Controls.InteractivePinchDeltaEventArgs);lt.Controls.PaddingHelper.registerClass("lt.Controls.PaddingHelper");
lt.Controls._imageViewerSyncGroup.registerClass("lt.Controls._imageViewerSyncGroup");lt.Controls.ImageViewerSyncManager.registerClass("lt.Controls.ImageViewerSyncManager");lt.Controls._itemProps.registerClass("lt.Controls._itemProps");lt.Controls._layoutRowColumnInfo.registerClass("lt.Controls._layoutRowColumnInfo");lt.Controls._serviceEventData.registerClass("lt.Controls._serviceEventData");lt.Controls._msEventsHelper.registerClass("lt.Controls._msEventsHelper");lt.Controls._dragDropData.registerClass("lt.Controls._dragDropData");
lt.Controls._dragDropHelper.registerClass("lt.Controls._dragDropHelper");lt.Controls._textSizeHelper.registerClass("lt.Controls._textSizeHelper");lt.Controls.GraphicsHelper.registerClass("lt.Controls.GraphicsHelper");lt.Controls._imageViewerCommonClasses.registerClass("lt.Controls._imageViewerCommonClasses");lt.Controls._elementsHelper.registerClass("lt.Controls._elementsHelper");lt.Controls.ControlsHelper.registerClass("lt.Controls.ControlsHelper");lt.Controls._imageProcessingHelper.registerClass("lt.Controls._imageProcessingHelper");
lt.Controls._interpolatorRenderData.registerClass("lt.Controls._interpolatorRenderData");lt.Controls._wholeNumberQueueData.registerClass("lt.Controls._wholeNumberQueueData");lt.Controls._wholeNumberQueue.registerClass("lt.Controls._wholeNumberQueue");lt.Controls._interpolatorManager.registerClass("lt.Controls._interpolatorManager");lt.Controls._canvasManager.registerClass("lt.Controls._canvasManager");lt.Controls._interpolator.registerClass("lt.Controls._interpolator");lt.Controls._leadTimer.registerClass("lt.Controls._leadTimer",
null,ss.IDisposable);lt.Controls.PrimitivesHelper.registerClass("lt.Controls.PrimitivesHelper");lt.Controls._eventHelper.registerClass("lt.Controls._eventHelper");lt.Controls._windowViewerHelper.registerClass("lt.Controls._windowViewerHelper");lt.Controls._windowInteractiveServiceHelper.registerClass("lt.Controls._windowInteractiveServiceHelper");lt.Controls._windowModifierKeyHelper.registerClass("lt.Controls._windowModifierKeyHelper");lt.Controls._lT_VersionNumber.l_VER_PRODUCT="LEADTOOLS\u00ae for JavaScript";
lt.Controls._lT_VersionNumber.l_VER_COMPANYNAME_STR="LEAD Technologies, Inc.";lt.Controls._lT_VersionNumber.l_VER_LEGALTRADEMARKS_STR="LEADTOOLS\u00ae is a trademark of LEAD Technologies, Inc.";lt.Controls._lT_VersionNumber.l_VER_LEGALCOPYRIGHT_STR="\u00a9 1991-2017 LEAD Technologies, Inc.";lt.Controls._lT_VersionNumber.l_VER_DLLEXT=".dll";lt.Controls._lT_VersionNumber.l_VER_EXEEXT=".exe";lt.Controls._lT_VersionNumber.l_VER_PLATFORM="";lt.Controls._lT_VersionNumber.l_VER_PLATFORM_FOR="";lt.Controls._lT_VersionNumber.l_VER_PRODUCTNAME_STR=
"LEADTOOLS\u00ae for JavaScript";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_XXX="Leadtools.Xxx.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_XXX="LEADTOOLS Xxx";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_KERNEL="lt.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_KERNEL="Leadtools";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS="lt.Controls.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS="Controls";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS_UI=
"lt.Documents.UI.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS_UI="Documents User Interface";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS_MEDICAL="lt.Controls.Medical.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS_MEDICAL="Medical Controls";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS="lt.Documents.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS="Documents";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_CORE=
"lt.Annotations.Core.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_CORE="Annotations Core";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_AUTOMATION="lt.Annotations.Automation.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_AUTOMATION="Annotations Automation";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DESIGNERS="lt.Annotations.Designers.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DESIGNERS=
"Annotations Designers";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_RENDERING="lt.Annotations.Rendering.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_RENDERING="Annotations Rendering";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CCOW="Leadtools.Ccow.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CCOW="Leadtools CCOW Library";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DOCUMENTS="Leadtools.Annotations.Documents.dll";
lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DOCUMENTS="Annotations Documents";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_LEGACY="Leadtools.Annotations.Legacy.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_LEGACY="Annotations Legacy";lt.Controls._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_JAVASCRIPT="Leadtools.Annotations.JavaScript.dll";lt.Controls._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_JAVASCRIPT=
"JavaScripot Annotations";lt.Controls._lT_VersionNumber.l_VER_PRODUCTVERSION_DOT_STR="19.0.0.0";lt.Controls._lT_VersionNumber.l_VER_FILEVERSION_DOT_STR="19.0.0.57";lt.Controls.CanvasOptions._autoScale=!0;lt.Controls.CanvasOptions._maximumSize=0;lt.Controls.CanvasOptions._maximumInterpolationSize=4096;lt.Controls.ControlRegionRenderer._instance=new lt.Controls.ControlRegionRenderer;lt.Controls.ControlRegionRenderer.maximumAnimateIndex=65535;lt.Controls.ControlRegionRenderer._animationInterval=100;
lt.Controls.ControlRegionRenderer._timer=null;lt.Controls.ImageViewer._ScreenDpi_Name=lt.Controls.ControlsHelper.getPropertyName("ScreenDpi");lt.Controls.ImageViewer._ScreenDpi_Default=lt.LeadSizeD.create(0,0);lt.Controls.ImageViewer._UseDpi_Name=lt.Controls.ControlsHelper.getPropertyName("UseDpi");lt.Controls.ImageViewer._ScrollMode_Name=lt.Controls.ControlsHelper.getPropertyName("ScrollMode");lt.Controls.ImageViewer._ScrollMode_Default=0;lt.Controls.ImageViewer._RestrictScroll_Name=lt.Controls.ControlsHelper.getPropertyName("RestrictScroll");
lt.Controls.ImageViewer._ScrollOffset_Name=lt.Controls.ControlsHelper.getPropertyName("ScrollOffset");lt.Controls.ImageViewer._ScrollOffset_Default=lt.LeadPointD.create(0,0);lt.Controls.ImageViewer._ViewBorderThickness_Name=lt.Controls.ControlsHelper.getPropertyName("ViewBorderThickness");lt.Controls.ImageViewer._ViewBorderColor_Name=lt.Controls.ControlsHelper.getPropertyName("ViewBorderColor");lt.Controls.ImageViewer._ViewMargin_Name=lt.Controls.ControlsHelper.getPropertyName("ViewMargin");lt.Controls.ImageViewer._ViewMargin_Default=
lt.Controls.PaddingHelper.create(0,0,0,0);lt.Controls.ImageViewer._ViewPadding_Name=lt.Controls.ControlsHelper.getPropertyName("ViewPadding");lt.Controls.ImageViewer._ViewPadding_Default=lt.Controls.PaddingHelper.create(0,0,0,0);lt.Controls.ImageViewer._ViewDropShadow_Name=lt.Controls.ControlsHelper.getPropertyName("ViewDropShadow");lt.Controls.ImageViewer._ViewDropShadow_Default=lt.Controls.ControlDropShadowOptions.createDefault();lt.Controls.ImageViewer._ItemBorderThickness_Name=lt.Controls.ControlsHelper.getPropertyName("ItemBorderThickness");
lt.Controls.ImageViewer._ItemBorderColor_Name=lt.Controls.ControlsHelper.getPropertyName("ItemBorderColor");lt.Controls.ImageViewer._ItemMargin_Name=lt.Controls.ControlsHelper.getPropertyName("ItemMargin");lt.Controls.ImageViewer._ItemMargin_Default=lt.Controls.PaddingHelper.create(0,0,0,0);lt.Controls.ImageViewer._ItemPadding_Name=lt.Controls.ControlsHelper.getPropertyName("ItemPadding");lt.Controls.ImageViewer._ItemPadding_Default=lt.Controls.PaddingHelper.create(0,0,0,0);lt.Controls.ImageViewer._ImageBorderThickness_Name=
lt.Controls.ControlsHelper.getPropertyName("ImageBorderThickness");lt.Controls.ImageViewer._ImageBorderColor_Name=lt.Controls.ControlsHelper.getPropertyName("ImageBorderColor");lt.Controls.ImageViewer._ImageDropShadow_Name=lt.Controls.ControlsHelper.getPropertyName("ImageDropShadow");lt.Controls.ImageViewer._ImageDropShadow_Default=lt.Controls.ControlDropShadowOptions.createDefault();lt.Controls.ImageViewer._ItemSpacing_Name=lt.Controls.ControlsHelper.getPropertyName("ItemSpacing");lt.Controls.ImageViewer._ItemSpacing_Default=
lt.LeadSizeD.create(0,0);lt.Controls.ImageViewer._ItemBackgroundColor_Name=lt.Controls.ControlsHelper.getPropertyName("ItemBackgroundColor");lt.Controls.ImageViewer._ImageBackgroundColor_Name=lt.Controls.ControlsHelper.getPropertyName("ImageBackgroundColor");lt.Controls.ImageViewer._SelectedItemBorderColor_Name=lt.Controls.ControlsHelper.getPropertyName("SelectedItemBorderColor");lt.Controls.ImageViewer._SelectedItemBackgroundColor_Name=lt.Controls.ControlsHelper.getPropertyName("SelectedItemBackgroundColor");
lt.Controls.ImageViewer._HoveredItemBorderColor_Name=lt.Controls.ControlsHelper.getPropertyName("HoveredItemBorderColor");lt.Controls.ImageViewer._HoveredItemBackgroundColor_Name=lt.Controls.ControlsHelper.getPropertyName("HoveredItemBackgroundColor");lt.Controls.ImageViewer._ActiveItemBorderColor_Name=lt.Controls.ControlsHelper.getPropertyName("ActiveItemBorderColor");lt.Controls.ImageViewer._ActiveItemBackgroundColor_Name=lt.Controls.ControlsHelper.getPropertyName("ActiveItemBackgroundColor");lt.Controls.ImageViewer._ItemTextFont_Name=
lt.Controls.ControlsHelper.getPropertyName("ItemTextFont");lt.Controls.ImageViewer._ItemSize_Name=lt.Controls.ControlsHelper.getPropertyName("ItemSize");lt.Controls.ImageViewer._ItemSize_Default=lt.LeadSizeD.create(0,0);lt.Controls.ImageViewer._ItemSizeMode_Name=lt.Controls.ControlsHelper.getPropertyName("ItemSizeMode");lt.Controls.ImageViewer._ItemSizeMode_Default=0;lt.Controls.ImageViewer._ResizeOnTransform_Name=lt.Controls.ControlsHelper.getPropertyName("ResizeOnTransform");lt.Controls.ImageViewer._ClipImageToContent_Name=
lt.Controls.ControlsHelper.getPropertyName("ClipImageToContent");lt.Controls.ImageViewer._ImageHorizontalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("ImageHorizontalAlignment");lt.Controls.ImageViewer._ImageHorizontalAlignment_Default=1;lt.Controls.ImageViewer._ImageVerticalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("ImageVerticalAlignment");lt.Controls.ImageViewer._ImageVerticalAlignment_Default=1;lt.Controls.ImageViewer._TextHorizontalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("TextHorizontalAlignment");
lt.Controls.ImageViewer._TextHorizontalAlignment_Default=1;lt.Controls.ImageViewer._TextVerticalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("TextVerticalAlignment");lt.Controls.ImageViewer._TextVerticalAlignment_Default=2;lt.Controls.ImageViewer._ItemTextWrap_Name=lt.Controls.ControlsHelper.getPropertyName("ItemTextWrap");lt.Controls.ImageViewer._ItemTextTrimming_Name=lt.Controls.ControlsHelper.getPropertyName("ItemTextTrimming");lt.Controls.ImageViewer._ItemTextTrimming_Default=3;lt.Controls.ImageViewer._ItemTextColor_Name=
lt.Controls.ControlsHelper.getPropertyName("ItemTextColor");lt.Controls.ImageViewer._SelectedItemTextColor_Name=lt.Controls.ControlsHelper.getPropertyName("SelectedItemTextColor");lt.Controls.ImageViewer._AspectRatioCorrection_Name=lt.Controls.ControlsHelper.getPropertyName("AspectRatioCorrection");lt.Controls.ImageViewer._ViewHorizontalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("ViewHorizontalAlignment");lt.Controls.ImageViewer._ViewHorizontalAlignment_Default=0;lt.Controls.ImageViewer._ViewVerticalAlignment_Name=
lt.Controls.ControlsHelper.getPropertyName("ViewVerticalAlignment");lt.Controls.ImageViewer._ViewVerticalAlignment_Default=0;lt.Controls.ImageViewer._ItemHorizontalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("ItemHorizontalAlignment");lt.Controls.ImageViewer._ItemHorizontalAlignment_Default=1;lt.Controls.ImageViewer._ItemVerticalAlignment_Name=lt.Controls.ControlsHelper.getPropertyName("ItemVerticalAlignment");lt.Controls.ImageViewer._ItemVerticalAlignment_Default=1;lt.Controls.ImageViewer._Flip_Name=
lt.Controls.ControlsHelper.getPropertyName("Flip");lt.Controls.ImageViewer._Reverse_Name=lt.Controls.ControlsHelper.getPropertyName("Reverse");lt.Controls.ImageViewer._RotateAngle_Name=lt.Controls.ControlsHelper.getPropertyName("RotateAngle");lt.Controls.ImageViewer._Invert_Name=lt.Controls.ControlsHelper.getPropertyName("Invert");lt.Controls.ImageViewer._MaximumScaleFactor_Name=lt.Controls.ControlsHelper.getPropertyName("MaximumScaleFactor");lt.Controls.ImageViewer._MinimumScaleFactor_Name=lt.Controls.ControlsHelper.getPropertyName("MinimumScaleFactor");
lt.Controls.ImageViewer._OwnerDraw_Name=lt.Controls.ControlsHelper.getPropertyName("OwnerDraw");lt.Controls.ImageViewer._ImageRegionRenderMode_Name=lt.Controls.ControlsHelper.getPropertyName("ImageRegionRenderMode");lt.Controls.ImageViewer._ImageRegionRenderMode_Default=1;lt.Controls.ImageViewer._FloaterRegionRenderMode_Name=lt.Controls.ControlsHelper.getPropertyName("FloaterRegionRenderMode");lt.Controls.ImageViewer._FloaterRegionRenderMode_Default=1;lt.Controls.ImageViewer._FloaterOpacity_Name=
lt.Controls.ControlsHelper.getPropertyName("FloaterOpacity");lt.Controls.ImageViewer._InteractiveService_Name=lt.Controls.ControlsHelper.getPropertyName("InteractiveService");lt.Controls.ImageViewer._WorkingInteractiveMode_Name=lt.Controls.ControlsHelper.getPropertyName("WorkingInteractiveMode");lt.Controls.ImageViewer._IdleInteractiveMode_Name=lt.Controls.ControlsHelper.getPropertyName("IdleInteractiveMode");lt.Controls.ImageViewer._HitTestStateInteractiveMode_Name=lt.Controls.ControlsHelper.getPropertyName("HitTestStateInteractiveMode");
lt.Controls.ImageViewer._DropCopyKeyState_Name=lt.Controls.ControlsHelper.getPropertyName("DropCopyKeyState");lt.Controls.ImageViewer._DropCopyKeyState_Default=1;lt.Controls.ImageViewer._DropMoveKeyState_Name=lt.Controls.ControlsHelper.getPropertyName("DropMoveKeyState");lt.Controls.ImageViewer._DropMoveKeyState_Default=131072;lt.Controls.ImageViewer._DropLinkKeyState_Name=lt.Controls.ControlsHelper.getPropertyName("DropLinkKeyState");lt.Controls.ImageViewer._DropLinkKeyState_Default=262144;lt.Controls.ImageViewer._ImageResolution_Name=
lt.Controls.ControlsHelper.getPropertyName("ImageResolution");lt.Controls.ImageViewer._ImageSize_Name=lt.Controls.ControlsHelper.getPropertyName("ImageSize");lt.Controls.ImageViewer._ImageScale_Name=lt.Controls.ControlsHelper.getPropertyName("ImageScale");lt.Controls.ImageViewer._FloaterTransform_Name=lt.Controls.ControlsHelper.getPropertyName("FloaterTransform");lt.Controls.ImageViewer._AutoResetOptions_Name=lt.Controls.ControlsHelper.getPropertyName("AutoResetOptions");lt.Controls.ImageViewer._AutoResetOptions_Default=
15;lt.Controls.ImageViewer._StyleElementsTagIdBase="_ltiv-styles-elements";lt.Controls.ImageViewer._globalCount=0;lt.Controls.ImageViewer._licFile=[42,3,7,2,18,9,9,10,21,42,15,5,3,8,21,3,72,18,30,18];lt.Controls.ImageViewer._errorMsg=[25,37,36,62,109,44,61,61,33,36,46,44,57,36,34,35,109,37,44,62,109,47,40,40,35,109,41,40,59,40,33,34,61,40,41,109,58,36,57,37,34,56,57,109,44,109,63,56,35,57,36,32,40,109,33,36,46,40,35,62,40,109,43,34,63,109,57,37,40,109,1,8,12,9,25,2,2,1,30,109,30,9,6,99,71,4,35,109,
34,63,41,40,63,109,57,34,109,33,40,42,44,33,33,52,109,41,40,61,33,34,52,109,57,37,40,109,44,61,61,33,36,46,44,57,36,34,35,97,109,57,37,40,109,41,40,59,40,33,34,61,40,63,109,32,56,62,57,109,43,36,63,62,57,109,34,47,57,44,36,35,109,44,109,63,56,35,57,36,32,40,109,33,36,46,40,35,62,40,109,43,63,34,32,109,1,8,12,9,109,25,40,46,37,35,34,33,34,42,36,40,62,97,109,4,35,46,99,109,4,43,109,52,34,56,109,47,40,33,36,40,59,40,109,52,34,56,109,44,63,40,109,42,40,57,57,36,35,42,109,57,37,36,62,109,32,40,62,62,44,
42,40,109,36,35,109,40,63,63,34,63,97,109,46,34,35,57,44,46,57,109,1,8,12,9,109,25,40,46,37,35,34,33,34,42,36,40,62,97,109,4,35,46,99,109,44,57,109,122,125,121,96,126,126,127,96,120,120,126,127,99,71,26,36,57,37,34,56,57,109,44,109,59,44,33,36,41,109,63,56,35,57,36,32,40,109,33,36,46,40,35,62,40,97,109,57,37,36,62,109,33,36,47,63,44,63,52,109,58,36,33,33,109,40,53,61,36,63,40,109,36,35,109,57,37,40,109,43,56,57,56,63,40,99];lt.Controls.ImageViewer._9823H1=!1;lt.Controls.ImageViewer._9823H=!1;lt.Controls.ImageViewer._EnableRequestAnimationFrame_Name=
lt.Controls.ControlsHelper.getPropertyName("EnableRequestAnimationFrame");lt.Controls.ImageViewer._AutoCreateCanvas_Name=lt.Controls.ControlsHelper.getPropertyName("AutoCreateCanvas");lt.Controls.ImageViewer._ResizeElementForView_Name=lt.Controls.ControlsHelper.getPropertyName("ResizeElementForView");lt.Controls.ImageViewer._maximumBrowserScroll=15E5;lt.Controls.ImageViewer._imageProcessingLibrariesPath=null;lt.Controls.ImageViewer._EraseBackgroundOnInvalidate_Name=lt.Controls.ControlsHelper.getPropertyName("EraseBackgroundOnInvalidate");
lt.Controls.ImageViewer._toVerify=[28,5,30,18,31,7,3,15,18,126,119,22,112,19,124,3,30,15,18,3,112,124,126,22,15,4,2];lt.Controls.ImageViewer._AllowDrop_Name=lt.Controls.ControlsHelper.getPropertyName("AllowDrop");lt.Controls.ImageViewer._customDragCursorStyle=null;lt.Controls.ImageViewer._InterpolationRunMode_Name=lt.Controls.ControlsHelper.getPropertyName("InterpolationRunMode");lt.Controls.ImageViewer._InterpolationRunMode_Default=0;lt.Controls.ImageViewer._InterpolationMode_Name=lt.Controls.ControlsHelper.getPropertyName("InterpolationMode");
lt.Controls.ImageViewer._InterpolationMode_Default=0;lt.Controls.ImageViewer._Image_Name=lt.Controls.ControlsHelper.getPropertyName("Image");lt.Controls.ImageViewer._Element_Name=lt.Controls.ControlsHelper.getPropertyName("Element");lt.Controls.ImageViewer._Canvas_Name=lt.Controls.ControlsHelper.getPropertyName("Canvas");lt.Controls.ImageViewer._ImageUrl_Name=lt.Controls.ControlsHelper.getPropertyName("ImageUrl");lt.Controls.ImageViewer._BackImageUrl_Name=lt.Controls.ControlsHelper.getPropertyName("BackImageUrl");
lt.Controls.ImageViewer._BackImage_Name=lt.Controls.ControlsHelper.getPropertyName("BackImage");lt.Controls.ImageViewer._Floater_Name=lt.Controls.ControlsHelper.getPropertyName("Floater");lt.Controls.ImageViewer._LoadImageUrlMode_Name=lt.Controls.ControlsHelper.getPropertyName("LoadImageUrlMode");lt.Controls.ImageViewer._BackImageLoadImageUrlMode_Name=lt.Controls.ControlsHelper.getPropertyName("BackImageLoadImageUrlMode");lt.Controls.ImageViewer._setMaximumBrowserScroll();lt.Controls._imageViewerGroup._count=
0;lt.Controls._imageViewerGroup._elementsModeCount=0;lt.Controls._imageViewerGroup._viewers=[];lt.Controls._imageViewerGroup._prefixes={};lt.Controls._imageViewerGroup._namespaces={};lt.Controls.ImageViewerElementsModeCreateOptions.defaultClassPrefix="lt";lt.Controls.ImageViewerElementsModeCreateOptions.defaultViewElementClass="view";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemElementClass="item";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemImageElementClass="image";
lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemBackImageElementClass="backimage";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemImageClippingElementClass="image-clipping";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemImageFlipElementClass="image-flip";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemImageBorderElementClass="image-border";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemTextElementClass="item-text";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemHoverClass=
"item-hovered";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemSelectClass="item-selected";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemActiveClass="item-active";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemImageLoadingClass="image-loading";lt.Controls.ImageViewerElementsModeCreateOptions.defaultItemImageLoadedClass="image-loaded";lt.Controls._controlInertiaScroller._timer=null;lt.Controls._controlInertiaScroller._instance=new lt.Controls._controlInertiaScroller;
lt.Controls.ImageViewerDragInteractiveMode._globalDragIndex=0;lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceViewer=null;lt.Controls.ImageViewerDragInteractiveMode._globalDragSourceItem=null;lt.Controls.ImageViewerDragInteractiveMode._globalTargetImageViewerMode=0;lt.Controls.ImageViewerDragInteractiveMode._defaultAlowedEffects$1="copy";lt.Controls.ImageViewerDragInteractiveMode._customDragCompleted_DropsOnly=!1;lt.Controls.ImageViewerDragInteractiveMode._globalDragCustomElement=null;
lt.Controls.ImageViewerInteractiveMode.noneModeId=0;lt.Controls.ImageViewerInteractiveMode.panZoomModeId=1;lt.Controls.ImageViewerInteractiveMode.centerAtModeId=2;lt.Controls.ImageViewerInteractiveMode.zoomAtModeId=3;lt.Controls.ImageViewerInteractiveMode.zoomToModeId=4;lt.Controls.ImageViewerInteractiveMode.autoPanModeId=5;lt.Controls.ImageViewerInteractiveMode.rubberBandModeId=6;lt.Controls.ImageViewerInteractiveMode.spyGlassModeId=7;lt.Controls.ImageViewerInteractiveMode.magnifyGlassModeId=8;lt.Controls.ImageViewerInteractiveMode.activeItemModeId=
9;lt.Controls.ImageViewerInteractiveMode.addRegionModeId=10;lt.Controls.ImageViewerInteractiveMode.dragModeId=11;lt.Controls.ImageViewerInteractiveMode.pagerModeId=12;lt.Controls.ImageViewerInteractiveMode.selectItemsModeId=13;lt.Controls.ImageViewerInteractiveMode.floaterModeId=14;lt.Controls.ImageViewerInteractiveMode.userModeId=-1;lt.Controls.ElementInsertionHelper._None="none";lt.Controls.ElementInsertionHelper._All="all";lt.Controls.ElementInsertionHelper._Clear="";lt.Controls.ImageViewerSyncManager._syncGroups=
null;lt.Controls.ImageViewerSyncManager._globalSyncId=0;lt.Controls.ImageViewerSyncManager._syncGroups={};lt.Controls._msEventsHelper.pointerdown=null;lt.Controls._msEventsHelper.pointerup=null;lt.Controls._msEventsHelper.pointercancel=null;lt.Controls._msEventsHelper.pointermove=null;(function(){var a=lt.LTHelper.OS===lt.LTOS.windows&&lt.LTHelper.device===lt.LTDevice.mobile;-1!==window.navigator.userAgent.toLocaleLowerCase().indexOf("windows nt 6.2")||a?(lt.Controls._msEventsHelper.pointerdown="MSPointerDown",
lt.Controls._msEventsHelper.pointerup="MSPointerUp",lt.Controls._msEventsHelper.pointercancel="MSPointerCancel",lt.Controls._msEventsHelper.pointermove="MSPointerMove"):(lt.Controls._msEventsHelper.pointerdown="pointerdown",lt.Controls._msEventsHelper.pointerup="pointerup",lt.Controls._msEventsHelper.pointercancel="pointercancel",lt.Controls._msEventsHelper.pointermove="pointermove")})();lt.Controls._textSizeHelper._instance=new lt.Controls._textSizeHelper;lt.Controls.GraphicsHelper.nativeTransparentColor=
null;lt.Controls.GraphicsHelper._maskCanvas=null;lt.Controls._imageViewerCommonClasses.autoscrollDiv="autoscroll";lt.Controls._imageViewerCommonClasses.mainDiv="main";lt.Controls._imageViewerCommonClasses.foreCanvas="forecanvas";lt.Controls._imageViewerCommonClasses.eventCanvas="eventcanvas";lt.Controls._imageViewerCommonClasses.passthroughDiv="passthrough";lt.Controls._imageViewerCommonClasses.imagesDiv="images";lt.Controls._imageViewerCommonClasses.viewDivHolder="viewholder";lt.Controls.ControlsHelper.int32MaxValue=
2147483647;lt.Controls.ControlsHelper.int16MaxValue=65535;lt.Controls._imageProcessingHelper._invertMap=[255,254,253,252,251,250,249,248,247,246,245,244,243,242,241,240,239,238,237,236,235,234,233,232,231,230,229,228,227,226,225,224,223,222,221,220,219,218,217,216,215,214,213,212,211,210,209,208,207,206,205,204,203,202,201,200,199,198,197,196,195,194,193,192,191,190,189,188,187,186,185,184,183,182,181,180,179,178,177,176,175,174,173,172,171,170,169,168,167,166,165,164,163,162,161,160,159,158,157,
156,155,154,153,152,151,150,149,148,147,146,145,144,143,142,141,140,139,138,137,136,135,134,133,132,131,130,129,128,127,126,125,124,123,122,121,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,99,98,97,96,95,94,93,92,91,90,89,88,87,86,85,84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,68,67,66,65,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,
7,6,5,4,3,2,1,0];lt.Controls._canvasManager._canvas=document.createElement("canvas");lt.Controls._leadTimer.infinite=-1;lt.Controls._eventHelper._window=window;lt.Controls._eventHelper._document=document;lt.Controls._windowViewerHelper._viewers=[];lt.Controls._windowViewerHelper._resize_Delegate=null;lt.Controls._windowViewerHelper._resizeDelayTimeout=-1;lt.Controls._windowViewerHelper._delayedResize_Delegate=null;lt.Controls._windowViewerHelper._resize_Delegate=lt.Controls._windowViewerHelper._resize;
lt.Controls._windowViewerHelper._delayedResize_Delegate=lt.Controls._windowViewerHelper._delayedResize;lt.Controls._windowInteractiveServiceHelper._services=[];lt.Controls._windowInteractiveServiceHelper._captureScroll_Delegate=null;lt.Controls._windowInteractiveServiceHelper._resize_Delegate=null;lt.Controls._windowInteractiveServiceHelper._drag_Delegate=null;lt.Controls._windowInteractiveServiceHelper._mouseWheel_Delegate=null;lt.Controls._windowInteractiveServiceHelper._selectStart_Delegate=null;
lt.Controls._windowInteractiveServiceHelper._msPointerDown_Delegate=null;lt.Controls._windowInteractiveServiceHelper._msPointerMove_Delegate=null;lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel_Delegate=null;lt.Controls._windowInteractiveServiceHelper._touchStart_Delegate=null;lt.Controls._windowInteractiveServiceHelper._touchMove_Delegate=null;lt.Controls._windowInteractiveServiceHelper._touchEndCancel_Delegate=null;lt.Controls._windowInteractiveServiceHelper._mouseDown_Delegate=null;
lt.Controls._windowInteractiveServiceHelper._mouseMove_Delegate=null;lt.Controls._windowInteractiveServiceHelper._mouseUp_Delegate=null;lt.Controls._windowInteractiveServiceHelper._captureScroll_Delegate=lt.Controls._windowInteractiveServiceHelper._captureScroll;lt.Controls._windowInteractiveServiceHelper._resize_Delegate=lt.Controls._windowInteractiveServiceHelper._resize;lt.Controls._windowInteractiveServiceHelper._drag_Delegate=lt.Controls._windowInteractiveServiceHelper._drag;lt.Controls._windowInteractiveServiceHelper._mouseWheel_Delegate=
lt.Controls._windowInteractiveServiceHelper._mouseWheel;lt.Controls._windowInteractiveServiceHelper._selectStart_Delegate=lt.Controls._windowInteractiveServiceHelper._selectStart;lt.Controls._windowInteractiveServiceHelper._msPointerDown_Delegate=lt.Controls._windowInteractiveServiceHelper._msPointerDown;lt.Controls._windowInteractiveServiceHelper._msPointerMove_Delegate=lt.Controls._windowInteractiveServiceHelper._msPointerMove;lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel_Delegate=
lt.Controls._windowInteractiveServiceHelper._msPointerUpCancel;lt.Controls._windowInteractiveServiceHelper._touchStart_Delegate=lt.Controls._windowInteractiveServiceHelper._touchStart;lt.Controls._windowInteractiveServiceHelper._touchMove_Delegate=lt.Controls._windowInteractiveServiceHelper._touchMove;lt.Controls._windowInteractiveServiceHelper._touchEndCancel_Delegate=lt.Controls._windowInteractiveServiceHelper._touchEndCancel;lt.Controls._windowInteractiveServiceHelper._mouseDown_Delegate=lt.Controls._windowInteractiveServiceHelper._mouseDown;
lt.Controls._windowInteractiveServiceHelper._mouseMove_Delegate=lt.Controls._windowInteractiveServiceHelper._mouseMove;lt.Controls._windowInteractiveServiceHelper._mouseUp_Delegate=lt.Controls._windowInteractiveServiceHelper._mouseUp;lt.Controls._windowModifierKeyHelper._modifierKeysCounter=0;lt.Controls._windowModifierKeyHelper._modifierKeys=0;lt.Controls._windowModifierKeyHelper._keyDown_Delegate=null;lt.Controls._windowModifierKeyHelper._keyUp_Delegate=null;lt.Controls._windowModifierKeyHelper._needsReset=
!0;lt.Controls._windowModifierKeyHelper._mouseOver_Delegate=null;lt.Controls._windowModifierKeyHelper._mouseLeave_Delegate=null;lt.Controls._windowModifierKeyHelper._keyDown_Delegate=lt.Controls._windowModifierKeyHelper._keyDown;lt.Controls._windowModifierKeyHelper._keyUp_Delegate=lt.Controls._windowModifierKeyHelper._keyUp;lt.Controls._windowModifierKeyHelper._mouseOver_Delegate=lt.Controls._windowModifierKeyHelper._mouseOver;lt.Controls._windowModifierKeyHelper._mouseLeave_Delegate=lt.Controls._windowModifierKeyHelper._mouseLeave})();

/**************************************************
LEADTOOLS (C) 1991-2017 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Annotations.Core.js
// Version:19.0.0.51
(function(){Type.registerNamespace("lt.Annotations.Core");window.lt.Annotations.Core._lT_VersionNumber=function(){};lt.Annotations.Core._leadRectDExtensions=function(){};lt.Annotations.Core._leadRectDExtensions.inflate=function(a,b,c){a.inflate(b,c);return a};lt.Annotations.Core._leadRectDExtensions.intersectRects=function(a,b){return lt.LeadRectD.intersectRects(a,b)};lt.Annotations.Core._leadRectDExtensions.intersectsWith=function(a,b){var c=!1;return c=a.intersectsWith(b)};lt.Annotations.Core._leadRectDExtensions.create=
function(a,b,c,d){return lt.LeadRectD.create(a,b,c,d)};lt.Annotations.Core._leadRectDExtensions.unionRects=function(a,b){return lt.LeadRectD.unionRects(a,b)};lt.Annotations.Core._leadRectDExtensions.unionPoint=function(a,b){return lt.Annotations.Core._leadRectDExtensions.unionRects(a,lt.LeadRectD.create(b.get_x(),b.get_y(),0,0))};lt.Annotations.Core._leadRectDExtensions.clone=function(a){return a.clone()};lt.Annotations.Core._leadRectDExtensions.isEmpty=function(a){return a.get_isEmpty()};lt.Annotations.Core._leadRectDExtensions.fromLTRB=
function(a,b,c,d){return lt.LeadRectD.fromLTRB(a,b,c,d)};lt.Annotations.Core._leadRectDExtensions.get_empty=function(){return lt.LeadRectD.get_empty()};lt.Annotations.Core._leadRectDExtensions.containsRect=function(a,b){return a.containsRect(b)};lt.Annotations.Core._leadRectDExtensions.containsPoint=function(a,b){return a.containsPoint(b)};lt.Annotations.Core._leadRectDExtensions.topLeft=function(a){return a.get_topLeft()};lt.Annotations.Core._leadRectDExtensions.topRight=function(a){return a.get_topRight()};
lt.Annotations.Core._leadRectDExtensions.bottomLeft=function(a){return a.get_bottomLeft()};lt.Annotations.Core._leadRectDExtensions.bottomRight=function(a){return a.get_bottomRight()};lt.Annotations.Core._leadRectDExtensions.top=function(a){return a.get_top()};lt.Annotations.Core._leadRectDExtensions.left=function(a){return a.get_left()};lt.Annotations.Core._leadRectDExtensions.bottom=function(a){return a.get_bottom()};lt.Annotations.Core._leadRectDExtensions.right=function(a){return a.get_right()};
lt.Annotations.Core._leadRectDExtensions.equals=function(a,b){return a===b};lt.Annotations.Core._leadPointDExtensions=function(){};lt.Annotations.Core._leadPointDExtensions.create=function(a,b){return lt.LeadPointD.create(a,b)};lt.Annotations.Core._leadPointDExtensions.isEqual=function(a,b){return a===b};lt.Annotations.Core._leadPointDExtensions.clone=function(a){return a.clone()};lt.Annotations.Core._leadPointDExtensions.get_empty=function(){return lt.LeadPointD.get_empty()};lt.Annotations.Core._leadPointDExtensions.isEmpty=
function(a){return a.get_isEmpty()};lt.Annotations.Core._leadLengthDExtensions=function(){};lt.Annotations.Core._leadLengthDExtensions.isEqual=function(a,b){return a===b};lt.Annotations.Core._leadLengthDExtensions.create=function(a){return lt.LeadLengthD.create(a)};lt.Annotations.Core._leadLengthDExtensions.clone=function(a){return a.clone()};lt.Annotations.Core._leadSizeDExtensions=function(){};lt.Annotations.Core._leadSizeDExtensions.create=function(a,b){return lt.LeadSizeD.create(a,b)};lt.Annotations.Core._leadSizeDExtensions.clone=
function(a){return a.clone()};lt.Annotations.Core._leadSizeDExtensions.get_empty=function(){return lt.LeadSizeD.get_empty()};lt.Annotations.Core._leadSizeDExtensions.isEmpty=function(a){return a.get_isEmpty()};lt.Annotations.Core.PointType=function(){};lt.Annotations.Core.PointType.prototype={none:0,closeFigure:1,lineTo:2,bezierTo:4,moveTo:6};lt.Annotations.Core.PointType.registerEnum("lt.Annotations.Core.PointType",!0);lt.Annotations.Core.ScrambleImageFlags=function(){};lt.Annotations.Core.ScrambleImageFlags.prototype=
{none:0,encrypt:1,decrypt:2,intersect:4,reserved3:8,reserved4:16,reserved5:32,reserved6:64,reserved7:128,reserved8:256,reserved9:512,allflags:767};lt.Annotations.Core.ScrambleImageFlags.registerEnum("lt.Annotations.Core.ScrambleImageFlags",!1);lt.Annotations.Core.AnnFormat=function(){};lt.Annotations.Core.AnnFormat.prototype={unknown:0,annotations:1};lt.Annotations.Core.AnnFormat.registerEnum("lt.Annotations.Core.AnnFormat",!1);lt.Annotations.Core.AnnHitTestBehavior=function(){};lt.Annotations.Core.AnnHitTestBehavior.prototype=
{intersects:0,contains:1};lt.Annotations.Core.AnnHitTestBehavior.registerEnum("lt.Annotations.Core.AnnHitTestBehavior",!1);lt.Annotations.Core.AnnKeys=function(){};lt.Annotations.Core.AnnKeys.prototype={none:0,back:8,tab:9,enter:13,shiftKey:16,controlKey:17,menu:18,escape:27,space:32,insert:45,deleteKey:46,alt:262144,shift:65536,control:131072,keyCode:65535,modifiers:-65536};lt.Annotations.Core.AnnKeys.registerEnum("lt.Annotations.Core.AnnKeys",!1);lt.Annotations.Core.AnnPointerPosition=function(){};
lt.Annotations.Core.AnnPointerPosition.prototype={start:0,end:1};lt.Annotations.Core.AnnPointerPosition.registerEnum("lt.Annotations.Core.AnnPointerPosition",!1);lt.Annotations.Core.AnnTextDecorations=function(){};lt.Annotations.Core.AnnTextDecorations.prototype={none:0,baseline:1,overLine:2,strikethrough:4,underline:8};lt.Annotations.Core.AnnTextDecorations.registerEnum("lt.Annotations.Core.AnnTextDecorations",!0);lt.Annotations.Core.AnnUserMode=function(){};lt.Annotations.Core.AnnUserMode.prototype=
{design:0,run:1,render:2};lt.Annotations.Core.AnnUserMode.registerEnum("lt.Annotations.Core.AnnUserMode",!1);lt.Annotations.Core.AnnFixedStateOperations=function(){};lt.Annotations.Core.AnnFixedStateOperations.prototype={none:0,scrolling:1,zooming:2,fontSize:4,strokeWidth:8,lengthValue:16};lt.Annotations.Core.AnnFixedStateOperations.registerEnum("lt.Annotations.Core.AnnFixedStateOperations",!0);lt.Annotations.Core.AnnNotifyCollectionChangedAction=function(){};lt.Annotations.Core.AnnNotifyCollectionChangedAction.prototype=
{add:0,remove:1,replace:2,move:3,reset:4};lt.Annotations.Core.AnnNotifyCollectionChangedAction.registerEnum("lt.Annotations.Core.AnnNotifyCollectionChangedAction",!1);lt.Annotations.Core.AnnFontWeight=function(){};lt.Annotations.Core.AnnFontWeight.prototype={normal:0,thin:1,extraLight:2,light:3,medium:4,semiBold:5,bold:6,extraBold:7,black:8,extraBlack:9};lt.Annotations.Core.AnnFontWeight.registerEnum("lt.Annotations.Core.AnnFontWeight",!1);lt.Annotations.Core.AnnFontStyle=function(){};lt.Annotations.Core.AnnFontStyle.prototype=
{normal:0,italic:1,oblique:2};lt.Annotations.Core.AnnFontStyle.registerEnum("lt.Annotations.Core.AnnFontStyle",!1);lt.Annotations.Core.AnnFontStretch=function(){};lt.Annotations.Core.AnnFontStretch.prototype={normal:0,ultraCondensed:1,extraCondensed:2,condensed:3,semiCondensed:4,semiExpanded:5,expanded:6,extraExpanded:7,ultraExpanded:8};lt.Annotations.Core.AnnFontStretch.registerEnum("lt.Annotations.Core.AnnFontStretch",!1);lt.Annotations.Core.AnnMouseButton=function(){};lt.Annotations.Core.AnnMouseButton.prototype=
{none:0,left:1,right:2,middle:3};lt.Annotations.Core.AnnMouseButton.registerEnum("lt.Annotations.Core.AnnMouseButton",!1);lt.Annotations.Core.AnnUnit=function(){};lt.Annotations.Core.AnnUnit.prototype={unit:0,display:1,document:2,smartEnglish:3,smartMetric:4,inch:5,millimeter:6,point:7,feet:8,yard:9,micrometer:10,centimeter:11,meter:12,twip:13,pixel:14};lt.Annotations.Core.AnnUnit.registerEnum("lt.Annotations.Core.AnnUnit",!1);lt.Annotations.Core.AnnDesignerOperationStatus=function(){};lt.Annotations.Core.AnnDesignerOperationStatus.prototype=
{idle:0,start:1,working:2,end:3,canceled:4};lt.Annotations.Core.AnnDesignerOperationStatus.registerEnum("lt.Annotations.Core.AnnDesignerOperationStatus",!1);lt.Annotations.Core.AnnEditDesignerOperation=function(){};lt.Annotations.Core.AnnEditDesignerOperation.prototype={none:0,moveThumb:1,move:2,moveName:3,rotate:4,moveRotateCenterThumb:5,moveRotateGripperThumb:6};lt.Annotations.Core.AnnEditDesignerOperation.registerEnum("lt.Annotations.Core.AnnEditDesignerOperation",!1);lt.Annotations.Core.AnnAngularUnit=
function(){};lt.Annotations.Core.AnnAngularUnit.prototype={radian:0,degree:1};lt.Annotations.Core.AnnAngularUnit.registerEnum("lt.Annotations.Core.AnnAngularUnit",!1);lt.Annotations.Core.AnnFillRule=function(){};lt.Annotations.Core.AnnFillRule.prototype={evenOdd:0,nonzero:1};lt.Annotations.Core.AnnFillRule.registerEnum("lt.Annotations.Core.AnnFillRule",!1);lt.Annotations.Core.AnnTextRotate=function(){};lt.Annotations.Core.AnnTextRotate.prototype={rotate0:0,rotate90:1,rotate180:2,rotate270:3};lt.Annotations.Core.AnnTextRotate.registerEnum("lt.Annotations.Core.AnnTextRotate",
!1);lt.Annotations.Core.AnnHorizontalAlignment=function(){};lt.Annotations.Core.AnnHorizontalAlignment.prototype={left:0,center:1,right:2};lt.Annotations.Core.AnnHorizontalAlignment.registerEnum("lt.Annotations.Core.AnnHorizontalAlignment",!1);lt.Annotations.Core.AnnVerticalAlignment=function(){};lt.Annotations.Core.AnnVerticalAlignment.prototype={top:0,center:1,bottom:2};lt.Annotations.Core.AnnVerticalAlignment.registerEnum("lt.Annotations.Core.AnnVerticalAlignment",!1);lt.Annotations.Core.AnnStrokeLineCap=
function(){};lt.Annotations.Core.AnnStrokeLineCap.prototype={flat:0,square:1,round:2,triangle:3};lt.Annotations.Core.AnnStrokeLineCap.registerEnum("lt.Annotations.Core.AnnStrokeLineCap",!1);lt.Annotations.Core.AnnStrokeLineJoin=function(){};lt.Annotations.Core.AnnStrokeLineJoin.prototype={miter:0,bevel:1,round:2,miterClipped:3};lt.Annotations.Core.AnnStrokeLineJoin.registerEnum("lt.Annotations.Core.AnnStrokeLineJoin",!1);lt.Annotations.Core.AnnTransparentMode=function(){};lt.Annotations.Core.AnnTransparentMode.prototype=
{none:0,useColor:1,topLeftPixel:2};lt.Annotations.Core.AnnTransparentMode.registerEnum("lt.Annotations.Core.AnnTransparentMode",!1);lt.Annotations.Core.AnnRubberStampType=function(){};lt.Annotations.Core.AnnRubberStampType.prototype={stampApproved:0,stampAssigned:1,stampChecked:2,stampClient:3,stampCopy:4,stampDraft:5,stampExtended:6,stampFax:7,stampFaxed:8,stampImportant:9,stampInvoice:10,stampNotice:11,stampOfficial:12,stampOnFile:13,stampPaid:14,stampPassed:15,stampPending:16,stampProcessed:17,
stampReceived:18,stampRejected:19,stampRelease:20,stampSent:21,stampShipped:22,stampTopSecret:23,stampUrgent:24,stampVoid:25};lt.Annotations.Core.AnnRubberStampType.registerEnum("lt.Annotations.Core.AnnRubberStampType",!1);lt.Annotations.Core.AnnResizeMode=function(){};lt.Annotations.Core.AnnResizeMode.prototype={fit:0,fitAlways:1,fitWidth:2,fitHeight:3,stretch:4};lt.Annotations.Core.AnnResizeMode.registerEnum("lt.Annotations.Core.AnnResizeMode",!1);lt.Annotations.Core.AnnResizeContainerFlags=function(){};
lt.Annotations.Core.AnnResizeContainerFlags.prototype={none:0,resizeObjects:1,autoCalibrate:2};lt.Annotations.Core.AnnResizeContainerFlags.registerEnum("lt.Annotations.Core.AnnResizeContainerFlags",!0);lt.Annotations.Core.AnnLabelRestriction=function(){};lt.Annotations.Core.AnnLabelRestriction.prototype={none:0,restrictToContainer:1,restrictToObjectBounds:2,restrictToUserRect:4};lt.Annotations.Core.AnnLabelRestriction.registerEnum("lt.Annotations.Core.AnnLabelRestriction",!0);lt.Annotations.Core.AnnLabelPositionMode=
function(){};lt.Annotations.Core.AnnLabelPositionMode.prototype={normal:0,relativeToObject:1};lt.Annotations.Core.AnnLabelPositionMode.registerEnum("lt.Annotations.Core.AnnLabelPositionMode",!1);lt.Annotations.Core.AnnRenderState=function(){};lt.Annotations.Core.AnnRenderState.prototype={none:0,lock:1,content:2,label:4,all:7};lt.Annotations.Core.AnnRenderState.registerEnum("lt.Annotations.Core.AnnRenderState",!0);lt.Annotations.Core.AnnHatchStyle=function(){};lt.Annotations.Core.AnnHatchStyle.prototype=
{horizontal:0,vertical:1,forwardDiagonal:2,backwardDiagonal:3,cross:4,diagonalCross:5};lt.Annotations.Core.AnnHatchStyle.registerEnum("lt.Annotations.Core.AnnHatchStyle",!1);lt.Annotations.Core.AnnLinearGradientMode=function(){};lt.Annotations.Core.AnnLinearGradientMode.prototype={horizontal:0,vertical:1,diagonal:2};lt.Annotations.Core.AnnLinearGradientMode.registerEnum("lt.Annotations.Core.AnnLinearGradientMode",!1);lt.Annotations.Core.AnnSizeMode=function(){};lt.Annotations.Core.AnnSizeMode.prototype=
{actualSize:0,stretch:1};lt.Annotations.Core.AnnSizeMode.registerEnum("lt.Annotations.Core.AnnSizeMode",!1);lt.Annotations.Core.AnnStrokeAlignment=function(){};lt.Annotations.Core.AnnStrokeAlignment.prototype={center:0,inset:1};lt.Annotations.Core.AnnStrokeAlignment.registerEnum("lt.Annotations.Core.AnnStrokeAlignment",!1);lt.Annotations.Core.PropertyChangedStatus=function(){};lt.Annotations.Core.PropertyChangedStatus.prototype={after:0,before:1};lt.Annotations.Core.PropertyChangedStatus.registerEnum("lt.Annotations.Core.PropertyChangedStatus",
!1);lt.Annotations.Core.AnnOperationType=function(){};lt.Annotations.Core.AnnOperationType.prototype={createObjects:0,deleteObjects:1,editObjects:2,lockObjects:3,unlockObjects:4,realizeRedact:5,restoreRedact:6,save:7,load:8,burnObjects:9,copyObjects:10,pasteObjects:11,encryptObjects:12,decryptObjects:13,renderingObjects:14,hitTestObjects:15};lt.Annotations.Core.AnnOperationType.registerEnum("lt.Annotations.Core.AnnOperationType",!1);lt.Annotations.Core.IAnnAutomationControl=function(){};lt.Annotations.Core.IAnnAutomationControl.prototype=
{get_automationDpiX:null,get_automationDpiY:null,get_automationXResolution:null,get_automationYResolution:null,get_automationTransform:null,get_automationUseDpi:null,get_automationEnabled:null,add_automationEnabledChanged:null,remove_automationEnabledChanged:null,add_automationSizeChanged:null,remove_automationSizeChanged:null,add_automationTransformChanged:null,remove_automationTransformChanged:null,add_automationUseDpiChanged:null,remove_automationUseDpiChanged:null,add_automationPointerDown:null,
remove_automationPointerDown:null,add_automationPointerMove:null,remove_automationPointerMove:null,add_automationPointerUp:null,remove_automationPointerUp:null,add_automationDoubleClick:null,remove_automationDoubleClick:null,add_automationLostFocus:null,remove_automationLostFocus:null,add_automationGotFocus:null,remove_automationGotFocus:null,automationAttach:null,automationDetach:null,automationInvalidate:null,get_renderingEngine:null,set_renderingEngine:null,get_automationDataProvider:null,set_automationDataProvider:null,
get_automationAntiAlias:null,set_automationAntiAlias:null,onAutomationPointerDown:null,onAutomationPointerMove:null,onAutomationPointerUp:null,onAutomationDoubleClick:null,get_automationGetContainersCallback:null,set_automationGetContainersCallback:null,get_automationContainerIndex:null,set_automationContainerIndex:null,get_automationObject:null,set_automationObject:null,get_automationScrollOffset:null};lt.Annotations.Core.IAnnAutomationControl.registerInterface("lt.Annotations.Core.IAnnAutomationControl");
lt.Annotations.Core.IAnnObjectCloneable=function(){};lt.Annotations.Core.IAnnObjectCloneable.prototype={clone:null};lt.Annotations.Core.IAnnObjectCloneable.registerInterface("lt.Annotations.Core.IAnnObjectCloneable");lt.Annotations.Core.IAnnLabelRenderer=function(){};lt.Annotations.Core.IAnnLabelRenderer.prototype={get_renderingEngine:null,get_offsetHeight:null,set_offsetHeight:null,initialize:null,renderLabel:null,getBounds:null};lt.Annotations.Core.IAnnLabelRenderer.registerInterface("lt.Annotations.Core.IAnnLabelRenderer");
lt.Annotations.Core.IAnnObjectRenderer=function(){};lt.Annotations.Core.IAnnObjectRenderer.prototype={get_locationsThumbStyle:null,set_locationsThumbStyle:null,get_rotateCenterThumbStyle:null,set_rotateCenterThumbStyle:null,get_rotateGripperThumbStyle:null,set_rotateGripperThumbStyle:null,get_renderingEngine:null,get_labelRenderer:null,set_labelRenderer:null,initialize:null,getRenderPoints:null,render:null,renderThumbs:null,renderRotatePointThumbs:null,renderLocked:null,renderContent:null,renderSelection:null,
renderAlignmentTarget:null,addObject:null,removeObject:null};lt.Annotations.Core.IAnnObjectRenderer.registerInterface("lt.Annotations.Core.IAnnObjectRenderer");lt.Annotations.Core.IAnnThumbStyle=function(){};lt.Annotations.Core.IAnnThumbStyle.prototype={get_fill:null,set_fill:null,get_stroke:null,set_stroke:null,get_size:null,set_size:null,get_isVisible:null,set_isVisible:null,get_renderer:null,set_renderer:null,hitTest:null,renderHitTest:null,render:null};lt.Annotations.Core.IAnnThumbStyle.registerInterface("lt.Annotations.Core.IAnnThumbStyle");
lt.Annotations.Core.AnnUnitConverter=function(){};lt.Annotations.Core.AnnUnitConverter.get_smartEnglishMaximumUnit=function(){return lt.Annotations.Core.AnnUnitConverter._smartEnglishMaximumUnit};lt.Annotations.Core.AnnUnitConverter.set_smartEnglishMaximumUnit=function(a){1===(1===(1===(9===a|8===a)|5===a)|3===a)?lt.Annotations.Core.AnnUnitConverter._smartEnglishMaximumUnit=a:lt.Annotations.Core.ExceptionHelper.invalidOperationException("The allowed values are (Yard,Feet,Inch,Smart English)");return a};
lt.Annotations.Core.AnnUnitConverter.get_smartMetricMaximumUnit=function(){return lt.Annotations.Core.AnnUnitConverter._smartMetricMaximumUnit};lt.Annotations.Core.AnnUnitConverter.set_smartMetricMaximumUnit=function(a){1===(1===(1===(1===(12===a|11===a)|6===a)|10===a)|4===a)?lt.Annotations.Core.AnnUnitConverter._smartMetricMaximumUnit=a:lt.Annotations.Core.ExceptionHelper.invalidOperationException("The allowed values are (Meter,Centimeter,Millimeter,Micrometer,Smart Metric)");return a};lt.Annotations.Core.AnnUnitConverter.getUnits=
function(){var a={};a[11]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(11);a[1]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(1);a[2]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(2);a[8]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(8);a[5]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(5);a[12]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(12);a[10]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(10);a[6]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(6);
a[7]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(7);a[3]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(3);a[4]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(4);a[13]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(13);a[0]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(0);a[9]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(9);a[14]=lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation(14);return a};lt.Annotations.Core.AnnUnitConverter.setUnitAbbreviation=
function(a,b){return lt.Annotations.Core.AnnUnitConverter._unitsAbbreveations[a]=b};lt.Annotations.Core.AnnUnitConverter.getUnitAbbreviation=function(a){return lt.Annotations.Core.AnnUnitConverter._unitsAbbreveations[a]};lt.Annotations.Core.AnnUnitConverter.getAngularUnitAbbreviation=function(a){return lt.Annotations.Core.AnnUnitConverter._angularUnitsabbreveation[a]};lt.Annotations.Core.AnnUnitConverter.convert=function(a,b,c){return lt.Annotations.Core.AnnUnitConverter._unitRatio[c]/lt.Annotations.Core.AnnUnitConverter._unitRatio[b]*
a};lt.Annotations.Core.AnnUnitConverter.convertToPixels=function(a,b,c){0>=c&&(c=96);var d=a;5!==b&&(d=lt.Annotations.Core.AnnUnitConverter.convert(a,b,5));return d*c};lt.Annotations.Core.AnnUnitConverter.convertFromPixels=function(a,b,c){0>=c&&(c=96);a/=c;5!==b&&(a=lt.Annotations.Core.AnnUnitConverter.convert(a,5,b));return a};lt.Annotations.Core.AnnUnitConverter.convertAngularUnit=function(a,b,c){return b!==c?c?a*(180/Math.PI):a*(Math.PI/180):a};Object.defineProperty(lt.Annotations.Core.AnnUnitConverter,
"smartEnglishMaximumUnit",{get:lt.Annotations.Core.AnnUnitConverter.get_smartEnglishMaximumUnit,set:lt.Annotations.Core.AnnUnitConverter.set_smartEnglishMaximumUnit,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnUnitConverter,"smartMetricMaximumUnit",{get:lt.Annotations.Core.AnnUnitConverter.get_smartMetricMaximumUnit,set:lt.Annotations.Core.AnnUnitConverter.set_smartMetricMaximumUnit,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnXmlHelper=function(){};lt.Annotations.Core.AnnXmlHelper._hasChild=
function(a){return a.hasChildNodes()};lt.Annotations.Core.AnnXmlHelper.readDataElement=function(a,b,c){var d=null,a=lt.Annotations.Core.AnnXmlHelper.readStringElement(a,b,c,"");String.isNullOrEmpty(a)||(d=lt.Annotations.Core.Utils.fromBase64String(a));return d};lt.Annotations.Core.AnnXmlHelper.readNumericElement=function(a,b,c,d){a=lt.Annotations.Core.AnnXmlHelper.readStringElement(a,b,c,d.toString());return String.isNullOrEmpty(a)?0:lt.Annotations.Core.AnnDouble.parseInvariantCulture(a)};lt.Annotations.Core.AnnXmlHelper.readBooleanElement=
function(a,b,c,d){a=lt.Annotations.Core.AnnXmlHelper.readStringElement(a,b,c,d.toString());return Boolean.parse(a)};lt.Annotations.Core.AnnXmlHelper.readColorElement=function(a,b,c,d){a=lt.Annotations.Core.AnnXmlHelper.readStringElement(a,b,c,d);return a=lt.Annotations.Core.AnnXmlHelper.toHtmlColor(a)};lt.Annotations.Core.AnnXmlHelper.readStringElement=function(a,b,c,d){var e=d,a=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c);null!=a&&(e=lt.Annotations.Core.AnnXmlHelper.getStringValue(a,
d));return e};lt.Annotations.Core.AnnXmlHelper.readDateElement=function(a,b,c,d){a=lt.Annotations.Core.AnnXmlHelper.readStringElement(a,b,c,lt.Annotations.Core.AnnObject.dateToString(d));return lt.Annotations.Core.AnnObject.dateFromString(a)};lt.Annotations.Core.AnnXmlHelper.readLengthElement=function(a,b,c,d){a=lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,b,c,d.get_value());return lt.Annotations.Core._leadLengthDExtensions.create(a)};lt.Annotations.Core.AnnXmlHelper.readPointsElement=function(a,
b,c){var d=new lt.Annotations.Core.LeadPointCollection,e=lt.Annotations.Core._leadPointDExtensions.create(0,0),b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c);if(null!=b){b=lt.Annotations.Core.AnnXmlHelper.getChildren(b);for(b=ss.IEnumerator.getEnumerator(b);b.moveNext();)c=b.current,lt.Annotations.Core.AnnXmlHelper.isElementNode(c)&&d.add(lt.Annotations.Core.AnnXmlHelper.readPointElement(a,"",c,e))}return d};lt.Annotations.Core.AnnXmlHelper.readDashArrayElement=function(a,b,c){var d=
null,e=[],a=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c);if(null!=a){d=lt.Annotations.Core.AnnXmlHelper.getChildren(a);for(d=ss.IEnumerator.getEnumerator(d);d.moveNext();)a=d.current,lt.Annotations.Core.AnnXmlHelper.isElementNode(a)&&e.add(parseFloat(lt.Annotations.Core.AnnXmlHelper.getValue(a)));d=Array(e.length);a=0;for(e=ss.IEnumerator.getEnumerator(e);e.moveNext();)d[a]=e.current,a++}return d};lt.Annotations.Core.AnnXmlHelper.readPointElement=function(a,b,c,d){var e=c;String.isNullOrEmpty(b)||
(e=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c));var b=lt.Annotations.Core.AnnDouble.naN.toString(),f=c=lt.Annotations.Core.AnnDouble.naN;if(null!=e){var g=d.get_x().toString(),h=d.get_y().toString(),g=lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"X",e,g);lt.Annotations.Core.Utils.compare(g,b,!0)||(c=lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"X",e,d.get_x()));g=lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"Y",e,h);lt.Annotations.Core.Utils.compare(g,b,
!0)||(f=lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"Y",e,d.get_y()))}return lt.Annotations.Core._leadPointDExtensions.create(c,f)};lt.Annotations.Core.AnnXmlHelper.readSizeElement=function(a,b,c,d){var e=d,b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c);null!=b&&(e=lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"Width",b,d.get_width()),a=lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"Height",b,d.get_height()),e=lt.Annotations.Core._leadSizeDExtensions.create(e,
a));return e};lt.Annotations.Core.AnnXmlHelper.readThicknessElement=function(a,b,c,d){var e=d,b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c);if(null!=b)var e=lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"Top",b,d.get_top()),c=lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"Left",b,d.get_left()),f=lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"Bottom",b,d.get_bottom()),a=lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"Right",b,d.get_right()),e=new lt.Annotations.Core.AnnThickness(c,
e,a,f);return e};lt.Annotations.Core.AnnXmlHelper.readBrushElement=function(a,b,c,d){var e=d,c=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c);if(null!=c){b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,"AnnHatchBrush",c);if(null!=b)return d=new lt.Annotations.Core.AnnHatchBrush,d.set_backgroundColor(lt.Annotations.Core.AnnXmlHelper.readColorElement(a,"BackgroundColor",b,"transparent")),d.set_foregroundColor(lt.Annotations.Core.AnnXmlHelper.readColorElement(a,"ForegroundColor",
b,"red")),d.set_hatchStyle(lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnHatchStyle,lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"AnnHatchStyle",b,"Horizontal"))),d;b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,"SolidColorBrush",c);null!=b&&(e="transparent",d=Type.safeCast(d,lt.Annotations.Core.AnnSolidColorBrush),null!=d&&(e=d.get_color()),a=lt.Annotations.Core.AnnXmlHelper.readColorElement(a,"Color",b,e),d=new lt.Annotations.Core.AnnSolidColorBrush,d.set_color(a),
e=d)}return e};lt.Annotations.Core.AnnXmlHelper.readFontElement=function(a,b,c,d){var e=d,b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c);if(null!=b){e=new lt.Annotations.Core.AnnFont("Arial",12);null!=d&&(e=d);var f=lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"FamilyName",b,e.get_fontFamilyName()),g=lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"Size",b,e.get_fontSize()),d=lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnFontStyle,lt.Annotations.Core.AnnXmlHelper.readStringElement(a,
"Style",b,e.get_fontStyle().toString())),c=lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnFontStretch,lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"Stretch",b,e.get_fontStretch().toString())),h=lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnFontWeight,lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"Weight",b,e.get_fontWeight().toString())),a=lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"TextDecoration",b,e.get_textDecoration()),e=new lt.Annotations.Core.AnnFont(f,
g);e.set_textDecoration(a);e.set_fontStretch(c);e.set_fontWeight(h);e.set_fontStyle(d)}return e};lt.Annotations.Core.AnnXmlHelper.readLabelsElement=function(a,b,c){for(var d={},b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c),b=lt.Annotations.Core.AnnXmlHelper.getChildren(b),b=ss.IEnumerator.getEnumerator(b);b.moveNext();)if(c=b.current,lt.Annotations.Core.AnnXmlHelper.isElementNode(c)){var e=lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"Key",c,"");String.isNullOrEmpty(e)||
(d[e]=lt.Annotations.Core.AnnXmlHelper.readLabelElement(a,"Label",c))}return d};lt.Annotations.Core.AnnXmlHelper.readLabelElement=function(a,b,c){var b=new lt.Annotations.Core.AnnLabel,d=new lt.Annotations.Core.AnnLabel;d.set_isVisible(lt.Annotations.Core.AnnXmlHelper.readBooleanElement(a,"IsVisible",c,b.get_isVisible()));d.set_restrictionMode(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"LabelRestriction",c,0));d.set_text(lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"Text",c,b.get_text()));
d.set_originalPosition(lt.Annotations.Core.AnnXmlHelper.readPointElement(a,"OriginalPosition",c,b.get_originalPosition()));d.set_offset(lt.Annotations.Core.AnnXmlHelper.readPointElement(a,"Offset",c,b.get_offset()));d.set_background(lt.Annotations.Core.AnnXmlHelper.readBrushElement(a,"Background",c,b.get_background()));d.set_foreground(lt.Annotations.Core.AnnXmlHelper.readBrushElement(a,"Foreground",c,b.get_foreground()));d.set_font(lt.Annotations.Core.AnnXmlHelper.readFontElement(a,"Font",c,b.get_font()));
d.set_offsetHeight(lt.Annotations.Core.AnnXmlHelper.readBooleanElement(a,"OffsetHeight",c,b.get_offsetHeight()));return d};lt.Annotations.Core.AnnXmlHelper.readStrokeElement=function(a,b,c,d){var e=lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("transparent"),lt.Annotations.Core._leadLengthDExtensions.create(1));null!=d&&(e=d);d=null;b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c);null!=b&&(d=new lt.Annotations.Core.AnnStroke,d.set_stroke(lt.Annotations.Core.AnnXmlHelper.readBrushElement(a,
"Fill",b,e.get_stroke())),d.set_strokeThickness(lt.Annotations.Core.AnnXmlHelper.readLengthElement(a,"Thickness",b,e.get_strokeThickness())),c=lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnStrokeLineCap,e.get_strokeDashCap()),d.set_strokeDashCap(lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnStrokeLineCap,lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"DashCap",b,c))),c=lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnStrokeLineCap,e.get_strokeStartLineCap()),
d.set_strokeStartLineCap(lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnStrokeLineCap,lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"StartLineCap",b,c))),c=lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnStrokeLineCap,e.get_strokeEndLineCap()),d.set_strokeEndLineCap(lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnStrokeLineCap,lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"EndLineCap",b,c))),c=lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnStrokeLineJoin,
e.get_strokeLineJoin()),d.set_strokeLineJoin(lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnStrokeLineJoin,lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"LineJoin",b,c))),d.set_strokeMiterLimit(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"MiterLimit",b,e.get_strokeMiterLimit())),d.set_strokeDashOffset(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"DashOffset",b,e.get_strokeDashOffset())),d.set_strokeDashArray(lt.Annotations.Core.AnnXmlHelper.readDashArrayElement(a,
"Dashes",b)),e=lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnStrokeAlignment,e.get_strokeAlignment()),d.set_strokeAlignment(lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnStrokeAlignment,lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"StrokeAlignment",b,e))));return d};lt.Annotations.Core.AnnXmlHelper.readPictureElement=function(a,b,c){var d=null,b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c);null!=b&&(d=new lt.Annotations.Core.AnnPicture(""),c=lt.Annotations.Core.AnnXmlHelper.readStringElement(a,
"PictureData",b,""),String.isNullOrEmpty(c)?d.set_pictureData(null):d.set_pictureData(lt.Annotations.Core.Utils.compare(c,"null",!0)?null:c),d.set_source(lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"PictureSource",b,"")),d.set_width(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"PictureWidth",b,0)),d.set_height(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"PictureHeight",b,0)));return d};lt.Annotations.Core.AnnXmlHelper.readMediaElement=function(a,b,c){var d=null,b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,
b,c);null!=b&&(d=new lt.Annotations.Core.AnnMedia,d.set_source1(lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"Source1",b,"")),d.set_type1(lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"MediaType1",b,"")),d.set_source2(lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"Source2",b,"")),d.set_type2(lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"MediaType2",b,"")),d.set_source3(lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"Source3",b,"")),d.set_type3(lt.Annotations.Core.AnnXmlHelper.readStringElement(a,
"MediaType3",b,"")));return d};lt.Annotations.Core.AnnXmlHelper._readOnLoadElement=function(a,b,c){var d=new lt.Annotations.Core._annOnLoadData,b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c);null!=b&&(d.set_rotateAngle(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"RotateAngle",b,d.get_rotateAngle())),d.set_scaleX(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"ScaleX",b,d.get_scaleX())),d.set_scaleY(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"ScaleY",b,
d.get_scaleY())),d.set_offset(lt.Annotations.Core.AnnXmlHelper.readPointElement(a,"Offset",b,d.get_offset())));return d};lt.Annotations.Core.AnnXmlHelper.readMetadataElement=function(a,b,c){var d={},a=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c);if(null!=a){a=lt.Annotations.Core.AnnXmlHelper.getChildren(a);for(a=ss.IEnumerator.getEnumerator(a);a.moveNext();)if(b=a.current,lt.Annotations.Core.AnnXmlHelper.isElementNode(b))if(c=lt.Annotations.Core.AnnXmlHelper.getChildren(b),1<c.length)if(3<
c.length){var e=lt.Annotations.Core.AnnXmlHelper.getInnerText(c[1]);d[e]=lt.Annotations.Core.AnnXmlHelper.getInnerText(c[3])}else e=lt.Annotations.Core.AnnXmlHelper.getInnerText(c[0]),d[e]=lt.Annotations.Core.AnnXmlHelper.getInnerText(c[1]);else e=lt.Annotations.Core.AnnXmlHelper.getNodeName(b),d[e]=lt.Annotations.Core.AnnXmlHelper.getInnerText(b)}return d};lt.Annotations.Core.AnnXmlHelper.readReviewsElement=function(a,b,c){var d=[],b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,b,c);
if(null==b)return d;b=lt.Annotations.Core.AnnXmlHelper.getChildren(b);for(b=ss.IEnumerator.getEnumerator(b);b.moveNext();){var e=b.current;if(lt.Annotations.Core.AnnXmlHelper.isElementNode(e)||lt.Annotations.Core.AnnXmlHelper.isNodeName(e,"Review")){c=new lt.Annotations.Core.AnnReview;c.set_author(lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"Author",e,""));c.set_date(lt.Annotations.Core.AnnXmlHelper.readDateElement(a,"Date",e,Date.get_now()));c.set_status(lt.Annotations.Core.AnnXmlHelper.readStringElement(a,
"Status",e,""));c.set_isChecked(lt.Annotations.Core.AnnXmlHelper.readBooleanElement(a,"IsChecked",e,!1));c.set_comment(lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"Comment",e,""));e=lt.Annotations.Core.AnnXmlHelper.readReviewsElement(a,"Replies",e);if(null!=e)for(e=ss.IEnumerator.getEnumerator(e);e.moveNext();){var f=e.current;c.get_replies().add(f)}d.add(c)}}return d};lt.Annotations.Core.AnnXmlHelper.createTextNode=function(a,b,c){b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b);a=
a.createTextNode(null==c?"":c);b.appendChild(a);return b};lt.Annotations.Core.AnnXmlHelper.createDateNode=function(a,b,c){b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b);c=lt.Annotations.Core.AnnObject.dateToString(c);a=a.createTextNode(c);b.appendChild(a);return b};lt.Annotations.Core.AnnXmlHelper.writeMetadataElement=function(a,b,c,d){for(var b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b),e=ss.IEnumerator.getEnumerator(Object.keys(d));e.moveNext();){var f=e.current,g=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,
"Item",""),h=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,"Key",f),f=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,"Value",d[f]);lt.Annotations.Core.AnnXmlHelper.appendChild(g,h);lt.Annotations.Core.AnnXmlHelper.appendChild(g,f);lt.Annotations.Core.AnnXmlHelper.appendChild(b,g)}lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)};lt.Annotations.Core.AnnXmlHelper.writeReviewsElement=function(a,b,c,d){b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b);if(null!=d){for(d=ss.IEnumerator.getEnumerator(d);d.moveNext();){var e=
d.current;if(null!=e){var f=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,"Review","");lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"Author",f,e.get_author());lt.Annotations.Core.AnnXmlHelper.writeDateElement(a,"Date",f,e.get_date());lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"Status",f,e.get_status());lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(a,"IsChecked",f,e.get_isChecked());lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"Comment",f,e.get_comment());null!=
e.get_replies()&&0<e.get_replies().length&&lt.Annotations.Core.AnnXmlHelper.writeReviewsElement(a,"Replies",f,e.get_replies());lt.Annotations.Core.AnnXmlHelper.appendChild(b,f)}}lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)}};lt.Annotations.Core.AnnXmlHelper.writeLabelsElement=function(a,b,c,d){for(var b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b),e=ss.IEnumerator.getEnumerator(Object.keys(d));e.moveNext();){var f=e.current;lt.Annotations.Core.AnnXmlHelper.writeLabelElement(a,"Label",
b,d[f],f)}lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)};lt.Annotations.Core.AnnXmlHelper.writeColorElement=function(a,b,c,d){d=lt.Annotations.Core.AnnXmlHelper.fromHtmlColor(d);lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,b,c,d)};lt.Annotations.Core.AnnXmlHelper.writeStringElement=function(a,b,c,d){a=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,b,d);lt.Annotations.Core.AnnXmlHelper.appendChild(c,a)};lt.Annotations.Core.AnnXmlHelper.writeDateElement=function(a,b,c,d){a=lt.Annotations.Core.AnnXmlHelper.createDateNode(a,
b,d);lt.Annotations.Core.AnnXmlHelper.appendChild(c,a)};lt.Annotations.Core.AnnXmlHelper.writeDataElement=function(a,b,c,d){d=lt.Annotations.Core.Utils.toBase64String(d);a=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,b,d);lt.Annotations.Core.AnnXmlHelper.appendChild(c,a)};lt.Annotations.Core.AnnXmlHelper.writeBooleanElement=function(a,b,c,d){lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,b,c,lt.Annotations.Core.Utils.toLowerCase(d.toString()))};lt.Annotations.Core.AnnXmlHelper.writePointsElement=
function(a,b,c,d){b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b);for(d=ss.IEnumerator.getEnumerator(d);d.moveNext();)lt.Annotations.Core.AnnXmlHelper.writePointElement(a,"Point",b,d.current);lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)};lt.Annotations.Core.AnnXmlHelper.writeLengthElement=function(a,b,c,d){a=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,b,d.get_value().toString());lt.Annotations.Core.AnnXmlHelper.appendChild(c,a)};lt.Annotations.Core.AnnXmlHelper.writePointElement=
function(a,b,c,d){var b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b),e=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,"X",lt.Annotations.Core.Utils.toStringInvariantCulture(d.get_x())),a=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,"Y",lt.Annotations.Core.Utils.toStringInvariantCulture(d.get_y()));lt.Annotations.Core.AnnXmlHelper.appendChild(b,e);lt.Annotations.Core.AnnXmlHelper.appendChild(b,a);lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)};lt.Annotations.Core.AnnXmlHelper.writeThicknessElement=
function(a,b,c,d){var b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b),e=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,"Top",d.get_top().toString()),f=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,"Left",d.get_left().toString()),g=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,"Bottom",d.get_bottom().toString()),a=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,"Right",d.get_right().toString());lt.Annotations.Core.AnnXmlHelper.appendChild(b,e);lt.Annotations.Core.AnnXmlHelper.appendChild(b,
f);lt.Annotations.Core.AnnXmlHelper.appendChild(b,g);lt.Annotations.Core.AnnXmlHelper.appendChild(b,a);lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)};lt.Annotations.Core.AnnXmlHelper.writeSizeElement=function(a,b,c,d){var b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b),e=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,"Width",d.get_width().toString()),a=lt.Annotations.Core.AnnXmlHelper.createTextNode(a,"Height",d.get_height().toString());lt.Annotations.Core.AnnXmlHelper.appendChild(b,
e);lt.Annotations.Core.AnnXmlHelper.appendChild(b,a);lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)};lt.Annotations.Core.AnnXmlHelper.writeBrushElement=function(a,b,c,d){var b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b),e=Type.safeCast(d,lt.Annotations.Core.AnnSolidColorBrush);if(null!=e){var f=lt.Annotations.Core.AnnXmlHelper.createElement(a,"SolidColorBrush");lt.Annotations.Core.AnnXmlHelper.writeColorElement(a,"Color",f,e.get_color());lt.Annotations.Core.AnnXmlHelper.appendChild(b,f)}d=
Type.safeCast(d,lt.Annotations.Core.AnnHatchBrush);null!=d&&(e=lt.Annotations.Core.AnnXmlHelper.createElement(a,"AnnHatchBrush"),lt.Annotations.Core.AnnXmlHelper.writeColorElement(a,"ForegroundColor",e,d.get_foregroundColor()),lt.Annotations.Core.AnnXmlHelper.writeColorElement(a,"BackgroundColor",e,d.get_backgroundColor()),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"AnnHatchStyle",e,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnHatchStyle,d.get_hatchStyle())),lt.Annotations.Core.AnnXmlHelper.appendChild(b,
e));lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)};lt.Annotations.Core.AnnXmlHelper.writeNumericElement=function(a,b,c,d){lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,b,c,lt.Annotations.Core.Utils.toStringInvariantCulture(d))};lt.Annotations.Core.AnnXmlHelper.writeFontElement=function(a,b,c,d){b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b);null!=d&&(lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"FamilyName",b,d.get_fontFamilyName()),lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,
"Size",b,d.get_fontSize()),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"Stretch",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnFontStretch,d.get_fontStretch())),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"Weight",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnFontWeight,d.get_fontWeight())),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"Style",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnFontStyle,d.get_fontStyle())),
lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,"TextDecoration",b,d.get_textDecoration()));lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)};lt.Annotations.Core.AnnXmlHelper.writeLabelElement=function(a,b,c,d,e){b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b);lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"Key",b,e);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(a,"IsVisible",b,d.get_isVisible());lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,"LabelRestriction",
b,d.get_restrictionMode());lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"Text",b,d.get_text());lt.Annotations.Core.AnnXmlHelper.writePointElement(a,"OriginalPosition",b,d.get_originalPosition());lt.Annotations.Core.AnnXmlHelper.writePointElement(a,"Offset",b,d.get_offset());lt.Annotations.Core.AnnXmlHelper.writeBrushElement(a,"Background",b,d.get_background());lt.Annotations.Core.AnnXmlHelper.writeBrushElement(a,"Foreground",b,d.get_foreground());lt.Annotations.Core.AnnXmlHelper.writeFontElement(a,
"Font",b,d.get_font());lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(a,"OffsetHeight",b,d.get_offsetHeight());lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)};lt.Annotations.Core.AnnXmlHelper.writeStrokeElement=function(a,b,c,d){b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b);null!=d&&(lt.Annotations.Core.AnnXmlHelper.writeBrushElement(a,"Fill",b,d.get_stroke()),lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,"Thickness",b,d.get_strokeThickness().get_value()),lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,
"MiterLimit",b,parseInt(d.get_strokeMiterLimit())),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"DashCap",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnStrokeLineCap,d.get_strokeDashCap())),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"StartLineCap",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnStrokeLineCap,d.get_strokeStartLineCap())),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"EndLineCap",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnStrokeLineCap,
d.get_strokeEndLineCap())),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"LineJoin",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnStrokeLineJoin,d.get_strokeLineJoin())),lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,"DashOffset",b,d.get_strokeDashOffset()),lt.Annotations.Core.AnnXmlHelper.writeDashArrayElement(a,"Dashes",b,d.get_strokeDashArray()),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"StrokeAlignment",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnStrokeAlignment,
d.get_strokeAlignment())));lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)};lt.Annotations.Core.AnnXmlHelper.writeDashArrayElement=function(a,b,c,d){b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b);if(null!=d)for(d=ss.IEnumerator.getEnumerator(d);d.moveNext();)lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,"DashSize",b,d.current);lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)};lt.Annotations.Core.AnnXmlHelper.writePictureElement=function(a,b,c,d){null!=d&&(b=lt.Annotations.Core.AnnXmlHelper.createElement(a,
b),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"PictureData",b,d.get_pictureData()),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"PictureSource",b,d.get_source()),lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,"PictureWidth",b,d.get_width()),lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,"PictureHeight",b,d.get_height()),lt.Annotations.Core.AnnXmlHelper.appendChild(c,b))};lt.Annotations.Core.AnnXmlHelper.writeMediaElement=function(a,b,c,d){null!=d&&(b=lt.Annotations.Core.AnnXmlHelper.createElement(a,
b),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"Source1",b,d.get_source1()),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"MediaType1",b,d.get_type1()),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"Source2",b,d.get_source2()),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"MediaType2",b,d.get_type2()),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"Source3",b,d.get_source3()),lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"MediaType3",b,d.get_type3()),
lt.Annotations.Core.AnnXmlHelper.appendChild(c,b))};lt.Annotations.Core.AnnXmlHelper._writeOnLoadElement=function(a,b,c){var d=new lt.Annotations.Core._annOnLoadData,b=lt.Annotations.Core.AnnXmlHelper.createElement(a,b);lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,"RotateAngle",b,d.get_rotateAngle());lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,"ScaleX",b,d.get_scaleX());lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,"ScaleY",b,d.get_scaleY());lt.Annotations.Core.AnnXmlHelper.writePointElement(a,
"Offset",b,d.get_offset());lt.Annotations.Core.AnnXmlHelper.appendChild(c,b)};lt.Annotations.Core.AnnXmlHelper.toHex=function(a){a=a.toString(16).toUpperCase();2>a.length&&(a="0"+a);return a};lt.Annotations.Core.AnnXmlHelper.fromHtmlColor=function(a){var b=a.trim().toLowerCase();if(!b.startsWith("rgb"))return a;var b=b.replaceAll(" ",""),c,d,e;if(b.startsWith("rgb(")){c=255;b=b.replaceAll("rgb(","");b=b.replaceAll(")","");b=b.split(",");if(null==b||3!==b.length)return a;a=parseInt(b[0]);d=parseInt(b[1]);
e=parseInt(b[2])}else if(b.startsWith("rgba(")){b=b.replaceAll("rgba(","");b=b.replaceAll(")","");b=b.split(",");if(null==b||4!==b.length)return a;a=parseInt(b[0]);d=parseInt(b[1]);e=parseInt(b[2]);c=parseFloat(b[3]);c=1===c?255:c?parseInt(255*c):0}else return b;b="#";255!==c&&(b+=lt.Annotations.Core.AnnXmlHelper.toHex(c));return b+=lt.Annotations.Core.AnnXmlHelper.toHex(a)+lt.Annotations.Core.AnnXmlHelper.toHex(d)+lt.Annotations.Core.AnnXmlHelper.toHex(e)};lt.Annotations.Core.AnnXmlHelper.toHtmlColor=
function(a){var b=a.trim();if(null==b||9!==b.length||"#"!==b.charAt(0))return b;var a=parseInt(b.substring(1,3),16),c=parseInt(b.substring(3,5),16),d=parseInt(b.substring(5,7),16),b=parseInt(b.substring(7,9),16);return b="rgba("+c.toString()+", "+d.toString()+", "+b.toString()+", "+(a/255).toString()+")"};lt.Annotations.Core.AnnXmlHelper.appendChild=function(a,b){a.appendChild(b)};lt.Annotations.Core.AnnXmlHelper.createElement=function(a,b){return a.createElement(b)};lt.Annotations.Core.AnnXmlHelper.createActiveXDocument=
function(a){var b="undefined"!=typeof Leadtools&&"function"==typeof Leadtools.RasterSupport;return lt.LTHelper.browser===lt.LTBrowser.internetExplorer&&11===lt.LTHelper.version&&!(a instanceof ActiveXObject)&&!b?(b=new ActiveXObject("Microsoft.XMLDOM"),b.load(a),b):a};lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild=function(a,b,c){var d="undefined"!=typeof Leadtools&&"function"==typeof Leadtools.RasterSupport;if(lt.LTHelper.browser===lt.LTBrowser.internetExplorer&&11===lt.LTHelper.version&&
!d&&a instanceof ActiveXObject)return c.selectSingleNode(b);if(!d&&(lt.LTHelper.browser===lt.LTBrowser.edge||lt.LTHelper.browser===lt.LTBrowser.internetExplorer)){a=c.childNodes;for(d=0;d<a.length;d++)if(lt.Annotations.Core.AnnXmlHelper.isNodeName(a[d],b))return a[d]}else{a=c.getElementsByTagName(b);for(d=0;d<a.length;d++)if(lt.Annotations.Core.AnnXmlHelper.isParent(c,a[d]))return a[d]}return null};lt.Annotations.Core.AnnXmlHelper.getMatchingChildren=function(a,b,c){var d="undefined"!=typeof Leadtools&&
"function"==typeof Leadtools.RasterSupport;if(lt.LTHelper.browser===lt.LTBrowser.internetExplorer&&11===lt.LTHelper.version&&!d&&a instanceof ActiveXObject)return c.selectNodes(b);a=[];if(!d&&(lt.LTHelper.browser===lt.LTBrowser.edge||lt.LTHelper.browser===lt.LTBrowser.internetExplorer))for(var d=c.childNodes,e=0;e<d.length;e++)lt.Annotations.Core.AnnXmlHelper.isNodeName(d[e],b)&&a.add(d[e]);else{d=c.getElementsByTagName(b);for(e=0;e<d.length;e++)lt.Annotations.Core.AnnXmlHelper.isParent(c,d[e])&&
a.add(d[e])}return a};lt.Annotations.Core.AnnXmlHelper.getChildren=function(a){return a.childNodes};lt.Annotations.Core.AnnXmlHelper.getStringValue=function(a,b){var c=b;lt.Annotations.Core.AnnXmlHelper._hasChild(a)&&("undefined"!=typeof a.textContent?(c=a.textContent,c=c.trim()):c=a.firstChild.nodeValue.trim());return c};lt.Annotations.Core.AnnXmlHelper.getValue=function(a){return a.firstChild.nodeValue.trim()};lt.Annotations.Core.AnnXmlHelper.getNodeName=function(a){return a.nodeName};lt.Annotations.Core.AnnXmlHelper.isNodeName=
function(a,b){return a.nodeName===b};lt.Annotations.Core.AnnXmlHelper.isElementNode=function(a){var b=!1;1===a.nodeType&&(b=!0);return b};lt.Annotations.Core.AnnXmlHelper.toXml=function(){return""};lt.Annotations.Core.AnnXmlHelper.isParent=function(a,b){return b.parentNode===a};lt.Annotations.Core.AnnXmlHelper.getAttributeValue=function(a,b){var c="";return c=b.attributes.getNamedItem(a).nodeValue};lt.Annotations.Core.AnnXmlHelper.getInnerText=function(a){var b="",b=a.textContent;null!=b&&(b=b.trim());
return b};lt.Annotations.Core.AnnXmlHelper.setAttributeValue=function(a,b,c){var d=String.format("{0}<{1}></{2}>",'<?xml version="1.0" encoding="utf-8"?>',"Annotations","Annotations"),b=(new DOMParser).parseFromString(d,"application/xml").createAttribute(b);b.value=c;a.attributes.setNamedItem(b)};lt.Annotations.Core.ExceptionHelper=function(){};lt.Annotations.Core.ExceptionHelper.invalidOperationException=function(a){throw Error(a);};lt.Annotations.Core.ExceptionHelper.argumentNullException=function(a){throw Error("Value cannot be null.\nParameter name: "+
a);};lt.Annotations.Core.ExceptionHelper.argumentOutOfRangeException=function(a,b,c){throw Error(String.format("{0}\nParameter name: {1}\nActual value was {2}.",c,a,b));};lt.Annotations.Core.ExceptionHelper.argumentException=function(a,b){if(String.isNullOrEmpty(b))throw Error(a);throw Error(String.format("{0}\nParameter name: {1}",a,b));};lt.Annotations.Core.PolyPoint=function(){};lt.Annotations.Core.PolyPoint.fromEllipse=function(a,b,c){var d=a.get_width()/2,e=a.get_height()/2,f=a.get_x()+d,g=a.get_y()+
e,h=0.5522847498308*d,i=0.5522847498308*e,a=new lt.Annotations.Core.PolyPoint;a._allocatePoints(13);a._points[0].set_x(a._points[1].set_x(a._points[11].set_x(a._points[12].set_x(f-d))));a._points[5].set_x(a._points[6].set_x(a._points[7].set_x(f+d)));a._points[2].set_x(a._points[10].set_x(f-h));a._points[4].set_x(a._points[8].set_x(f+h));a._points[3].set_x(a._points[9].set_x(f));a._points[2].set_y(a._points[3].set_y(a._points[4].set_y(g-e)));a._points[8].set_y(a._points[9].set_y(a._points[10].set_y(g+
e)));a._points[7].set_y(a._points[11].set_y(g+i));a._points[1].set_y(a._points[5].set_y(g-i));a._points[0].set_y(a._points[12].set_y(a._points[6].set_y(g)));a._bezierToPolyPoint(!0);b&&!lt.Annotations.Core.AnnDouble.isNaN(b)&&(d=lt.LeadMatrix.get_identity(),d.rotateAt(b,c.get_x(),c.get_y()),d.transformPoints(a.get_points()));return a};lt.Annotations.Core.PolyPoint.prototype={_points:null,get_points:function(){return this._points},set_points:function(a){return this._points=a},_pointTypes:null,get_pointTypes:function(){return this._pointTypes},
set_pointTypes:function(a){return this._pointTypes=a},_allocatePoints:function(a){this._points=Array(a);for(var b=0;b<a;b++)this._points[b]=lt.LeadPointD.create(0,0);this._pointTypes=Array(a)},_bezierToPolyPoint:function(a){for(var b=0;b<this._points.length;b++)this._pointTypes[b]=b?4:6,a&&b===this._pointTypes.length-1&&(this._pointTypes[b]|=1)},hitTest:function(a,b,c){var d=!1;c&&(d=lt.Annotations.Core.Utils.hitTestPolygonArray(this._points,a));if(!d)for(var c=0,e=-1,f=-1,g=this._points.length;c<
g&&!d;)switch(this._pointTypes[c]){case 7:case 6:e=c;c++;break;case 3:case 2:f=c;lt.Annotations.Core.Utils.hitTestLine(this._points[e],this._points[f],a,b,!0)&&(d=!0);e=f;c++;break;case 5:case 4:lt.Annotations.Core.Utils.hitTestBezier(this._points,e,a,b)&&(d=!0),e=c+2,c+=3}return d}};Object.defineProperty(lt.Annotations.Core.PolyPoint.prototype,"points",{get:lt.Annotations.Core.PolyPoint.prototype.get_points,set:lt.Annotations.Core.PolyPoint.prototype.set_points,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.PolyPoint.prototype,
"pointTypes",{get:lt.Annotations.Core.PolyPoint.prototype.get_pointTypes,set:lt.Annotations.Core.PolyPoint.prototype.set_pointTypes,enumerable:!0,configurable:!0});lt.Annotations.Core.RulerMetadata=function(){};lt.Annotations.Core.RulerMetadata.prototype={multiply:0,tickUnit:0,outFactor:0,outDivisor:0};lt.Annotations.Core.RulerHelper=function(){};lt.Annotations.Core.RulerHelper.getRulerLength=function(a){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("points");for(var b=0,c=0;c<
a.length-1;++c)b+=lt.Annotations.Core.RulerHelper.getRulerLengthFromTwoPoints(a[c],a[c+1]);return b};lt.Annotations.Core.RulerHelper.getRulerLengthFromTwoPoints=function(a,b){return lt.Annotations.Core.Utils.distance(a,b)};lt.Annotations.Core.RulerHelper.getLengthString=function(a,b,c,d){return lt.Annotations.Core.RulerHelper._lengthString(a.get_value(),b,c,d)};lt.Annotations.Core.RulerHelper.getLengthStringFromPoint=function(a,b,c,d,e){return lt.Annotations.Core.RulerHelper._lengthString(lt.Annotations.Core.RulerHelper.getRulerLengthFromTwoPoints(a,
b),c,d,e)};lt.Annotations.Core.RulerHelper.getLengthStringFromPoints=function(a,b,c,d){return lt.Annotations.Core.RulerHelper._lengthString(lt.Annotations.Core.RulerHelper.getRulerLength(a),b,c,d)};lt.Annotations.Core.RulerHelper._lengthString=function(a,b,c,d){var e=0,f=0,g=0,e="",g=a;switch(c){case 3:g=lt.Annotations.Core.AnnUnitConverter.convert(a,0,5);a=lt.Annotations.Core.AnnUnitConverter.get_smartEnglishMaximumUnit();36<=g&&1===(9===a|3===a)?(e=parseInt(parseInt(g)/36),g-=36*e,f=parseInt(parseInt(g)/
12),b=String.format("{0} {1} {2} {3} {4} {5}",e,d[9],f,d[8],lt.Annotations.Core.Utils.precisionFormat(b,g-12*f),d[5])):12<=g&&1===(8===a|3===a)?(f=parseInt(parseInt(g)/12),b=String.format("{0} {1} {2} {3}",f,d[8],lt.Annotations.Core.Utils.precisionFormat(b,g-12*f),d[5])):b=String.format("{0} {1}",lt.Annotations.Core.Utils.precisionFormat(b,g),d[5]);break;case 4:g=lt.Annotations.Core.AnnUnitConverter.convert(a,0,10);a=lt.Annotations.Core.AnnUnitConverter.get_smartMetricMaximumUnit();g>=lt.Annotations.Core.RulerHelper._micrometersPerMeter&&
1===(12===a|4===a)?(g/=lt.Annotations.Core.RulerHelper._micrometersPerMeter,e=d[12]):g>=lt.Annotations.Core.RulerHelper._micrometersPerCm&&1===(11===a|4===a)?(g/=lt.Annotations.Core.RulerHelper._micrometersPerCm,e=d[11]):1E3<=g&&1===(6===a|4===a)?(g/=1E3,e=d[6]):e=d[10];b=String.format("{0} {1}",lt.Annotations.Core.Utils.precisionFormat(b,g),e);break;default:g=lt.Annotations.Core.AnnUnitConverter.convert(a,0,c),b=String.format("{0} {1}",lt.Annotations.Core.Utils.precisionFormat(b,g),d[c])}return b};
lt.Annotations.Core.RulerHelper.getGaugePoints=function(a,b,c,d,e){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");if(lt.Annotations.Core._leadPointDExtensions.isEqual(b,c))return null;var f=Array(4),b=a.pointFromContainerCoordinates(b,e),c=a.pointFromContainerCoordinates(c,e),g=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(b,c),d=lt.Annotations.Core._leadLengthDExtensions.create(d.get_value()/2),d=lt.Annotations.Core._leadLengthDExtensions.create(a.lengthFromContainerCoordinates(d,
e|2));f[0]=lt.Annotations.Core.Utils.transformPoint(g,d,b);f[2]=lt.Annotations.Core.Utils.transformPoint(g,d,c);lt.Annotations.Core._leadPointDExtensions.isEmpty(g)||(g.set_x(-g.get_x()),g.set_y(-g.get_y()));f[1]=lt.Annotations.Core.Utils.transformPoint(g,d,b);f[3]=lt.Annotations.Core.Utils.transformPoint(g,d,c);return f};lt.Annotations.Core.RulerHelper._unitToTicUnit=function(a){var b=1;switch(a){case 5:b=4;break;case 8:b=3;break;case 9:b=2;break;default:b=1}return b};lt.Annotations.Core.RulerHelper._decreaseTickUnit=
function(a){switch(a.tickUnit){case 1:a.multiply=10;break;case 2:a.multiply=3;a.tickUnit=3;break;case 3:a.multiply=12;a.tickUnit=4;break;case 4:a.tickUnit=6;a.multiply=4;break;case 6:a.tickUnit=7,a.multiply=2}};lt.Annotations.Core.RulerHelper._increaseTickUnit=function(a){switch(a.tickUnit){case 1:a.multiply=10;break;case 3:a.multiply=3;a.tickUnit=2;break;case 4:a.tickUnit=3;a.multiply=12;break;case 6:a.tickUnit=4;a.multiply=4;break;case 7:a.tickUnit=6,a.multiply=2}};lt.Annotations.Core.RulerHelper.getTickMarkSize=
function(a,b){var c=1;switch(b){case 1:case 2:c=a%10?a%5?4:2:1;break;case 3:c=a%3?2:1;break;case 4:c=a%12?2:1;break;case 6:switch(a%4){case 0:c=1;break;case 1:case 3:c=4;break;case 2:c=2}break;case 7:switch(a%8){case 0:c=1;break;case 4:c=2;break;case 2:case 6:c=4;break;case 1:case 3:case 5:case 7:c=8}}return c};lt.Annotations.Core.RulerHelper.getTickMarkFactor=function(a,b,c,d,e){if(0>=a)return e.outFactor=0,e.outDivisor=1;var f=1,g=1,h=new lt.Annotations.Core.RulerMetadata;h.multiply=1;for(h.tickUnit=
lt.Annotations.Core.RulerHelper._unitToTicUnit(b);parseInt(a)>d&&7!==h.tickUnit;)lt.Annotations.Core.RulerHelper._decreaseTickUnit(h),a/=h.multiply,f*=h.multiply;for(;parseInt(a)<c&&2!==h.tickUnit;)lt.Annotations.Core.RulerHelper._increaseTickUnit(h),a*=h.multiply,g*=h.multiply;e.outFactor=f;e.outDivisor=g;return h.tickUnit};lt.Annotations.Core.RulerHelper.getTickMarks=function(a,b,c,d,e,f){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");var g=a.get_calibrationScale();
14===e&&(g=1,e=0);3===e?e=5:4===e&&(e=10);var h=lt.Annotations.Core.AnnUnitConverter.convert(lt.Annotations.Core.Utils.distance(b,c),0,e),b=a.pointFromContainerCoordinates(b,f),c=a.pointFromContainerCoordinates(c,f),a=a.lengthFromContainerCoordinates(d,f|2),i=lt.Annotations.Core.RulerHelper.getRulerLength([b,c]);if(!i||lt.Annotations.Core.AnnDouble.isNaN(i))return null;var f=i/h,d=lt.Annotations.Core.Utils.getUnitVector(b,c),c=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(b,c),j=new lt.Annotations.Core.RulerMetadata,
e=lt.Annotations.Core.RulerHelper.getTickMarkFactor(f,e,8*g,12*g,j),f=j.outFactor;if(!f)return null;g*=h*f/j.outDivisor;f=i/g;g=Math.ceil(g);h=Array(2*g);for(i=0;i<g;i++){var j=lt.Annotations.Core._leadLengthDExtensions.create(a/(2*lt.Annotations.Core.RulerHelper.getTickMarkSize(i,e))),k=lt.Annotations.Core.Utils.transformPoint(d,lt.Annotations.Core._leadLengthDExtensions.create(i*f),b);h[2*i]=lt.Annotations.Core.Utils.transformPoint(c,j,k);c.set_x(-c.get_x());c.set_y(-c.get_y());h[2*i+1]=lt.Annotations.Core.Utils.transformPoint(c,
j,k)}return h};lt.Annotations.Core._encryptTable=function(){};lt.Annotations.Core._encryptTable.prototype={uSeed:null,uRowStart:0,uColStart:0,uWidth:0,uHeight:0,uSize:0,pTable:null};lt.Annotations.Core._arC4=function(a,b){var c=a.length,d,e,f=0,g=0;this.s=[];this._c=[];this._width=b;c||(a.add(0),c++);for(;f<this._width;)this.s.add(f),f++;for(f=0;f<b;f++)d=this.s[f],g=this._lowbits(g+d+a[f%c]),e=this.s[g],this.s[f]=e,this.s[g]=d;this.getNext(this._width)};lt.Annotations.Core._arC4.prototype={s:null,
_c:null,_width:0,_i:0,_j:0,getNext:function(a){var b=this.s,c=this._lowbits(this._i+1),d=b[c],e=this._lowbits(this._j+d),f=b[e];b[c]=f;b[e]=d;for(var g=b[this._lowbits(d+f)];--a;)c=this._lowbits(c+1),d=b[c],e=this._lowbits(e+d),f=b[e],b[c]=f,b[e]=d,g=g*this._width+b[this._lowbits(d+f)];this._i=c;this._j=e;return g},_lowbits:function(a){return a&this._width-1}};lt.Annotations.Core._randomGenerator=function(a){this._pool=[];this._key=[];this._startdenom=Math.pow(this._width,this._chunks);this._significance=
Math.pow(2,this._significance);this._overflow=2*this._significance;this._mixkey(Math.random().toString(),this._pool);this.seed(a)};lt.Annotations.Core._randomGenerator.prototype={_width:256,_chunks:1,_significance:4,_overflow:0,_startdenom:0,_arc4:null,_min:0,_max:32767,_delta:32767,_lowbits:function(a){return a&this._width-1},_mixkey:function(a,b){var c=a,d=0,e;for(e=0;e<c.length;e++)b[this._lowbits(e)]=this._lowbits((d^=19*b[this._lowbits(e)])+c.charCodeAt(e));c="";for(d=0;d<b.length;d++)c+=String.fromCharCode(b[d]);
return c},fGetNextRandom:function(){for(var a=this._arc4.getNext(this._chunks),b=this._startdenom,c=0;a<this._significance;)a=(a+c)*this._width,b*=this._width,c=this._arc4.getNext(1);for(;a>=this._overflow;)a/=2,b/=2,c>>=1;return(a+c)/b},getNextRandom:function(){return this.fGetNextRandom()*this._delta>>0},setBounds:function(a,b){this._min=a;this._max=b;this._delta=this._max-this._min},seed:function(a){this._key.clear();this._mixkey(a,this._key);this._arc4=new lt.Annotations.Core._arC4(this._key,
this._width);this._mixkey(this._arc4.s.toString(),this._pool)}};lt.Annotations.Core.ScrambleImage=function(){};lt.Annotations.Core.ScrambleImage.prototype={_imageData:null,_imageWidth:0,_imageHeight:0,_rect:null,_key:null,_flags:0,get_imageData:function(){return this._imageData},set_imageData:function(a){return this._imageData=a},get_imageWidth:function(){return this._imageWidth},set_imageWidth:function(a){return this._imageWidth=a},get_imageHeight:function(){return this._imageHeight},set_imageHeight:function(a){return this._imageHeight=
a},get_rectangle:function(){return this._rect},set_rectangle:function(a){return this._rect=a},get_key:function(){return this._key},set_key:function(a){return this._key=a},get_flags:function(){return this._flags},set_flags:function(a){return this._flags=a},scramble:function(){this.scrambleData(this._imageData,this._imageWidth,this._imageHeight,parseInt(this._rect.get_left()),parseInt(this._rect.get_top()),parseInt(this._rect.get_width()),parseInt(this._rect.get_height()),this._key,this._flags)},_validateParameters:function(a,
b,c,d,e,f,g,h,i){if(null==i)throw Error("a key must be specified");if(!i.trim())throw Error("a key must be specified");if(null==a)throw Error("originalData must not be null");if(0>=b)throw Error("invalid originalWidth value");if(0>=c)throw Error("invalid originalHeight value");if(4*b*c!==a.length)throw Error("originalWidth and originalHeight doesn't match the size of the data");if(0>d||d>=b)throw Error("invalid colStart value");if(0>e||e>=c)throw Error("invalid rowStart value");if(0>=f)throw Error("invalid width value");
if(0>=g)throw Error("invalid height value");if(d+f>b)throw Error("colStart + width is larger than the data width");if(e+g>c)throw Error("rowStart + height is larger than the data height");if(h&-768)throw Error("no flag were set in flag");if(3===(h&3))throw Error("cannot specify both encrypt and decrypt");if(!(h&3))throw Error("you must specify either encrypt or decrypt");},scrambleData:function(a,b,c,d,e,f,g,h,i){this._validateParameters(a,b,c,d,e,f,g,i,h);d>>=0;e>>=0;f>>=0;g>>=0;if(i&4)var j=lt.LeadRectD.create(0,
0,b,c),g=lt.LeadRectD.create(d,e,f,g),d=Math.max(j.get_left(),g.get_left()),e=Math.max(j.get_top(),g.get_top()),f=Math.min(j.get_right(),g.get_right())-d,g=Math.min(j.get_bottom(),g.get_bottom())-e;this._internalScrambleImage(a,b,c,d,e,f,g,h,i)},_memset:function(a,b,c){for(var d=0;d<c;d++)a[d]=b},_allocateEncryptTable:function(a,b,c,d,e,f,g){var h=null,h=new lt.Annotations.Core._encryptTable;if(null==h)return null;h.uSeed=f;h.uColStart=b;h.uRowStart=c;h.uWidth=d;h.uHeight=e;h.uSize=h.uWidth*h.uHeight;
b=h.uSize;h.pTable=lt.LTHelper.supportsTypedArray?new Int32Array(b):Array(b);if(null==h.pTable)return null;b=h.uSize;c=h.pTable;if(g)for(var d=0,e=a[d++],i=a.length,g=0;g<b;g++){f=a[d++];d>=i&&(d=0);var j=((f<<15)+e)%(g+1),e=f;c[g]=c[j];c[j]=g}return h},_l_CopyBitmapRect:function(a,b,c,d,e,f,g,h){for(var i=c=0,j=4*e,e=4*(e+g),h=f+h;f<h;f++){c=4*f*b;for(g=j;g<e;g+=4)a[i]=d[c+g],a[i+1]=d[c+g+1],a[i+2]=d[c+g+2],i+=4}},_invertEncryptTable:function(a,b){var c=null,d=null,e=null,f,g=0,h=0;if(null==a)throw Error("internal error, call LEAD");
e=this._allocateEncryptTable(b,a.uColStart,a.uRowStart,a.uWidth,a.uHeight,a.uSeed,!1);if(null==e)throw Error("internal error, call LEAD");var c=a.pTable,d=e.pTable,i=a.uSize;for(f=0;f<i;f++)for(g=f;-1!==c[g];)h=g,g=c[g],d[g]=h,c[h]=-1;c=a.pTable;a.pTable=e.pTable;e.pTable=c},_createRandomArray:function(a){var b=null,a=new lt.Annotations.Core._randomGenerator(a),b=lt.LTHelper.supportsTypedArray?new Int32Array(4095):Array(4095);if(null==b)return null;for(var c=0;4095>c;c++)b[c]=a.getNextRandom();return b},
_internalScrambleImage:function(a,b,c,d,e,f,g,h,i){var j;j=null;var i=!!(i&1),k,l=this._createRandomArray(h);j=this._allocateEncryptTable(l,d,e,f,g,h,!0);if(null==j)throw Error("internal error, contact LEAD");i||this._invertEncryptTable(j,l);i=e+g;h=lt.LTHelper.supportsTypedArray?new Uint32Array(4*f*g):Array(4*f*g);this._l_CopyBitmapRect(h,b,c,a,d,e,f,g);var n,c=j.uWidth,g=j.pTable,o;for(j=e;j<i;j++){l=4*(d+j*b);k=(j-e)*c;for(o=k+f;k<o;k++)n=g[k]<<2,a[l]=h[n],a[l+1]=h[n+1],a[l+2]=h[n+2],l+=4}}};Object.defineProperty(lt.Annotations.Core.ScrambleImage.prototype,
"imageData",{get:lt.Annotations.Core.ScrambleImage.prototype.get_imageData,set:lt.Annotations.Core.ScrambleImage.prototype.set_imageData,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.ScrambleImage.prototype,"imageWidth",{get:lt.Annotations.Core.ScrambleImage.prototype.get_imageWidth,set:lt.Annotations.Core.ScrambleImage.prototype.set_imageWidth,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.ScrambleImage.prototype,"imageHeight",{get:lt.Annotations.Core.ScrambleImage.prototype.get_imageHeight,
set:lt.Annotations.Core.ScrambleImage.prototype.set_imageHeight,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.ScrambleImage.prototype,"rectangle",{get:lt.Annotations.Core.ScrambleImage.prototype.get_rectangle,set:lt.Annotations.Core.ScrambleImage.prototype.set_rectangle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.ScrambleImage.prototype,"key",{get:lt.Annotations.Core.ScrambleImage.prototype.get_key,set:lt.Annotations.Core.ScrambleImage.prototype.set_key,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.ScrambleImage.prototype,"flags",{get:lt.Annotations.Core.ScrambleImage.prototype.get_flags,set:lt.Annotations.Core.ScrambleImage.prototype.set_flags,enumerable:!0,configurable:!0});lt.Annotations.Core.Utils=function(){};lt.Annotations.Core.Utils.isFlipedReveresd=function(a){var b=a.get_transform(),a=b.get_m11(),b=b.get_m22();return a&&b?parseInt(a/Math.abs(a)*(b/Math.abs(b))):1};lt.Annotations.Core.Utils.compare=function(a,
b,c){var d=!1;c&&(a=lt.Annotations.Core.Utils.toLowerCase(a),b=lt.Annotations.Core.Utils.toLowerCase(b));return d=!String.compare(a,b)};lt.Annotations.Core.Utils.get__PI=function(){return 3.14159265358979};lt.Annotations.Core.Utils.getExtendedPoint=function(a,b,c,d,e){var f=b.get_x()-a.get_x(),g=b.get_y()-a.get_y(),h=Math.abs(f),i=Math.abs(g);c?h<i?b.get_x()>a.get_x()?b.set_x(b.get_x()-h-i):b.set_x(b.get_x()+h-i):h>i&&(b.get_y()>a.get_y()?b.set_y(b.get_y()-i-h):b.set_y(b.get_y()+i-h)):d?(c=Math.atan2(h,
i),c<Math.PI/8?b.set_x(a.get_x()):c<3*Math.PI/8?(h=Math.sqrt((h*h+i*i)/2),0<f*g?(0>f&&(h=-h),b.set_x(a.get_x()+h),b.set_y(a.get_y()+h)):0>f?(b.set_x(a.get_x()-h),b.set_y(a.get_y()+h)):(b.set_x(a.get_x()+h),b.set_y(a.get_y()-h))):b.set_y(a.get_y())):e&&b.set_x(a.get_x());return b};lt.Annotations.Core.Utils.divide=function(a,b){return lt.Annotations.Core.Utils.isZero(a)||lt.Annotations.Core.Utils.isZero(b)?0:a/b};lt.Annotations.Core.Utils.setCheckModifierCallback=function(a){lt.Annotations.Core.Utils._checkModifierCallback=
a};lt.Annotations.Core.Utils.checkModifierKey=function(a){return a&&null!=lt.Annotations.Core.Utils._checkModifierCallback?lt.Annotations.Core.Utils._checkModifierCallback(a):!1};lt.Annotations.Core.Utils.isZero=function(a){return 1.0E-6>Math.abs(a)};lt.Annotations.Core.Utils.isEqual=function(a,b){return 1.0E-6>Math.abs(a-b)};lt.Annotations.Core.Utils.degreesToRadian=function(a){return a*lt.Annotations.Core.Utils.get__PI()/180};lt.Annotations.Core.Utils.findAngle=function(a,b){if(lt.Annotations.Core._leadPointDExtensions.isEmpty(a)||
lt.Annotations.Core._leadPointDExtensions.isEmpty(b))return 0;var c=lt.Annotations.Core.Utils.subtractPoint(b,a),d=c.get_x(),c=c.get_y();if(0===c)return b.get_x()>=a.get_x()?0:180;if(0===d)return b.get_y()>=a.get_y()?90:270;d=180*Math.atan(Math.abs(c/d))/Math.acos(-1);b.get_x()<a.get_x()&&b.get_y()>a.get_y()&&(d=180-d);b.get_x()<a.get_x()&&b.get_y()<a.get_y()&&(d+=180);b.get_x()>a.get_x()&&b.get_y()<a.get_y()&&(d=360-d);return d};lt.Annotations.Core.Utils.distance=function(a,b){return Math.sqrt(Math.pow(a.get_x()-
b.get_x(),2)+Math.pow(a.get_y()-b.get_y(),2))};lt.Annotations.Core.Utils.subtractPoint=function(a,b){if(lt.Annotations.Core._leadPointDExtensions.isEmpty(b)||lt.Annotations.Core._leadPointDExtensions.isEmpty(a))return lt.Annotations.Core._leadPointDExtensions.create(0,0);var c=new lt.LeadPointD;c.set_x(a.get_x()-b.get_x());c.set_y(a.get_y()-b.get_y());return c};lt.Annotations.Core.Utils.getUnitVectorPerpendicular=function(a,b){var c=lt.Annotations.Core.Utils.getUnitVector(a,b);return lt.Annotations.Core._leadPointDExtensions.isEmpty(c)?
c:lt.Annotations.Core._leadPointDExtensions.create(c.get_y(),-c.get_x())};lt.Annotations.Core.Utils.getUnitVector=function(a,b){var c=lt.Annotations.Core.Utils.subtractPoint(b,a),d=c.get_x(),c=c.get_y();if(!d&&!c)return lt.Annotations.Core._leadPointDExtensions.get_empty();if(!d&&1<c)return lt.Annotations.Core._leadPointDExtensions.create(0,1);if(!d&&1>c)return lt.Annotations.Core._leadPointDExtensions.create(0,-1);if(!c&&1<d)return lt.Annotations.Core._leadPointDExtensions.create(1,0);if(!c&&1>d)return lt.Annotations.Core._leadPointDExtensions.create(-1,
0);var e=Math.sqrt(d*d+c*c);return c=lt.Annotations.Core._leadPointDExtensions.create(d/e,c/e)};lt.Annotations.Core.Utils.transformPoint=function(a,b,c){return lt.Annotations.Core._leadPointDExtensions.create(c.get_x()+a.get_x()*b.get_value(),c.get_y()+a.get_y()*b.get_value())};lt.Annotations.Core.Utils.intersect=function(a,b,c,d){var e=lt.Annotations.Core.Utils.getUnitVector(a,b),f=lt.Annotations.Core.Utils.getUnitVector(c,d),b=d=lt.Annotations.Core.AnnDouble.naN,e=e.get_y()/e.get_x(),f=f.get_y()/
f.get_x();if(lt.Annotations.Core.AnnDouble.isInfinity(f)&&lt.Annotations.Core.AnnDouble.isInfinity(e))return lt.Annotations.Core._leadPointDExtensions.get_empty();lt.Annotations.Core.AnnDouble.isInfinity(f)?(d=a.get_x(),b=e+a.get_y()):lt.Annotations.Core.AnnDouble.isInfinity(e)?(d=a.get_x(),b=f*(d-c.get_x())+c.get_y()):e!==f&&(d=(a.get_y()-c.get_y()+f*c.get_x()-e*a.get_x())/(f-e),b=e*(d-a.get_x())+a.get_y());return lt.Annotations.Core._leadPointDExtensions.create(d,b)};lt.Annotations.Core.Utils.hitTestLine=
function(a,b,c,d,e){if(e){var e=Math.min(a.get_x(),b.get_x())-d,f=Math.min(a.get_y(),b.get_y())-d,g=Math.max(a.get_x(),b.get_x())+d,h=Math.max(a.get_y(),b.get_y())+d;if(!(c.get_x()>=e&&c.get_x()<=g&&c.get_y()>=f&&c.get_y()<=h))return!1}e=!1;!lt.Annotations.Core._leadPointDExtensions.isEmpty(a)&&!lt.Annotations.Core._leadPointDExtensions.isEmpty(b)&&(b=lt.Annotations.Core.Utils.getUnitVector(a,b),a=(c.get_y()-a.get_y())*b.get_x()-(c.get_x()-a.get_x())*b.get_y(),a>=-d&&a<=d&&(e=!0));return e};lt.Annotations.Core.Utils.hitTestPolygon=
function(a,b){if(null==a||!a.get_count())return!1;for(var c=a.get_count(),d=!1,e=b.get_x(),f=b.get_y(),g=0,h=c-1;g<c;h=g++)a.get_item(g).get_y()>f!==a.get_item(h).get_y()>f&&e<(a.get_item(h).get_x()-a.get_item(g).get_x())*(f-a.get_item(g).get_y())/(a.get_item(h).get_y()-a.get_item(g).get_y())+a.get_item(g).get_x()&&(d=!d);return d};lt.Annotations.Core.Utils.hitTestPolygonArray=function(a,b){if(null==a||!a.length)return!1;for(var c=a.length,d=!1,e=b.get_x(),f=b.get_y(),g=0,h=c-1;g<c;h=g++)a[g].get_y()>
f!==a[h].get_y()>f&&e<(a[h].get_x()-a[g].get_x())*(f-a[g].get_y())/(a[h].get_y()-a[g].get_y())+a[g].get_x()&&(d=!d);return d};lt.Annotations.Core.Utils.hitTestBezier=function(a,b,c,d){for(var e=a[b+0].get_x(),f=a[b+0].get_y(),g=a[b+1].get_x(),h=a[b+1].get_y(),i=a[b+2].get_x(),j=a[b+2].get_y(),k=a[b+3].get_x(),l=a[b+3].get_y(),n=3*(k-i-g+e)/8,o=(k+e)/2-n,g=(k+3*(g-i)-e)/8,e=(k-e)/2-g,k=3*(l-j-h+f)/8,i=(l+f)/2-k,h=(l+3*(h-j)-f)/8,f=(l-f)/2-h,a=lt.Annotations.Core._leadPointDExtensions.clone(a[b]),b=
lt.Annotations.Core._leadPointDExtensions.create(0,0),l=!1,j=0;1>j&&!l;){var m=2*j-1;b.set_x(g*m*m*m+n*m*m+e*m+o);b.set_y(h*m*m*m+k*m*m+f*m+i);lt.Annotations.Core.Utils.hitTestLine(a,b,c,d,!0)?l=!0:(j+=0.1,a=lt.Annotations.Core._leadPointDExtensions.clone(b))}return l};lt.Annotations.Core.Utils.fixRectangle=function(a,b,c){for(var a=[lt.Annotations.Core._leadPointDExtensions.create(a.get_x(),a.get_y()),lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+a.get_width(),a.get_y()+a.get_height())],
d=0;d<a.length;++d)a[d]=lt.Annotations.Core.Utils.fixPoint(a[d],b,c);return lt.Annotations.Core._leadRectDExtensions.fromLTRB(a[0].get_x(),a[0].get_y(),a[1].get_x(),a[1].get_y())};lt.Annotations.Core.Utils.fixPoint=function(a,b,c){var d=a;if(1===(c&1)){b.pointFromContainerCoordinates(a,0);var e=b.get_transform().clone(),d=b.pointToContainerCoordinates(lt.Annotations.Core._leadPointDExtensions.create(0,0)),e=b.pointToContainerCoordinates(lt.Annotations.Core._leadPointDExtensions.create(b.get_scrollOffset().get_x(),
b.get_scrollOffset().get_y())),d=lt.Annotations.Core.Utils.subtractPoint(e,d),d=lt.Annotations.Core.Utils.subtractPoint(a,d)}if(2===(c&2)){var c=b.pointFromContainerCoordinates(d,0),f=b.pointFromContainerCoordinates(d,2);if(lt.Annotations.Core._leadPointDExtensions.isEqual(c,f))return a;f=lt.Annotations.Core.AnnTransformer.translatePoint(f,-b.get_transform().get_offsetX()/b.get_transform().get_m11(),-b.get_transform().get_offsetY()/b.get_transform().get_m22());e=b.get_transform().clone();e.get_hasInverse()&&
e.invert();e.translate(-b.get_transform().get_offsetX()/b.get_transform().get_m11(),-b.get_transform().get_offsetY()/b.get_transform().get_m22());d=lt.Annotations.Core.AnnTransformer.translatePoint(c,e.get_offsetX(),e.get_offsetY());e.translate(-e.get_offsetX(),-e.get_offsetY());d=b.internalPointToContainerCoordinates(d,e);d=lt.Annotations.Core.AnnTransformer.scalePoint(d,c.get_x()/f.get_x(),c.get_y()/f.get_y())}return d};lt.Annotations.Core.Utils.getBoundingRectangle=function(a,b){var c=Math.min(a.get_x(),
b.get_x()),d=Math.min(a.get_y(),b.get_y()),e=Math.max(a.get_x(),b.get_x()),f=Math.max(a.get_y(),b.get_y());return lt.Annotations.Core._leadRectDExtensions.create(c,d,Math.abs(e-c),Math.abs(f-d))};lt.Annotations.Core.Utils.splineCurve=function(a,b){var c=[],d=null;if(2===a.length){if(d=lt.Annotations.Core.Utils.calculateSplineCurve(a[0],a[0],a[1],a[1],b),null!=d)for(var e=0;e<d.length;e++)c.add(d[e])}else for(var f=0;f<a.length-1;f++){d=f?f===a.length-2?lt.Annotations.Core.Utils.calculateSplineCurve(a[f-
1],a[f],a[f+1],a[f+1],b):lt.Annotations.Core.Utils.calculateSplineCurve(a[f-1],a[f],a[f+1],a[f+2],b):lt.Annotations.Core.Utils.calculateSplineCurve(a[0],a[0],a[1],a[2],b);for(e=0;e<d.length;e++)c.add(d[e])}d=null;if(0<c.length){d=Array(c.length);for(f=0;f<c.length;++f)d[f]=c[f]}return d};lt.Annotations.Core.Utils.calculateSplineCurve=function(a,b,c,d,e){for(var f=Array(20),g=0;20>g;++g)f[g]=lt.Annotations.Core._leadPointDExtensions.get_empty();for(var h=e*(c.get_x()-a.get_x()),a=e*(c.get_y()-a.get_y()),
g=e*(d.get_x()-b.get_x()),i=e*(d.get_y()-b.get_y()),d=h+g+2*b.get_x()-2*c.get_x(),e=a+i+2*b.get_y()-2*c.get_y(),j=-2*h-g-3*b.get_x()+3*c.get_x(),c=-2*a-i-3*b.get_y()+3*c.get_y(),i=b.get_x(),b=b.get_y(),g=0;g<f.length;g++){var k=g/(f.length-1);f[g]=lt.Annotations.Core._leadPointDExtensions.create(parseInt(d*k*k*k+j*k*k+h*k+i),parseInt(e*k*k*k+c*k*k+a*k+b))}return f};lt.Annotations.Core.Utils.splineClosedCurve=function(a,b){for(var c=[],d=null,e=0;e<a.length;e++)for(var d=e?e===a.length-1?lt.Annotations.Core.Utils.calculateSplineCurve(a[e-
1],a[e],a[0],a[1],b):e===a.length-2?lt.Annotations.Core.Utils.calculateSplineCurve(a[e-1],a[e],a[e+1],a[0],b):lt.Annotations.Core.Utils.calculateSplineCurve(a[e-1],a[e],a[e+1],a[e+2],b):lt.Annotations.Core.Utils.calculateSplineCurve(a[a.length-1],a[0],a[1],a[2],b),f=0;f<d.length;f++)c.add(d[f]);d=null;d=Array(c.length);for(e=0;e<c.length;++e)d[e]=c[e];return d};lt.Annotations.Core.Utils.precisionFormat=function(a,b){var c=String.format("XXX:F{0}",a),c=c.replaceAll("XXX","{0"),c=String.format("{0}{1}",
c,"}");return String.format(c,b)};lt.Annotations.Core.Utils.enumToString=function(a,b){for(var c in a){var d=c;if(a[d]===b)return d=d.substr(0,1).toUpperCase()+d.substr(1)}lt.Annotations.Core.ExceptionHelper.argumentOutOfRangeException("value",b,"Enum member not found");return null};lt.Annotations.Core.Utils.enumParse=function(a,b){var c=b.substr(0,1).toLowerCase()+b.substr(1);return a[c]};lt.Annotations.Core.Utils.fromBase64String=function(a){return lt.LTHelper.base64Decode(a)};lt.Annotations.Core.Utils.toBase64String=
function(a){return lt.LTHelper.base64Encode(a,!1)};lt.Annotations.Core.Utils.isRightAngle=function(a){for(;360<=a;)a-=360;for(;0>a;)a+=360;return lt.LeadDoubleTools.areClose(a,0)||lt.LeadDoubleTools.areClose(a,90)||lt.LeadDoubleTools.areClose(a,180)||lt.LeadDoubleTools.areClose(a,270)};lt.Annotations.Core.Utils.getAutomationOffset=function(a,b){return b.get_offset()};lt.Annotations.Core.Utils.getAutomationSize=function(a,b){return null!=b?b.get_mapper().sizeFromContainerCoordinates(b.get_size()):
lt.Annotations.Core._leadSizeDExtensions.get_empty()};lt.Annotations.Core.Utils.setRenderingEngine=function(a,b){a.set_renderingEngine(b)};lt.Annotations.Core.Utils.realizeRedactWinforms=function(a,b,c){lt.Annotations.Core._leadRectDExtensions.get_empty();null!=c&&c.realize(a.get_automationDataProvider(),b);return c.get_rect()};lt.Annotations.Core.Utils.restoreRedactWinforms=function(a,b,c){var d=lt.Annotations.Core._leadRectDExtensions.get_empty();null!=c&&c.restore(a.get_automationDataProvider(),
b);return d};lt.Annotations.Core.Utils.applyEncrypt=function(a,b,c){var d=lt.Annotations.Core._leadRectDExtensions.get_empty();null!=c&&c.apply(a.get_automationDataProvider(),b);return d};lt.Annotations.Core.Utils.dataProviderCanReadWrite=function(a){var b=!1;null!=a&&null!=a.get_automationDataProvider()&&(b=a.get_automationDataProvider().get_canRead()&&a.get_automationDataProvider().get_canWrite());return b};lt.Annotations.Core.Utils.toLowerCase=function(a){return String.isNullOrEmpty(a)?a:a.toLowerCase()};
lt.Annotations.Core.Utils.toStringInvariantCulture=function(a){return a.toString()};lt.Annotations.Core._annOnLoadData=function(){this._offset=lt.Annotations.Core._leadPointDExtensions.create(0,0)};lt.Annotations.Core._annOnLoadData.prototype={_rotateAngle:0,get_rotateAngle:function(){return this._rotateAngle},set_rotateAngle:function(a){return this._rotateAngle=a},_scalX:1,get_scaleX:function(){return this._scalX},set_scaleX:function(a){return this._scalX=a},_scalY:1,get_scaleY:function(){return this._scalY},
set_scaleY:function(a){return this._scalY=a},get_offset:function(){return this._offset},set_offset:function(a){return this._offset=a}};lt.Annotations.Core.AnnCodecsInfo=function(){};lt.Annotations.Core.AnnCodecsInfo.prototype={_format:0,get_format:function(){return this._format},set_format:function(a){return this._format=a},_version:0,get_version:function(){return this._version},set_version:function(a){return this._version=a},_pages:null,get_pages:function(){return this._pages},set_pages:function(a){return this._pages=
a}};Object.defineProperty(lt.Annotations.Core.AnnCodecsInfo.prototype,"format",{get:lt.Annotations.Core.AnnCodecsInfo.prototype.get_format,set:lt.Annotations.Core.AnnCodecsInfo.prototype.set_format,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCodecsInfo.prototype,"version",{get:lt.Annotations.Core.AnnCodecsInfo.prototype.get_version,set:lt.Annotations.Core.AnnCodecsInfo.prototype.set_version,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCodecsInfo.prototype,
"pages",{get:lt.Annotations.Core.AnnCodecsInfo.prototype.get_pages,set:lt.Annotations.Core.AnnCodecsInfo.prototype.set_pages,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnSerializeObjectEventArgs=function(){lt.Annotations.Core.AnnSerializeObjectEventArgs.initializeBase(this)};lt.Annotations.Core.AnnSerializeObjectEventArgs.create=function(a,b,c){var d=new lt.Annotations.Core.AnnSerializeObjectEventArgs;d._typeName$1=a;d._error$1=c;d._annObject$1=b;return d};lt.Annotations.Core.AnnSerializeObjectEventArgs.prototype=
{_typeName$1:null,get_typeName:function(){return this._typeName$1},_error$1:null,get_error:function(){return this._error$1},_annObject$1:null,get_annObject:function(){return this._annObject$1},set_annObject:function(a){return this._annObject$1=a},_skipObject$1:!1,get_skipObject:function(){return this._skipObject$1},set_skipObject:function(a){return this._skipObject$1=a}};Object.defineProperty(lt.Annotations.Core.AnnSerializeObjectEventArgs.prototype,"typeName",{get:lt.Annotations.Core.AnnSerializeObjectEventArgs.prototype.get_typeName,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSerializeObjectEventArgs.prototype,"error",{get:lt.Annotations.Core.AnnSerializeObjectEventArgs.prototype.get_error,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSerializeObjectEventArgs.prototype,"annObject",{get:lt.Annotations.Core.AnnSerializeObjectEventArgs.prototype.get_annObject,set:lt.Annotations.Core.AnnSerializeObjectEventArgs.prototype.set_annObject,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Core.AnnSerializeObjectEventArgs.prototype,"skipObject",{get:lt.Annotations.Core.AnnSerializeObjectEventArgs.prototype.get_skipObject,set:lt.Annotations.Core.AnnSerializeObjectEventArgs.prototype.set_skipObject,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnSerializeOptions=function(){};lt.Annotations.Core.AnnSerializeOptions.prototype={add_serializeObject:function(a){this.__serializeObject=ss.Delegate.combine(this.__serializeObject,a)},remove_serializeObject:function(a){this.__serializeObject=
ss.Delegate.remove(this.__serializeObject,a)},__serializeObject_handler_get:function(){null==this.__serializeObject_handler&&(this.__serializeObject_handler=ss.EventHandler.create(this,this.add_serializeObject,this.remove_serializeObject));return this.__serializeObject_handler},__serializeObject:null,__serializeObject_handler:null,_onSerializeObject:function(a){null!=this.__serializeObject&&this.__serializeObject(this,a)},_saveLockPassword:!0,get_saveLockPassword:function(){return this._saveLockPassword},
set_saveLockPassword:function(a){return this._saveLockPassword=a}};Object.defineProperty(lt.Annotations.Core.AnnSerializeOptions.prototype,"serializeObject",{get:lt.Annotations.Core.AnnSerializeOptions.prototype.__serializeObject_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSerializeOptions.prototype,"saveLockPassword",{get:lt.Annotations.Core.AnnSerializeOptions.prototype.get_saveLockPassword,set:lt.Annotations.Core.AnnSerializeOptions.prototype.set_saveLockPassword,
enumerable:!0,configurable:!0});lt.Annotations.Core.AnnDeserializeOptions=function(){};lt.Annotations.Core.AnnDeserializeOptions.prototype={add_deserializeObject:function(a){this.__deserializeObject=ss.Delegate.combine(this.__deserializeObject,a)},remove_deserializeObject:function(a){this.__deserializeObject=ss.Delegate.remove(this.__deserializeObject,a)},__deserializeObject_handler_get:function(){null==this.__deserializeObject_handler&&(this.__deserializeObject_handler=ss.EventHandler.create(this,
this.add_deserializeObject,this.remove_deserializeObject));return this.__deserializeObject_handler},__deserializeObject:null,__deserializeObject_handler:null,_onDeserializeObject:function(a){null!=this.__deserializeObject&&this.__deserializeObject(this,a)},add_deserializeObjectError:function(a){this.__deserializeObjectError=ss.Delegate.combine(this.__deserializeObjectError,a)},remove_deserializeObjectError:function(a){this.__deserializeObjectError=ss.Delegate.remove(this.__deserializeObjectError,
a)},__deserializeObjectError_handler_get:function(){null==this.__deserializeObjectError_handler&&(this.__deserializeObjectError_handler=ss.EventHandler.create(this,this.add_deserializeObjectError,this.remove_deserializeObjectError));return this.__deserializeObjectError_handler},__deserializeObjectError:null,__deserializeObjectError_handler:null,_onDeserializeObjectError:function(a){null!=this.__deserializeObjectError&&this.__deserializeObjectError(this,a)}};Object.defineProperty(lt.Annotations.Core.AnnDeserializeOptions.prototype,
"deserializeObject",{get:lt.Annotations.Core.AnnDeserializeOptions.prototype.__deserializeObject_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnDeserializeOptions.prototype,"deserializeObjectError",{get:lt.Annotations.Core.AnnDeserializeOptions.prototype.__deserializeObjectError_handler_get,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnCodecs=function(){this._loadLookup={};this._saveLookup={};this._loadSourceResolution=lt.Annotations.Core._leadSizeDExtensions.create(0,
0);this._loadTargetResolution=lt.Annotations.Core._leadSizeDExtensions.create(0,0)};lt.Annotations.Core.AnnCodecs._xmlDocumentToString=function(a){var b="";window.ActiveXObject?(b=a.xml,ss.isUndefined(b)&&(b=new XMLSerializer,b=b.serializeToString(a))):(b=new XMLSerializer,b=b.serializeToString(a));return b};lt.Annotations.Core.AnnCodecs._checkInfo=function(a){return 1===a.get_format()&&1===a.get_version()?!0:!1};lt.Annotations.Core.AnnCodecs.prototype={_saveLayerCount:1,_serializeOptions:null,get_serializeOptions:function(){return this._serializeOptions},
set_serializeOptions:function(a){return this._serializeOptions=a},_deserializeOptions:null,get_deserializeOptions:function(){return this._deserializeOptions},set_deserializeOptions:function(a){return this._deserializeOptions=a},get_loadSourceResolution:function(){return this._loadSourceResolution},set_loadSourceResolution:function(a){return this._loadSourceResolution=a},get_loadTargetResolution:function(){return this._loadTargetResolution},set_loadTargetResolution:function(a){return this._loadTargetResolution=
a},_loadUseDpi:!1,get_loadUseDpi:function(){return this._loadUseDpi},set_loadUseDpi:function(a){return this._loadUseDpi=a},loadFromXmlDocument:function(a,b){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("document");a=lt.Annotations.Core.AnnXmlHelper.createActiveXDocument(a);return this._doLoad(a,b)},getInfo:function(a){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("xmlData");var b=new lt.Annotations.Core.AnnCodecsInfo;b.set_format(0);a=(new DOMParser).parseFromString(a,
"application/xml");a=lt.Annotations.Core.AnnXmlHelper.createActiveXDocument(a);this._doGetInfo(a,b);return b},getInfoFromXmlDocument:function(a){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("document");var a=lt.Annotations.Core.AnnXmlHelper.createActiveXDocument(a),b=new lt.Annotations.Core.AnnCodecsInfo;b.set_format(0);this._doGetInfo(a,b);return b},load:function(a,b){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("xmlData");var c=(new DOMParser).parseFromString(a,
"application/xml"),c=lt.Annotations.Core.AnnXmlHelper.createActiveXDocument(c);return this._doLoad(c,b)},save:function(a,b,c,d){var e="";null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("container");1!==b&&lt.Annotations.Core.ExceptionHelper.argumentException("Must be 'AnnFormat.Annotations'","format");0>d&&lt.Annotations.Core.ExceptionHelper.argumentOutOfRangeException("savePageNumber",d,"Must be a value greater than or 0");(b=0<d?d:a.get_pageNumber())||(b=1);d=!0;String.isNullOrEmpty(c)||
(d=!1);if(!d)try{var f=this.getInfo(c);lt.Annotations.Core.AnnCodecs._checkInfo(f)||(d=!0)}catch(g){d=!0}if(d)c=this._createEmptyDocument(),a=this._createContainerNode(c,a,b),b=this._getRootNode(c),null!=b&&b.appendChild(a);else{c=(new DOMParser).parseFromString(c,"application/xml");a=this._createContainerNode(c,a,b);f=this._getRootNode(c);for(d=ss.IEnumerator.getEnumerator(f.childNodes);d.moveNext();)if(e=d.current,"Container"===e.nodeName){var h=parseInt(lt.Annotations.Core.AnnXmlHelper.readNumericElement(c,
"PageNumber",e,0));if(b===h){f.removeChild(e);break}}f.appendChild(a)}return e=lt.Annotations.Core.AnnCodecs._xmlDocumentToString(c)},loadAll:function(a){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("xmlData");a=(new DOMParser).parseFromString(a,"application/xml");a=lt.Annotations.Core.AnnXmlHelper.createActiveXDocument(a);return this._doLoadAll(a)},loadAllFromXML:function(a){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("document");a=lt.Annotations.Core.AnnXmlHelper.createActiveXDocument(a);
return this._doLoadAll(a)},saveAll:function(a,b){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("containers");1!==b&&lt.Annotations.Core.ExceptionHelper.argumentException("Must be 'AnnFormat.Annotations'","format");var c=this._createEmptyDocument(),d=this._getRootNode(c);if(null!=d)for(var e=ss.IEnumerator.getEnumerator(a);e.moveNext();){var f=e.current;null!=f&&(f=this._createContainerNode(c,f,f.get_pageNumber()),d.appendChild(f))}return lt.Annotations.Core.AnnCodecs._xmlDocumentToString(c)},
saveLayer:function(a,b,c){var d=new lt.Annotations.Core.AnnContainer;d.set_pageNumber(1);d.get_layers().add(a);this._readObjects(a,d.get_children());return this.save(d,b,c,1)},_doGetInfo:function(a,b){var c=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,"Annotations",a),d=[];if(null!=c)if(b.set_version(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"Version",c,1)),b.set_format(1),lt.Annotations.Core.AnnCodecs._checkInfo(b)){c=lt.Annotations.Core.AnnXmlHelper.getMatchingChildren(a,
"Container",c);for(c=ss.IEnumerator.getEnumerator(c);c.moveNext();){var e=this._readContainer(a,c.current,!1);d.add(e.get_pageNumber())}b.set_pages(Array(d.length));for(c=0;c<d.length;c++)b.get_pages()[c]=d[c]}else b.set_version(0),b.set_format(0)},_readObjects:function(a,b){for(var c=ss.IEnumerator.getEnumerator(a.get_children());c.moveNext();)b.add(c.current);if(null!=a.get_layers()&&0<a.get_layers().get_count())for(c=ss.IEnumerator.getEnumerator(a.get_layers());c.moveNext();)this._readObjects(c.current,
b)},_doLoad:function(a,b){var c=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,"Annotations",a);if(null!=c){var d=new lt.Annotations.Core.AnnCodecsInfo;d.set_version(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"Version",c,1));d.set_format(1);if(!lt.Annotations.Core.AnnCodecs._checkInfo(d))return null;c=lt.Annotations.Core.AnnXmlHelper.getMatchingChildren(a,"Container",c);for(c=ss.IEnumerator.getEnumerator(c);c.moveNext();){var d=c.current,e=this._readContainer(a,d,!1);if(!b||b===
e.get_pageNumber())return e=this._readContainer(a,d,!0)}}return null},_doLoadAll:function(a){var b=[],c=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,"Annotations",a);if(null!=c){var d=new lt.Annotations.Core.AnnCodecsInfo;d.set_version(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"Version",c,1));d.set_format(1);if(!lt.Annotations.Core.AnnCodecs._checkInfo(d))return null;c=lt.Annotations.Core.AnnXmlHelper.getMatchingChildren(a,"Container",c);for(c=ss.IEnumerator.getEnumerator(c);c.moveNext();)d=
this._readContainer(a,c.current,!0),b.add(d)}a=Array(b.length);for(c=0;c<b.length;c++)a[c]=b[c];return a},_readContainer:function(a,b,c){var d=new lt.Annotations.Core.AnnContainer;d.set_pageNumber(parseInt(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"PageNumber",b,0)));d.set_size(lt.Annotations.Core.AnnXmlHelper.readSizeElement(a,"Size",b,lt.Annotations.Core._leadSizeDExtensions.create(0,0)));d.set_offset(lt.Annotations.Core.AnnXmlHelper.readPointElement(a,"Offset",b,lt.Annotations.Core._leadPointDExtensions.create(0,
0)));d.get_mapper().set_calibrationScale(lt.Annotations.Core.AnnXmlHelper.readNumericElement(a,"CalibrationScale",b,1));d.set_userData(lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"UserData",b,""));d.set_isEnabled(lt.Annotations.Core.AnnXmlHelper.readBooleanElement(a,"IsEnabled",b,d.get_isEnabled()));d.set_isVisible(lt.Annotations.Core.AnnXmlHelper.readBooleanElement(a,"IsVisible",b,d.get_isVisible()));var e=lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnUnit,5);d.get_mapper().set_calibrationUnit(lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnUnit,
lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"CalibrationUnit",b,e)));Object.clearKeys(this._loadLookup);this._readLayers(a,b,d.get_layers());var e=null,f=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,"Objects",b);null!=f&&(e=lt.Annotations.Core.AnnXmlHelper._readOnLoadElement(a,"OnLoad",f));var f=this._loadSourceResolution.get_width(),g=this._loadSourceResolution.get_height(),h=this._loadTargetResolution.get_width(),i=this._loadTargetResolution.get_height();f&&g&&h&&i&&(this._loadUseDpi?
d.get_mapper().mapResolutions(f,g,h,i):d.get_mapper().mapResolutions(f,g,f,f));if(c){b=this._getObjects(a,b);for(b=ss.IEnumerator.getEnumerator(b);b.moveNext();)c=b.current,lt.Annotations.Core.AnnXmlHelper.isNodeName(c,"Object")&&this._enumerateObjects(a,c,d)}if(null!=e&&!lt.Annotations.Core.AnnDouble.isInfinity(d.get_size().get_width())&&!lt.Annotations.Core.AnnDouble.isInfinity(d.get_size().get_height())){a=lt.Annotations.Core._leadRectDExtensions.create(0,0,d.get_size().get_width(),d.get_size().get_height());
a=lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+a.get_width()/2,a.get_y()+a.get_height()/2);for(b=ss.IEnumerator.getEnumerator(d.get_children());b.moveNext();)c=b.current,lt.Annotations.Core._leadPointDExtensions.isEmpty(a)||((1!==e.get_scaleX()||1!==e.get_scaleY())&&c.scale(e.get_scaleX(),e.get_scaleY(),a),0!==e.get_rotateAngle()&&c.rotate(e.get_rotateAngle(),a)),f=d.get_mapper().pointToContainerCoordinates(e.get_offset()),lt.Annotations.Core._leadPointDExtensions.isEmpty(f)||c.translate(f.get_x(),
f.get_y())}return d},_getObjects:function(a,b){var c=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,"Objects",b);return null==c?null:lt.Annotations.Core.AnnXmlHelper.getChildren(c)},_enumerateObjects:function(a,b,c){var d=lt.Annotations.Core.AnnXmlHelper.readStringElement(a,"ObjectType",b,""),d=d.replaceAll("Leadtools.Annotations","lt.Annotations");if(!String.isNullOrEmpty(d)){a=null;if(null!=this.get_deserializeOptions()){var e=lt.Annotations.Core.AnnSerializeObjectEventArgs.create(d,null,
null);this.get_deserializeOptions()._onDeserializeObject(e);if(null!=e.get_error())throw e.get_error();if(e.get_skipObject())return;null!=e.get_annObject()&&(a=e.get_annObject())}if(null==a)try{a=new (Type.getType(d))(null)}catch(f){if(null!=this.get_deserializeOptions()){e=lt.Annotations.Core.AnnSerializeObjectEventArgs.create(d,null,f);this.get_deserializeOptions()._onDeserializeObjectError(e);if(e.get_skipObject())return;null!=e.get_annObject()&&(a=e.get_annObject())}}null!=a&&(a.set_parent(c),
a.deserialize(this.get_deserializeOptions(),b,null),b=a.get__layerId(),String.isNullOrEmpty(b)||(b=this._loadLookup[b],b.get_children().add(a),a.set_layer(b)),c.get_children().add(a))}},_getRootNode:function(a){return lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,"Annotations",a)},_createEmptyDocument:function(){var a=String.format("{0}<{1}></{2}>",'<?xml version="1.0" encoding="utf-8"?>',"Annotations","Annotations"),a=(new DOMParser).parseFromString(a,"application/xml"),b=this._getRootNode(a);
lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,"Version",b,1);return a},_createContainerNode:function(a,b,c){var d=lt.Annotations.Core.AnnXmlHelper.createElement(a,"Container");this._writeContainer(a,d,b,c);return d},_writeContainer:function(a,b,c,d){lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,"PageNumber",b,d);lt.Annotations.Core.AnnXmlHelper.writeSizeElement(a,"Size",b,c.get_size());lt.Annotations.Core.AnnXmlHelper.writePointElement(a,"Offset",b,c.get_offset());lt.Annotations.Core.AnnXmlHelper.writeNumericElement(a,
"CalibrationScale",b,c.get_mapper().get_calibrationScale());lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(a,"IsVisible",b,c.get_isVisible());lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(a,"IsEnabled",b,c.get_isEnabled());null!=c.get_userData()?lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"UserData",b,c.get_userData().toString()):lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"UserData",b,"");lt.Annotations.Core.AnnXmlHelper.writeStringElement(a,"CalibrationUnit",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnUnit,
c.get_mapper().get_calibrationUnit()));this._saveLayerCount=1;this._writeLayers(a,b,c.get_layers());d=lt.Annotations.Core.AnnXmlHelper.createElement(a,"Objects");lt.Annotations.Core.AnnXmlHelper._writeOnLoadElement(a,"OnLoad",d);for(c=ss.IEnumerator.getEnumerator(c.get_children());c.moveNext();){var e=c.current,f=e.get__layerId(),g=e.get_layer();null!=g&&(Object.keyExists(this._saveLookup,g)?e.set__layerId(this._saveLookup[g]):e.set__layerId(""));g=!1;null!=this.get_serializeOptions()&&(g=lt.Annotations.Core.AnnSerializeObjectEventArgs.create(Type.getInstanceType(e).get_fullName(),
e,null),this.get_serializeOptions()._onSerializeObject(g),g=g.get_skipObject());g||(g=lt.Annotations.Core.AnnXmlHelper.createElement(a,"Object"),e.serialize(this.get_serializeOptions(),g,a),lt.Annotations.Core.AnnXmlHelper.appendChild(d,g));e.set__layerId(f)}lt.Annotations.Core.AnnXmlHelper.appendChild(b,d)},_writeLayer:function(a,b,c){if(!Object.keyExists(this._saveLookup,c)){var d="Layer"+this._saveLayerCount++,e=lt.Annotations.Core.AnnXmlHelper.createElement(a,"Layer");this._saveLookup[c]=d;lt.Annotations.Core.AnnXmlHelper.setAttributeValue(e,
"Name",c.get_name());lt.Annotations.Core.AnnXmlHelper.setAttributeValue(e,"Id",d);lt.Annotations.Core.AnnXmlHelper.setAttributeValue(e,"IsVisible",c.get_isVisible().toString());this._writeLayers(a,e,c.get_layers());lt.Annotations.Core.AnnXmlHelper.appendChild(b,e)}},_writeLayers:function(a,b,c){if(null!=c&&0<c.get_count()){for(var d=lt.Annotations.Core.AnnXmlHelper.createElement(a,"Layers"),c=ss.IEnumerator.getEnumerator(c);c.moveNext();)this._writeLayer(a,d,c.current);lt.Annotations.Core.AnnXmlHelper.appendChild(b,
d)}},_readLayer:function(a,b){var c="",d="",e=!0,f=null,d=lt.Annotations.Core.AnnXmlHelper.getAttributeValue("Id",b);String.isNullOrEmpty(d)||(c=lt.Annotations.Core.AnnXmlHelper.getAttributeValue("Name",b),e=Boolean.parse(lt.Annotations.Core.AnnXmlHelper.getAttributeValue("IsVisible",b)),f=new lt.Annotations.Core.AnnLayer,f.set_name(c),this._readLayers(a,b,f.get_layers()),f.set_layerId(d),f.set_isVisible(e));return f},_readLayers:function(a,b,c){b=lt.Annotations.Core.AnnXmlHelper.getFirstMatchingChild(a,
"Layers",b);if(null!=b){b=lt.Annotations.Core.AnnXmlHelper.getChildren(b);for(b=ss.IEnumerator.getEnumerator(b);b.moveNext();){var d=b.current;lt.Annotations.Core.AnnXmlHelper.isNodeName(d,"Layer")&&(d=this._readLayer(a,d),null!=d&&(this._loadLookup[d.get_layerId()]=d,c.add(d)))}}}};Object.defineProperty(lt.Annotations.Core.AnnCodecs.prototype,"serializeOptions",{get:lt.Annotations.Core.AnnCodecs.prototype.get_serializeOptions,set:lt.Annotations.Core.AnnCodecs.prototype.set_serializeOptions,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCodecs.prototype,"deserializeOptions",{get:lt.Annotations.Core.AnnCodecs.prototype.get_deserializeOptions,set:lt.Annotations.Core.AnnCodecs.prototype.set_deserializeOptions,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCodecs.prototype,"loadSourceResolution",{get:lt.Annotations.Core.AnnCodecs.prototype.get_loadSourceResolution,set:lt.Annotations.Core.AnnCodecs.prototype.set_loadSourceResolution,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCodecs.prototype,"loadTargetResolution",{get:lt.Annotations.Core.AnnCodecs.prototype.get_loadTargetResolution,set:lt.Annotations.Core.AnnCodecs.prototype.set_loadTargetResolution,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCodecs.prototype,"loadUseDpi",{get:lt.Annotations.Core.AnnCodecs.prototype.get_loadUseDpi,set:lt.Annotations.Core.AnnCodecs.prototype.set_loadUseDpi,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnContainer=
function(){this._mapper=lt.Annotations.Core.AnnContainerMapper.createDefault();this._size=lt.Annotations.Core._leadSizeDExtensions.create(0,0);this._offset=lt.Annotations.Core._leadPointDExtensions.create(0,0);this._userMode=0;this._labels=[];this._children=new lt.Annotations.Core.AnnObjectCollection;this._hitTestBuffer=720*(5/96);this._hitTestBehavior=1;this._layers=new lt.Annotations.Core.AnnLayerCollection(null);this._stateId="";this._totalObjectsInvalidRect=lt.Annotations.Core._leadRectDExtensions.get_empty();
if("function"==typeof Leadtools&&"function"==typeof Leadtools.RasterSupport&&Leadtools.RasterSupport.kernelExpired)throw new Leadtools.RasterException(Leadtools.RasterExceptionCode.kernelExpired);this._children=new lt.Annotations.Core.AnnObjectCollection;this._children.add_collectionChanged(ss.Delegate.create(this,this._children_CollectionChanged));this._annSelectObject=new lt.Annotations.Core.AnnSelectionObject;this._annSelectObject.set_parent(this)};lt.Annotations.Core.AnnContainer.create=function(a,
b,c){var d=new lt.Annotations.Core.AnnContainer;d._offset=lt.Annotations.Core._leadPointDExtensions.clone(a);d._size=lt.Annotations.Core._leadSizeDExtensions.clone(b);d._mapper=null==c?lt.Annotations.Core.AnnContainerMapper.createDefault():c;d._mapper.set_offset(a);return d};lt.Annotations.Core.AnnContainer.prototype={add_objectsPropertyChanged:function(a){this.__objectsPropertyChanged=ss.Delegate.combine(this.__objectsPropertyChanged,a)},remove_objectsPropertyChanged:function(a){this.__objectsPropertyChanged=
ss.Delegate.remove(this.__objectsPropertyChanged,a)},__objectsPropertyChanged_handler_get:function(){null==this.__objectsPropertyChanged_handler&&(this.__objectsPropertyChanged_handler=ss.EventHandler.create(this,this.add_objectsPropertyChanged,this.remove_objectsPropertyChanged));return this.__objectsPropertyChanged_handler},__objectsPropertyChanged:null,__objectsPropertyChanged_handler:null,_annSelectObject:null,get_selectionObject:function(){return this._annSelectObject},set_selectionObject:function(a){null==
a&&lt.Annotations.Core.ExceptionHelper.invalidOperationException("Selection object cannot be null");this._annSelectObject=a;this._annSelectObject.set_parent(this);return a},_pageNumber:1,get_pageNumber:function(){return this._pageNumber},set_pageNumber:function(a){1>a&&lt.Annotations.Core.ExceptionHelper.invalidOperationException("Page number must be a value greater than or equal to 1");return this._pageNumber=a},get_mapper:function(){return this._mapper},set_mapper:function(a){this._mapper=null==
a?lt.Annotations.Core.AnnContainerMapper.createDefault():a;return a},get_size:function(){return lt.Annotations.Core._leadSizeDExtensions.clone(this._size)},set_size:function(a){this._size=lt.Annotations.Core._leadSizeDExtensions.clone(a);return a},get_offset:function(){return lt.Annotations.Core._leadPointDExtensions.clone(this._offset)},set_offset:function(a){this._offset=lt.Annotations.Core._leadPointDExtensions.clone(a);this._mapper.set_offset(this._offset);return a},_fill:null,get_fill:function(){return this._fill},
set_fill:function(a){return this._fill=a},_stroke:null,get_stroke:function(){return this._stroke},set_stroke:function(a){return this._stroke=a},get_userMode:function(){return this._userMode},set_userMode:function(a){return this._userMode=a},_userData:null,get_userData:function(){return this._userData},set_userData:function(a){return this._userData=a},_isEnabled:!0,get_isEnabled:function(){return this._isEnabled},set_isEnabled:function(a){return this._isEnabled=a},get_labels:function(){return this._labels},
_children_CollectionChanged:function(a,b){if(!b.get_action()){var c=Type.safeCast(b.get_newItems()[0],lt.Annotations.Core.AnnObject);c.add_propertyChanged(ss.Delegate.create(this,this._annObject_PropertyChanged));c.set_parent(this);null!=this._groupsRoles&&String.isNullOrEmpty(c.get_userId())&&c.set_userId(this._groupsRoles.get_currentUser());var d=Type.safeCast(c,lt.Annotations.Core.AnnSelectionObject);null!=d&&(this._annSelectObject=d);d=Type.safeCast(c,lt.Annotations.Core.AnnPolyRulerObject);null!=
d&&1!==this._mapper.get_calibrationScale()&&14!==d.get_measurementUnit()&&d.set_measurementUnit(this._mapper.get_calibrationUnit());null!=this.__objectAdded&&!c.get_internalAdd()&&this.__objectAdded(this,lt.Annotations.Core.AnnObjectCollectionEventArgs.create(c))}1===b.get_action()&&(c=Type.safeCast(b.get_newItems()[0],lt.Annotations.Core.AnnObject),c.set_parent(null),c.remove_propertyChanged(ss.Delegate.create(this,this._annObject_PropertyChanged)),Type.canCast(c,lt.Annotations.Core.AnnSelectionObject)&&
(this._annSelectObject=null),null!=this.__objectRemoved&&!c.get_internalAdd()&&this.__objectRemoved(this,lt.Annotations.Core.AnnObjectCollectionEventArgs.create(c)))},_annObject_PropertyChanged:function(a,b){null!=this.__objectsPropertyChanged&&this.__objectsPropertyChanged(a,b)},get_children:function(){return this._children},_visible:!0,get_isVisible:function(){return this._visible},set_isVisible:function(a){return this._visible=a},_isModified:!1,get_isModified:function(){return this._isModified},
set_isModified:function(a){return this._isModified=a},get_hitTestBuffer:function(){return this._hitTestBuffer},set_hitTestBuffer:function(a){0>a&&lt.Annotations.Core.ExceptionHelper.invalidOperationException("Hit test buffer must be a value greater than or equal to 0");return this._hitTestBuffer=a},get_hitTestBehavior:function(){return this._hitTestBehavior},set_hitTestBehavior:function(a){return this._hitTestBehavior=a},get_layers:function(){return this._layers},get_stateId:function(){return this._stateId},
set_stateId:function(a){return this._stateId=a},add_objectAdded:function(a){this.__objectAdded=ss.Delegate.combine(this.__objectAdded,a)},remove_objectAdded:function(a){this.__objectAdded=ss.Delegate.remove(this.__objectAdded,a)},__objectAdded_handler_get:function(){null==this.__objectAdded_handler&&(this.__objectAdded_handler=ss.EventHandler.create(this,this.add_objectAdded,this.remove_objectAdded));return this.__objectAdded_handler},__objectAdded:null,__objectAdded_handler:null,add_objectRemoved:function(a){this.__objectRemoved=
ss.Delegate.combine(this.__objectRemoved,a)},remove_objectRemoved:function(a){this.__objectRemoved=ss.Delegate.remove(this.__objectRemoved,a)},__objectRemoved_handler_get:function(){null==this.__objectRemoved_handler&&(this.__objectRemoved_handler=ss.EventHandler.create(this,this.add_objectRemoved,this.remove_objectRemoved));return this.__objectRemoved_handler},__objectRemoved:null,__objectRemoved_handler:null,hitTestPoint:function(a){if(!this.get_isVisible())return null;var b=new lt.Annotations.Core.AnnObjectCollection,
c=this._mapper.getHitTestBuffer(this.get_hitTestBuffer()),d=this.get_selectionObject();if(1<d.get_selectedObjects().get_count()){if(d.hitTest(a,c))return null!=this._groupsRoles?this._groupsRoles.isCurrentUserInRole(new lt.Annotations.Core.AnnOperationInfoEventArgs(15,d))&&b.add(d):b.add(d),b.toArray()}else if(1===d.get_selectedObjects().get_count()){var e=d.get_selectedObjects().get_item(0);if(null!=e){var f=lt.Annotations.Core.Utils.fixPoint(a,this.get_mapper(),e.get_fixedStateOperations());if(e.hitTest(f,
c)){var g=d.get_selectedObjects().get_item(0);null!=this._groupsRoles?this._groupsRoles.isCurrentUserInRole(new lt.Annotations.Core.AnnOperationInfoEventArgs(15,g))&&b.add(g):b.add(g)}}}for(g=0;g<this.get_children().get_count();g++){f=lt.Annotations.Core._leadPointDExtensions.clone(a);e=this.get_children().get_item(g);if(1===(e.get_fixedStateOperations()&1))var f=this.get_mapper().pointToContainerCoordinates(lt.Annotations.Core._leadPointDExtensions.create(0,0)),h=this.get_mapper().pointToContainerCoordinates(lt.Annotations.Core._leadPointDExtensions.create(this.get_mapper().get_scrollOffset().get_x(),
this.get_mapper().get_scrollOffset().get_y())),f=lt.Annotations.Core.Utils.subtractPoint(h,f),f=lt.Annotations.Core.Utils.subtractPoint(a,f);2===(e.get_fixedStateOperations()&2)&&(f=lt.Annotations.Core.Utils.fixPoint(a,this.get_mapper(),e.get_fixedStateOperations()));e.hitTest(f,c)&&(e.get_parent()!==d?null!=this._groupsRoles?this._groupsRoles.isCurrentUserInRole(new lt.Annotations.Core.AnnOperationInfoEventArgs(15,e))&&(b.contains(e)&&b.remove(e),b.add(e)):(b.contains(e)&&b.remove(e),b.add(e)):b.contains(e)&&
(b.remove(e),b.add(e)))}if(0<this.get_layers().get_count()&&(a={},e=b.get_count(),g=0,0<e)){c=[];for(d=ss.IEnumerator.getEnumerator(b);d.moveNext();)e=d.current,f=this._getZOrder(e),Object.keyExists(a,f)||(a[f]=e,c.insert(g++,f));c.sort();e=c.length;for(g=0;g<e;++g)b.set_item(g,a[c[g]])}return b.toArray()},_getZOrder:function(a){var b=this.get_children().indexOf(a);if(null!=a.get_layer()){var c=a.get_layer();if(!c.get_isVisible())return 0;for(a=c.get_children().indexOf(a);null!=c;)b=null!=c.get_parent()?
b+1E4*(c.get_parent().get_layers().indexOf(c)+1):b+1E4*(this.get_layers().indexOf(c)+1),c=c.get_parent();b+=a}return b},hitTestRect:function(a){if(!this.get_isVisible())return null;for(var b=new lt.Annotations.Core.AnnObjectCollection,c={},d=ss.IEnumerator.getEnumerator(this.get_children());d.moveNext();){var e=d.current;if(e.get_groupName())Object.keyExists(c,e.get_groupName())||(c[e.get_groupName()]=lt.Annotations.Core._leadRectDExtensions.get_empty());else{var f=!1;(f=this.get_hitTestBehavior()?
lt.Annotations.Core._leadRectDExtensions.containsRect(a,e.get_bounds()):!lt.Annotations.Core._leadRectDExtensions.isEmpty(lt.Annotations.Core._leadRectDExtensions.intersectRects(a,e.get_bounds())))&&String.isNullOrEmpty(e.get_groupName())&&(null!=this._groupsRoles?this._groupsRoles.isCurrentUserInRole(new lt.Annotations.Core.AnnOperationInfoEventArgs(15,e))&&b.add(e):b.add(e))}}for(var d={},g=ss.IEnumerator.getEnumerator(Object.keys(c));g.moveNext();){for(var f=g.current,h=lt.Annotations.Core._leadRectDExtensions.clone(c[f]),
i=ss.IEnumerator.getEnumerator(this.get_children());i.moveNext();)e=i.current,e.get_groupName()===f&&(h=lt.Annotations.Core._leadRectDExtensions.isEmpty(h)?e.get_bounds():lt.Annotations.Core._leadRectDExtensions.unionRects(e.get_bounds(),c[f]));d[f]=h}Object.clearKeys(c);for(c=ss.IEnumerator.getEnumerator(Object.keys(d));c.moveNext();)if(f=c.current,lt.Annotations.Core._leadRectDExtensions.containsRect(a,d[f]))for(g=ss.IEnumerator.getEnumerator(this.get_children());g.moveNext();)e=g.current,e.get_groupName()===
f&&b.add(e);return b.toArray()},unselect:function(a){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var b=Type.safeCast(a,lt.Annotations.Core.AnnSelectionObject);null!=b?(b.set_isSelected(!1),b.get_selectedObjects().clear(),b.adjustBounds()):this.get_selectionObject().get_selectedObjects().remove(a);a.set_isSelected(!1);return!a.get_isSelected()},select:function(a){if(null==a||a.get_isSelected())return!1;a.set_isSelected(!0);return a.get_isSelected()},rotate:function(a){if(lt.Annotations.Core.Utils.isRightAngle(a)){var b=
lt.Annotations.Core._leadRectDExtensions.create(0,0,this.get_size().get_width(),this.get_size().get_height()),c=lt.Annotations.Core._leadPointDExtensions.create(b.get_width()/2,b.get_height()/2),b=lt.Annotations.Core.AnnTransformer.rotateRectAt(b,a,c.get_x(),c.get_y());lt.Annotations.Core._leadPointDExtensions.create(b.get_width()/2,b.get_height()/2);for(var d=ss.IEnumerator.getEnumerator(this.get_children());d.moveNext();){var e=d.current;e.translate(-c.get_x(),-c.get_y());e.rotate(a,lt.Annotations.Core._leadPointDExtensions.create(0,
0));e.translate(b.get_width()/2,b.get_height()/2)}this.set_size(lt.Annotations.Core._leadSizeDExtensions.create(b.get_width(),b.get_height()))}},clone:function(){var a=new lt.Annotations.Core.AnnContainer;a.get_mapper().mapResolutions(this.get_mapper().get_sourceDpiX(),this.get_mapper().get_sourceDpiX(),this.get_mapper().get_targetDpiX(),this.get_mapper().get_targetDpiY());a.get_mapper().updateTransform(this.get_mapper().get_transform());a.set_isVisible(this.get_isVisible());a.set_hitTestBuffer(this.get_hitTestBuffer());
a.set_pageNumber(this.get_pageNumber());a.set_size(lt.Annotations.Core._leadSizeDExtensions.clone(this.get_size()));a.set_offset(lt.Annotations.Core._leadPointDExtensions.clone(this.get_offset()));a.set_fill(null!=this.get_fill()?this.get_fill().clone():null);a.set_stroke(null!=this.get_stroke()?this.get_stroke().clone():null);a.set_userMode(this.get_userMode());a.set_isEnabled(this.get_isEnabled());a.set_userData(null);for(var b=ss.IEnumerator.getEnumerator(this.get_labels());b.moveNext();){var c=
b.current;a.get_labels().add(c.clone())}for(b=ss.IEnumerator.getEnumerator(this.get_children());b.moveNext();){var c=b.current,d=c.get_isSelected();a.get_children().add(c.clone());c.set_isSelected(d)}for(b=ss.IEnumerator.getEnumerator(this.get_layers());b.moveNext();)c=b.current,a.get_layers().add(c);return a},_activeLayer:null,get_activeLayer:function(){return this._activeLayer},set_activeLayer:function(a){return this._activeLayer=a},resize:function(a,b,c){var d=this.get_size(),e=a.get_width()/d.get_width(),
f=1,g=!1;d.get_width()<a.get_width()&&d.get_height()<a.get_height()&&(g=!0);switch(c){case 0:case 1:g&&1===c&&(1>Math.abs(e*d.get_height()-a.get_height())?f=e:e=f=a.get_height()/d.get_height());break;case 3:e=f=a.get_height()/d.get_height();break;case 2:f=e;break;case 4:f=a.get_height()/d.get_height()}if(!lt.LeadDoubleTools.areClose(e,1)||!lt.LeadDoubleTools.areClose(f,1)){a=lt.Annotations.Core._leadPointDExtensions.create(0,0);c=this.get_children();2===(b&2)&&(e===f?this.get_mapper().set_calibrationScale(1/
e):this.get_mapper().set_calibrationScale(Math.sqrt(Math.pow(e,2)+Math.pow(f,2))));if(1===(b&1))for(b=ss.IEnumerator.getEnumerator(c);b.moveNext();)b.current.scale(e,f,a);this.set_size(lt.Annotations.Core._leadSizeDExtensions.create(this._size.get_width()*e,this._size.get_height()*f))}},_groupsRoles:null,get_groupsRoles:function(){return this._groupsRoles},set_groupsRoles:function(a){return this._groupsRoles=a},get_totalObjectsInvalidRect:function(){return lt.Annotations.Core._leadRectDExtensions.clone(this._totalObjectsInvalidRect)},
set_totalObjectsInvalidRect:function(a){this._totalObjectsInvalidRect=lt.Annotations.Core._leadRectDExtensions.clone(a);return a}};Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"objectsPropertyChanged",{get:lt.Annotations.Core.AnnContainer.prototype.__objectsPropertyChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"selectionObject",{get:lt.Annotations.Core.AnnContainer.prototype.get_selectionObject,set:lt.Annotations.Core.AnnContainer.prototype.set_selectionObject,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"pageNumber",{get:lt.Annotations.Core.AnnContainer.prototype.get_pageNumber,set:lt.Annotations.Core.AnnContainer.prototype.set_pageNumber,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"mapper",{get:lt.Annotations.Core.AnnContainer.prototype.get_mapper,set:lt.Annotations.Core.AnnContainer.prototype.set_mapper,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,
"size",{get:lt.Annotations.Core.AnnContainer.prototype.get_size,set:lt.Annotations.Core.AnnContainer.prototype.set_size,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"offset",{get:lt.Annotations.Core.AnnContainer.prototype.get_offset,set:lt.Annotations.Core.AnnContainer.prototype.set_offset,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"fill",{get:lt.Annotations.Core.AnnContainer.prototype.get_fill,
set:lt.Annotations.Core.AnnContainer.prototype.set_fill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"stroke",{get:lt.Annotations.Core.AnnContainer.prototype.get_stroke,set:lt.Annotations.Core.AnnContainer.prototype.set_stroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"userMode",{get:lt.Annotations.Core.AnnContainer.prototype.get_userMode,set:lt.Annotations.Core.AnnContainer.prototype.set_userMode,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"userData",{get:lt.Annotations.Core.AnnContainer.prototype.get_userData,set:lt.Annotations.Core.AnnContainer.prototype.set_userData,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"isEnabled",{get:lt.Annotations.Core.AnnContainer.prototype.get_isEnabled,set:lt.Annotations.Core.AnnContainer.prototype.set_isEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,
"labels",{get:lt.Annotations.Core.AnnContainer.prototype.get_labels,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"children",{get:lt.Annotations.Core.AnnContainer.prototype.get_children,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"isVisible",{get:lt.Annotations.Core.AnnContainer.prototype.get_isVisible,set:lt.Annotations.Core.AnnContainer.prototype.set_isVisible,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"isModified",{get:lt.Annotations.Core.AnnContainer.prototype.get_isModified,set:lt.Annotations.Core.AnnContainer.prototype.set_isModified,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"hitTestBuffer",{get:lt.Annotations.Core.AnnContainer.prototype.get_hitTestBuffer,set:lt.Annotations.Core.AnnContainer.prototype.set_hitTestBuffer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,
"hitTestBehavior",{get:lt.Annotations.Core.AnnContainer.prototype.get_hitTestBehavior,set:lt.Annotations.Core.AnnContainer.prototype.set_hitTestBehavior,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"layers",{get:lt.Annotations.Core.AnnContainer.prototype.get_layers,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"stateId",{get:lt.Annotations.Core.AnnContainer.prototype.get_stateId,set:lt.Annotations.Core.AnnContainer.prototype.set_stateId,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"objectAdded",{get:lt.Annotations.Core.AnnContainer.prototype.__objectAdded_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"objectRemoved",{get:lt.Annotations.Core.AnnContainer.prototype.__objectRemoved_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"activeLayer",{get:lt.Annotations.Core.AnnContainer.prototype.get_activeLayer,
set:lt.Annotations.Core.AnnContainer.prototype.set_activeLayer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"groupsRoles",{get:lt.Annotations.Core.AnnContainer.prototype.get_groupsRoles,set:lt.Annotations.Core.AnnContainer.prototype.set_groupsRoles,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainer.prototype,"totalObjectsInvalidRect",{get:lt.Annotations.Core.AnnContainer.prototype.get_totalObjectsInvalidRect,set:lt.Annotations.Core.AnnContainer.prototype.set_totalObjectsInvalidRect,
enumerable:!0,configurable:!0});lt.Annotations.Core.AnnContainerMapper=function(a,b,c,d){this._scrollOffset=lt.Annotations.Core._leadPointDExtensions.create(0,0);this._offset=lt.Annotations.Core._leadPointDExtensions.create(0,0);this._calibrationUnit=5;this._transform=lt.LeadMatrix.get_identity();this._transformWithoutRotate=lt.LeadMatrix.get_identity();this._rotateTransform=lt.LeadMatrix.get_identity();this._sourceDpiX=a;this._sourceDpiY=b;this._targetDpiX=c;this._targetDpiY=d};lt.Annotations.Core.AnnContainerMapper.createDefault=
function(){return new lt.Annotations.Core.AnnContainerMapper(96,96,96,96)};lt.Annotations.Core.AnnContainerMapper.prototype={get_scrollOffset:function(){return this._scrollOffset},set_scrollOffset:function(a){return this._scrollOffset=a},_ignoreDpiScale:!1,get_ignoreDpiScale:function(){return this._ignoreDpiScale},set_ignoreDpiScale:function(a){return this._ignoreDpiScale=a},_burnScaleFactor:1,get_burnScaleFactor:function(){return this._burnScaleFactor},set_burnScaleFactor:function(a){return this._burnScaleFactor=
a},get_offset:function(){return this._offset},set_offset:function(a){return this._offset=a},get_calibrationUnit:function(){return this._calibrationUnit},set_calibrationUnit:function(a){return this._calibrationUnit=a},normalizeRectangle:function(a,b){var c=Array(4);c[0]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x(),a.get_y());c[1]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+a.get_width(),a.get_y());c[2]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+a.get_width(),
a.get_y()+a.get_height());c[3]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x(),a.get_y()+a.get_height());var c=this.pointsFromContainerCoordinates(c,b),d=lt.Annotations.Core.Utils.findAngle(c[0],c[1]);180===parseInt(d+0.5)&&(d=0);var e=Array(2);e[0]=lt.Annotations.Core._leadPointDExtensions.create(c[0].get_x(),c[0].get_y());e[1]=lt.Annotations.Core._leadPointDExtensions.create(c[2].get_x(),c[2].get_y());var c=lt.Annotations.Core._leadPointDExtensions.create((e[0].get_x()+e[1].get_x())/
2,(e[0].get_y()+e[1].get_y())/2),e=lt.Annotations.Core.AnnTransformer.rotateAtPoints(e,-d,c.get_x(),c.get_y()),c=Math.min(e[0].get_x(),e[1].get_x()),f=Math.min(e[0].get_y(),e[1].get_y()),g=Math.max(e[0].get_x(),e[1].get_x()),e=Math.max(e[0].get_y(),e[1].get_y());a.set_x(c);a.set_y(f);a.set_width(g-c);a.set_height(e-f);return d},clone:function(){var a=new lt.Annotations.Core.AnnContainerMapper(this.get_sourceDpiX(),this.get_sourceDpiY(),this.get_targetDpiX(),this.get_targetDpiY());a.set_calibrationScale(this.get_calibrationScale());
a._transform=this._transform.clone();a._fontRelativeToImageDpi=this.get_fontRelativeToImageDpi();return a},_burnFontDpi:!1,get_burnFontDpi:function(){return this._burnFontDpi},set_burnFontDpi:function(a){return this._burnFontDpi=a},_calibrationScale:1,get_calibrationScale:function(){return this._calibrationScale},set_calibrationScale:function(a){return this._calibrationScale=a},calibrate:function(a,b,c,d){14===b&&(b=0);14===d&&(d=0);a=lt.Annotations.Core.AnnUnitConverter.convert(a.get_value(),b,0);
this._calibrationScale=lt.Annotations.Core.AnnUnitConverter.convert(c.get_value(),d,0)/a;this._calibrationUnit=d},get_transform:function(){return this._transform.clone()},set_transform:function(a){this._transform=a.clone();return a},get_transformWithoutRotate:function(){return this._transformWithoutRotate.clone()},set_transformWithoutRotate:function(a){this._transformWithoutRotate=a.clone();return a},get_rotateTransform:function(){return this._rotateTransform.clone()},set_rotateTransform:function(a){this._rotateTransform=
a.clone();return a},_sourceDpiX:0,get_sourceDpiX:function(){return 0<this._sourceDpiX?this._sourceDpiX:96},_sourceDpiY:0,get_sourceDpiY:function(){return 0<this._sourceDpiY?this._sourceDpiY:96},_targetDpiX:0,get_targetDpiX:function(){return 0<this._targetDpiX?this._targetDpiX:96},_targetDpiY:0,get_targetDpiY:function(){return 0<this._targetDpiY?this._targetDpiY:96},_deviceDpiX:0,get_deviceDpiX:function(){return 0<this._deviceDpiX?this._deviceDpiX:96},set_deviceDpiX:function(a){return this._deviceDpiX=
a},_deviceDpiY:0,get_deviceDpiY:function(){return 0<this._deviceDpiY?this._deviceDpiY:96},set_deviceDpiY:function(a){return this._deviceDpiY=a},updateTransform:function(a){this._transform=a.clone()},updateDestinationRectangle:function(a,b){this._transform=lt.LeadMatrix.get_identity();!lt.Annotations.Core._leadRectDExtensions.isEmpty(a)&&a.get_width()&&a.get_height()&&b.get_width()&&b.get_height()&&(this._transform.scale(a.get_width()/b.get_width(),a.get_height()/b.get_height()),this._transform.translate(a.get_x(),
a.get_y()))},mapResolutions:function(a,b,c,d){0<c&&(this._targetDpiX=c);0<d&&(this._targetDpiY=d);0<a&&(this._sourceDpiX=a);0<b&&(this._sourceDpiY=b)},pointsToContainerCoordinates:function(a){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("points");var b=Array(a.length),c=this._transform.clone();c.get_hasInverse()&&c.invert();for(var d=0,a=ss.IEnumerator.getEnumerator(a);a.moveNext();)b[d]=this.internalPointToContainerCoordinates(a.current,c),d++;return b},internalPointToContainerCoordinates:function(a,
b){var c=[lt.Annotations.Core._leadPointDExtensions.create(a.get_x(),a.get_y())];b.transformPoints(c);var d=this.get_targetDpiX(),e=this.get_targetDpiY();this._ignoreDpiScale&&(d=this.get_sourceDpiX(),e=this.get_sourceDpiY());d=c[0].get_x()/d/lt.Annotations.Core.AnnContainerMapper._unit;c=c[0].get_y()/e/lt.Annotations.Core.AnnContainerMapper._unit;return lt.Annotations.Core._leadPointDExtensions.create(d-this._offset.get_x(),c-this._offset.get_y())},pointToContainerCoordinates:function(a){lt.Annotations.Core._leadPointDExtensions.create(a.get_x(),
a.get_y());var b=this._transform.clone();b.get_hasInverse()&&b.invert();return this.internalPointToContainerCoordinates(a,b)},getHitTestBuffer:function(a){if(lt.LTHelper.device===lt.LTDevice.mobile||lt.LTHelper.device===lt.LTDevice.tablet)a*=3;var b=lt.Annotations.Core._leadPointDExtensions.create(0,0),a=lt.Annotations.Core._leadPointDExtensions.create(a,0),b=this.pointToContainerCoordinates(b),a=this.pointToContainerCoordinates(a),b=lt.Annotations.Core.Utils.distance(b,a);return b*=96*lt.Annotations.Core.AnnContainerMapper._unit},
fontToContainerCoordinates:function(a){var b=a.clone();b.set_fontSize(a.get_fontSize()*this.get_targetDpiX()/this.get_sourceDpiX());return b},_fontRelativeToDevice:!1,get_fontRelativeToDevice:function(){return this._fontRelativeToDevice},set_fontRelativeToDevice:function(a){return this._fontRelativeToDevice=a},_fontRelativeToImageDpi:!0,get_fontRelativeToImageDpi:function(){return this._fontRelativeToImageDpi},set_fontRelativeToImageDpi:function(a){return this._fontRelativeToImageDpi=a},strokeFromContainerCoordinates:function(a,
b){if(null==a)return null;var c=a.clone(),d=c.get_strokeThickness().get_value(),e=1;if(8===(b&8))e=this.get_burnScaleFactor(),c.set_strokeThickness(lt.Annotations.Core._leadLengthDExtensions.create(d*e));else{var e=this._transform.clone(),f=lt.Annotations.Core._leadRectDExtensions.create(0,0,10,10),f=e.transformRect(f),e=f.get_width()/10;c.set_strokeThickness(lt.Annotations.Core._leadLengthDExtensions.create(d*e*this.get_targetDpiX()/this.get_sourceDpiX()))}return c},fontFromContainerCoordinates:function(a,
b){var c=a.clone();if(4===(b&4))return c.set_fontSize(c.get_fontSize()*this.get_burnScaleFactor()),c.set_fontHeight(parseInt(a.get_fontHeight()*c.get_fontSize()/a.get_fontSize())),c;var d;if(2===(b&2)){d=this._fontRelativeToDevice?c.get_fontSize()*this.get_sourceDpiX()/this.get_targetDpiX():c.get_fontSize()*this.get_sourceDpiX()/this.get_deviceDpiX();var e=this._transform.clone();c.set_fontSize(d*this.get_targetDpiX()/this.get_sourceDpiX());c.set_fontSize(c.get_fontSize()*this.get_burnScaleFactor())}else{d=
this._fontRelativeToDevice?c.get_fontSize():4!==(b&4)&&this._fontRelativeToImageDpi?c.get_fontSize()*this.get_sourceDpiX()/this.get_deviceDpiX():c.get_fontSize();var e=this._transform.clone(),f=lt.Annotations.Core._leadRectDExtensions.create(0,0,10,10),f=e.transformRect(f),e=f.get_width()/10;4!==(b&4)?c.set_fontSize(d*e*this.get_targetDpiX()/this.get_sourceDpiX()):c.set_fontSize(d*e)}a.get_isDirty()?(c.set_fontHeight(parseInt(a.get_fontHeight()*c.get_fontSize()/a.get_fontSize())),c.set_isDirty(!0)):
c.set_isDirty(!1);return c},sizeToContainerCoordinates:function(a){if(lt.Annotations.Core._leadSizeDExtensions.isEmpty(a))return a;var b=lt.Annotations.Core._leadRectDExtensions.create(0,0,a.get_width(),a.get_height()),b=this.rectToContainerCoordinates(b);a.set_width(b.get_width());a.set_height(b.get_height());return a},sizeFromContainerCoordinates:function(a){if(lt.Annotations.Core._leadSizeDExtensions.isEmpty(a))return a;var b=lt.Annotations.Core._leadRectDExtensions.create(0,0,a.get_width(),a.get_height()),
b=this.rectFromContainerCoordinates(b,0);a.set_width(b.get_width());a.set_height(b.get_height());return a},lengthFromContainerCoordinates:function(a,b){var c=16===(b&16),d=2!==(b&2),e=a.get_value();c?(e=d?e*lt.Annotations.Core.AnnContainerMapper._unit*this.get_deviceDpiX()*(lt.LeadDoubleTools.areClose(this.get_transform().get_m11(),0)?1:this.get_transform().get_m11()):e*lt.Annotations.Core.AnnContainerMapper._unit*this.get_deviceDpiX(),e*=this.get_burnScaleFactor()):(c=lt.Annotations.Core._leadPointDExtensions.create(0,
0),c=this.pointFromContainerCoordinates(c,b),d=lt.Annotations.Core._leadPointDExtensions.create(a.get_value(),0),d=this.pointFromContainerCoordinates(d,b),e=Math.sqrt(Math.pow(d.get_x()-c.get_x(),2)+Math.pow(d.get_y()-c.get_y(),2)));return e},lengthToContainerCoordinates:function(a){var b=lt.Annotations.Core._leadPointDExtensions.create(0,0),b=this.pointToContainerCoordinates(b),a=lt.Annotations.Core._leadPointDExtensions.create(a,0),a=this.pointToContainerCoordinates(a);return lt.Annotations.Core._leadLengthDExtensions.create(Math.sqrt(Math.pow(a.get_x()-
b.get_x(),2)+Math.pow(a.get_y()-b.get_y(),2)))},pointFromContainerCoordinates:function(a,b){var c=this.get_sourceDpiX(),d=this.get_sourceDpiY(),e=this.get_targetDpiX(),f=this.get_targetDpiY();this._ignoreDpiScale&&(e=c,f=d);var g=lt.Annotations.Core._leadPointDExtensions.clone(a);lt.Annotations.Core._leadPointDExtensions.isEmpty(g)||(g.set_x(g.get_x()+this._offset.get_x()),g.set_y(g.get_y()+this._offset.get_y()));var h=g.get_x()*c*lt.Annotations.Core.AnnContainerMapper._unit,g=g.get_y()*d*lt.Annotations.Core.AnnContainerMapper._unit,
h=[lt.Annotations.Core._leadPointDExtensions.create(h,g)],g=new lt.LeadMatrix;g.scale(c/e,d/f);g.get_hasInverse()&&g.invert();g.transformPoints(h);c=this._transform.clone();1===(b&1)&&(lt.Annotations.Core._leadPointDExtensions.isEmpty(this._scrollOffset)||c.translate(this._scrollOffset.get_x(),this._scrollOffset.get_y()));2===(b&2)&&(d=c.get_offsetX(),e=c.get_offsetY(),g=f=1,!lt.LeadDoubleTools.areClose(c.get_m11(),0)&&!lt.LeadDoubleTools.areClose(c.get_m22(),0)&&(f=1/Math.abs(c.get_m11()),g=1/Math.abs(c.get_m22())),
c.scale(f,g),(1!==f||1!==g)&&c.translate(d*f,e*g));c.transformPoints(h);return lt.Annotations.Core._leadPointDExtensions.create(h[0].get_x(),h[0].get_y())},pointsFromContainerCoordinates:function(a,b){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("points");for(var c=Array(a.length),d=0,e=ss.IEnumerator.getEnumerator(a);e.moveNext();)c[d]=this.pointFromContainerCoordinates(e.current,b),d++;return c},rectFromContainerCoordinates:function(a,b){if(lt.Annotations.Core._leadRectDExtensions.isEmpty(a))return a;
var c=Array(2);c[0]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x(),a.get_y());c[1]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+a.get_width(),a.get_y()+a.get_height());c=this.pointsFromContainerCoordinates(c,b);return lt.Annotations.Core._leadRectDExtensions.fromLTRB(c[0].get_x(),c[0].get_y(),c[1].get_x(),c[1].get_y())},rectToContainerCoordinates:function(a){if(lt.Annotations.Core._leadRectDExtensions.isEmpty(a))return a;var b=Array(2);b[0]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x(),
a.get_y());b[1]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+a.get_width(),a.get_y()+a.get_height());b=this.pointsToContainerCoordinates(b);return lt.Annotations.Core._leadRectDExtensions.fromLTRB(b[0].get_x(),b[0].get_y(),b[1].get_x(),b[1].get_y())}};Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"scrollOffset",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_scrollOffset,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_scrollOffset,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"ignoreDpiScale",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_ignoreDpiScale,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_ignoreDpiScale,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"burnScaleFactor",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_burnScaleFactor,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_burnScaleFactor,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"offset",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_offset,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_offset,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"calibrationUnit",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_calibrationUnit,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_calibrationUnit,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"burnFontDpi",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_burnFontDpi,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_burnFontDpi,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"calibrationScale",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_calibrationScale,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_calibrationScale,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"transform",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_transform,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_transform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"transformWithoutRotate",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_transformWithoutRotate,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_transformWithoutRotate,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"rotateTransform",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_rotateTransform,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_rotateTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"sourceDpiX",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_sourceDpiX,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,
"sourceDpiY",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_sourceDpiY,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"targetDpiX",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_targetDpiX,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"targetDpiY",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_targetDpiY,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,
"deviceDpiX",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_deviceDpiX,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_deviceDpiX,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"deviceDpiY",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_deviceDpiY,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_deviceDpiY,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,
"fontRelativeToDevice",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_fontRelativeToDevice,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_fontRelativeToDevice,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnContainerMapper.prototype,"fontRelativeToImageDpi",{get:lt.Annotations.Core.AnnContainerMapper.prototype.get_fontRelativeToImageDpi,set:lt.Annotations.Core.AnnContainerMapper.prototype.set_fontRelativeToImageDpi,enumerable:!0,configurable:!0});
lt.Annotations.Core.AnnAudioObject=function(){lt.Annotations.Core.AnnAudioObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.audioObjectId);this.set_defaultPicture(3)};lt.Annotations.Core.AnnAudioObject.prototype={get_friendlyName:function(){return"Audio"},create:function(){return new lt.Annotations.Core.AnnAudioObject},clone:function(){return Type.safeCast(lt.Annotations.Core.AnnAudioObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnAudioObject)},serialize:function(a,b,
c){lt.Annotations.Core.AnnAudioObject.callBaseMethod(this,"serialize",[a,b,c])},deserialize:function(a,b,c){lt.Annotations.Core.AnnAudioObject.callBaseMethod(this,"deserialize",[a,b,c])},get_hitTestInterior:function(){return 1===(1===(lt.Annotations.Core.AnnAudioObject.callBaseMethod(this,"get_hitTestInterior")|null!=this.get_picture())|-1<this.get_defaultPicture())}};Object.defineProperty(lt.Annotations.Core.AnnAudioObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnAudioObject.prototype.get_friendlyName,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnAudioObject.prototype,"hitTestInterior",{get:lt.Annotations.Core.AnnAudioObject.prototype.get_hitTestInterior,enumerable:!0,configurable:!0});lt.Annotations.Core._parameters=function(){};lt.Annotations.Core._parameters.prototype={c1:0,c2:0,c3:0,c4:0,angle1:0,angle2:0,angle3:0,angle4:0,firstStart:null,firstEnd:null,secondStart:null,secondEnd:null};lt.Annotations.Core.AnnCrossProductObject=function(){this._hitTestedRuler$3=
"";lt.Annotations.Core.AnnCrossProductObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.crossProductObjectId);this.get_points().clear();this.get_points().add(lt.Annotations.Core._leadPointDExtensions.get_empty());this.get_points().add(lt.Annotations.Core._leadPointDExtensions.get_empty());this.get_points().add(lt.Annotations.Core._leadPointDExtensions.get_empty());this.get_points().add(lt.Annotations.Core._leadPointDExtensions.get_empty());this.get_points().add(lt.Annotations.Core._leadPointDExtensions.get_empty());
this.get_labels().SecondaryRulerLength=new lt.Annotations.Core.AnnLabel;this.get_labels().SecondaryRulerLength.set_offsetHeight(!0)};lt.Annotations.Core.AnnCrossProductObject.prototype={get_friendlyName:function(){return"Cross Product"},get_supportsFill:function(){return!1},get_firstEndPoint:function(){return this.get_points().get_item(1)},set_firstEndPoint:function(a){if(!lt.Annotations.Core._leadPointDExtensions.isEqual(this.get_points().get_item(1),a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("FirstEndPoint",
1,this.get_points().get_item(1),a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this.get_points().set_item(1,a),this.onPropertyChanged(b))}return a},get_firstStartPoint:function(){return this.get_points().get_item(0)},set_firstStartPoint:function(a){if(!lt.Annotations.Core._leadPointDExtensions.isEqual(this.get_points().get_item(0),a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("FirstStartPoint",1,this.get_points().get_item(0),a);this.onPropertyChanged(b);b.get_cancel()||
(b.set_status(0),this.get_points().set_item(0,a),this.onPropertyChanged(b))}return a},get_intersectionPoint:function(){return this.get_points().get_item(4)},set_intersectionPoint:function(a){if(!lt.Annotations.Core._leadPointDExtensions.isEqual(this.get_points().get_item(4),a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("IntersectionPoint",1,this.get_points().get_item(4),a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this.get_points().set_item(4,a),this.onPropertyChanged(b))}return a},
get_secondEndPoint:function(){return this.get_points().get_item(3)},set_secondEndPoint:function(a){if(!lt.Annotations.Core._leadPointDExtensions.isEqual(this.get_points().get_item(3),a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("SecondEndPoint",1,this.get_points().get_item(3),a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this.get_points().set_item(3,a),this.onPropertyChanged(b))}return a},get_secondStartPoint:function(){return this.get_points().get_item(2)},set_secondStartPoint:function(a){if(!lt.Annotations.Core._leadPointDExtensions.isEqual(this.get_points().get_item(2),
a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("SecondStartPoint",1,this.get_points().get_item(2),a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this.get_points().set_item(2,a),this.onPropertyChanged(b))}return a},_getFixedPoint$3:function(a,b){var c,d,e=this._getParameters$3();d=lt.Annotations.Core._leadPointDExtensions.get_empty();!a||1===a?a?lt.Annotations.Core.Utils.isZero(e.angle2)?d=this._getFixedPointAngle0$3(a,b):(d=e.c2,c=b.get_y()+lt.Annotations.Core.Utils.divide(b.get_x(),
e.angle2),c=lt.Annotations.Core.Utils.divide(c-d,lt.Annotations.Core.Utils.divide(1,e.angle2)+e.angle2),e=e.angle2*c+d,d=lt.Annotations.Core._leadPointDExtensions.create(c,e)):lt.Annotations.Core.Utils.isZero(e.angle1)?d=this._getFixedPointAngle0$3(a,b):(c=b.get_y()+lt.Annotations.Core.Utils.divide(b.get_x(),e.angle1),d=e.c1,c=lt.Annotations.Core.Utils.divide(c-d,lt.Annotations.Core.Utils.divide(1,e.angle1)+e.angle1),e=e.angle1*c+d,d=lt.Annotations.Core._leadPointDExtensions.create(c,e)):3===a?lt.Annotations.Core.Utils.isZero(e.angle3)?
d=this._getFixedPointAngle0$3(a,b):(c=b.get_y()+lt.Annotations.Core.Utils.divide(b.get_x(),e.angle3),d=e.c3,c=lt.Annotations.Core.Utils.divide(c-d,lt.Annotations.Core.Utils.divide(1,e.angle3)+e.angle3),e=e.angle3*c+d,d=lt.Annotations.Core._leadPointDExtensions.create(c,e)):lt.Annotations.Core.Utils.isZero(e.angle4)?d=this._getFixedPointAngle0$3(a,b):(c=b.get_y()+lt.Annotations.Core.Utils.divide(b.get_x(),e.angle4),d=e.c4,c=lt.Annotations.Core.Utils.divide(c-d,lt.Annotations.Core.Utils.divide(1,e.angle4)+
e.angle4),e=e.angle4*c+d,d=lt.Annotations.Core._leadPointDExtensions.create(c,e));return d},_getFixedPointAngle0$3:function(a,b){var c=lt.Annotations.Core._leadPointDExtensions.create(0,0);switch(a){case 0:case 1:if(!lt.Annotations.Core.Utils.isZero(this.get_firstStartPoint().get_x()-this.get_firstEndPoint().get_x())){c.set_x(b.get_x());c.set_y(this.get_firstStartPoint().get_y());break}c.set_x(this.get_firstStartPoint().get_x());c.set_y(b.get_y());break;case 2:case 3:if(!lt.Annotations.Core.Utils.isZero(this.get_secondStartPoint().get_x()-
this.get_secondEndPoint().get_x())){c.set_x(b.get_x());c.set_y(this.get_secondStartPoint().get_y());break}c.set_x(this.get_secondStartPoint().get_x());c.set_y(b.get_y())}return c},_getParameters$3:function(){var a=new lt.Annotations.Core._parameters;a.firstStart=this.get_firstStartPoint();a.firstEnd=this.get_firstEndPoint();a.secondStart=this.get_secondStartPoint();a.secondEnd=this.get_secondEndPoint();var b=a.firstStart.get_x()-a.firstEnd.get_x(),c=a.firstStart.get_y()-a.firstEnd.get_y();a.angle1=
lt.Annotations.Core.Utils.divide(c,b);a.c1=a.firstStart.get_y()-a.angle1*a.firstStart.get_x();b=a.firstEnd.get_x()-a.firstStart.get_x();c=a.firstEnd.get_y()-a.firstStart.get_y();a.angle2=lt.Annotations.Core.Utils.divide(c,b);a.c2=a.firstEnd.get_y()-a.angle2*a.firstEnd.get_x();b=a.secondStart.get_x()-a.secondEnd.get_x();c=a.secondStart.get_y()-a.secondEnd.get_y();a.angle3=lt.Annotations.Core.Utils.divide(c,b);a.c3=a.secondStart.get_y()-a.angle3*a.secondStart.get_x();b=a.secondEnd.get_x()-a.secondStart.get_x();
c=a.secondEnd.get_y()-a.secondStart.get_y();a.angle4=lt.Annotations.Core.Utils.divide(c,b);a.c4=a.secondEnd.get_y()-a.angle4*a.secondEnd.get_x();return a},updatePoint:function(a,b){if(!this.get_isLocked()){(0>a||3<a)&&lt.Annotations.Core.ExceptionHelper.argumentOutOfRangeException("pointIndex",a,"Must be a value between 0 and 3");var c=this._getFixedPoint$3(a,b);switch(a){case 0:this.set_firstStartPoint(c);break;case 1:this.set_firstEndPoint(c);break;case 2:this.set_secondStartPoint(c);break;case 3:this.set_secondEndPoint(c)}}},
updateSecondPoints:function(){if(!this.get_isLocked()){var a=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(this.get_firstStartPoint(),this.get_firstEndPoint()),b=lt.Annotations.Core._leadLengthDExtensions.create(lt.Annotations.Core.Utils.distance(this.get_firstStartPoint(),this.get_firstEndPoint())/2),c=lt.Annotations.Core._leadPointDExtensions.create((this.get_firstStartPoint().get_x()+this.get_firstEndPoint().get_x())/2,(this.get_firstStartPoint().get_y()+this.get_firstEndPoint().get_y())/
2);this.set_secondEndPoint(lt.Annotations.Core.Utils.transformPoint(a,b,c));lt.Annotations.Core._leadPointDExtensions.isEmpty(a)||(a.set_x(-a.get_x()),a.set_y(-a.get_y()));this.set_secondStartPoint(lt.Annotations.Core.Utils.transformPoint(a,b,c));this.set_intersectionPoint(c)}},moveLine:function(a,b,c){if(!this.get_isLocked()){(0>a||1<a)&&lt.Annotations.Core.ExceptionHelper.argumentOutOfRangeException("lineIndex",a,"Must be a value between 0 and 1");var d=[!a?this.get_firstStartPoint():this.get_secondStartPoint(),
!a?this.get_firstEndPoint():this.get_secondEndPoint()],d=lt.Annotations.Core.AnnTransformer.translatePoints(d,b,c);a?(this.set_secondStartPoint(d[0]),this.set_secondEndPoint(d[1])):(this.set_firstStartPoint(d[0]),this.set_firstEndPoint(d[1]));!lt.Annotations.Core._leadPointDExtensions.isEmpty(this.get_rotateCenter())&&!a&&(a=lt.Annotations.Core._leadPointDExtensions.clone(this.get_rotateCenter()),a.set_x(a.get_x()+b),a.set_y(a.get_y()+c),this.set_rotateCenter(a));this.updateIntersectionPoint()}},
updateIntersectionPoint:function(){var a=this.get_firstStartPoint(),b=this.get_firstEndPoint(),c=this.get_secondStartPoint(),d=this.get_secondEndPoint(),e=a.get_y()-b.get_y(),f=b.get_x()-a.get_x(),a=a.get_y()*b.get_x()-a.get_x()*b.get_y(),b=c.get_y()-d.get_y(),g=d.get_x()-c.get_x(),c=c.get_y()*d.get_x()-c.get_x()*d.get_y();lt.Annotations.Core.Utils.isZero(e*g-f*b)?this.set_intersectionPoint(lt.Annotations.Core._leadPointDExtensions.create(0,0)):(d=(a*g-f*c)/(e*g-f*b),this.set_intersectionPoint(lt.Annotations.Core._leadPointDExtensions.create(d,
!f?(c-b*d)/g:(a-e*d)/f)))},get_hitTestedRuler:function(){return this._hitTestedRuler$3},hitTest:function(a,b){var c=lt.Annotations.Core.AnnCrossProductObject.callBaseMethod(this,"hitTest",[a,b]);c&&(lt.Annotations.Core.Utils.hitTestLine(this.get_firstStartPoint(),this.get_firstEndPoint(),a,b,!1)?this._hitTestedRuler$3="FirstRuler":lt.Annotations.Core.Utils.hitTestLine(this.get_secondStartPoint(),this.get_secondEndPoint(),a,b,!1)&&(this._hitTestedRuler$3="SecondRuler"));return c},clone:function(){return Type.safeCast(lt.Annotations.Core.AnnCrossProductObject.callBaseMethod(this,
"clone"),lt.Annotations.Core.AnnCrossProductObject)},create:function(){return new lt.Annotations.Core.AnnCrossProductObject},getRulerLength:function(a){0>=a&&(a=1);var b=Array(2);b[0]=this.get_firstStartPoint();b[1]=this.get_firstEndPoint();var c=lt.Annotations.Core.RulerHelper.getRulerLength(b)*a;b[0]=this.get_secondStartPoint();b[1]=this.get_secondEndPoint();a*=lt.Annotations.Core.RulerHelper.getRulerLength(b);return lt.Annotations.Core._leadLengthDExtensions.create(c+a)},getInvalidateRect:function(a,
b){var c=lt.Annotations.Core.AnnCrossProductObject.callBaseMethod(this,"getInvalidateRect",[a,b]);if(lt.Annotations.Core._leadRectDExtensions.isEmpty(c))return c;var d=b.get_labelRenderer();if(Object.keyExists(this.get_labels(),"SecondaryRulerLength")&&null!=d&&null!=this.get_labels().SecondaryRulerLength){d=new lt.Annotations.Core.LeadPointCollection;d.add(this.get_secondStartPoint());d.add(this.get_secondEndPoint());d=new lt.Annotations.Core.AnnPolyRulerObject;d.set_showGauge(this.get_showGauge());
d.set_showTickMarks(this.get_showTickMarks());d.set_tickMarksStroke(this.get_tickMarksStroke());d.set_stroke(this.get_stroke());d.set_measurementUnit(this.get_measurementUnit());for(var e=ss.IEnumerator.getEnumerator(Object.keys(this.get_unitsAbbreviation()));e.moveNext();){var f=e.current;d.get_unitsAbbreviation()[f]=this.get_unitsAbbreviation()[f]}d.set_precision(this.get_precision());d.get_labels().RulerLength=this.get_labels().RulerLength;d.set_fixedStateOperations(this.get_fixedStateOperations());
d.set_gaugeLength(this.get_gaugeLength());d.set_tickMarksLength(this.get_tickMarksLength());d.set_opacity(this.get_opacity());d.get_points().clear();d.get_points().add(this.get_firstStartPoint());d.get_points().add(this.get_firstEndPoint());e=new lt.Annotations.Core.AnnPolyRulerObject;e.set_showGauge(this.get_showGauge());e.set_showTickMarks(this.get_showTickMarks());e.set_tickMarksStroke(this.get_tickMarksStroke());e.set_stroke(this.get_stroke());e.set_measurementUnit(this.get_measurementUnit());
for(var g=ss.IEnumerator.getEnumerator(Object.keys(this.get_unitsAbbreviation()));g.moveNext();)f=g.current,e.get_unitsAbbreviation()[f]=this.get_unitsAbbreviation()[f];e.set_precision(this.get_precision());e.set_fixedStateOperations(this.get_fixedStateOperations());e.set_gaugeLength(this.get_gaugeLength());e.set_tickMarksLength(this.get_tickMarksLength());e.set_opacity(this.get_opacity());e.get_labels().RulerLength=this.get_labels().SecondaryRulerLength;e.get_points().clear();e.get_points().add(this.get_secondStartPoint());
e.get_points().add(this.get_secondEndPoint());c=lt.Annotations.Core._leadRectDExtensions.unionRects(c,d.getInvalidateRect(a,b));c=lt.Annotations.Core._leadRectDExtensions.unionRects(c,e.getInvalidateRect(a,b))}c.get_isEmpty()||(c=lt.Annotations.Core._leadRectDExtensions.inflate(c,1,1),c=lt.Annotations.Core._leadRectDExtensions.create(parseInt(c.get_x()),parseInt(c.get_y()),parseInt(c.get_width()),parseInt(c.get_height())));return c}};Object.defineProperty(lt.Annotations.Core.AnnCrossProductObject.prototype,
"friendlyName",{get:lt.Annotations.Core.AnnCrossProductObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCrossProductObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnCrossProductObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCrossProductObject.prototype,"firstEndPoint",{get:lt.Annotations.Core.AnnCrossProductObject.prototype.get_firstEndPoint,set:lt.Annotations.Core.AnnCrossProductObject.prototype.set_firstEndPoint,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCrossProductObject.prototype,"firstStartPoint",{get:lt.Annotations.Core.AnnCrossProductObject.prototype.get_firstStartPoint,set:lt.Annotations.Core.AnnCrossProductObject.prototype.set_firstStartPoint,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCrossProductObject.prototype,"intersectionPoint",{get:lt.Annotations.Core.AnnCrossProductObject.prototype.get_intersectionPoint,set:lt.Annotations.Core.AnnCrossProductObject.prototype.set_intersectionPoint,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCrossProductObject.prototype,"secondEndPoint",{get:lt.Annotations.Core.AnnCrossProductObject.prototype.get_secondEndPoint,set:lt.Annotations.Core.AnnCrossProductObject.prototype.set_secondEndPoint,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCrossProductObject.prototype,"secondStartPoint",{get:lt.Annotations.Core.AnnCrossProductObject.prototype.get_secondStartPoint,set:lt.Annotations.Core.AnnCrossProductObject.prototype.set_secondStartPoint,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCrossProductObject.prototype,"hitTestedRuler",{get:lt.Annotations.Core.AnnCrossProductObject.prototype.get_hitTestedRuler,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnCurveObject=function(){lt.Annotations.Core.AnnCurveObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.curveObjectId);this._tension$2=1};lt.Annotations.Core.AnnCurveObject.prototype={get_friendlyName:function(){return"Curve"},_tension$2:0,
get_tension:function(){return this._tension$2},set_tension:function(a){if(lt.LeadDoubleTools.lessThan(a,0)||lt.LeadDoubleTools.greaterThan(a,1))throw new lt.ArgumentOutOfRangeException("Tension",a,"Must be a value greater than or equals to 0 and less than or equals to 1");if(this._tension$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Tension",1,this._tension$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._tension$2=a,this.onPropertyChanged(b))}return a},clone:function(){var a=
Type.safeCast(lt.Annotations.Core.AnnCurveObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnCurveObject);a.set_tension(this._tension$2);return a},serialize:function(a,b,c){lt.Annotations.Core.AnnCurveObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeNumericElement(c,"Tension",b,this._tension$2)},deserialize:function(a,b,c){lt.Annotations.Core.AnnCurveObject.callBaseMethod(this,"deserialize",[a,b,c]);this._tension$2=lt.Annotations.Core.AnnXmlHelper.readNumericElement(c,
"Tension",b,this._tension$2)},create:function(){return new lt.Annotations.Core.AnnCurveObject},hitTest:function(a,b){if(!this.get_isVisible()||2>this.get_points().get_count())return!1;var c=this.get_points().toArray();if(2===c.length)return lt.Annotations.Core.Utils.hitTestLine(c[0],c[1],a,b,!0);for(var d=new lt.Annotations.Core.LeadPointCollection,c=this.get_isClosed()?lt.Annotations.Core.Utils.splineClosedCurve(c,this.get_tension()):lt.Annotations.Core.Utils.splineCurve(c,this.get_tension()),c=
ss.IEnumerator.getEnumerator(c);c.moveNext();)d.add(c.current);if(this.get_hitTestInterior()&&lt.Annotations.Core.Utils.hitTestPolygon(d,a))return!0;for(var c=d.get_item(0),e=lt.Annotations.Core._leadPointDExtensions.get_empty(),f=!1,g=1;g<d.get_count()&&!f;++g)e=d.get_item(g),lt.Annotations.Core.Utils.hitTestLine(c,e,a,b,!0)?f=!0:c=e;return f},getBoundingRectangle:function(){if(2<this.get_points().get_count()){for(var a=null,a=this.get_isClosed()?lt.Annotations.Core.Utils.splineClosedCurve(this.get_points().toArray(),
this.get_tension()):lt.Annotations.Core.Utils.splineCurve(this.get_points().toArray(),this.get_tension()),b=a[0].get_x(),c=a[0].get_y(),d=a[a.length-1].get_x(),e=a[a.length-1].get_y(),a=ss.IEnumerator.getEnumerator(a);a.moveNext();){var f=a.current;f.get_x()<b&&(b=f.get_x());f.get_y()<c&&(c=f.get_y());f.get_x()>d&&(d=f.get_x());f.get_y()>e&&(e=f.get_y())}b=lt.Annotations.Core._leadRectDExtensions.create(b,c,Math.abs(d-b),Math.abs(e-c));return b=lt.Annotations.Core._leadRectDExtensions.inflate(b,5,
5)}return lt.Annotations.Core.AnnCurveObject.callBaseMethod(this,"getBoundingRectangle")}};Object.defineProperty(lt.Annotations.Core.AnnCurveObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnCurveObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnCurveObject.prototype,"tension",{get:lt.Annotations.Core.AnnCurveObject.prototype.get_tension,set:lt.Annotations.Core.AnnCurveObject.prototype.set_tension,enumerable:!0,configurable:!0});
lt.Annotations.Core.AnnEllipseObject=function(){lt.Annotations.Core.AnnEllipseObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.ellipseObjectId)};lt.Annotations.Core.AnnEllipseObject.prototype={get_friendlyName:function(){return"Ellipse"},create:function(){return new lt.Annotations.Core.AnnEllipseObject},hitTest:function(a,b){if(!this.get_isVisible())return!1;var c=lt.Annotations.Core._leadRectDExtensions.clone(this.get_bounds());if(lt.Annotations.Core._leadRectDExtensions.isEmpty(c))return!1;
c=lt.Annotations.Core._leadRectDExtensions.inflate(c,b,b);if(c=lt.Annotations.Core._leadRectDExtensions.containsPoint(c,a))c=lt.Annotations.Core._leadPointDExtensions.create(this.get_bounds().get_x()+this.get_bounds().get_width()/2,this.get_bounds().get_y()+this.get_bounds().get_height()/2),c=lt.Annotations.Core.PolyPoint.fromEllipse(this.get_rect(),this.get_angle(),c).hitTest(a,b,this.get_hitTestInterior());return c}};Object.defineProperty(lt.Annotations.Core.AnnEllipseObject.prototype,"friendlyName",
{get:lt.Annotations.Core.AnnEllipseObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnEncryptObject=function(){this._rect$2=lt.Annotations.Core._leadRectDExtensions.create(0,0,0,0);lt.Annotations.Core.AnnEncryptObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.encryptObjectId);this._key$2=0;this._serializeKeyIfEncrypted$2=!0;this._resetKeyIfApplied$2=!1;this._encryptor$2=!0;this._isEncrypted$2=!1};lt.Annotations.Core.AnnEncryptObject.prototype=
{get_friendlyName:function(){return"Encrypt"},_key$2:0,_serializeKeyIfEncrypted$2:!1,_resetKeyIfApplied$2:!1,_encryptor$2:!1,_isEncrypted$2:!1,_primaryPicture$2:null,get_primaryPicture:function(){return this._primaryPicture$2},set_primaryPicture:function(a){if(this._primaryPicture$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("PrimaryPicture",1,this._primaryPicture$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._primaryPicture$2=a,this.onPropertyChanged(b))}return a},
_secondaryPicture$2:null,get_secondaryPicture:function(){return this._secondaryPicture$2},set_secondaryPicture:function(a){if(this._secondaryPicture$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("SecondaryPicture",1,this._secondaryPicture$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._secondaryPicture$2=a,this.onPropertyChanged(b))}return a},_defaultPrimaryPicture$2:5,get_defaultPrimaryPicture:function(){return this._defaultPrimaryPicture$2},set_defaultPrimaryPicture:function(a){if(this._defaultPrimaryPicture$2!==
a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("DefaultPrimaryPicture",1,this._defaultPrimaryPicture$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._defaultPrimaryPicture$2=a,this.onPropertyChanged(b))}return a},_defaultSecondaryPicture$2:6,get_defaultSecondaryPicture:function(){return this._defaultSecondaryPicture$2},set_defaultSecondaryPicture:function(a){if(this._defaultSecondaryPicture$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("DefaultSecondaryPicture",
1,this._defaultSecondaryPicture$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._defaultSecondaryPicture$2=a,this.onPropertyChanged(b))}return a},get_key:function(){return this._key$2},set_key:function(a){return this._key$2=a},get_resetKeyIfApplied:function(){return this._resetKeyIfApplied$2},set_resetKeyIfApplied:function(a){return this._resetKeyIfApplied$2=a},get_serializeKeyIfEncrypted:function(){return this._serializeKeyIfEncrypted$2},set_serializeKeyIfEncrypted:function(a){return this._serializeKeyIfEncrypted$2=
a},get_encryptor:function(){return this._encryptor$2},set_encryptor:function(a){if(this._encryptor$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Encryptor",1,this._encryptor$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._encryptor$2=a,this.onPropertyChanged(b))}return a},get_isEncrypted:function(){return this._isEncrypted$2},_setIsEncrypted:function(a){this._isEncrypted$2=a},get_canEncrypt:function(){return!this.get_isEncrypted()&&this.get_encryptor()&&!this.get_isLocked()},
get_canDecrypt:function(){return!this.get_encryptor()&&!this.get_isLocked()},get_supportsStroke:function(){return!1},get_supportsFill:function(){return!1},get_canRotate:function(){return!1},get_hitTestInterior:function(){return 1===(1===(1===(1===(lt.Annotations.Core.AnnEncryptObject.callBaseMethod(this,"get_hitTestInterior")|null!=this.get_primaryPicture())|-1<this.get_defaultPrimaryPicture())|null!=this.get_secondaryPicture())|-1<this.get_defaultSecondaryPicture())},rotate:function(a,b){this.get_isEncrypted()||
lt.Annotations.Core.AnnEncryptObject.callBaseMethod(this,"rotate",[a,b])},translate:function(a,b){this.get_isEncrypted()||lt.Annotations.Core.AnnEncryptObject.callBaseMethod(this,"translate",[a,b])},create:function(){return new lt.Annotations.Core.AnnEncryptObject},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnEncryptObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnEncryptObject);a._encryptor$2=this._encryptor$2;a._key$2=this._key$2;a._primaryPicture$2=null!=this._primaryPicture$2?
this._primaryPicture$2.clone():null;a._secondaryPicture$2=null!=this._secondaryPicture$2?this._secondaryPicture$2.clone():null;a._isEncrypted$2=this._isEncrypted$2;return a},apply:function(a,b){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("provider");null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("container");this._rect$2=this.get_rect();var c=b.get_mapper(),c=(new lt.Annotations.Core.AnnContainerMapper(c.get_sourceDpiX(),c.get_sourceDpiY(),c.get_sourceDpiX(),
c.get_sourceDpiY())).rectFromContainerCoordinates(this.get_rect(),this.get_fixedStateOperations()),c=lt.Annotations.Core._leadRectDExtensions.create(Math.round(c.get_x()),Math.round(c.get_y()),Math.round(c.get_width()),Math.round(c.get_height()));this.get_encryptor()?a.encrypt(b,c,this.get_key()):a.decrypt(b,c,this.get_key());this._isEncrypted$2=this.get_encryptor();this._encryptor$2=!this._encryptor$2;this.get_resetKeyIfApplied()&&this.set_key(0)},serialize:function(a,b,c){lt.Annotations.Core.AnnEncryptObject.callBaseMethod(this,
"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"Encryptor",b,this._encryptor$2);lt.Annotations.Core.AnnXmlHelper.writeNumericElement(c,"Key",b,this._key$2);lt.Annotations.Core.AnnXmlHelper.writePictureElement(c,"PrimaryPicture",b,this._primaryPicture$2);lt.Annotations.Core.AnnXmlHelper.writePictureElement(c,"SecondaryPicture",b,this._secondaryPicture$2);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"IsEncrypted",b,this._isEncrypted$2)},deserialize:function(a,
b,c){lt.Annotations.Core.AnnEncryptObject.callBaseMethod(this,"deserialize",[a,b,c]);this._encryptor$2=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"Encryptor",b,this._encryptor$2);this._key$2=parseInt(lt.Annotations.Core.AnnXmlHelper.readNumericElement(c,"Key",b,this._key$2));this._primaryPicture$2=lt.Annotations.Core.AnnXmlHelper.readPictureElement(c,"PrimaryPicture",b);this._secondaryPicture$2=lt.Annotations.Core.AnnXmlHelper.readPictureElement(c,"SecondaryPicture",b);this._isEncrypted$2=
lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"IsEncrypted",b,this._isEncrypted$2)},scaleVector:function(a,b,c,d,e){this._isEncrypted$2||lt.Annotations.Core.AnnEncryptObject.callBaseMethod(this,"scaleVector",[a,b,c,d,e])}};Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,"primaryPicture",
{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_primaryPicture,set:lt.Annotations.Core.AnnEncryptObject.prototype.set_primaryPicture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,"secondaryPicture",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_secondaryPicture,set:lt.Annotations.Core.AnnEncryptObject.prototype.set_secondaryPicture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,
"defaultPrimaryPicture",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_defaultPrimaryPicture,set:lt.Annotations.Core.AnnEncryptObject.prototype.set_defaultPrimaryPicture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,"defaultSecondaryPicture",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_defaultSecondaryPicture,set:lt.Annotations.Core.AnnEncryptObject.prototype.set_defaultSecondaryPicture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,
"key",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_key,set:lt.Annotations.Core.AnnEncryptObject.prototype.set_key,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,"resetKeyIfApplied",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_resetKeyIfApplied,set:lt.Annotations.Core.AnnEncryptObject.prototype.set_resetKeyIfApplied,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,"serializeKeyIfEncrypted",
{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_serializeKeyIfEncrypted,set:lt.Annotations.Core.AnnEncryptObject.prototype.set_serializeKeyIfEncrypted,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,"encryptor",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_encryptor,set:lt.Annotations.Core.AnnEncryptObject.prototype.set_encryptor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,
"isEncrypted",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_isEncrypted,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,"canEncrypt",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_canEncrypt,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,"canDecrypt",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_canDecrypt,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,
"supportsStroke",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_supportsStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,"canRotate",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_canRotate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEncryptObject.prototype,
"hitTestInterior",{get:lt.Annotations.Core.AnnEncryptObject.prototype.get_hitTestInterior,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnFreehandHotspotObject=function(){lt.Annotations.Core.AnnFreehandHotspotObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.freehandHotspotObjectId);this.set_isClosed(!0)};lt.Annotations.Core.AnnFreehandHotspotObject.prototype={get_friendlyName:function(){return"Freehand Hotspot"},get_supportsFill:function(){return!1},get_supportsStroke:function(){return!1},
_picture$2:null,get_picture:function(){return this._picture$2},set_picture:function(a){if(this._picture$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Picture",1,this._picture$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._picture$2=a,this.onPropertyChanged(b))}return a},_defaultPicture$2:2,get_defaultPicture:function(){return this._defaultPicture$2},set_defaultPicture:function(a){if(this._defaultPicture$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("DefaultPicture",
1,this._defaultPicture$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._defaultPicture$2=a,this.onPropertyChanged(b))}return a},create:function(){return new lt.Annotations.Core.AnnFreehandHotspotObject},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnFreehandHotspotObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnFreehandHotspotObject);null!=a&&null!=this._picture$2&&(a._picture$2=this._picture$2.clone());return a},serialize:function(a,b,c){lt.Annotations.Core.AnnFreehandHotspotObject.callBaseMethod(this,
"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writePictureElement(c,"Picture",b,this._picture$2)},deserialize:function(a,b,c){lt.Annotations.Core.AnnFreehandHotspotObject.callBaseMethod(this,"deserialize",[a,b,c]);this._picture$2=lt.Annotations.Core.AnnXmlHelper.readPictureElement(c,"Picture",b)},get_hitTestInterior:function(){return 1===(1===(lt.Annotations.Core.AnnFreehandHotspotObject.callBaseMethod(this,"get_hitTestInterior")|null!=this.get_picture())|-1<this.get_defaultPicture())},getInvalidateRect:function(a,
b){var c=lt.Annotations.Core.AnnFreehandHotspotObject.callBaseMethod(this,"getInvalidateRect",[a,b]);return c=lt.Annotations.Core._leadRectDExtensions.inflate(c,2,2)}};Object.defineProperty(lt.Annotations.Core.AnnFreehandHotspotObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnFreehandHotspotObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFreehandHotspotObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnFreehandHotspotObject.prototype.get_supportsFill,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFreehandHotspotObject.prototype,"supportsStroke",{get:lt.Annotations.Core.AnnFreehandHotspotObject.prototype.get_supportsStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFreehandHotspotObject.prototype,"picture",{get:lt.Annotations.Core.AnnFreehandHotspotObject.prototype.get_picture,set:lt.Annotations.Core.AnnFreehandHotspotObject.prototype.set_picture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFreehandHotspotObject.prototype,
"defaultPicture",{get:lt.Annotations.Core.AnnFreehandHotspotObject.prototype.get_defaultPicture,set:lt.Annotations.Core.AnnFreehandHotspotObject.prototype.set_defaultPicture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFreehandHotspotObject.prototype,"hitTestInterior",{get:lt.Annotations.Core.AnnFreehandHotspotObject.prototype.get_hitTestInterior,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnGroupObject=function(){lt.Annotations.Core.AnnGroupObject.initializeBase(this);
this.setId(0);this._children$2=new lt.Annotations.Core.AnnObjectCollection;this._children$2.add_collectionChanged(ss.Delegate.create(this,this._children_CollectionChanged$2))};lt.Annotations.Core.AnnGroupObject.prototype={get_friendlyName:function(){return"Group"},_children$2:null,get_children:function(){return this._children$2},add_objectAdded:function(a){this.__objectAdded$2=ss.Delegate.combine(this.__objectAdded$2,a)},remove_objectAdded:function(a){this.__objectAdded$2=ss.Delegate.remove(this.__objectAdded$2,
a)},__objectAdded$2_handler_get:function(){null==this.__objectAdded$2_handler&&(this.__objectAdded$2_handler=ss.EventHandler.create(this,this.add_objectAdded,this.remove_objectAdded));return this.__objectAdded$2_handler},__objectAdded$2:null,__objectAdded$2_handler:null,add_objectRemoved:function(a){this.__objectRemoved$2=ss.Delegate.combine(this.__objectRemoved$2,a)},remove_objectRemoved:function(a){this.__objectRemoved$2=ss.Delegate.remove(this.__objectRemoved$2,a)},__objectRemoved$2_handler_get:function(){null==
this.__objectRemoved$2_handler&&(this.__objectRemoved$2_handler=ss.EventHandler.create(this,this.add_objectRemoved,this.remove_objectRemoved));return this.__objectRemoved$2_handler},__objectRemoved$2:null,__objectRemoved$2_handler:null,_children_CollectionChanged$2:function(a,b){if(!b.get_action()){var c=Type.safeCast(b.get_newItems()[0],lt.Annotations.Core.AnnObject);c.set_isSelected(!1);if(null!=c.get_parent()){var d=Type.safeCast(c.get_parent(),lt.Annotations.Core.AnnContainer);null!=d&&d.get_children().remove(c);
c.set_parent(this);this.set_rect(lt.Annotations.Core._leadRectDExtensions.unionRects(this.get_rect(),c.get_bounds()))}null!=this.__objectAdded$2&&this.__objectAdded$2(this,lt.Annotations.Core.AnnObjectCollectionEventArgs.create(c))}1===b.get_action()&&(c=Type.safeCast(b.get_newItems()[0],lt.Annotations.Core.AnnObject),c.set_parent(null),null!=this.__objectRemoved$2&&this.__objectRemoved$2(this,lt.Annotations.Core.AnnObjectCollectionEventArgs.create(c)))},rotate:function(a,b){lt.Annotations.Core.AnnGroupObject.callBaseMethod(this,
"rotate",[a,b]);for(var c=ss.IEnumerator.getEnumerator(this.get_children());c.moveNext();)c.current.rotate(a,b)},scale:function(a,b,c){lt.Annotations.Core.AnnGroupObject.callBaseMethod(this,"scale",[a,b,c]);for(var d=ss.IEnumerator.getEnumerator(this.get_children());d.moveNext();)d.current.scale(a,b,c)},translate:function(a,b){lt.Annotations.Core.AnnGroupObject.callBaseMethod(this,"translate",[a,b]);for(var c=ss.IEnumerator.getEnumerator(this.get_children());c.moveNext();)c.current.translate(a,b)}};
Object.defineProperty(lt.Annotations.Core.AnnGroupObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnGroupObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnGroupObject.prototype,"children",{get:lt.Annotations.Core.AnnGroupObject.prototype.get_children,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnGroupObject.prototype,"objectAdded",{get:lt.Annotations.Core.AnnGroupObject.prototype.__objectAdded$2_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnGroupObject.prototype,"objectRemoved",{get:lt.Annotations.Core.AnnGroupObject.prototype.__objectRemoved$2_handler_get,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnHiliteObject=function(){lt.Annotations.Core.AnnHiliteObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.hiliteObjectId);this._hiliteColor$2="yellow"};lt.Annotations.Core.AnnHiliteObject.prototype={get_friendlyName:function(){return"Hilite"},
_hiliteColor$2:null,get_hiliteColor:function(){return this._hiliteColor$2},set_hiliteColor:function(a){if(this._hiliteColor$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("HiliteColor",1,this._hiliteColor$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._hiliteColor$2=a,this.onPropertyChanged(b))}return a},create:function(){return new lt.Annotations.Core.AnnHiliteObject},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnHiliteObject.callBaseMethod(this,
"clone"),lt.Annotations.Core.AnnHiliteObject);a.set_hiliteColor(this._hiliteColor$2);return a},serialize:function(a,b,c){lt.Annotations.Core.AnnHiliteObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeColorElement(c,"Color",b,this._hiliteColor$2)},deserialize:function(a,b,c){lt.Annotations.Core.AnnHiliteObject.callBaseMethod(this,"deserialize",[a,b,c]);this._hiliteColor$2=lt.Annotations.Core.AnnXmlHelper.readColorElement(c,"Color",b,this._hiliteColor$2)},get_hitTestInterior:function(){return!0},
get_supportsStroke:function(){return!1}};Object.defineProperty(lt.Annotations.Core.AnnHiliteObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnHiliteObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnHiliteObject.prototype,"hiliteColor",{get:lt.Annotations.Core.AnnHiliteObject.prototype.get_hiliteColor,set:lt.Annotations.Core.AnnHiliteObject.prototype.set_hiliteColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnHiliteObject.prototype,
"hitTestInterior",{get:lt.Annotations.Core.AnnHiliteObject.prototype.get_hitTestInterior,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnHiliteObject.prototype,"supportsStroke",{get:lt.Annotations.Core.AnnHiliteObject.prototype.get_supportsStroke,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnHotspotObject=function(){lt.Annotations.Core.AnnHotspotObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.hotspotObjectId)};lt.Annotations.Core.AnnHotspotObject.prototype=
{get_friendlyName:function(){return"Hotspot"},_defaultPicture$3:2,get_supportsFill:function(){return!1},get_supportsStroke:function(){return!1},get_defaultPicture:function(){return this._defaultPicture$3},set_defaultPicture:function(a){if(this._defaultPicture$3!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("DefaultPicture",1,this._defaultPicture$3,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._defaultPicture$3=a,this.onPropertyChanged(b))}return a},create:function(){return new lt.Annotations.Core.AnnHotspotObject},
clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnHotspotObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnHotspotObject);a._defaultPicture$3=this._defaultPicture$3;return a},serialize:function(a,b,c){lt.Annotations.Core.AnnHotspotObject.callBaseMethod(this,"serialize",[a,b,c])},deserialize:function(a,b,c){lt.Annotations.Core.AnnHotspotObject.callBaseMethod(this,"deserialize",[a,b,c])},get_hitTestInterior:function(){return 1===(1===(lt.Annotations.Core.AnnHotspotObject.callBaseMethod(this,
"get_hitTestInterior")|null!=this.get_picture())|-1<this.get_defaultPicture())}};Object.defineProperty(lt.Annotations.Core.AnnHotspotObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnHotspotObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnHotspotObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnHotspotObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnHotspotObject.prototype,
"supportsStroke",{get:lt.Annotations.Core.AnnHotspotObject.prototype.get_supportsStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnHotspotObject.prototype,"defaultPicture",{get:lt.Annotations.Core.AnnHotspotObject.prototype.get_defaultPicture,set:lt.Annotations.Core.AnnHotspotObject.prototype.set_defaultPicture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnHotspotObject.prototype,"hitTestInterior",{get:lt.Annotations.Core.AnnHotspotObject.prototype.get_hitTestInterior,
enumerable:!0,configurable:!0});lt.Annotations.Core.AnnImageObject=function(){lt.Annotations.Core.AnnImageObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.imageObjectId);this._picture$2=null};lt.Annotations.Core.AnnImageObject.prototype={get_friendlyName:function(){return"Image"},_picture$2:null,get_picture:function(){return this._picture$2},set_picture:function(a){if(this._picture$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Picture",1,this._picture$2,a);
this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._picture$2=a,this.onPropertyChanged(b))}return a},create:function(){return new lt.Annotations.Core.AnnImageObject},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnImageObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnImageObject);null!=this._picture$2&&a.set_picture(this._picture$2.clone());return a},serialize:function(a,b,c){lt.Annotations.Core.AnnImageObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writePictureElement(c,
"Picture",b,this.get_picture())},deserialize:function(a,b,c){lt.Annotations.Core.AnnImageObject.callBaseMethod(this,"deserialize",[a,b,c]);this.set_picture(lt.Annotations.Core.AnnXmlHelper.readPictureElement(c,"Picture",b))},get_hitTestInterior:function(){return!0}};Object.defineProperty(lt.Annotations.Core.AnnImageObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnImageObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnImageObject.prototype,
"picture",{get:lt.Annotations.Core.AnnImageObject.prototype.get_picture,set:lt.Annotations.Core.AnnImageObject.prototype.set_picture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnImageObject.prototype,"hitTestInterior",{get:lt.Annotations.Core.AnnImageObject.prototype.get_hitTestInterior,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnNoteObject=function(){this._shadowBorderWidth$3=lt.Annotations.Core._leadLengthDExtensions.create(30);lt.Annotations.Core.AnnNoteObject.initializeBase(this);
this.setId(lt.Annotations.Core.AnnObject.noteObjectId);this.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("yellow"))};lt.Annotations.Core.AnnNoteObject.prototype={get_friendlyName:function(){return"Note"},get_shadowBorderWidth:function(){return this._shadowBorderWidth$3},set_shadowBorderWidth:function(a){if(!lt.Annotations.Core._leadLengthDExtensions.isEqual(this._shadowBorderWidth$3,a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("ShadowBorderWidth",1,this._shadowBorderWidth$3,
a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._shadowBorderWidth$3=a,this.onPropertyChanged(b))}return a},create:function(){return new lt.Annotations.Core.AnnNoteObject},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnNoteObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnNoteObject);a._shadowBorderWidth$3=this._shadowBorderWidth$3;return a},serialize:function(a,b,c){lt.Annotations.Core.AnnNoteObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeLengthElement(c,
"ShadowBorderWidth",b,this._shadowBorderWidth$3)},deserialize:function(a,b,c){lt.Annotations.Core.AnnNoteObject.callBaseMethod(this,"deserialize",[a,b,c]);this._shadowBorderWidth$3=lt.Annotations.Core.AnnXmlHelper.readLengthElement(c,"ShadowBorderWidth",b,this._shadowBorderWidth$3)},getInvalidateRect:function(a,b){var c=lt.Annotations.Core.AnnNoteObject.callBaseMethod(this,"getInvalidateRect",[a,b]),d=a.lengthFromContainerCoordinates(this._shadowBorderWidth$3,2);lt.Annotations.Core._leadRectDExtensions.isEmpty(c)||
(c=lt.Annotations.Core._leadRectDExtensions.inflate(c,d,d));c.get_isEmpty()||(c=lt.Annotations.Core._leadRectDExtensions.inflate(c,1,1),c=lt.Annotations.Core._leadRectDExtensions.create(parseInt(c.get_x()),parseInt(c.get_y()),parseInt(c.get_width()),parseInt(c.get_height())));return c}};Object.defineProperty(lt.Annotations.Core.AnnNoteObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnNoteObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnNoteObject.prototype,
"shadowBorderWidth",{get:lt.Annotations.Core.AnnNoteObject.prototype.get_shadowBorderWidth,set:lt.Annotations.Core.AnnNoteObject.prototype.set_shadowBorderWidth,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnObject=function(){this._stateId="";this._renderedObjectBounds=lt.Annotations.Core._leadRectDExtensions.get_empty();this._metadata={};this._reviews=[];this._selectionStroke=lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("Blue"),lt.Annotations.Core._leadLengthDExtensions.create(4));
this._fixedStateOperations=8;this._groupName="";this._points=new lt.Annotations.Core.LeadPointCollection;this._password="";this._rotateCenter=lt.Annotations.Core._leadPointDExtensions.get_empty();this._rotateGripper=lt.Annotations.Core._leadLengthDExtensions.create(lt.Annotations.Core.AnnObject._rotateGripperOriginal);this._labels={};this._internalRotateCenterLocation=lt.Annotations.Core._leadPointDExtensions.get_empty();this._internalRotateGripperLocation=lt.Annotations.Core._leadPointDExtensions.get_empty();
var a=new lt.Annotations.Core.AnnLabel;a.set_isVisible(!1);a.set_offsetHeight(!0);this._labels.AnnObjectName=a;this._stroke=lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("red"),lt.Annotations.Core._leadLengthDExtensions.create(1));this._fill=null;this._font=new lt.Annotations.Core.AnnFont("Arial",12);this._metadata.Subject="";this._metadata.Author="";this._metadata.Modified="";this._metadata.Title="";this.get_supportsContent()&&(this._metadata.Content="");this._metadata.Created=
""};lt.Annotations.Core.AnnObject.dateToString=function(a){if(null==a)throw new lt.ArgumentNullException("value");return a.toString()};lt.Annotations.Core.AnnObject.dateFromString=function(a){if(String.isNullOrEmpty(a))return Date.get_now();var b;try{b=new Date(a)}catch(c){b=Date.get_now()}return b};lt.Annotations.Core.AnnObject._pointScale=function(a,b,c,d,e,f){var g=lt.Annotations.Core.Utils.subtractPoint(a,f),a=g.get_x()*e.get_x()+g.get_y()*e.get_y(),g=g.get_x()*d.get_x()+g.get_y()*d.get_y(),b=
lt.Annotations.Core._leadPointDExtensions.create(g*d.get_x()*b,g*d.get_y()*b),c=lt.Annotations.Core._leadPointDExtensions.create(a*e.get_x()*c,a*e.get_y()*c);return lt.Annotations.Core._leadPointDExtensions.create(f.get_x()+b.get_x()+c.get_x(),f.get_y()+b.get_y()+c.get_y())};lt.Annotations.Core.AnnObject.prototype={_userId:null,get_userId:function(){return this._userId},set_userId:function(a){return this._userId=a},_isAlignmentTarget:!1,get_isAlignmentTarget:function(){return this._isAlignmentTarget},
set_isAlignmentTarget:function(a){return this._isAlignmentTarget=a},_layer:null,get_layer:function(){return this._layer},set_layer:function(a){return this._layer=a},_layerId:null,get__layerId:function(){return this._layerId},set__layerId:function(a){return this._layerId=a},_id:0,get_id:function(){return this._id},setId:function(a){this._id=a},get_stateId:function(){return this._stateId},set_stateId:function(a){return this._stateId=a},_opacity:1,get_opacity:function(){return this._opacity},set_opacity:function(a){(lt.LeadDoubleTools.lessThan(a,
0)||lt.LeadDoubleTools.greaterThan(a,1))&&lt.Annotations.Core.ExceptionHelper.argumentOutOfRangeException("Opacity",a,"Must be a value greater than or equals to 0 and less than or equals to 1");if(this.get_supportsOpacity()){if(this._opacity!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Opacity",1,this._opacity,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._opacity=a,this.onPropertyChanged(b))}}else this._opacity=1;return a},get_renderedObjectBounds:function(){return this._renderedObjectBounds},
set_renderedObjectBounds:function(a){return this._renderedObjectBounds=a},add_propertyChanged:function(a){this.__propertyChanged=ss.Delegate.combine(this.__propertyChanged,a)},remove_propertyChanged:function(a){this.__propertyChanged=ss.Delegate.remove(this.__propertyChanged,a)},__propertyChanged_handler_get:function(){null==this.__propertyChanged_handler&&(this.__propertyChanged_handler=ss.EventHandler.create(this,this.add_propertyChanged,this.remove_propertyChanged));return this.__propertyChanged_handler},
__propertyChanged:null,__propertyChanged_handler:null,get_reviews:function(){return this._reviews},get_metadata:function(){return this._metadata},onPropertyChanged:function(a){null!=this.__propertyChanged&&this.__propertyChanged(this,a)},saveProperties:function(){},loadProperties:function(a){null!=a&&this.set_isVisible(Boolean.parse(a.Visible))},get_supportsFill:function(){return!1},get_supportsStroke:function(){return!1},get_supportsSelectionStroke:function(){return!1},get_supportsFont:function(){return!1},
get_supportsOpacity:function(){return!0},get_supportsContent:function(){return!0},_fill:null,get_fill:function(){return this._fill},set_fill:function(a){if(this._fill!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Fill",1,this._fill,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._fill=a,this.onPropertyChanged(b))}return a},_stroke:null,get_stroke:function(){return this._stroke},set_stroke:function(a){if(this._stroke!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Stroke",
1,this._stroke,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._stroke=a,this.onPropertyChanged(b))}return a},get_selectionStroke:function(){return this._selectionStroke},set_selectionStroke:function(a){if(this._selectionStroke!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("SelectionStroke",1,this._selectionStroke,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._selectionStroke=a,this.onPropertyChanged(b))}return a},_font:null,get_font:function(){return this._font},
set_font:function(a){if(this._font!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Font",1,this._font,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._font=a,this.onPropertyChanged(b))}return a},_hyperlink:"https://www.leadtools.com",get_hyperlink:function(){return this._hyperlink},set_hyperlink:function(a){if(this._hyperlink!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Hyperlink",1,this._hyperlink,a);this.onPropertyChanged(b);b.get_cancel()||
(b.set_status(0),this._hyperlink=a,this.onPropertyChanged(b))}return a},_lockPicture:1,get_lockPicture:function(){return this._lockPicture},set_lockPicture:function(a){if(this._lockPicture!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("LockPicture",1,this._lockPicture,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._lockPicture=a,this.onPropertyChanged(b))}return a},_contentPicture:7,get_contentPicture:function(){return this._contentPicture},set_contentPicture:function(a){if(this._contentPicture!==
a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("ContentPicture",1,this._contentPicture,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._contentPicture=a,this.onPropertyChanged(b))}return a},_internalAdd:!1,get_internalAdd:function(){return this._internalAdd},set_internalAdd:function(a){return this._internalAdd=a},get_fixedStateOperations:function(){return this._fixedStateOperations},set_fixedStateOperations:function(a){if(this._fixedStateOperations!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("FixedStateOperations",
1,this._fixedStateOperations,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._fixedStateOperations=a,this.onPropertyChanged(b))}return a},get_groupName:function(){return this._groupName},set_groupName:function(a){if(this._groupName!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("GroupName",1,this._groupName,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._groupName=a,this.onPropertyChanged(b))}return a},_parent:null,get_parent:function(){return this._parent},
set_parent:function(a){return this._parent=a},get_points:function(){return this._points},onPointsChanged:function(){},get_password:function(){return this._password},set_password:function(a){if(this._password!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Password",1,this._password,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._password=a,this.onPropertyChanged(b))}return a},get_bounds:function(){return this.getBoundingRectangle()},_isLocked:!1,get_isLocked:function(){return this._isLocked},
_tag:null,get_tag:function(){return this._tag},set_tag:function(a){if(this._tag!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Tag",1,this._tag,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._tag=a,this.onPropertyChanged(b))}return a},_isVisible:!0,get_isVisible:function(){return this._isVisible},set_isVisible:function(a){if(this._isVisible!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("IsVisible",1,this._isVisible,a);this.onPropertyChanged(b);
b.get_cancel()||(b.set_status(0),this._isVisible=a,this.onPropertyChanged(b))}return a},_isSelected:!1,get_isSelected:function(){return this._isSelected},set_isSelected:function(a){if(this._isSelected!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("IsSelected",1,this._isSelected,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._isSelected=a,this.onPropertyChanged(b))}return a},get_rotateCenter:function(){return this._rotateCenter},set_rotateCenter:function(a){if(!lt.Annotations.Core._leadPointDExtensions.isEqual(this._rotateCenter,
a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("RotateCenter",1,this._rotateCenter,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._rotateCenter=a,this.onPropertyChanged(b))}return a},get_rotateGripper:function(){return this._rotateGripper},set_rotateGripper:function(a){if(!lt.Annotations.Core._leadLengthDExtensions.isEqual(this._rotateGripper,a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("RotateGripper",1,this._rotateGripper,a);this.onPropertyChanged(b);
b.get_cancel()||(b.set_status(0),this._rotateGripper=a,this.onPropertyChanged(b))}return a},get_canRotate:function(){return!0},get_labels:function(){return this._labels},_getBoundingPoints:function(){for(var a=this._points.get_item(0).get_x(),b=this._points.get_item(0).get_y(),c=this._points.get_item(this._points.get_count()-1).get_x(),d=this._points.get_item(this._points.get_count()-1).get_y(),e=Array(4),f=ss.IEnumerator.getEnumerator(this.get_points());f.moveNext();){var g=f.current;g.get_x()<a&&
(e[0]=g);g.get_y()<b&&(e[1]=g);g.get_x()>c&&(e[2]=g);g.get_y()>d&&(e[3]=g)}return e},getBoundingRectangle:function(){if(1>this._points.get_count())return lt.Annotations.Core._leadRectDExtensions.get_empty();for(var a=this._points.get_item(0).get_x(),b=this._points.get_item(0).get_y(),c=this._points.get_item(this._points.get_count()-1).get_x(),d=this._points.get_item(this._points.get_count()-1).get_y(),e=ss.IEnumerator.getEnumerator(this.get_points());e.moveNext();){var f=e.current;f.get_x()<a&&(a=
f.get_x());f.get_y()<b&&(b=f.get_y());f.get_x()>c&&(c=f.get_x());f.get_y()>d&&(d=f.get_y())}return lt.Annotations.Core._leadRectDExtensions.create(a,b,Math.abs(c-a),Math.abs(d-b))},lock:function(a){this.get_isLocked()||(this._password=a,this._isLocked=!0)},unlock:function(a){this.get_isLocked()&&!String.compare(a,this._password,!1)&&(this._isLocked=!1,this._password="")},scaleVector:function(a,b,c,d,e){for(var f=0;f<this.get_points().get_count();++f)this.get_points().set_item(f,lt.Annotations.Core.AnnObject._pointScale(this.get_points().get_item(f),
a,b,c,d,e))},scale:function(a,b,c){for(var d=0;d<this.get_points().get_count();++d)this.get_points().set_item(d,lt.Annotations.Core.AnnTransformer.scalePointAt(this.get_points().get_item(d),a,b,c.get_x(),c.get_y()));this.set_rotateCenter(lt.Annotations.Core.AnnTransformer.scalePointAt(this.get_rotateCenter(),a,b,c.get_x(),c.get_y()))},translate:function(a,b){for(var c=0;c<this.get_points().get_count();++c){var d=this.get_points().get_item(c);lt.Annotations.Core._leadPointDExtensions.isEmpty(d)||(d.set_x(d.get_x()+
a),d.set_y(d.get_y()+b),this.get_points().set_item(c,d))}lt.Annotations.Core._leadPointDExtensions.isEmpty(this._rotateCenter)||(this._rotateCenter.set_x(this._rotateCenter.get_x()+a),this._rotateCenter.set_y(this._rotateCenter.get_y()+b))},rotate:function(a,b){if(this.get_canRotate())for(var c=0;c<this.get_points().get_count();++c)this.get_points().set_item(c,lt.Annotations.Core.AnnTransformer.rotatePointAt(this.get_points().get_item(c),a,b.get_x(),b.get_y()));lt.Annotations.Core._leadPointDExtensions.isEmpty(this._rotateCenter)||
(this._rotateCenter=lt.Annotations.Core.AnnTransformer.rotatePointAt(this._rotateCenter,a,b.get_x(),b.get_y()))},normalize:function(){for(var a=0;a<this.get_points().get_count();++a){for(var b=this.get_points().get_item(a),c=0;c<this.get_points().get_count();++c)if(this.get_points().get_item(c).get_x()<b.get_x()){var d=this.get_points().get_item(c);this.get_points().set_item(c,b);b=d}this.get_points().set_item(a,b)}},serialize:function(a,b,c){var d=Type.getInstanceType(this);lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,
"ObjectType",b,d.get_fullName().replaceAll("lt.Annotations.","Leadtools.Annotations."));lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"AssemblyName",b,"");lt.Annotations.Core.AnnXmlHelper._writeOnLoadElement(c,"OnLoad",b);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"IsVisible",b,this.get_isVisible());lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"IsSelected",b,this.get_isSelected());lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"IsLocked",b,this.get_isLocked());
(null==a||a.get_saveLockPassword())&&lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"Password",b,this.get_password());lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"GroupName",b,this.get_groupName());lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"Hyperlink",b,this.get_hyperlink());lt.Annotations.Core.AnnXmlHelper.writeNumericElement(c,"FixedStateOperations",b,this.get_fixedStateOperations());lt.Annotations.Core.AnnXmlHelper.writeLengthElement(c,"RotateGripper",b,this.get_rotateGripper());
lt.Annotations.Core.AnnXmlHelper.writePointElement(c,"RotateCenter",b,this.get_rotateCenter());lt.Annotations.Core.AnnXmlHelper.writePointsElement(c,"Points",b,this.get_points());lt.Annotations.Core.AnnXmlHelper.writeBrushElement(c,"Fill",b,this.get_fill());lt.Annotations.Core.AnnXmlHelper.writeLabelsElement(c,"Labels",b,this.get_labels());lt.Annotations.Core.AnnXmlHelper.writeStrokeElement(c,"Stroke",b,this.get_stroke());lt.Annotations.Core.AnnXmlHelper.writeStrokeElement(c,"SelectionStroke",b,this.get_selectionStroke());
lt.Annotations.Core.AnnXmlHelper.writeFontElement(c,"Font",b,this.get_font());lt.Annotations.Core.AnnXmlHelper.writeNumericElement(c,"ObjectId",b,this._id);lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"ObjectTag",b,null!=this.get_tag()?this.get_tag().toString():"");lt.Annotations.Core.AnnXmlHelper.writeMetadataElement(c,"Metadata",b,this._metadata);lt.Annotations.Core.AnnXmlHelper.writeReviewsElement(c,"Reviews",b,this._reviews);lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"UserId",
b,this._userId);lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"LayerId",b,this._layerId);lt.Annotations.Core.AnnXmlHelper.writeNumericElement(c,"Opacity",b,this._opacity)},deserialize:function(a,b,c){this._isVisible=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"IsVisible",b,this._isVisible);this._isSelected=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"IsSelected",b,this._isSelected);this._isLocked=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"IsLocked",b,this._isLocked);
a=lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"ObjectTag",b,"##NEW_TAG##");"##NEW_TAG##"!==a&&(this._tag=a);this._password=lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"Password",b,this._password);this._groupName=lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"GroupName",b,this._groupName);this._hyperlink=lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"Hyperlink",b,"");this._fixedStateOperations=lt.Annotations.Core.AnnXmlHelper.readNumericElement(c,"FixedStateOperations",
b,0);this._rotateGripper=lt.Annotations.Core.AnnXmlHelper.readLengthElement(c,"RotateGripper",b,this._rotateGripper);this._rotateCenter=lt.Annotations.Core.AnnXmlHelper.readPointElement(c,"RotateCenter",b,this._rotateCenter);this._points=lt.Annotations.Core.AnnXmlHelper.readPointsElement(c,"Points",b);(a=parseInt(lt.Annotations.Core.AnnXmlHelper.readNumericElement(c,"ObjectId",b,0)))&&this.setId(a);this._fill=lt.Annotations.Core.AnnXmlHelper.readBrushElement(c,"Fill",b,this._fill);this._labels=lt.Annotations.Core.AnnXmlHelper.readLabelsElement(c,
"Labels",b);this._stroke=lt.Annotations.Core.AnnXmlHelper.readStrokeElement(c,"Stroke",b,this._stroke);this._selectionStroke=lt.Annotations.Core.AnnXmlHelper.readStrokeElement(c,"SelectionStroke",b,this._selectionStroke);this._font=lt.Annotations.Core.AnnXmlHelper.readFontElement(c,"Font",b,this._font);this._metadata=lt.Annotations.Core.AnnXmlHelper.readMetadataElement(c,"Metadata",b);this._reviews=lt.Annotations.Core.AnnXmlHelper.readReviewsElement(c,"Reviews",b);this._userId=lt.Annotations.Core.AnnXmlHelper.readStringElement(c,
"UserId",b,this._userId);this._layerId=lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"LayerId",b,this._layerId);this._opacity=lt.Annotations.Core.AnnXmlHelper.readNumericElement(c,"Opacity",b,1);a=null;a=lt.Annotations.Core.AnnXmlHelper._readOnLoadElement(c,"OnLoad",b);b=this.get_bounds();b=lt.Annotations.Core._leadPointDExtensions.create(b.get_x()+b.get_width()/2,b.get_y()+b.get_height()/2);lt.Annotations.Core._leadPointDExtensions.isEmpty(b)||(this.scale(a.get_scaleX(),a.get_scaleY(),b),
this.rotate(a.get_rotateAngle(),b));b=Type.safeCast(this.get_parent(),lt.Annotations.Core.AnnContainer);null!=b&&(b=b.get_mapper().pointToContainerCoordinates(a.get_offset()),lt.Annotations.Core._leadPointDExtensions.isEmpty(b)||this.translate(b.get_x(),b.get_y()))},clone:function(){var a=this.create();a.get_points().clear();null!=this.get_fill()&&a.set_fill(this.get_fill().clone());null!=this.get_stroke()&&a.set_stroke(this.get_stroke().clone());null!=this._selectionStroke&&a.set_selectionStroke(this._selectionStroke.clone());
a.set_rotateGripper(lt.Annotations.Core._leadLengthDExtensions.clone(this.get_rotateGripper()));a.set_rotateCenter(lt.Annotations.Core._leadPointDExtensions.clone(this.get_rotateCenter()));a.set_isSelected(this.get_isSelected());a.set_hyperlink(this.get_hyperlink());a.set_fixedStateOperations(this.get_fixedStateOperations());a.set_font(this._font.clone());a._groupName=this._groupName;a.set_tag(this.get_tag());a.set_isVisible(this.get_isVisible());a.set_renderedObjectBounds(this._renderedObjectBounds);
a.get_supportsOpacity()&&a.set_opacity(this._opacity);if(null!=this.get_points()&&0<this.get_points().get_count())for(var b=ss.IEnumerator.getEnumerator(this.get_points());b.moveNext();){var c=b.current;a.get_points().add(lt.Annotations.Core._leadPointDExtensions.clone(c))}this.get_isLocked()&&a.lock(this.get_password());Object.clearKeys(a.get_labels());for(b=ss.IEnumerator.getEnumerator(Object.keys(this.get_labels()));b.moveNext();)c=b.current,a.get_labels()[c]=this.get_labels()[c].clone();Object.clearKeys(a.get_metadata());
var b=this._metadata,d;for(d in b){var c=d,e=b[d];a.get_metadata()[c]=e}for(d=ss.IEnumerator.getEnumerator(this._reviews);d.moveNext();)b=d.current,null!=b?a.get_reviews().add(b.clone()):a.get_reviews().add(null);return a},hitTest:function(a,b){if(!this._isVisible)return!1;var c=lt.Annotations.Core._leadRectDExtensions.clone(this.get_bounds());if(lt.Annotations.Core._leadRectDExtensions.isEmpty(c))return!1;c=lt.Annotations.Core._leadRectDExtensions.inflate(c,b,b);return lt.Annotations.Core._leadRectDExtensions.containsPoint(c,
a)},get_hitTestInterior:function(){return this.get_supportsFill()&&null!=this.get_fill()},_mySizeFromContainerCoordinates:function(a,b){var c=1/720;return lt.Annotations.Core._leadSizeDExtensions.create(a.get_width()*c*b.get_deviceDpiX(),a.get_height()*c*b.get_deviceDpiY())},getInvalidateRect:function(a,b){var c=a.rectFromContainerCoordinates(this.get_bounds(),this.get_fixedStateOperations());if(!a.get_rotateTransform().get_isIdentity())for(var d=a.pointsFromContainerCoordinates(this.get_points().toArray(),
this.get_fixedStateOperations()),d=ss.IEnumerator.getEnumerator(d);d.moveNext();){var e=d.current;lt.Annotations.Core._leadRectDExtensions.containsPoint(c,e)||(c=lt.Annotations.Core._leadRectDExtensions.unionPoint(c,e))}if(lt.Annotations.Core._leadRectDExtensions.isEmpty(c))return c;this.get_supportsStroke()&&null!=this.get_stroke()&&(d=a.strokeFromContainerCoordinates(this.get_stroke(),this.get_fixedStateOperations()),d=Math.max(d.get_strokeThickness().get_value(),1),c=lt.Annotations.Core._leadRectDExtensions.inflate(c,
d+1,d+1));this.get_supportsSelectionStroke()&&null!=this._selectionStroke&&(d=a.strokeFromContainerCoordinates(this._selectionStroke,this.get_fixedStateOperations()),d=d.get_strokeThickness().get_value(),c=lt.Annotations.Core._leadRectDExtensions.inflate(c,d+1,d+1));if(null!=b){if(this.get_isSelected()){if(null!=b.get_rotateGripperThumbStyle()){var e=a.pointFromContainerCoordinates(this.get_internalRotateGripperLocation(),this.get_fixedStateOperations()),f=b.get_rotateGripperThumbStyle().get_size(),
f=this._mySizeFromContainerCoordinates(f,a),d=f.get_height(),f=f.get_width(),g=e.get_x()-f/2,h=e.get_y()-d/2;!lt.Annotations.Core._leadPointDExtensions.isEmpty(e)&&this.get_isSelected()&&(d=lt.Annotations.Core._leadRectDExtensions.create(g,h,f,d),c=lt.Annotations.Core._leadRectDExtensions.unionRects(c,d))}null!=b.get_rotateCenterThumbStyle()&&(e=a.pointFromContainerCoordinates(this.get_internalRotateCenterLocation(),this.get_fixedStateOperations()),f=b.get_rotateCenterThumbStyle().get_size(),f=this._mySizeFromContainerCoordinates(f,
a),d=f.get_height(),f=f.get_width(),g=e.get_x()-f/2,h=e.get_y()-d/2,!lt.Annotations.Core._leadPointDExtensions.isEmpty(e)&&this.get_isSelected()&&(d=lt.Annotations.Core._leadRectDExtensions.create(g,h,f,d),c=lt.Annotations.Core._leadRectDExtensions.unionRects(c,d)));null!=b.get_locationsThumbStyle()&&(d=this._mySizeFromContainerCoordinates(b.get_locationsThumbStyle().get_size(),a),c=lt.Annotations.Core._leadRectDExtensions.inflate(c,(d.get_width()+2)/2,(d.get_height()+2)/2),d=b.get_locationsThumbStyle().get_stroke(),
null!=d&&(d=d.get_strokeThickness().get_value(),c=lt.Annotations.Core._leadRectDExtensions.inflate(c,d,d)))}for(d=ss.IEnumerator.getEnumerator(Object.keys(this.get_labels()));d.moveNext();)e=d.current,e=this.get_labels()[e],e.get_isVisible()&&(f=b.get_labelRenderer(),null!=f&&(e=f.getBounds(a,e,0),lt.Annotations.Core._leadRectDExtensions.isEmpty(e)||(c=lt.Annotations.Core._leadRectDExtensions.unionRects(c,e))));Object.keyExists(this._metadata,"Content")&&(String.isNullOrEmpty(this._metadata.Content)||
(c=lt.Annotations.Core._leadRectDExtensions.inflate(c,60,60)))}c=lt.Annotations.Core._leadRectDExtensions.inflate(c,1,1);return c=lt.Annotations.Core._leadRectDExtensions.create(parseInt(c.get_x()),parseInt(c.get_y()),parseInt(c.get_width()),parseInt(c.get_height()))},getArea:function(){var a=this.get_points().toArray().getEnumerator();if(!a.moveNext())return 0;for(var b=lt.Annotations.Core._leadPointDExtensions.clone(a.current),c=lt.Annotations.Core._leadPointDExtensions.clone(b),d=0;a.moveNext();)var e=
lt.Annotations.Core._leadPointDExtensions.clone(a.current),d=d+(e.get_x()*c.get_y()-c.get_x()*e.get_y()),c=lt.Annotations.Core._leadPointDExtensions.clone(e);d+=b.get_x()*c.get_y()-c.get_x()*b.get_y();return Math.abs(d/2)},get_internalRotateCenterLocation:function(){return this._internalRotateCenterLocation},set_internalRotateCenterLocation:function(a){return this._internalRotateCenterLocation=a},get_internalRotateGripperLocation:function(){return this._internalRotateGripperLocation},set_internalRotateGripperLocation:function(a){return this._internalRotateGripperLocation=
a},_internalThumbLocations:null,get_internalThumbLocations:function(){return this._internalThumbLocations},set_internalThumbLocations:function(a){return this._internalThumbLocations=a}};Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"userId",{get:lt.Annotations.Core.AnnObject.prototype.get_userId,set:lt.Annotations.Core.AnnObject.prototype.set_userId,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"isAlignmentTarget",{get:lt.Annotations.Core.AnnObject.prototype.get_isAlignmentTarget,
set:lt.Annotations.Core.AnnObject.prototype.set_isAlignmentTarget,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"layer",{get:lt.Annotations.Core.AnnObject.prototype.get_layer,set:lt.Annotations.Core.AnnObject.prototype.set_layer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"id",{get:lt.Annotations.Core.AnnObject.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,
"stateId",{get:lt.Annotations.Core.AnnObject.prototype.get_stateId,set:lt.Annotations.Core.AnnObject.prototype.set_stateId,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"opacity",{get:lt.Annotations.Core.AnnObject.prototype.get_opacity,set:lt.Annotations.Core.AnnObject.prototype.set_opacity,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"renderedObjectBounds",{get:lt.Annotations.Core.AnnObject.prototype.get_renderedObjectBounds,
set:lt.Annotations.Core.AnnObject.prototype.set_renderedObjectBounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"propertyChanged",{get:lt.Annotations.Core.AnnObject.prototype.__propertyChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"reviews",{get:lt.Annotations.Core.AnnObject.prototype.get_reviews,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,
"metadata",{get:lt.Annotations.Core.AnnObject.prototype.get_metadata,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"supportsStroke",{get:lt.Annotations.Core.AnnObject.prototype.get_supportsStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,
"supportsSelectionStroke",{get:lt.Annotations.Core.AnnObject.prototype.get_supportsSelectionStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"supportsFont",{get:lt.Annotations.Core.AnnObject.prototype.get_supportsFont,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"supportsOpacity",{get:lt.Annotations.Core.AnnObject.prototype.get_supportsOpacity,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,
"supportsContent",{get:lt.Annotations.Core.AnnObject.prototype.get_supportsContent,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"fill",{get:lt.Annotations.Core.AnnObject.prototype.get_fill,set:lt.Annotations.Core.AnnObject.prototype.set_fill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"stroke",{get:lt.Annotations.Core.AnnObject.prototype.get_stroke,set:lt.Annotations.Core.AnnObject.prototype.set_stroke,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"selectionStroke",{get:lt.Annotations.Core.AnnObject.prototype.get_selectionStroke,set:lt.Annotations.Core.AnnObject.prototype.set_selectionStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"font",{get:lt.Annotations.Core.AnnObject.prototype.get_font,set:lt.Annotations.Core.AnnObject.prototype.set_font,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,
"hyperlink",{get:lt.Annotations.Core.AnnObject.prototype.get_hyperlink,set:lt.Annotations.Core.AnnObject.prototype.set_hyperlink,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"lockPicture",{get:lt.Annotations.Core.AnnObject.prototype.get_lockPicture,set:lt.Annotations.Core.AnnObject.prototype.set_lockPicture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"contentPicture",{get:lt.Annotations.Core.AnnObject.prototype.get_contentPicture,
set:lt.Annotations.Core.AnnObject.prototype.set_contentPicture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"internalAdd",{get:lt.Annotations.Core.AnnObject.prototype.get_internalAdd,set:lt.Annotations.Core.AnnObject.prototype.set_internalAdd,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"fixedStateOperations",{get:lt.Annotations.Core.AnnObject.prototype.get_fixedStateOperations,set:lt.Annotations.Core.AnnObject.prototype.set_fixedStateOperations,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"groupName",{get:lt.Annotations.Core.AnnObject.prototype.get_groupName,set:lt.Annotations.Core.AnnObject.prototype.set_groupName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"parent",{get:lt.Annotations.Core.AnnObject.prototype.get_parent,set:lt.Annotations.Core.AnnObject.prototype.set_parent,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,
"points",{get:lt.Annotations.Core.AnnObject.prototype.get_points,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"password",{get:lt.Annotations.Core.AnnObject.prototype.get_password,set:lt.Annotations.Core.AnnObject.prototype.set_password,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"bounds",{get:lt.Annotations.Core.AnnObject.prototype.get_bounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,
"isLocked",{get:lt.Annotations.Core.AnnObject.prototype.get_isLocked,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"tag",{get:lt.Annotations.Core.AnnObject.prototype.get_tag,set:lt.Annotations.Core.AnnObject.prototype.set_tag,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"isVisible",{get:lt.Annotations.Core.AnnObject.prototype.get_isVisible,set:lt.Annotations.Core.AnnObject.prototype.set_isVisible,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"isSelected",{get:lt.Annotations.Core.AnnObject.prototype.get_isSelected,set:lt.Annotations.Core.AnnObject.prototype.set_isSelected,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"rotateCenter",{get:lt.Annotations.Core.AnnObject.prototype.get_rotateCenter,set:lt.Annotations.Core.AnnObject.prototype.set_rotateCenter,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,
"rotateGripper",{get:lt.Annotations.Core.AnnObject.prototype.get_rotateGripper,set:lt.Annotations.Core.AnnObject.prototype.set_rotateGripper,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"canRotate",{get:lt.Annotations.Core.AnnObject.prototype.get_canRotate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"labels",{get:lt.Annotations.Core.AnnObject.prototype.get_labels,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,
"hitTestInterior",{get:lt.Annotations.Core.AnnObject.prototype.get_hitTestInterior,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"internalRotateCenterLocation",{get:lt.Annotations.Core.AnnObject.prototype.get_internalRotateCenterLocation,set:lt.Annotations.Core.AnnObject.prototype.set_internalRotateCenterLocation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"internalRotateGripperLocation",{get:lt.Annotations.Core.AnnObject.prototype.get_internalRotateGripperLocation,
set:lt.Annotations.Core.AnnObject.prototype.set_internalRotateGripperLocation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObject.prototype,"internalThumbLocations",{get:lt.Annotations.Core.AnnObject.prototype.get_internalThumbLocations,set:lt.Annotations.Core.AnnObject.prototype.set_internalThumbLocations,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnPointerObject=function(){this._pointerPosition$2=0;this._arrowLength$2=lt.Annotations.Core._leadLengthDExtensions.create(150);
lt.Annotations.Core.AnnPointerObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.pointerObjectId);this.get_points().clear()};lt.Annotations.Core.AnnPointerObject.prototype={get_friendlyName:function(){return"Pointer"},get_supportsFill:function(){return!0},get_pointerPosition:function(){return this._pointerPosition$2},set_pointerPosition:function(a){return this._pointerPosition$2=a},get_arrowLength:function(){return this._arrowLength$2},set_arrowLength:function(a){if(!lt.Annotations.Core._leadLengthDExtensions.isEqual(this._arrowLength$2,
a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("ArrowLength",1,this._arrowLength$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._arrowLength$2=a,this.onPropertyChanged(b))}return a},getArrowPoints:function(){if(1>this.get_points().get_count())return null;var a=null,b=!this._pointerPosition$2?this.get_points().get_item(0):this.get_points().get_item(1);if(!lt.Annotations.Core._leadPointDExtensions.isEmpty(b)&&!lt.Annotations.Core._leadPointDExtensions.isEmpty(b))var a=
this._arrowLength$2.get_value(),a=[lt.Annotations.Core._leadPointDExtensions.create(a,a/2),lt.Annotations.Core._leadPointDExtensions.create(0,0),lt.Annotations.Core._leadPointDExtensions.create(a,-(a/2))],c=0,c=1===this._pointerPosition$2?lt.Annotations.Core.Utils.findAngle(this.get_points().get_item(1),this.get_points().get_item(0)):lt.Annotations.Core.Utils.findAngle(this.get_points().get_item(0),this.get_points().get_item(1)),a=lt.Annotations.Core.AnnTransformer.rotateAtPoints(a,c,0,0),a=lt.Annotations.Core.AnnTransformer.translatePoints(a,
b.get_x(),b.get_y());return a},hitTest:function(a,b){if(!this.get_isVisible())return!1;var c=lt.Annotations.Core.AnnPointerObject.callBaseMethod(this,"hitTest",[a,b]);if(!c){var d=this.getArrowPoints();if(null!=d&&1<d.length)for(var e=0;e<d.length-1&&!(c=lt.Annotations.Core.Utils.hitTestLine(d[e],d[e+1],a,b,!0));++e);}return c},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnPointerObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnPointerObject);null!=a&&(a.set_arrowLength(lt.Annotations.Core._leadLengthDExtensions.clone(this.get_arrowLength())),
a.set_pointerPosition(this.get_pointerPosition()));return a},serialize:function(a,b,c){lt.Annotations.Core.AnnPointerObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeLengthElement(c,"ArrowLength",b,this._arrowLength$2);lt.Annotations.Core.AnnXmlHelper.writeNumericElement(c,"ArrowPosition",b,this._pointerPosition$2)},deserialize:function(a,b,c){lt.Annotations.Core.AnnPointerObject.callBaseMethod(this,"deserialize",[a,b,c]);this._arrowLength$2=lt.Annotations.Core.AnnXmlHelper.readLengthElement(c,
"ArrowLength",b,this._arrowLength$2);this._pointerPosition$2=lt.Annotations.Core.AnnXmlHelper.readNumericElement(c,"ArrowPosition",b,this._pointerPosition$2)},create:function(){return new lt.Annotations.Core.AnnPointerObject},getBoundingRectangle:function(){if(1>this.get_points().get_count())return lt.Annotations.Core._leadRectDExtensions.get_empty();var a=lt.Annotations.Core._leadRectDExtensions.get_empty(),a=this.get_points().get_item(0),a=lt.Annotations.Core._leadPointDExtensions.isEqual(this.get_points().get_item(0),
this.get_points().get_item(1))?lt.Annotations.Core._leadRectDExtensions.create(a.get_x(),a.get_y(),1,1):lt.Annotations.Core.AnnPointerObject.callBaseMethod(this,"getBoundingRectangle"),b=this.getArrowPoints();if(null!=b&&0<b.length)for(var c=0;c<b.length;++c)a=lt.Annotations.Core._leadRectDExtensions.unionPoint(a,b[c]);return a}};Object.defineProperty(lt.Annotations.Core.AnnPointerObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnPointerObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Core.AnnPointerObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnPointerObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPointerObject.prototype,"pointerPosition",{get:lt.Annotations.Core.AnnPointerObject.prototype.get_pointerPosition,set:lt.Annotations.Core.AnnPointerObject.prototype.set_pointerPosition,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPointerObject.prototype,
"arrowLength",{get:lt.Annotations.Core.AnnPointerObject.prototype.get_arrowLength,set:lt.Annotations.Core.AnnPointerObject.prototype.set_arrowLength,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnPointObject=function(){lt.Annotations.Core.AnnPointObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.pointObjectId);this.get_points().clear();this.get_points().add(lt.Annotations.Core._leadPointDExtensions.get_empty());this._picture$1=null;this._radius$1=lt.Annotations.Core._leadLengthDExtensions.create(144);
this._showPicture$1=!0};lt.Annotations.Core.AnnPointObject.prototype={get_friendlyName:function(){return"Point"},get_supportsFill:function(){return!0},get_supportsStroke:function(){return!0},_defaultPicture$1:0,get_defaultPicture:function(){return this._defaultPicture$1},set_defaultPicture:function(a){if(this._defaultPicture$1!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("DefaultPicture",1,this._defaultPicture$1,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._defaultPicture$1=
a,this.onPropertyChanged(b))}return a},_picture$1:null,get_picture:function(){return this._picture$1},set_picture:function(a){if(this._picture$1!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Picture",1,this._picture$1,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._picture$1=a,this.onPropertyChanged(b))}return a},get_centerPoint:function(){return this.get_points().get_item(0)},set_centerPoint:function(a){if(!lt.Annotations.Core._leadPointDExtensions.isEqual(this.get_points().get_item(0),
a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("CenterPoint",1,this.get_points().get_item(0),a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this.get_points().set_item(0,a),this.onPropertyChanged(b))}return a},_radius$1:null,get_radius:function(){return this._radius$1},set_radius:function(a){if(!lt.Annotations.Core._leadLengthDExtensions.isEqual(this._radius$1,a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Radius",1,this._radius$1,a);this.onPropertyChanged(b);
b.get_cancel()||(b.set_status(0),this._radius$1=a,this.onPropertyChanged(b))}return a},_showPicture$1:!1,get_showPicture:function(){return this._showPicture$1},set_showPicture:function(a){if(this._showPicture$1!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("ShowPicture",1,this._showPicture$1,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._showPicture$1=a,this.onPropertyChanged(b))}return a},create:function(){return new lt.Annotations.Core.AnnPointObject},clone:function(){var a=
Type.safeCast(lt.Annotations.Core.AnnPointObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnPointObject);null!=a&&(null!=this._picture$1&&(a._picture$1=this._picture$1.clone()),a._radius$1=this._radius$1,a._showPicture$1=this._showPicture$1);return a},getBoundingRectangle:function(){var a=lt.Annotations.Core._leadRectDExtensions.get_empty();if(this._showPicture$1)a=null!=this._picture$1?lt.Annotations.Core._leadRectDExtensions.create(this.get_centerPoint().get_x()-this.get_picture().get_width()/
2,this.get_centerPoint().get_y()-this.get_picture().get_height()/2,this.get_picture().get_width(),this.get_picture().get_height()):lt.Annotations.Core._leadRectDExtensions.create(0,0,0,0);else var a=this._radius$1.get_value(),b=2*a,a=lt.Annotations.Core._leadRectDExtensions.create(this.get_centerPoint().get_x()-a,this.get_centerPoint().get_y()-a,b,b);return a},getInvalidateRect:function(a,b){var c=lt.Annotations.Core.AnnPointObject.callBaseMethod(this,"getInvalidateRect",[a,b]);if(this._showPicture$1){var d=
this.get_bounds();if(lt.Annotations.Core._leadRectDExtensions.isEmpty(d))return lt.Annotations.Core._leadRectDExtensions.get_empty();var d=lt.Annotations.Core._leadSizeDExtensions.create(d.get_width(),d.get_height()),e=lt.Annotations.Core.AnnContainerMapper.createDefault();e.updateTransform(a.get_transform());d=e.sizeFromContainerCoordinates(d);e=this.get_centerPoint();e=a.pointFromContainerCoordinates(e,this.get_fixedStateOperations());c=lt.Annotations.Core._leadRectDExtensions.unionRects(lt.Annotations.Core._leadRectDExtensions.create(e.get_x()-
d.get_width()/2,e.get_y()-d.get_height()/2,d.get_width(),d.get_height()),c)}else c=lt.Annotations.Core._leadRectDExtensions.unionRects(a.rectFromContainerCoordinates(this.get_bounds(),this.get_fixedStateOperations()),c);this.get_supportsStroke()&&null!=this.get_stroke()&&(d=a.strokeFromContainerCoordinates(this.get_stroke(),this.get_fixedStateOperations()),d=Math.max(d.get_strokeThickness().get_value(),1),c=lt.Annotations.Core._leadRectDExtensions.inflate(c,d+1,d+1));c.get_isEmpty()||(c=lt.Annotations.Core._leadRectDExtensions.inflate(c,
1,1),c=lt.Annotations.Core._leadRectDExtensions.create(parseInt(c.get_x()),parseInt(c.get_y()),parseInt(c.get_width()),parseInt(c.get_height())));return c},_insideGroup$1:!1,get__isGrouped:function(){return this._insideGroup$1},set__isGrouped:function(a){return this._insideGroup$1=a},get_canRotate:function(){return this._insideGroup$1},serialize:function(a,b,c){lt.Annotations.Core.AnnPointObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"ShowPicture",
b,this._showPicture$1);lt.Annotations.Core.AnnXmlHelper.writePictureElement(c,"Picture",b,this._picture$1);lt.Annotations.Core.AnnXmlHelper.writeLengthElement(c,"Radius",b,this._radius$1)},deserialize:function(a,b,c){lt.Annotations.Core.AnnPointObject.callBaseMethod(this,"deserialize",[a,b,c]);this._showPicture$1=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"ShowPicture",b,this._showPicture$1);this._picture$1=lt.Annotations.Core.AnnXmlHelper.readPictureElement(c,"Picture",b);this._radius$1=
lt.Annotations.Core.AnnXmlHelper.readLengthElement(c,"Radius",b,this._radius$1)}};Object.defineProperty(lt.Annotations.Core.AnnPointObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnPointObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPointObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnPointObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPointObject.prototype,
"supportsStroke",{get:lt.Annotations.Core.AnnPointObject.prototype.get_supportsStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPointObject.prototype,"defaultPicture",{get:lt.Annotations.Core.AnnPointObject.prototype.get_defaultPicture,set:lt.Annotations.Core.AnnPointObject.prototype.set_defaultPicture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPointObject.prototype,"picture",{get:lt.Annotations.Core.AnnPointObject.prototype.get_picture,
set:lt.Annotations.Core.AnnPointObject.prototype.set_picture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPointObject.prototype,"centerPoint",{get:lt.Annotations.Core.AnnPointObject.prototype.get_centerPoint,set:lt.Annotations.Core.AnnPointObject.prototype.set_centerPoint,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPointObject.prototype,"radius",{get:lt.Annotations.Core.AnnPointObject.prototype.get_radius,set:lt.Annotations.Core.AnnPointObject.prototype.set_radius,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPointObject.prototype,"showPicture",{get:lt.Annotations.Core.AnnPointObject.prototype.get_showPicture,set:lt.Annotations.Core.AnnPointObject.prototype.set_showPicture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPointObject.prototype,"canRotate",{get:lt.Annotations.Core.AnnPointObject.prototype.get_canRotate,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnPolylineObject=function(){this._fillRule$1=
0;lt.Annotations.Core.AnnPolylineObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.polylineObjectId);this.get_points().clear()};lt.Annotations.Core.AnnPolylineObject.prototype={get_friendlyName:function(){return"Polyline"},get_supportsStroke:function(){return!0},get_supportsFill:function(){return 2<this.get_points().get_count()},get__angle:function(){return 2<=this.get_points().get_count()?lt.Annotations.Core.Utils.findAngle(this.get_points().get_item(0),this.get_points().get_item(1)):
0},_isClosed$1:!1,get_isClosed:function(){return this._isClosed$1},set_isClosed:function(a){if(this._isClosed$1!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("IsClosed",1,this._isClosed$1,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._isClosed$1=a,this.onPropertyChanged(b))}return a},get_fillRule:function(){return this._fillRule$1},set_fillRule:function(a){if(this._fillRule$1!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("FillRule",1,this._fillRule$1,
a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._fillRule$1=a,this.onPropertyChanged(b))}return a},create:function(){return new lt.Annotations.Core.AnnPolylineObject},hitTest:function(a,b){var c=lt.Annotations.Core.AnnPolylineObject.callBaseMethod(this,"hitTest",[a,b]);if(c&&this.get_hitTestInterior()&&lt.Annotations.Core.Utils.hitTestPolygon(this.get_points(),a))return!0;if(c)for(var c=!1,d=this.get_points().get_item(0),e=lt.Annotations.Core._leadPointDExtensions.get_empty(),f=
1;f<this.get_points().get_count()&&!c;++f)e=this.get_points().get_item(f),lt.Annotations.Core.Utils.hitTestLine(d,e,a,b,!1)?c=!0:(d=e,this._isClosed$1&&lt.Annotations.Core.Utils.hitTestLine(e,this.get_points().get_item(0),a,b,!1)&&(c=!0));return c},serialize:function(a,b,c){lt.Annotations.Core.AnnPolylineObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"IsClosed",b,this._isClosed$1);lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"FillRule",
b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnFillRule,this._fillRule$1))},deserialize:function(a,b,c){lt.Annotations.Core.AnnPolylineObject.callBaseMethod(this,"deserialize",[a,b,c]);this._isClosed$1=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"IsClosed",b,this._isClosed$1);this._fillRule$1=lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnFillRule,lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"FillRule",b,this._fillRule$1.toString()))},clone:function(){var a=
Type.safeCast(lt.Annotations.Core.AnnPolylineObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnPolylineObject);null!=a&&(a.set_fillRule(this.get_fillRule()),a.set_isClosed(this.get_isClosed()));a.setId(this.get_id());return a}};Object.defineProperty(lt.Annotations.Core.AnnPolylineObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnPolylineObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolylineObject.prototype,"supportsStroke",
{get:lt.Annotations.Core.AnnPolylineObject.prototype.get_supportsStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolylineObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnPolylineObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolylineObject.prototype,"isClosed",{get:lt.Annotations.Core.AnnPolylineObject.prototype.get_isClosed,set:lt.Annotations.Core.AnnPolylineObject.prototype.set_isClosed,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolylineObject.prototype,"fillRule",{get:lt.Annotations.Core.AnnPolylineObject.prototype.get_fillRule,set:lt.Annotations.Core.AnnPolylineObject.prototype.set_fillRule,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnPolyRulerObject=function(){lt.Annotations.Core.AnnPolyRulerObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.polyRulerObjectId);this._unitsAbbreviation$2={};this._measurementUnit$2=3;
this._precision$2=2;this._showGauge$2=!1;this._showTickMarks$2=!0;this._gaugeLength$2=lt.Annotations.Core._leadLengthDExtensions.create(360);this._tickMarksLength$2=lt.Annotations.Core._leadLengthDExtensions.create(240);this._tickMarksStroke$2=this.get_stroke();this._unitsAbbreviation$2=lt.Annotations.Core.AnnUnitConverter.getUnits();this.get_labels().RulerLength=new lt.Annotations.Core.AnnLabel;this.get_labels().RulerLength.set_offsetHeight(!0);this.set_fixedStateOperations(20)};lt.Annotations.Core.AnnPolyRulerObject.prototype=
{get_friendlyName:function(){return"Poly Ruler"},_unitsAbbreviation$2:null,_measurementUnit$2:0,_tickMarksLength$2:null,_showTickMarks$2:!1,_showTickValue$2:!1,_gaugeLength$2:null,_showGauge$2:!1,_calibrationScale$2:1,get_calibrationScale:function(){return this._calibrationScale$2},set_calibrationScale:function(a){return this._calibrationScale$2=a},_precision$2:0,_tickMarksStroke$2:null,get_tickMarksStroke:function(){return this._tickMarksStroke$2},set_tickMarksStroke:function(a){if(this._tickMarksStroke$2!==
a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("TickMarksStroke",1,this._tickMarksStroke$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._tickMarksStroke$2=a,this.onPropertyChanged(b))}return a},get_measurementUnit:function(){return this._measurementUnit$2},set_measurementUnit:function(a){if(this._measurementUnit$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("MeasurementUnit",1,this._measurementUnit$2,a);this.onPropertyChanged(b);b.get_cancel()||
(b.set_status(0),this._measurementUnit$2=a,this.onPropertyChanged(b))}return a},get_unitsAbbreviation:function(){return this._unitsAbbreviation$2},get_tickMarksLength:function(){return this._tickMarksLength$2},set_tickMarksLength:function(a){if(!lt.Annotations.Core._leadLengthDExtensions.isEqual(this._tickMarksLength$2,a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("TickMarksLength",1,this._tickMarksLength$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._tickMarksLength$2=
a,this.onPropertyChanged(b))}return a},get_showTickMarks:function(){return this._showTickMarks$2},set_showTickMarks:function(a){if(this._showTickMarks$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("ShowTickMarks",1,this._showTickMarks$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._showTickMarks$2=a,this.onPropertyChanged(b))}return a},get_showTickValue:function(){return this._showTickValue$2},set_showTickValue:function(a){if(this._showTickValue$2!==a){var b=
new lt.Annotations.Core.AnnPropertyChangedEventArgs("ShowTickValue",1,this._showTickValue$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._showTickValue$2=a,this.onPropertyChanged(b))}return a},get_gaugeLength:function(){return this._gaugeLength$2},set_gaugeLength:function(a){if(!lt.Annotations.Core._leadLengthDExtensions.isEqual(this._gaugeLength$2,a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("GaugeLength",1,this._gaugeLength$2,a);this.onPropertyChanged(b);b.get_cancel()||
(b.set_status(0),this._gaugeLength$2=a,this.onPropertyChanged(b))}return a},_internalShowTickMarks:function(a){this._showGauge$2=a},get_showGauge:function(){return this._showGauge$2},set_showGauge:function(a){if(this._showGauge$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("ShowGauge",1,this._showGauge$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._showGauge$2=a,this.onPropertyChanged(b))}return a},get_precision:function(){return this._precision$2},set_precision:function(a){if(this._precision$2!==
a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Precision",1,this._precision$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._precision$2=a,this.onPropertyChanged(b))}return a},calibrate:function(a,b,c,d){14===b&&(b=0);14===d&&(d=0);a=lt.Annotations.Core.AnnUnitConverter.convert(a.get_value(),b,0);this._calibrationScale$2=lt.Annotations.Core.AnnUnitConverter.convert(c.get_value(),d,0)/a},getRulerLength:function(a){0>=a&&(a=1);0>=this._calibrationScale$2&&(this._calibrationScale$2=
1);return lt.Annotations.Core._leadLengthDExtensions.create(lt.Annotations.Core.RulerHelper.getRulerLength(this.get_points().toArray())*a*this._calibrationScale$2)},getRulerLengthAsString:function(a){return lt.Annotations.Core.RulerHelper.getLengthString(this.getRulerLength(a),this.get_precision(),this.get_measurementUnit(),this.get_unitsAbbreviation())},hitTest:function(a,b){var c=lt.Annotations.Core.AnnPolyRulerObject.callBaseMethod(this,"hitTest",[a,b]);if(!c)for(var d=0;d<this.get_points().get_count();++d);
return c},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnPolyRulerObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnPolyRulerObject);null!=a&&(a.set_tickMarksStroke(this.get_tickMarksStroke().clone()),a.set_measurementUnit(this.get_measurementUnit()),a.set_tickMarksLength(lt.Annotations.Core._leadLengthDExtensions.clone(this.get_tickMarksLength())),a.set_showTickMarks(this.get_showTickMarks()),a.set_showTickValue(this.get_showTickValue()),a.set_gaugeLength(lt.Annotations.Core._leadLengthDExtensions.clone(this.get_gaugeLength())),
a.set_showGauge(this.get_showGauge()),a.set_precision(this.get_precision()),a.set_calibrationScale(this.get_calibrationScale()));return a},serialize:function(a,b,c){lt.Annotations.Core.AnnPolyRulerObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeStrokeElement(c,"TickMarksStroke",b,this._tickMarksStroke$2);lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"MeasurementUnit",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnUnit,this._measurementUnit$2));
lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"UnitAbbreviation",b,this._unitsAbbreviation$2[this._measurementUnit$2]);lt.Annotations.Core.AnnXmlHelper.writeLengthElement(c,"TickMarksLength",b,this._tickMarksLength$2);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"ShowTickMarks",b,this._showTickMarks$2);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"ShowTickValue",b,this._showTickValue$2);lt.Annotations.Core.AnnXmlHelper.writeLengthElement(c,"GaugeLength",b,this._gaugeLength$2);
lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"ShowGauge",b,this._showGauge$2);lt.Annotations.Core.AnnXmlHelper.writeNumericElement(c,"Precision",b,this._precision$2);lt.Annotations.Core.AnnXmlHelper.writeNumericElement(c,"CalibrationScale",b,this._calibrationScale$2)},deserialize:function(a,b,c){lt.Annotations.Core.AnnPolyRulerObject.callBaseMethod(this,"deserialize",[a,b,c]);this._tickMarksStroke$2=lt.Annotations.Core.AnnXmlHelper.readStrokeElement(c,"TickMarksStroke",b,this._tickMarksStroke$2);
a=lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnUnit,this._measurementUnit$2);this._measurementUnit$2=lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnUnit,lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"MeasurementUnit",b,a));this._tickMarksLength$2=lt.Annotations.Core.AnnXmlHelper.readLengthElement(c,"TickMarksLength",b,this._tickMarksLength$2);this._showTickMarks$2=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"ShowTickMarks",b,this._showTickMarks$2);this._showTickValue$2=
lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"ShowTickValue",b,this._showTickValue$2);this._gaugeLength$2=lt.Annotations.Core.AnnXmlHelper.readLengthElement(c,"GaugeLength",b,this._gaugeLength$2);this._showGauge$2=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"ShowGauge",b,this._showGauge$2);this._precision$2=parseInt(lt.Annotations.Core.AnnXmlHelper.readNumericElement(c,"Precision",b,this._precision$2));this._unitsAbbreviation$2[this._measurementUnit$2]=lt.Annotations.Core.AnnXmlHelper.readStringElement(c,
"UnitAbbreviation",b,this._unitsAbbreviation$2[this._measurementUnit$2]);this._calibrationScale$2=lt.Annotations.Core.AnnXmlHelper.readNumericElement(c,"CalibrationScale",b,this._calibrationScale$2)},create:function(){return new lt.Annotations.Core.AnnPolyRulerObject},getInvalidateRect:function(a,b){var c=lt.Annotations.Core.AnnPolyRulerObject.callBaseMethod(this,"getInvalidateRect",[a,b]);if(lt.Annotations.Core._leadRectDExtensions.isEmpty(c))return c;c=lt.Annotations.Core._leadRectDExtensions.unionRects(c,
a.rectFromContainerCoordinates(this.get_renderedObjectBounds(),0));a.lengthFromContainerCoordinates(this.get_gaugeLength(),this.get_fixedStateOperations());for(var d=lt.Annotations.Core._leadRectDExtensions.get_empty(),e=0;e<this.get_points().get_count()-1;++e){var f=this.get_points().get_item(e),g=this.get_points().get_item(e+1);if(this.get_supportsStroke()&&null!=this.get_stroke()){f=lt.Annotations.Core.RulerHelper.getGaugePoints(a,f,g,this.get_gaugeLength(),this.get_fixedStateOperations());if(null!=
f)for(g=0;g<f.length;++g)d=lt.Annotations.Core._leadRectDExtensions.unionPoint(d,f[g]);lt.Annotations.Core._leadRectDExtensions.isEmpty(d)||(f=a.strokeFromContainerCoordinates(this.get_stroke(),this.get_fixedStateOperations()).get_strokeThickness().get_value(),d=lt.Annotations.Core._leadRectDExtensions.inflate(d,f+1,f+1))}}var h=b.get_labelRenderer();if(Object.keyExists(this.get_labels(),"RulerLength")&&null!=h&&(e=this.get_labels().RulerLength,null!=e))(f=lt.Annotations.Core.Utils.getUnitVector(this.get_points().get_item(0),
this.get_points().get_item(1)),g=this.get_points().get_item(this.get_points().get_count()-1),0>f.get_x()&&(f=lt.Annotations.Core.Utils.getUnitVector(this.get_points().get_item(1),this.get_points().get_item(0)),g=this.get_points().get_item(0)),14===this.get_measurementUnit())?(h=this.getRulerLength(a.get_calibrationScale()),h=a.lengthFromContainerCoordinates(h,3),e.set_text(String.format("{0} {1}",lt.Annotations.Core.Utils.precisionFormat(this.get_precision(),h),this.get_unitsAbbreviation()[14])),
e.set_originalPosition(lt.Annotations.Core.Utils.transformPoint(f,a.lengthToContainerCoordinates(e.get_font().get_fontHeight()),g))):(e.set_text(this.getRulerLengthAsString(a.get_calibrationScale())),e.set_originalPosition(lt.Annotations.Core.Utils.transformPoint(f,a.lengthToContainerCoordinates(e.get_font().get_fontHeight()),g)),null!=h.get_renderingEngine()&&(e=h.getBounds(a,e,this.get_fixedStateOperations()),c=lt.Annotations.Core._leadRectDExtensions.unionRects(e,c)));c=lt.Annotations.Core._leadRectDExtensions.unionRects(d,
c);c.get_isEmpty()||(c=lt.Annotations.Core._leadRectDExtensions.inflate(c,1,1),c=lt.Annotations.Core._leadRectDExtensions.create(parseInt(c.get_x()),parseInt(c.get_y()),parseInt(c.get_width()),parseInt(c.get_height())));return c}};Object.defineProperty(lt.Annotations.Core.AnnPolyRulerObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnPolyRulerObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolyRulerObject.prototype,"calibrationScale",
{get:lt.Annotations.Core.AnnPolyRulerObject.prototype.get_calibrationScale,set:lt.Annotations.Core.AnnPolyRulerObject.prototype.set_calibrationScale,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolyRulerObject.prototype,"tickMarksStroke",{get:lt.Annotations.Core.AnnPolyRulerObject.prototype.get_tickMarksStroke,set:lt.Annotations.Core.AnnPolyRulerObject.prototype.set_tickMarksStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolyRulerObject.prototype,
"measurementUnit",{get:lt.Annotations.Core.AnnPolyRulerObject.prototype.get_measurementUnit,set:lt.Annotations.Core.AnnPolyRulerObject.prototype.set_measurementUnit,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolyRulerObject.prototype,"unitsAbbreviation",{get:lt.Annotations.Core.AnnPolyRulerObject.prototype.get_unitsAbbreviation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolyRulerObject.prototype,"tickMarksLength",{get:lt.Annotations.Core.AnnPolyRulerObject.prototype.get_tickMarksLength,
set:lt.Annotations.Core.AnnPolyRulerObject.prototype.set_tickMarksLength,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolyRulerObject.prototype,"showTickMarks",{get:lt.Annotations.Core.AnnPolyRulerObject.prototype.get_showTickMarks,set:lt.Annotations.Core.AnnPolyRulerObject.prototype.set_showTickMarks,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolyRulerObject.prototype,"showTickValue",{get:lt.Annotations.Core.AnnPolyRulerObject.prototype.get_showTickValue,
set:lt.Annotations.Core.AnnPolyRulerObject.prototype.set_showTickValue,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolyRulerObject.prototype,"gaugeLength",{get:lt.Annotations.Core.AnnPolyRulerObject.prototype.get_gaugeLength,set:lt.Annotations.Core.AnnPolyRulerObject.prototype.set_gaugeLength,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolyRulerObject.prototype,"showGauge",{get:lt.Annotations.Core.AnnPolyRulerObject.prototype.get_showGauge,
set:lt.Annotations.Core.AnnPolyRulerObject.prototype.set_showGauge,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPolyRulerObject.prototype,"precision",{get:lt.Annotations.Core.AnnPolyRulerObject.prototype.get_precision,set:lt.Annotations.Core.AnnPolyRulerObject.prototype.set_precision,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnProtractorObject=function(){lt.Annotations.Core.AnnProtractorObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.protractorObjectId);
this._arcRadius$3=lt.Annotations.Core._leadLengthDExtensions.create(180);this._acute$3=!0;this._angularUnitsAbbreviation$3={};this._internalShowTickMarks(!1);this._angularUnit$3=1;this.get_points().clear();this.get_points().add(lt.Annotations.Core._leadPointDExtensions.get_empty());this.get_points().add(lt.Annotations.Core._leadPointDExtensions.get_empty());this.get_points().add(lt.Annotations.Core._leadPointDExtensions.get_empty());this._angularUnitsAbbreviation$3[1]=lt.Annotations.Core.AnnUnitConverter.getAngularUnitAbbreviation(1);
this._angularUnitsAbbreviation$3[0]=lt.Annotations.Core.AnnUnitConverter.getAngularUnitAbbreviation(0);delete this.get_labels().RulerLength;this.get_labels().AngleText=new lt.Annotations.Core.AnnLabel;this.get_labels().AngleText.set_offsetHeight(!0);this.get_labels().FirstRulerLength=new lt.Annotations.Core.AnnLabel;this.get_labels().FirstRulerLength.set_offsetHeight(!0);this.get_labels().SecondRulerLength=new lt.Annotations.Core.AnnLabel;this.get_labels().SecondRulerLength.set_offsetHeight(!0)};
lt.Annotations.Core.AnnProtractorObject.prototype={get_friendlyName:function(){return"Protractor"},_angularUnitsAbbreviation$3:null,_acute$3:!1,_angularUnit$3:0,_anglePrecision$3:0,_arcRadius$3:null,get_supportsFill:function(){return!1},get_centerPoint:function(){return this.get_points().get_item(1)},set_centerPoint:function(a){if(!lt.Annotations.Core._leadPointDExtensions.isEqual(this.get_points().get_item(1),a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("CenterPoint",1,this.get_points().get_item(1),
a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this.get_points().set_item(1,a),this.onPropertyChanged(b))}return a},get_firstPoint:function(){return this.get_points().get_item(0)},set_firstPoint:function(a){if(!lt.Annotations.Core._leadPointDExtensions.isEqual(this.get_points().get_item(0),a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("FirstPoint",1,this.get_points().get_item(0),a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this.get_points().set_item(0,
a),this.onPropertyChanged(b))}return a},get_secondPoint:function(){return this.get_points().get_item(2)},set_secondPoint:function(a){if(!lt.Annotations.Core._leadPointDExtensions.isEqual(this.get_points().get_item(2),a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("SecondPoint",1,this.get_points().get_item(2),a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this.get_points().set_item(2,a),this.onPropertyChanged(b))}return a},get_acute:function(){return this._acute$3},set_acute:function(a){if(this._acute$3!==
a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Acute",1,this._acute$3,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._acute$3=a,this.onPropertyChanged(b))}return a},get_angularUnit:function(){return this._angularUnit$3},set_angularUnit:function(a){if(this._angularUnit$3!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("AngularUnit",1,this._angularUnit$3,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._angularUnit$3=a,this.onPropertyChanged(b))}return a},
get_angularUnitsAbbreviation:function(){return this._angularUnitsAbbreviation$3},get_anglePrecision:function(){return this._anglePrecision$3},set_anglePrecision:function(a){if(this._anglePrecision$3!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("AnglePrecision",1,this._anglePrecision$3,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._anglePrecision$3=a,this.onPropertyChanged(b))}return a},get_arcRadius:function(){return this._arcRadius$3},set_arcRadius:function(a){if(!lt.Annotations.Core._leadLengthDExtensions.isEqual(this._arcRadius$3,
a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("ArcRadius",1,this._arcRadius$3,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._arcRadius$3=a,this.onPropertyChanged(b))}return a},_showArc$3:!0,get_showArc:function(){return this._showArc$3},set_showArc:function(a){if(this._showArc$3!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("ShowArc",1,this._showArc$3,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._showArc$3=a,this.onPropertyChanged(b))}return a},
getRulerLengthFromPoints:function(a,b,c){return lt.Annotations.Core._leadLengthDExtensions.create(lt.Annotations.Core.RulerHelper.getRulerLengthFromTwoPoints(a,b)*c)},getRulerLengthAsStringFromPoints:function(a,b,c){return lt.Annotations.Core.RulerHelper.getLengthString(this.getRulerLengthFromPoints(a,b,c),this.get_precision(),this.get_measurementUnit(),this.get_unitsAbbreviation())},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnProtractorObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnProtractorObject);
null!=a&&(a.set_acute(this.get_acute()),a.set_angularUnit(this.get_angularUnit()),a.set_anglePrecision(this.get_anglePrecision()),a.set_arcRadius(lt.Annotations.Core._leadLengthDExtensions.clone(this.get_arcRadius())),a.set_showArc(this.get_showArc()));return a},serialize:function(a,b,c){lt.Annotations.Core.AnnProtractorObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"Acute",b,this._acute$3);lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,
"AngularUnit",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnAngularUnit,this._angularUnit$3));lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"AngularUnitAbbreviation",b,this._angularUnitsAbbreviation$3[this._angularUnit$3]);lt.Annotations.Core.AnnXmlHelper.writeNumericElement(c,"AnglePrecision",b,this._anglePrecision$3);lt.Annotations.Core.AnnXmlHelper.writeLengthElement(c,"ArcRadius",b,this._arcRadius$3);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"ShowArc",b,
this._showArc$3)},deserialize:function(a,b,c){lt.Annotations.Core.AnnProtractorObject.callBaseMethod(this,"deserialize",[a,b,c]);this._acute$3=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"Acute",b,this._acute$3);this._angularUnit$3=lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnAngularUnit,lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"AngularUnit",b,this._angularUnit$3.toString()));this._anglePrecision$3=parseInt(lt.Annotations.Core.AnnXmlHelper.readNumericElement(c,
"AnglePrecision",b,this._anglePrecision$3));this._arcRadius$3=lt.Annotations.Core.AnnXmlHelper.readLengthElement(c,"ArcRadius",b,this._arcRadius$3);this._angularUnitsAbbreviation$3[this._angularUnit$3]=lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"AngularUnitAbbreviation",b,this._angularUnitsAbbreviation$3[this._angularUnit$3]);this._showArc$3=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"ShowArc",b,this._showArc$3)},create:function(){return new lt.Annotations.Core.AnnProtractorObject},
getInvalidateRect:function(){return lt.Annotations.Core._leadRectDExtensions.get_empty()}};Object.defineProperty(lt.Annotations.Core.AnnProtractorObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnProtractorObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnProtractorObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnProtractorObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnProtractorObject.prototype,
"centerPoint",{get:lt.Annotations.Core.AnnProtractorObject.prototype.get_centerPoint,set:lt.Annotations.Core.AnnProtractorObject.prototype.set_centerPoint,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnProtractorObject.prototype,"firstPoint",{get:lt.Annotations.Core.AnnProtractorObject.prototype.get_firstPoint,set:lt.Annotations.Core.AnnProtractorObject.prototype.set_firstPoint,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnProtractorObject.prototype,
"secondPoint",{get:lt.Annotations.Core.AnnProtractorObject.prototype.get_secondPoint,set:lt.Annotations.Core.AnnProtractorObject.prototype.set_secondPoint,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnProtractorObject.prototype,"acute",{get:lt.Annotations.Core.AnnProtractorObject.prototype.get_acute,set:lt.Annotations.Core.AnnProtractorObject.prototype.set_acute,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnProtractorObject.prototype,"angularUnit",
{get:lt.Annotations.Core.AnnProtractorObject.prototype.get_angularUnit,set:lt.Annotations.Core.AnnProtractorObject.prototype.set_angularUnit,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnProtractorObject.prototype,"angularUnitsAbbreviation",{get:lt.Annotations.Core.AnnProtractorObject.prototype.get_angularUnitsAbbreviation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnProtractorObject.prototype,"anglePrecision",{get:lt.Annotations.Core.AnnProtractorObject.prototype.get_anglePrecision,
set:lt.Annotations.Core.AnnProtractorObject.prototype.set_anglePrecision,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnProtractorObject.prototype,"arcRadius",{get:lt.Annotations.Core.AnnProtractorObject.prototype.get_arcRadius,set:lt.Annotations.Core.AnnProtractorObject.prototype.set_arcRadius,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnProtractorObject.prototype,"showArc",{get:lt.Annotations.Core.AnnProtractorObject.prototype.get_showArc,
set:lt.Annotations.Core.AnnProtractorObject.prototype.set_showArc,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnRectangleObject=function(){lt.Annotations.Core.AnnRectangleObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.rectangleObjectId)};lt.Annotations.Core.AnnRectangleObject.prototype={get_friendlyName:function(){return"Rectangle"},get_isFlipped:function(){return this.get_points().get_item(0).get_y()>this.get_points().get_item(3).get_y()?!0:!1},get_isReversed:function(){return this.get_points().get_item(0).get_x()>
this.get_points().get_item(1).get_x()?!0:!1},get_angle:function(){return this._getAngle$1()},get_rect:function(){return this._calculateRect$1()},set_rect:function(a){this._init$1(a);return a},get_supportsFill:function(){return!0},get_supportsStroke:function(){return!0},_getAngle$1:function(){var a=0;3<=this.get_points().get_count()&&(a=this.get_isReversed()?lt.Annotations.Core.Utils.findAngle(this.get_points().get_item(1),this.get_points().get_item(0)):lt.Annotations.Core.Utils.findAngle(this.get_points().get_item(0),
this.get_points().get_item(1)));return a},_init$1:function(a){var b=this.get_points();b.clear();if(lt.Annotations.Core._leadRectDExtensions.isEmpty(a))for(a=0;4>a;a++)b.add(lt.Annotations.Core._leadPointDExtensions.get_empty());else b.add(lt.Annotations.Core._leadPointDExtensions.create(a.get_x(),a.get_y())),b.add(lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+a.get_width(),a.get_y())),b.add(lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+a.get_width(),a.get_y()+a.get_height())),
b.add(lt.Annotations.Core._leadPointDExtensions.create(a.get_x(),a.get_y()+a.get_height()))},_calculateRect$1:function(){var a=lt.Annotations.Core._leadRectDExtensions.get_empty();if(3<=this.get_points().get_count()){var b=this.get_points().toArray(),c=this._getAngle$1(),a=Array(2);a[0]=lt.Annotations.Core._leadPointDExtensions.create(b[0].get_x(),b[0].get_y());a[1]=lt.Annotations.Core._leadPointDExtensions.create(b[2].get_x(),b[2].get_y());var b=lt.Annotations.Core._leadPointDExtensions.create((a[0].get_x()+
a[1].get_x())/2,(a[0].get_y()+a[1].get_y())/2),a=lt.Annotations.Core.AnnTransformer.rotateAtPoints(a,-c,b.get_x(),b.get_y()),c=Math.min(a[0].get_x(),a[1].get_x()),b=Math.min(a[0].get_y(),a[1].get_y()),d=Math.max(a[0].get_x(),a[1].get_x()),a=Math.max(a[0].get_y(),a[1].get_y()),a=lt.Annotations.Core.AnnDouble.isNaN(c)||lt.Annotations.Core.AnnDouble.isNaN(b)||lt.Annotations.Core.AnnDouble.isNaN(d)||lt.Annotations.Core.AnnDouble.isNaN(a)?lt.Annotations.Core._leadRectDExtensions.get_empty():lt.Annotations.Core._leadRectDExtensions.create(c,
b,d-c,a-b)}return a},create:function(){return new lt.Annotations.Core.AnnRectangleObject},hitTest:function(a,b){var c=lt.Annotations.Core.AnnRectangleObject.callBaseMethod(this,"hitTest",[a,b]);if(c&&this.get_hitTestInterior()&&lt.Annotations.Core.Utils.hitTestPolygon(this.get_points(),a))return!0;if(c)for(var c=!1,d=0;4>d&&!c;++d)lt.Annotations.Core.Utils.hitTestLine(this.get_points().get_item(d),this.get_points().get_item((d+1)%4),a,b,!1)&&(c=!0);return c}};Object.defineProperty(lt.Annotations.Core.AnnRectangleObject.prototype,
"friendlyName",{get:lt.Annotations.Core.AnnRectangleObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRectangleObject.prototype,"isFlipped",{get:lt.Annotations.Core.AnnRectangleObject.prototype.get_isFlipped,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRectangleObject.prototype,"isReversed",{get:lt.Annotations.Core.AnnRectangleObject.prototype.get_isReversed,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRectangleObject.prototype,
"angle",{get:lt.Annotations.Core.AnnRectangleObject.prototype.get_angle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRectangleObject.prototype,"rect",{get:lt.Annotations.Core.AnnRectangleObject.prototype.get_rect,set:lt.Annotations.Core.AnnRectangleObject.prototype.set_rect,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRectangleObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnRectangleObject.prototype.get_supportsFill,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRectangleObject.prototype,"supportsStroke",{get:lt.Annotations.Core.AnnRectangleObject.prototype.get_supportsStroke,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnRedactionObject=function(){this._realizedRect$2=lt.Annotations.Core._leadRectDExtensions.create(0,0,0,0);lt.Annotations.Core.AnnRedactionObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.redactionObjectId)};lt.Annotations.Core.AnnRedactionObject.prototype=
{get_friendlyName:function(){return"Redaction"},get_supportsStroke:function(){return!1},get_supportsOpacity:function(){return!1},get_canRotate:function(){return!1},create:function(){return new lt.Annotations.Core.AnnRedactionObject},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnRedactionObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnRedactionObject);a.set_imageData(this._imageData$2);return a},_imageData$2:null,get_imageData:function(){return this._imageData$2},set_imageData:function(a){return this._imageData$2=
a},_isRealized$2:!1,get_isRealized:function(){return this._isRealized$2},get_canRestore:function(){return this._isRealized$2?lt.Annotations.Core.Utils.isEqual(this._realizedRect$2.get_width(),this.get_rect().get_width())&&lt.Annotations.Core.Utils.isEqual(this._realizedRect$2.get_height(),this.get_rect().get_height())&&null!=this._imageData$2&&!this.get_isLocked():null!=this._imageData$2&&!this.get_isLocked()},realize:function(a,b){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("container");
null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("provider");if(!this.get_isLocked()){this._realizedRect$2=this.get_rect();var c=b.get_mapper(),c=new lt.Annotations.Core.AnnContainerMapper(c.get_sourceDpiX(),c.get_sourceDpiY(),c.get_sourceDpiX(),c.get_sourceDpiY()),d=lt.Annotations.Core._leadRectDExtensions.clone(this._realizedRect$2),d=c.rectFromContainerCoordinates(this.get_rect(),this.get_fixedStateOperations());this._imageData$2=a.getImageData(b,d);a.fill(b,d,"black");this._isRealized$2=
!0}},restore:function(a,b){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("container");null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("provider");if(!this.get_isLocked()){var c=b.get_mapper(),c=new lt.Annotations.Core.AnnContainerMapper(c.get_sourceDpiX(),c.get_sourceDpiY(),c.get_sourceDpiX(),c.get_sourceDpiY());this.get_canRestore()&&(c=c.rectFromContainerCoordinates(this.get_rect(),this.get_fixedStateOperations()),a.setImageData(b,c,this._imageData$2),this._imageData$2=
null,this._isRealized$2=!1)}},serialize:function(a,b,c){lt.Annotations.Core.AnnRedactionObject.callBaseMethod(this,"serialize",[a,b,c]);null!=this._imageData$2&&lt.Annotations.Core.AnnXmlHelper.writeDataElement(c,"RedactImageData",b,this._imageData$2)},deserialize:function(a,b,c){lt.Annotations.Core.AnnRedactionObject.callBaseMethod(this,"deserialize",[a,b,c]);this._imageData$2=lt.Annotations.Core.AnnXmlHelper.readDataElement(c,"RedactImageData",b);this._realizedRect$2=this.get_rect()}};Object.defineProperty(lt.Annotations.Core.AnnRedactionObject.prototype,
"friendlyName",{get:lt.Annotations.Core.AnnRedactionObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRedactionObject.prototype,"supportsStroke",{get:lt.Annotations.Core.AnnRedactionObject.prototype.get_supportsStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRedactionObject.prototype,"supportsOpacity",{get:lt.Annotations.Core.AnnRedactionObject.prototype.get_supportsOpacity,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Core.AnnRedactionObject.prototype,"canRotate",{get:lt.Annotations.Core.AnnRedactionObject.prototype.get_canRotate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRedactionObject.prototype,"imageData",{get:lt.Annotations.Core.AnnRedactionObject.prototype.get_imageData,set:lt.Annotations.Core.AnnRedactionObject.prototype.set_imageData,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRedactionObject.prototype,
"isRealized",{get:lt.Annotations.Core.AnnRedactionObject.prototype.get_isRealized,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRedactionObject.prototype,"canRestore",{get:lt.Annotations.Core.AnnRedactionObject.prototype.get_canRestore,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnRubberStampObject=function(){lt.Annotations.Core.AnnRubberStampObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.rubberStampObjectId);this._rubberStampType$2=1};
lt.Annotations.Core.AnnRubberStampObject.prototype={get_friendlyName:function(){return"Rubber Stamp"},get_supportsFill:function(){return!1},get_supportsStroke:function(){return!1},_rubberStampType$2:0,get_rubberStampType:function(){return this._rubberStampType$2},set_rubberStampType:function(a){if(this._rubberStampType$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("RubberStampType",1,this._rubberStampType$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._rubberStampType$2=
a,this.onPropertyChanged(b))}return a},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnRubberStampObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnRubberStampObject);null!=a&&a.set_rubberStampType(this.get_rubberStampType());return a},serialize:function(a,b,c){lt.Annotations.Core.AnnRubberStampObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"RubberStampType",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnRubberStampType,
this._rubberStampType$2))},deserialize:function(a,b,c){lt.Annotations.Core.AnnRubberStampObject.callBaseMethod(this,"deserialize",[a,b,c]);this._rubberStampType$2=lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnRubberStampType,lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"RubberStampType",b,this._rubberStampType$2.toString()))},create:function(){return new lt.Annotations.Core.AnnRubberStampObject},get_hitTestInterior:function(){return!0}};Object.defineProperty(lt.Annotations.Core.AnnRubberStampObject.prototype,
"friendlyName",{get:lt.Annotations.Core.AnnRubberStampObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRubberStampObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnRubberStampObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRubberStampObject.prototype,"supportsStroke",{get:lt.Annotations.Core.AnnRubberStampObject.prototype.get_supportsStroke,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Core.AnnRubberStampObject.prototype,"rubberStampType",{get:lt.Annotations.Core.AnnRubberStampObject.prototype.get_rubberStampType,set:lt.Annotations.Core.AnnRubberStampObject.prototype.set_rubberStampType,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRubberStampObject.prototype,"hitTestInterior",{get:lt.Annotations.Core.AnnRubberStampObject.prototype.get_hitTestInterior,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnSelectionObject=
function(){this._selectedObjects$2=new lt.Annotations.Core.AnnObjectCollection;this._oldInvalidateRect$2=lt.Annotations.Core._leadRectDExtensions.get_empty();lt.Annotations.Core.AnnSelectionObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.selectObjectId);this._container$2=Type.safeCast(this.get_parent(),lt.Annotations.Core.AnnContainer);this._selectedObjects$2=new lt.Annotations.Core.AnnObjectCollection;this._rect$2=lt.Annotations.Core._leadRectDExtensions.get_empty();var a=lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("darkgreen"),
lt.Annotations.Core._leadLengthDExtensions.create(1));a.set_strokeDashArray([4,2,2,2,2,2]);this.set_selectionStroke(a);this._selectedObjects$2.add_collectionChanged(ss.Delegate.create(this,this._selectedObjects_CollectionChanged$2))};lt.Annotations.Core.AnnSelectionObject.prototype={_alignmentTarget$2:null,get_alignmentTarget:function(){return this._alignmentTarget$2},set_alignmentTarget:function(a){return this._alignmentTarget$2=a},_selectionOpacity$2:1,get_selectionOpacity:function(){return this._selectionOpacity$2},
set_selectionOpacity:function(a){(lt.LeadDoubleTools.lessThan(a,0)||lt.LeadDoubleTools.greaterThan(a,1))&&lt.Annotations.Core.ExceptionHelper.argumentOutOfRangeException("SelectionOpacity",a,"Must be a value greater than or equals to 0 and less than or equals to 1");this._selectionOpacity$2=this.get_supportsOpacity()?a:1;return a},get_supportsContent:function(){return!1},get_friendlyName:function(){return"Select"},_rect$2:null,_container$2:null,get_selectedObjects:function(){return this._selectedObjects$2},
adjustBounds:function(){this._rect$2=lt.Annotations.Core._leadRectDExtensions.clone(this.get_rect());var a=this._alignmentTarget$2,b=null==this._alignmentTarget$2?!1:this._alignmentTarget$2.get_isAlignmentTarget();this._calculateRect$2();0<this._selectedObjects$2.get_count()&&this._selectedObjects$2.clear();this._hitTestRect$2(this._rect$2);var c=lt.Annotations.Core._leadRectDExtensions.get_empty();if(0<this.get_selectedObjects().get_count()){for(var c=this.get_selectedObjects().get_item(0).get_bounds(),
d=1;d<this.get_selectedObjects().get_count();d++)c=lt.Annotations.Core._leadRectDExtensions.unionRects(c,this.get_selectedObjects().get_item(d).get_bounds());null!=a&&(this._alignmentTarget$2=a,this._alignmentTarget$2.set_isAlignmentTarget(b))}this.set_rect(lt.Annotations.Core._leadRectDExtensions.clone(c));this.set_rotateCenter(lt.Annotations.Core._leadPointDExtensions.get_empty())},group:function(a){for(var b=ss.IEnumerator.getEnumerator(this.get_selectedObjects());b.moveNext();){var c=b.current;
c.set_groupName(a);c=Type.safeCast(c,lt.Annotations.Core.AnnSelectionObject);null!=c&&c.group(a)}},ungroup:function(a){for(var b=ss.IEnumerator.getEnumerator(this.get_selectedObjects());b.moveNext();){var c=b.current;String.compare(c.get_groupName(),a)||c.set_groupName("")}},lock:function(a){for(var b=ss.IEnumerator.getEnumerator(this.get_selectedObjects());b.moveNext();){var c=b.current;c.get_isLocked()||c.lock(a)}},unlock:function(a){for(var b=ss.IEnumerator.getEnumerator(this.get_selectedObjects());b.moveNext();){var c=
b.current;c.get_isLocked()&&c.unlock(a)}},get_supportsFill:function(){return!1},_selectedObjects_CollectionChanged$2:function(a,b){if(b.get_action())if(1===b.get_action())d=Type.safeCast(b.get_newItems()[0],lt.Annotations.Core.AnnObject),d.set_isSelected(!1),d.set_parent(this.get_parent()),d.get_isAlignmentTarget()&&(d.set_isAlignmentTarget(!1),1<this._selectedObjects$2.get_count()&&(this._alignmentTarget$2=this._selectedObjects$2.get_item(this._selectedObjects$2.get_count()-1),this._alignmentTarget$2.set_isAlignmentTarget(!0))),
d=Type.safeCast(d,lt.Annotations.Core.AnnPointObject),null!=d&&d.set__isGrouped(!1),this._calculateRect$2();else{if(4===b.get_action()){for(var c=ss.IEnumerator.getEnumerator(b.get_newItems());c.moveNext();)d=c.current,d.set_parent(this.get_parent()),d.set_isSelected(!1),d.set_isAlignmentTarget(!1),this._alignmentTarget$2=null,d=Type.safeCast(d,lt.Annotations.Core.AnnPointObject),null!=d&&d.set__isGrouped(!1);this.set_rect(lt.LeadRectD.create(0,0,0,0))}}else{var d=Type.safeCast(b.get_newItems()[0],
lt.Annotations.Core.AnnObject);d.set_isSelected(!1);d.set_parent(this);if(null!=this._selectedObjects$2&&1<this._selectedObjects$2.get_count())for(c=ss.IEnumerator.getEnumerator(this._selectedObjects$2);c.moveNext();)if(d=c.current,d.get_id()===lt.Annotations.Core.AnnObject.pointObjectId||d.get_id()===lt.Annotations.Core.AnnObject.stickyNoteObjectId)d=Type.safeCast(d,lt.Annotations.Core.AnnPointObject),null!=d&&d.set__isGrouped(!0);this._calculateRect$2()}},_hitTestRect$2:function(a){this._container$2=
Type.safeCast(this.get_parent(),lt.Annotations.Core.AnnContainer);if(null!=this._container$2){var b=null,b=!a.get_width()||!a.get_height()?this._container$2.hitTestPoint(lt.Annotations.Core._leadPointDExtensions.create(this.get_rect().get_x(),this.get_rect().get_y())):this._container$2.hitTestRect(a);if(null!=b&&0<b.length)for(a=ss.IEnumerator.getEnumerator(b);a.moveNext();)b=a.current,b!==this&&b.get_isVisible()&&(!b.get_isLocked()||!String.isNullOrEmpty(b.get_groupName()))&&this._selectedObjects$2.add(b)}},
get_canRotate:function(){for(var a=!1,b=ss.IEnumerator.getEnumerator(this.get_selectedObjects());b.moveNext();)if(b.current.get_canRotate()){a=!0;break}return a},rotate:function(a,b){lt.Annotations.Core.AnnSelectionObject.callBaseMethod(this,"rotate",[a,b]);for(var c=ss.IEnumerator.getEnumerator(this.get_selectedObjects());c.moveNext();){var d=c.current;d.get_isLocked()||d.rotate(a,b)}},scale:function(a,b,c){lt.Annotations.Core.AnnSelectionObject.callBaseMethod(this,"scale",[a,b,c]);for(var d=ss.IEnumerator.getEnumerator(this.get_selectedObjects());d.moveNext();){var e=
d.current,f=!e.get_isLocked();if(f){var g=Type.safeCast(e,lt.Annotations.Core.AnnTextReviewObject);null!=g&&(f=g.get_canScale())}f&&e.scale(a,b,c)}},translate:function(a,b){for(var c=!0,d=ss.IEnumerator.getEnumerator(this.get_selectedObjects());d.moveNext();){var e=d.current,f=!e.get_isLocked();if(f){var g=Type.safeCast(e,lt.Annotations.Core.AnnTextReviewObject);null!=g&&(f=g.get_canTranslate())}f&&(c=!1,e.translate(a,b),e.set_renderedObjectBounds(lt.Annotations.Core._leadRectDExtensions.unionRects(e.get_renderedObjectBounds(),
e.get_bounds())))}c||lt.Annotations.Core.AnnSelectionObject.callBaseMethod(this,"translate",[a,b])},create:function(){return new lt.Annotations.Core.AnnSelectionObject},clone:function(){return Type.safeCast(lt.Annotations.Core.AnnSelectionObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnSelectionObject)},get_hitTestInterior:function(){return!0},applyProperties:function(){for(var a=ss.IEnumerator.getEnumerator(this.get_selectedObjects());a.moveNext();){var b=a.current;b.set_hyperlink(this.get_hyperlink());
b.set_fixedStateOperations(b.get_fixedStateOperations()|this.get_fixedStateOperations());b.get_labels().AnnObjectName=this.get_labels().AnnObjectName.clone();b.set_opacity(this.get_opacity());null!=this.get_stroke()&&b.set_stroke(this.get_stroke().clone());null!=this.get_fill()&&b.set_fill(this.get_fill().clone())}},getInvalidateRect:function(a,b){for(var c=lt.Annotations.Core._leadRectDExtensions.get_empty(),d=ss.IEnumerator.getEnumerator(this.get_selectedObjects());d.moveNext();){var e=d.current.getInvalidateRect(a,
b);if(lt.Annotations.Core._leadRectDExtensions.isEmpty(e))return e;c=lt.Annotations.Core._leadRectDExtensions.unionRects(c,e)}d=lt.Annotations.Core.AnnSelectionObject.callBaseMethod(this,"getInvalidateRect",[a,b]);d=lt.Annotations.Core._leadRectDExtensions.unionRects(d,c);this._isNaN$2(this._oldInvalidateRect$2)||(d=lt.Annotations.Core._leadRectDExtensions.unionRects(d,this._oldInvalidateRect$2));this._oldInvalidateRect$2=lt.Annotations.Core._leadRectDExtensions.clone(d);return d},_isNaN$2:function(){return!1},
_calculateRect$2:function(){if(0<this._selectedObjects$2.get_count()){if(1<this._selectedObjects$2.get_count()){this._rect$2=lt.Annotations.Core._leadRectDExtensions.clone(this._selectedObjects$2.get_item(0).get_bounds());for(var a=1;a<this._selectedObjects$2.get_count();a++)this._rect$2=lt.Annotations.Core._leadRectDExtensions.unionRects(this._rect$2,this._selectedObjects$2.get_item(a).get_bounds())}this.set_rect(lt.Annotations.Core._leadRectDExtensions.clone(this._rect$2))}else this.set_rect(lt.Annotations.Core._leadRectDExtensions.get_empty())}};
Object.defineProperty(lt.Annotations.Core.AnnSelectionObject.prototype,"alignmentTarget",{get:lt.Annotations.Core.AnnSelectionObject.prototype.get_alignmentTarget,set:lt.Annotations.Core.AnnSelectionObject.prototype.set_alignmentTarget,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSelectionObject.prototype,"selectionOpacity",{get:lt.Annotations.Core.AnnSelectionObject.prototype.get_selectionOpacity,set:lt.Annotations.Core.AnnSelectionObject.prototype.set_selectionOpacity,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSelectionObject.prototype,"supportsContent",{get:lt.Annotations.Core.AnnSelectionObject.prototype.get_supportsContent,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSelectionObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnSelectionObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSelectionObject.prototype,"selectedObjects",
{get:lt.Annotations.Core.AnnSelectionObject.prototype.get_selectedObjects,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSelectionObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnSelectionObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSelectionObject.prototype,"canRotate",{get:lt.Annotations.Core.AnnSelectionObject.prototype.get_canRotate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSelectionObject.prototype,
"hitTestInterior",{get:lt.Annotations.Core.AnnSelectionObject.prototype.get_hitTestInterior,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnStampObject=function(){this._pictureSizeMode$3=1;lt.Annotations.Core.AnnStampObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.stampObjectId);this.set_horizontalAlignment(1);this.set_verticalAlignment(1);this.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("yellow"))};lt.Annotations.Core.AnnStampObject.prototype={get_friendlyName:function(){return"Stamp"},
_drawShadow$3:!1,get_drawShadow:function(){return this._drawShadow$3},set_drawShadow:function(a){if(this._drawShadow$3!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("DrawShadow",1,this._drawShadow$3,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._drawShadow$3=a,this.onPropertyChanged(b))}return a},get_pictureSizeMode:function(){return this._pictureSizeMode$3},set_pictureSizeMode:function(a){if(this._pictureSizeMode$3!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("PictureSizeMode",
1,this._pictureSizeMode$3,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._pictureSizeMode$3=a,this.onPropertyChanged(b))}return a},_picture$3:null,get_picture:function(){return this._picture$3},set_picture:function(a){if(this._picture$3!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Picture",1,this._picture$3,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._picture$3=a,this.onPropertyChanged(b))}return a},create:function(){return new lt.Annotations.Core.AnnStampObject},
clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnStampObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnStampObject);null!=a&&(null!=this._picture$3&&(a.set_picture(this._picture$3.clone()),a.set_pictureSizeMode(this._pictureSizeMode$3)),a.set_drawShadow(this._drawShadow$3));return a},get_hitTestInterior:function(){return lt.Annotations.Core.AnnStampObject.callBaseMethod(this,"get_hitTestInterior")&&(null!=this.get_picture()||null!=this.get_fill())},serialize:function(a,b,c){lt.Annotations.Core.AnnStampObject.callBaseMethod(this,
"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writePictureElement(c,"Picture",b,this._picture$3);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"DrawShadow",b,this._drawShadow$3)},deserialize:function(a,b,c){lt.Annotations.Core.AnnStampObject.callBaseMethod(this,"deserialize",[a,b,c]);this._picture$3=lt.Annotations.Core.AnnXmlHelper.readPictureElement(c,"Picture",b);this._drawShadow$3=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"DrawShadow",b,!1)},getInvalidateRect:function(a,
b){var c=lt.Annotations.Core.AnnStampObject.callBaseMethod(this,"getInvalidateRect",[a,b]);if(this._drawShadow$3){var d=a.lengthFromContainerCoordinates(lt.Annotations.Core._leadLengthDExtensions.create(30),2);lt.Annotations.Core._leadRectDExtensions.isEmpty(c)||(c=lt.Annotations.Core._leadRectDExtensions.inflate(c,d,d));c.get_isEmpty()||(c=lt.Annotations.Core._leadRectDExtensions.inflate(c,1,1),c=lt.Annotations.Core._leadRectDExtensions.create(parseInt(c.get_x()),parseInt(c.get_y()),parseInt(c.get_width()),
parseInt(c.get_height())))}return c}};Object.defineProperty(lt.Annotations.Core.AnnStampObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnStampObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStampObject.prototype,"drawShadow",{get:lt.Annotations.Core.AnnStampObject.prototype.get_drawShadow,set:lt.Annotations.Core.AnnStampObject.prototype.set_drawShadow,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStampObject.prototype,
"pictureSizeMode",{get:lt.Annotations.Core.AnnStampObject.prototype.get_pictureSizeMode,set:lt.Annotations.Core.AnnStampObject.prototype.set_pictureSizeMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStampObject.prototype,"picture",{get:lt.Annotations.Core.AnnStampObject.prototype.get_picture,set:lt.Annotations.Core.AnnStampObject.prototype.set_picture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStampObject.prototype,"hitTestInterior",
{get:lt.Annotations.Core.AnnStampObject.prototype.get_hitTestInterior,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnStickyNoteObject=function(){lt.Annotations.Core.AnnStickyNoteObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.stickyNoteObjectId)};lt.Annotations.Core.AnnStickyNoteObject.prototype={get_supportsStroke:function(){return!1},get_supportsSelectionStroke:function(){return!0},get_supportsFill:function(){return!1},get_supportsFont:function(){return!1},get_canRotate:function(){return!1},
get_friendlyName:function(){return"Sticky Note"},get_hitTestInterior:function(){return!0},_picture$1:null,get_picture:function(){return this._picture$1},set_picture:function(a){if(this._picture$1!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Picture",1,this._picture$1,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._picture$1=a,this.onPropertyChanged(b))}return a},_defaultPicture$1:8,get_defaultPicture:function(){return this._defaultPicture$1},set_defaultPicture:function(a){if(this._defaultPicture$1!==
a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("DefaultPicture",1,this._defaultPicture$1,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._defaultPicture$1=a,this.onPropertyChanged(b))}return a},create:function(){return new lt.Annotations.Core.AnnStickyNoteObject},scale:function(){},scaleVector:function(){},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnStickyNoteObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnStickyNoteObject);null!=a&&(null!=
this._picture$1&&(a._picture$1=this._picture$1.clone()),a.set_defaultPicture(this._defaultPicture$1));return a},getBoundingRectangle:function(){var a=lt.Annotations.Core._leadRectDExtensions.get_empty(),b=lt.Annotations.Core._leadPointDExtensions.get_empty();0<this.get_points().get_count()&&(b=this.get_points().get_item(0),a=this.get_picture(),a=null!=a?lt.Annotations.Core._leadRectDExtensions.create(b.get_x()-a.get_width()/2,b.get_y()-a.get_height()/2,a.get_width(),a.get_height()):lt.Annotations.Core._leadRectDExtensions.create(b.get_x(),
b.get_y(),1,1));return a},getInvalidateRect:function(a,b){var c=lt.Annotations.Core.AnnStickyNoteObject.callBaseMethod(this,"getInvalidateRect",[a,b]),d=this.get_bounds();if(lt.Annotations.Core._leadRectDExtensions.isEmpty(d))return lt.Annotations.Core._leadRectDExtensions.get_empty();var d=lt.Annotations.Core._leadSizeDExtensions.create(d.get_width(),d.get_height()),e=lt.Annotations.Core.AnnContainerMapper.createDefault();e.updateTransform(a.get_transform());d=e.sizeFromContainerCoordinates(d);e=
this.get_points().get_item(0);e=a.pointFromContainerCoordinates(e,this.get_fixedStateOperations());c=lt.Annotations.Core._leadRectDExtensions.unionRects(lt.Annotations.Core._leadRectDExtensions.create(e.get_x()-d.get_width()/2,e.get_y()-d.get_height()/2,d.get_width(),d.get_height()),c);this.get_supportsStroke()&&null!=this.get_stroke()&&(d=a.strokeFromContainerCoordinates(this.get_stroke(),this.get_fixedStateOperations()),d=Math.max(d.get_strokeThickness().get_value(),1),c=lt.Annotations.Core._leadRectDExtensions.inflate(c,
d+1,d+1));this.get_supportsSelectionStroke()&&null!=this.get_selectionStroke()&&(d=a.strokeFromContainerCoordinates(this.get_selectionStroke(),this.get_fixedStateOperations()),d=d.get_strokeThickness().get_value(),c=lt.Annotations.Core._leadRectDExtensions.inflate(c,d+1,d+1));c.get_isEmpty()||(c=lt.Annotations.Core._leadRectDExtensions.inflate(c,1,1),c=lt.Annotations.Core._leadRectDExtensions.create(parseInt(c.get_x()),parseInt(c.get_y()),parseInt(c.get_width()),parseInt(c.get_height())));return c},
serialize:function(a,b,c){lt.Annotations.Core.AnnStickyNoteObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writePictureElement(c,"Picture",b,this._picture$1)},deserialize:function(a,b,c){lt.Annotations.Core.AnnStickyNoteObject.callBaseMethod(this,"deserialize",[a,b,c]);this._picture$1=lt.Annotations.Core.AnnXmlHelper.readPictureElement(c,"Picture",b);this.set_isSelected(!1)}};Object.defineProperty(lt.Annotations.Core.AnnStickyNoteObject.prototype,"supportsStroke",
{get:lt.Annotations.Core.AnnStickyNoteObject.prototype.get_supportsStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStickyNoteObject.prototype,"supportsSelectionStroke",{get:lt.Annotations.Core.AnnStickyNoteObject.prototype.get_supportsSelectionStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStickyNoteObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnStickyNoteObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Core.AnnStickyNoteObject.prototype,"supportsFont",{get:lt.Annotations.Core.AnnStickyNoteObject.prototype.get_supportsFont,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStickyNoteObject.prototype,"canRotate",{get:lt.Annotations.Core.AnnStickyNoteObject.prototype.get_canRotate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStickyNoteObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnStickyNoteObject.prototype.get_friendlyName,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStickyNoteObject.prototype,"hitTestInterior",{get:lt.Annotations.Core.AnnStickyNoteObject.prototype.get_hitTestInterior,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStickyNoteObject.prototype,"picture",{get:lt.Annotations.Core.AnnStickyNoteObject.prototype.get_picture,set:lt.Annotations.Core.AnnStickyNoteObject.prototype.set_picture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStickyNoteObject.prototype,
"defaultPicture",{get:lt.Annotations.Core.AnnStickyNoteObject.prototype.get_defaultPicture,set:lt.Annotations.Core.AnnStickyNoteObject.prototype.set_defaultPicture,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnTextHiliteObject=function(){lt.Annotations.Core.AnnTextHiliteObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.textHiliteObjectId);this.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("Yellow"));this.set_opacity(0.5)};lt.Annotations.Core.AnnTextHiliteObject.prototype=
{create:function(){return new lt.Annotations.Core.AnnTextHiliteObject},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnTextHiliteObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnTextHiliteObject);a.set_fill(null!=this.get_fill()?this.get_fill().clone():null);return a},get_friendlyName:function(){return"Text Hilite"}};Object.defineProperty(lt.Annotations.Core.AnnTextHiliteObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnTextHiliteObject.prototype.get_friendlyName,enumerable:!0,
configurable:!0});lt.Annotations.Core.AnnTextObject=function(){this._textSize$2=lt.Annotations.Core._leadSizeDExtensions.get_empty();lt.Annotations.Core.AnnTextObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.textObjectId);this.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("Transparent"));this._text$2="LEADTOOLS";this._verticalAlignment$2=this._textRotate$2=this._horizontalAlignment$2=0;this._textBackground$2=lt.Annotations.Core.AnnSolidColorBrush.create("Transparent");
this._textForeground$2=lt.Annotations.Core.AnnSolidColorBrush.create("red");this._padding$2=new lt.Annotations.Core.AnnThickness(0,0,0,0)};lt.Annotations.Core.AnnTextObject.prototype={get_friendlyName:function(){return"Text"},_text$2:null,_horizontalAlignment$2:0,_textRotate$2:0,_verticalAlignment$2:0,_textBackground$2:null,_textForeground$2:null,_padding$2:null,get_supportsFont:function(){return!0},get_supportsFill:function(){return!0},get_supportsContent:function(){return!1},get_text:function(){return this._text$2},
set_text:function(a){if(this._text$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Text",1,this._text$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._text$2=a,this._isTextDirty$2=!0,this.onPropertyChanged(b))}return a},get_textRotate:function(){return this._textRotate$2},set_textRotate:function(a){if(this._textRotate$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("TextRotate",1,this._textRotate$2,a);this.onPropertyChanged(b);b.get_cancel()||
(b.set_status(0),this._textRotate$2=a,this.onPropertyChanged(b))}return a},get_horizontalAlignment:function(){return this._horizontalAlignment$2},set_horizontalAlignment:function(a){if(this._horizontalAlignment$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("HorizontalAlignment",1,this._horizontalAlignment$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._horizontalAlignment$2=a,this.onPropertyChanged(b))}return a},get_verticalAlignment:function(){return this._verticalAlignment$2},
set_verticalAlignment:function(a){if(this._verticalAlignment$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("VerticalAlignment",1,this._verticalAlignment$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._verticalAlignment$2=a,this.onPropertyChanged(b))}return a},get_textBackground:function(){return this._textBackground$2},set_textBackground:function(a){if(this._textBackground$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("TextBackground",1,
this._textBackground$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._textBackground$2=a,this.onPropertyChanged(b))}return a},get_textForeground:function(){return this._textForeground$2},set_textForeground:function(a){if(this._textForeground$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("TextForeground",1,this._textForeground$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._textForeground$2=a,this.onPropertyChanged(b))}return a},get_padding:function(){return this._padding$2},
set_padding:function(a){if(this._padding$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Padding",1,this._padding$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._padding$2=a,this.onPropertyChanged(b))}return a},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnTextObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnTextObject);null!=a&&(a.set_text(this.get_text()),a.set_textRotate(this.get_textRotate()),a.set_horizontalAlignment(this.get_horizontalAlignment()),
a.set_verticalAlignment(this.get_verticalAlignment()),a.set_wordWrap(this.get_wordWrap()),null!=this.get_textBackground()&&a.set_textBackground(this.get_textBackground().clone()),null!=this.get_textForeground()&&a.set_textForeground(this.get_textForeground().clone()),a.set_padding(this.get_padding().clone()));return a},serialize:function(a,b,c){lt.Annotations.Core.AnnTextObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"Text",b,this._text$2);lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,
"TextRotate",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnTextRotate,this._textRotate$2));lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"HorizontalAlignment",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnHorizontalAlignment,this._horizontalAlignment$2));lt.Annotations.Core.AnnXmlHelper.writeStringElement(c,"VerticalAlignment",b,lt.Annotations.Core.Utils.enumToString(lt.Annotations.Core.AnnVerticalAlignment,this._verticalAlignment$2));lt.Annotations.Core.AnnXmlHelper.writeBrushElement(c,
"Background",b,this._textBackground$2);lt.Annotations.Core.AnnXmlHelper.writeBrushElement(c,"Foreground",b,this._textForeground$2);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"WordWrap",b,this._wordWrap$2);lt.Annotations.Core.AnnXmlHelper.writeThicknessElement(c,"Padding",b,this._padding$2)},deserialize:function(a,b,c){lt.Annotations.Core.AnnTextObject.callBaseMethod(this,"deserialize",[a,b,c]);this._text$2=lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"Text",b,"");this._textRotate$2=
lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnTextRotate,lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"TextRotate",b,this._textRotate$2.toString()));this._horizontalAlignment$2=lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnHorizontalAlignment,lt.Annotations.Core.AnnXmlHelper.readStringElement(c,"HorizontalAlignment",b,this._horizontalAlignment$2.toString()));this._verticalAlignment$2=lt.Annotations.Core.Utils.enumParse(lt.Annotations.Core.AnnVerticalAlignment,lt.Annotations.Core.AnnXmlHelper.readStringElement(c,
"VerticalAlignment",b,this._verticalAlignment$2.toString()));this._textBackground$2=lt.Annotations.Core.AnnXmlHelper.readBrushElement(c,"Background",b,this._textBackground$2);this._textForeground$2=lt.Annotations.Core.AnnXmlHelper.readBrushElement(c,"Foreground",b,this._textForeground$2);this._wordWrap$2=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"WordWrap",b,this._wordWrap$2);this._padding$2=lt.Annotations.Core.AnnXmlHelper.readThicknessElement(c,"Padding",b,this._padding$2)},create:function(){return new lt.Annotations.Core.AnnTextObject},
_wordWrap$2:!0,get_wordWrap:function(){return this._wordWrap$2},set_wordWrap:function(a){if(this._wordWrap$2!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("WordWrap",1,this._wordWrap$2,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._wordWrap$2=a,this.onPropertyChanged(b))}return a},_isTextDirty$2:!1,get__isTextDirty:function(){return this._isTextDirty$2},set__isTextDirty:function(a){return this._isTextDirty$2=a},_internalData$2:null,get__internalData:function(){return this._internalData$2},
set__internalData:function(a){return this._internalData$2=a},get_textSize:function(){return this._textSize$2},set_textSize:function(a){return this._textSize$2=a},autoSize:function(){if(!this.get_isLocked()&&!lt.Annotations.Core._leadSizeDExtensions.isEmpty(this._textSize$2)){var a=this.get_rect(),b=this.get_angle(),c=this.get_isFlipped(),d=this.get_isReversed();3===this.get_textRotate()||1===this.get_textRotate()?this.set_rect(lt.Annotations.Core._leadRectDExtensions.create(a.get_x(),a.get_y(),this._textSize$2.get_height(),
this._textSize$2.get_width())):this.set_rect(lt.Annotations.Core._leadRectDExtensions.create(a.get_x(),a.get_y(),this._textSize$2.get_width(),this._textSize$2.get_height()));this.rotate(b,this.get_rotateCenter());a=this.get_bounds();a=lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+a.get_width()/2,a.get_y()+a.get_height()/2);c&&this.scale(1,-1,a);d&&this.scale(-1,1,a)}}};Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnTextObject.prototype.get_friendlyName,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,"supportsFont",{get:lt.Annotations.Core.AnnTextObject.prototype.get_supportsFont,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnTextObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,"supportsContent",{get:lt.Annotations.Core.AnnTextObject.prototype.get_supportsContent,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,"text",{get:lt.Annotations.Core.AnnTextObject.prototype.get_text,set:lt.Annotations.Core.AnnTextObject.prototype.set_text,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,"textRotate",{get:lt.Annotations.Core.AnnTextObject.prototype.get_textRotate,set:lt.Annotations.Core.AnnTextObject.prototype.set_textRotate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,
"horizontalAlignment",{get:lt.Annotations.Core.AnnTextObject.prototype.get_horizontalAlignment,set:lt.Annotations.Core.AnnTextObject.prototype.set_horizontalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,"verticalAlignment",{get:lt.Annotations.Core.AnnTextObject.prototype.get_verticalAlignment,set:lt.Annotations.Core.AnnTextObject.prototype.set_verticalAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,
"textBackground",{get:lt.Annotations.Core.AnnTextObject.prototype.get_textBackground,set:lt.Annotations.Core.AnnTextObject.prototype.set_textBackground,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,"textForeground",{get:lt.Annotations.Core.AnnTextObject.prototype.get_textForeground,set:lt.Annotations.Core.AnnTextObject.prototype.set_textForeground,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,"padding",
{get:lt.Annotations.Core.AnnTextObject.prototype.get_padding,set:lt.Annotations.Core.AnnTextObject.prototype.set_padding,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,"wordWrap",{get:lt.Annotations.Core.AnnTextObject.prototype.get_wordWrap,set:lt.Annotations.Core.AnnTextObject.prototype.set_wordWrap,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextObject.prototype,"textSize",{get:lt.Annotations.Core.AnnTextObject.prototype.get_textSize,
set:lt.Annotations.Core.AnnTextObject.prototype.set_textSize,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnTextPointerObject=function(){lt.Annotations.Core.AnnTextPointerObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.textPointerObjectId);this._pointerPosition$3=lt.Annotations.Core._leadPointDExtensions.get_empty();this._fixedPointer$3=!1};lt.Annotations.Core.AnnTextPointerObject.prototype={get_friendlyName:function(){return"Text Pointer"},_pointerPosition$3:null,get_pointerPosition:function(){return this._pointerPosition$3},
set_pointerPosition:function(a){return this._pointerPosition$3=a},_fixedPointer$3:!1,get_fixedPointer:function(){return this._fixedPointer$3},set_fixedPointer:function(a){if(this._fixedPointer$3!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("FixedPointer",1,this._fixedPointer$3,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._fixedPointer$3=a,this.onPropertyChanged(b))}return a},_showArrow$3:!1,get_showArrow:function(){return this._showArrow$3},set_showArrow:function(a){if(this._showArrow$3!==
a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("ShowArrow",1,this._showArrow$3,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._showArrow$3=a,this.onPropertyChanged(b))}return a},create:function(){return new lt.Annotations.Core.AnnTextPointerObject},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnTextPointerObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnTextPointerObject);null!=a&&(a._pointerPosition$3=lt.Annotations.Core._leadPointDExtensions.clone(this._pointerPosition$3),
a._fixedPointer$3=this._fixedPointer$3,a._showArrow$3=this._showArrow$3);return a},serialize:function(a,b,c){lt.Annotations.Core.AnnTextPointerObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writePointElement(c,"PointerPosition",b,this._pointerPosition$3);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"FixedPointer",b,this._fixedPointer$3)},deserialize:function(a,b,c){lt.Annotations.Core.AnnTextPointerObject.callBaseMethod(this,"deserialize",[a,b,c]);this._pointerPosition$3=
lt.Annotations.Core.AnnXmlHelper.readPointElement(c,"PointerPosition",b,this._pointerPosition$3);this._fixedPointer$3=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"FixedPointer",b,this._fixedPointer$3)},scale:function(a,b,c){lt.Annotations.Core.AnnTextPointerObject.callBaseMethod(this,"scale",[a,b,c]);this.get_fixedPointer()||this.set_pointerPosition(lt.Annotations.Core.AnnTransformer.scalePointAt(this.get_pointerPosition(),a,b,c.get_x(),c.get_y()))},translate:function(a,b){lt.Annotations.Core.AnnTextPointerObject.callBaseMethod(this,
"translate",[a,b]);this.get_fixedPointer()||(lt.Annotations.Core._leadPointDExtensions.isEmpty(this._pointerPosition$3)?this._pointerPosition$3=lt.Annotations.Core._leadPointDExtensions.create(a,b):(this._pointerPosition$3.set_x(this._pointerPosition$3.get_x()+a),this._pointerPosition$3.set_y(this._pointerPosition$3.get_y()+b)))},rotate:function(a,b){lt.Annotations.Core.AnnTextPointerObject.callBaseMethod(this,"rotate",[a,b]);!this.get_fixedPointer()&&!lt.Annotations.Core._leadPointDExtensions.isEmpty(this._pointerPosition$3)&&
(this._pointerPosition$3=lt.Annotations.Core.AnnTransformer.rotatePointAt(this._pointerPosition$3,a,b.get_x(),b.get_y()))},hitTest:function(a,b){if(!this.get_isVisible())return!1;var c=lt.Annotations.Core.AnnTextPointerObject.callBaseMethod(this,"hitTest",[a,b]);if(c)return!0;c=this.getPointerPoints();return c=lt.Annotations.Core.Utils.hitTestLine(c[0],c[1],a,b,!0)},getPointerPoints:function(){var a=null;if(0<this.get_points().get_count())for(var a=[this.get_pointerPosition(),this.get_points().get_item(0)],
b=lt.Annotations.Core.Utils.distance(this.get_points().get_item(0),a[0]),c=1;c<this.get_points().get_count();++c){var d=lt.Annotations.Core.Utils.distance(this.get_points().get_item(c),a[0]);d<b&&(b=d,a[1]=this.get_points().get_item(c))}return a},getBoundingRectangle:function(){var a=lt.Annotations.Core.AnnTextPointerObject.callBaseMethod(this,"getBoundingRectangle");return lt.Annotations.Core._leadRectDExtensions.unionPoint(a,this.get_pointerPosition())},getInvalidateRect:function(a,b){var c=lt.Annotations.Core.AnnTextPointerObject.callBaseMethod(this,
"getInvalidateRect",[a,b]);if(this.get_showArrow()){var d=new lt.Annotations.Core.AnnPointerObject,e=this.getPointerPoints();if(null!=e){for(e=ss.IEnumerator.getEnumerator(e);e.moveNext();){var f=e.current;d.get_points().add(f)}c=lt.Annotations.Core._leadRectDExtensions.unionRects(c,d.getInvalidateRect(a,b))}}return c}};Object.defineProperty(lt.Annotations.Core.AnnTextPointerObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnTextPointerObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Core.AnnTextPointerObject.prototype,"pointerPosition",{get:lt.Annotations.Core.AnnTextPointerObject.prototype.get_pointerPosition,set:lt.Annotations.Core.AnnTextPointerObject.prototype.set_pointerPosition,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextPointerObject.prototype,"fixedPointer",{get:lt.Annotations.Core.AnnTextPointerObject.prototype.get_fixedPointer,set:lt.Annotations.Core.AnnTextPointerObject.prototype.set_fixedPointer,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextPointerObject.prototype,"showArrow",{get:lt.Annotations.Core.AnnTextPointerObject.prototype.get_showArrow,set:lt.Annotations.Core.AnnTextPointerObject.prototype.set_showArrow,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnTextRedactionObject=function(){lt.Annotations.Core.AnnTextRedactionObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.textRedactionObjectId);this.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("Black"))};
lt.Annotations.Core.AnnTextRedactionObject.prototype={get_supportsOpacity:function(){return!1},create:function(){return new lt.Annotations.Core.AnnTextRedactionObject},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnTextRedactionObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnTextRedactionObject);a.set_fill(null!=this.get_fill()?this.get_fill().clone():null);return a},get_friendlyName:function(){return"Text Redaction "}};Object.defineProperty(lt.Annotations.Core.AnnTextRedactionObject.prototype,
"supportsOpacity",{get:lt.Annotations.Core.AnnTextRedactionObject.prototype.get_supportsOpacity,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextRedactionObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnTextRedactionObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnTextReviewObject=function(){lt.Annotations.Core.AnnTextReviewObject.initializeBase(this)};lt.Annotations.Core.AnnTextReviewObject._getPointsFromRect$1=function(a){return lt.Annotations.Core._leadRectDExtensions.isEmpty(a)?
null:[lt.Annotations.Core._leadRectDExtensions.topLeft(a),lt.Annotations.Core._leadRectDExtensions.bottomRight(a)]};lt.Annotations.Core.AnnTextReviewObject.prototype={get_canRotate:function(){return!1},get_hitTestInterior:function(){return!1},_canTranslate$1:!1,get_canTranslate:function(){return this._canTranslate$1},set_canTranslate:function(a){return this._canTranslate$1=a},_canScale$1:!1,get_canScale:function(){return this._canScale$1},set_canScale:function(a){return this._canScale$1=a},hitTest:function(a,
b){if(!this.get_isVisible())return!1;var c=!1,d=this.getRectangles();if(null!=d&&0<d.length)for(var e=0;e<d.length&&!c;e++){var f=d[e];lt.Annotations.Core._leadRectDExtensions.isEmpty(f)||(f=lt.Annotations.Core._leadRectDExtensions.inflate(f,b,b),c=lt.Annotations.Core._leadRectDExtensions.containsPoint(f,a))}return c},get_supportsSelectionStroke:function(){return!0},get_supportsFill:function(){return!0},get_supportsStroke:function(){return!1},scale:function(a,b,c){this.get_canScale()&&lt.Annotations.Core.AnnTextReviewObject.callBaseMethod(this,
"scale",[a,b,c])},scaleVector:function(a,b,c,d,e){this.get_canScale()&&lt.Annotations.Core.AnnTextReviewObject.callBaseMethod(this,"scaleVector",[a,b,c,d,e])},translate:function(a,b){this.get_canTranslate()&&lt.Annotations.Core.AnnTextReviewObject.callBaseMethod(this,"translate",[a,b])},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnTextReviewObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnTextReviewObject);a.set_canScale(this.get_canScale());a.set_canTranslate(this.get_canTranslate());
return a},serialize:function(a,b,c){lt.Annotations.Core.AnnTextReviewObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"CanScale",b,this.get_canScale());lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"CanTranslate",b,this.get_canTranslate())},deserialize:function(a,b,c){lt.Annotations.Core.AnnTextReviewObject.callBaseMethod(this,"deserialize",[a,b,c]);this.set_canScale(lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"CanScale",b,this.get_canScale()));
this.set_canTranslate(lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"CanTranslate",b,this.get_canTranslate()));this.set_isSelected(!1)},addRectangle:function(a){if(!lt.Annotations.Core._leadRectDExtensions.isEmpty(a))for(a=ss.IEnumerator.getEnumerator(lt.Annotations.Core.AnnTextReviewObject._getPointsFromRect$1(a));a.moveNext();){var b=a.current;this.get_points().add(b)}},setRectangles:function(a){(null==a||!a.length)&&this.get_points().clear();for(a=ss.IEnumerator.getEnumerator(a);a.moveNext();)for(var b=
ss.IEnumerator.getEnumerator(lt.Annotations.Core.AnnTextReviewObject._getPointsFromRect$1(a.current));b.moveNext();){var c=b.current;this.get_points().add(c)}},getRectangles:function(){for(var a=this.get_points().get_count(),b=Array(a/2),c=0,d=0;d<a;d+=2){var e=this.get_points().get_item(d),f=lt.Annotations.Core._leadPointDExtensions.create(e.get_x(),e.get_y()),e=this.get_points().get_item(d+1),e=lt.Annotations.Core._leadPointDExtensions.create(e.get_x(),e.get_y());b[c]=lt.Annotations.Core._leadRectDExtensions.fromLTRB(f.get_x(),
f.get_y(),e.get_x(),e.get_y());c++}return b}};Object.defineProperty(lt.Annotations.Core.AnnTextReviewObject.prototype,"canRotate",{get:lt.Annotations.Core.AnnTextReviewObject.prototype.get_canRotate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextReviewObject.prototype,"hitTestInterior",{get:lt.Annotations.Core.AnnTextReviewObject.prototype.get_hitTestInterior,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextReviewObject.prototype,"canTranslate",
{get:lt.Annotations.Core.AnnTextReviewObject.prototype.get_canTranslate,set:lt.Annotations.Core.AnnTextReviewObject.prototype.set_canTranslate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextReviewObject.prototype,"canScale",{get:lt.Annotations.Core.AnnTextReviewObject.prototype.get_canScale,set:lt.Annotations.Core.AnnTextReviewObject.prototype.set_canScale,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextReviewObject.prototype,"supportsSelectionStroke",
{get:lt.Annotations.Core.AnnTextReviewObject.prototype.get_supportsSelectionStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextReviewObject.prototype,"supportsFill",{get:lt.Annotations.Core.AnnTextReviewObject.prototype.get_supportsFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnTextReviewObject.prototype,"supportsStroke",{get:lt.Annotations.Core.AnnTextReviewObject.prototype.get_supportsStroke,enumerable:!0,configurable:!0});
lt.Annotations.Core.AnnTextRollupObject=function(){lt.Annotations.Core.AnnTextRollupObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.textRollupObjectId);this.set_horizontalAlignment(1);this.set_verticalAlignment(1)};lt.Annotations.Core.AnnTextRollupObject.prototype={get_friendlyName:function(){return"Text Rollup"},_expanded$4:!0,get_expanded:function(){return this._expanded$4},set_expanded:function(a){if(this._expanded$4!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Expanded",
1,this._expanded$4,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._expanded$4=a,this.onPropertyChanged(b))}return a},create:function(){return new lt.Annotations.Core.AnnTextRollupObject},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnTextRollupObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnTextRollupObject);null!=a&&(a._expanded$4=this._expanded$4);return a},serialize:function(a,b,c){lt.Annotations.Core.AnnTextRollupObject.callBaseMethod(this,"serialize",
[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeBooleanElement(c,"Expanded",b,this._expanded$4)},deserialize:function(a,b,c){lt.Annotations.Core.AnnTextRollupObject.callBaseMethod(this,"deserialize",[a,b,c]);this._expanded$4=lt.Annotations.Core.AnnXmlHelper.readBooleanElement(c,"Expanded",b,this._expanded$4)}};Object.defineProperty(lt.Annotations.Core.AnnTextRollupObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnTextRollupObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Core.AnnTextRollupObject.prototype,"expanded",{get:lt.Annotations.Core.AnnTextRollupObject.prototype.get_expanded,set:lt.Annotations.Core.AnnTextRollupObject.prototype.set_expanded,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnTextStrikeoutObject=function(){lt.Annotations.Core.AnnTextStrikeoutObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.textStrikeoutObjectId);this.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("Red"))};
lt.Annotations.Core.AnnTextStrikeoutObject.prototype={create:function(){return new lt.Annotations.Core.AnnTextStrikeoutObject},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnTextStrikeoutObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnTextStrikeoutObject);a.set_fill(null!=this.get_fill()?this.get_fill().clone():null);return a},get_friendlyName:function(){return"Text Strikeout"}};Object.defineProperty(lt.Annotations.Core.AnnTextStrikeoutObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnTextStrikeoutObject.prototype.get_friendlyName,
enumerable:!0,configurable:!0});lt.Annotations.Core.AnnTextUnderlineObject=function(){lt.Annotations.Core.AnnTextUnderlineObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.textUnderlineObjectId);this.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("Green"))};lt.Annotations.Core.AnnTextUnderlineObject.prototype={create:function(){return new lt.Annotations.Core.AnnTextUnderlineObject},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnTextUnderlineObject.callBaseMethod(this,
"clone"),lt.Annotations.Core.AnnTextUnderlineObject);a.set_fill(null!=this.get_fill()?this.get_fill().clone():null);return a},get_friendlyName:function(){return"Text Underline"}};Object.defineProperty(lt.Annotations.Core.AnnTextUnderlineObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnTextUnderlineObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnMediaObject=function(){lt.Annotations.Core.AnnMediaObject.initializeBase(this);this.setId(lt.Annotations.Core.AnnObject.mediaObjectId);
this.set_defaultPicture(4);this._media$4=new lt.Annotations.Core.AnnMedia};lt.Annotations.Core.AnnMediaObject.prototype={get_friendlyName:function(){return"Media"},_media$4:null,get_media:function(){return this._media$4},set_media:function(a){if(this._media$4!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Media",1,this._media$4,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._media$4=a,this.onPropertyChanged(b))}return a},create:function(){return new lt.Annotations.Core.AnnMediaObject},
clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnMediaObject.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnMediaObject);a._media$4=null!=this._media$4?this._media$4.clone():null;return a},serialize:function(a,b,c){lt.Annotations.Core.AnnMediaObject.callBaseMethod(this,"serialize",[a,b,c]);lt.Annotations.Core.AnnXmlHelper.writeMediaElement(c,"Media",b,this._media$4)},deserialize:function(a,b,c){lt.Annotations.Core.AnnMediaObject.callBaseMethod(this,"deserialize",[a,b,c]);this._media$4=
lt.Annotations.Core.AnnXmlHelper.readMediaElement(c,"Media",b)},get_hitTestInterior:function(){return 1===(1===(lt.Annotations.Core.AnnMediaObject.callBaseMethod(this,"get_hitTestInterior")|null!=this.get_picture())|-1<this.get_defaultPicture())}};Object.defineProperty(lt.Annotations.Core.AnnMediaObject.prototype,"friendlyName",{get:lt.Annotations.Core.AnnMediaObject.prototype.get_friendlyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnMediaObject.prototype,"media",
{get:lt.Annotations.Core.AnnMediaObject.prototype.get_media,set:lt.Annotations.Core.AnnMediaObject.prototype.set_media,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnMediaObject.prototype,"hitTestInterior",{get:lt.Annotations.Core.AnnMediaObject.prototype.get_hitTestInterior,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnLoadPictureEventArgs=function(){lt.Annotations.Core.AnnLoadPictureEventArgs.initializeBase(this)};lt.Annotations.Core.AnnLoadPictureEventArgs.create=
function(a,b,c,d){var e=new lt.Annotations.Core.AnnLoadPictureEventArgs;e._picture$1=a;e._annObject$1=b;e._container$1=c;e._error$1=d;return e};lt.Annotations.Core.AnnLoadPictureEventArgs.prototype={_picture$1:null,get_picture:function(){return this._picture$1},_annObject$1:null,get_annObject:function(){return this._annObject$1},_container$1:null,get_container:function(){return this._container$1},_error$1:null,get_error:function(){return this._error$1}};Object.defineProperty(lt.Annotations.Core.AnnLoadPictureEventArgs.prototype,
"picture",{get:lt.Annotations.Core.AnnLoadPictureEventArgs.prototype.get_picture,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLoadPictureEventArgs.prototype,"annObject",{get:lt.Annotations.Core.AnnLoadPictureEventArgs.prototype.get_annObject,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLoadPictureEventArgs.prototype,"container",{get:lt.Annotations.Core.AnnLoadPictureEventArgs.prototype.get_container,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLoadPictureEventArgs.prototype,
"error",{get:lt.Annotations.Core.AnnLoadPictureEventArgs.prototype.get_error,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnRenderingEngine=function(){this._snapToGridOptions=new lt.Annotations.Core.AnnSnapToGridOptions;this._renderers={};this._renderState=7;this._loadingPictureStroke=lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("white"),lt.Annotations.Core._leadLengthDExtensions.create(1));this._loadingPictureFill=lt.Annotations.Core.AnnSolidColorBrush.create("black")};
lt.Annotations.Core.AnnRenderingEngine.get_containerLabelRenderer=function(){return lt.Annotations.Core.AnnRenderingEngine._containerLabelRenderer};lt.Annotations.Core.AnnRenderingEngine.set_containerLabelRenderer=function(a){return lt.Annotations.Core.AnnRenderingEngine._containerLabelRenderer=a};lt.Annotations.Core.AnnRenderingEngine.prototype={get_stateless:function(){return!0},get_snapToGridOptions:function(){return this._snapToGridOptions},set_snapToGridOptions:function(a){return this._snapToGridOptions=
a},burnToRect:function(a){var b=this._container.get_mapper(),c=b.get_transform(),d=lt.Annotations.Core._leadSizeDExtensions.clone(this._container.get_size());!lt.Annotations.Core._leadRectDExtensions.isEmpty(a)&&a.get_width()&&a.get_height()&&b.set_burnScaleFactor(Math.max(a.get_width(),a.get_height())/Math.max(d.get_width(),d.get_height()));b.updateDestinationRectangle(a,d);this.burn();b.updateTransform(c);b.set_burnScaleFactor(1)},_originalMapper:null,burnToRectWithDpi:function(a,b,c,d,e){this._originalMapper=
this._container.get_mapper();b=new lt.Annotations.Core.AnnContainerMapper(b,c,d,e);b.set_deviceDpiX(this._originalMapper.get_deviceDpiX());b.set_deviceDpiY(this._originalMapper.get_deviceDpiY());b.set_calibrationScale(this._originalMapper.get_calibrationScale());c=lt.Annotations.Core._leadSizeDExtensions.clone(this._container.get_size());!lt.Annotations.Core._leadRectDExtensions.isEmpty(a)&&a.get_width()&&a.get_height()?b.set_burnScaleFactor(Math.max(a.get_width(),a.get_height())/Math.max(c.get_width(),
c.get_height())):(d=this._originalMapper.clone(),d.updateTransform(lt.LeadMatrix.get_identity()),d=d.rectFromContainerCoordinates(lt.Annotations.Core._leadRectDExtensions.create(0,0,this._container.get_size().get_width(),this._container.get_size().get_height()),0),d=this._originalMapper.rectFromContainerCoordinates(lt.Annotations.Core._leadRectDExtensions.create(0,0,this._container.get_size().get_width(),this._container.get_size().get_height()),0).get_width()/d.get_width(),b.set_burnScaleFactor(b.get_burnScaleFactor()/
d));b.updateDestinationRectangle(a,c);b.set_fontRelativeToDevice(this._container.get_mapper().get_fontRelativeToDevice());b.updateDestinationRectangle(a,c);this._container.set_mapper(b);this.burn();b.set_burnScaleFactor(1);this._container.set_mapper(this._originalMapper)},_container:null,get_renderers:function(){return this._renderers},set_renderers:function(a){return this._renderers=a},attachContainer:function(a){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("container");this._container=
a},attach:function(a){this.attachContainer(a)},detach:function(){this._container=null},get_container:function(){return this._container},get_clipRectangle:function(){return null!=this._container?lt.Annotations.Core._leadRectDExtensions.create(this._container.get_mapper().get_offset().get_x(),this._container.get_mapper().get_offset().get_y(),this._container.get_size().get_width(),this._container.get_size().get_height()):lt.Annotations.Core._leadRectDExtensions.get_empty()},_loadingPictureStroke:null,
get_loadingPictureStroke:function(){return this._loadingPictureStroke},set_loadingPictureStroke:function(a){return this._loadingPictureStroke=a},_loadingPictureFill:null,get_loadingPictureFill:function(){return this._loadingPictureFill},set_loadingPictureFill:function(a){return this._loadingPictureFill=a},get_renderState:function(){return this._renderState},set_renderState:function(a){return this._renderState=a},_resources:null,get_resources:function(){return this._resources},set_resources:function(a){return this._resources=
a},burn:function(){var a=this._container.get_mapper();null!=this._originalMapper&&a.set_burnScaleFactor(a.get_burnScaleFactor()*this._originalMapper.get_sourceDpiX()/this._originalMapper.get_targetDpiX());this._doRender(lt.Annotations.Core._leadRectDExtensions.get_empty(),!0);a.set_burnScaleFactor(1)},render:function(a,b){null!=this._container&&this.get_stateless()&&this._doRender(a,b)},_renderObject:function(a,b,c,d){var e=c.get_mapper(),f=!0;null!=c.get_groupsRoles()&&(f=this._container.get_groupsRoles().isCurrentUserInRole(new lt.Annotations.Core.AnnOperationInfoEventArgs(14,
b)));if(b.get_isVisible()&&f&&Object.keyExists(this.get_renderers(),b.get_id())&&(f=this.get_renderers()[b.get_id()],null!=f&&(f.initialize(this),null!=f&&0<b.get_points().get_count()))){var g=b.getInvalidateRect(e,f);if(lt.Annotations.Core._leadRectDExtensions.isEmpty(g)||lt.Annotations.Core._leadRectDExtensions.isEmpty(a)||lt.Annotations.Core._leadRectDExtensions.intersectsWith(a,g)){b.set_renderedObjectBounds(b.get_bounds());f.render(e,b);if(null!=b.get_labels()&&0<Object.getKeyCount(b.get_labels())&&
null!=f.get_labelRenderer())for(a=ss.IEnumerator.getEnumerator(Object.keys(b.get_labels()));a.moveNext();){var g=a.current,h=b.get_labels()[g];2===(h.get_restrictionMode()&2)&&h.set_restrictionRectangle(b.get_bounds());h.set_parent(b);f.get_labelRenderer().set_offsetHeight(h.get_offsetHeight());"AnnObjectName"===g&&(h.get_positionMode()?lt.Annotations.Core._leadPointDExtensions.isEmpty(h.get_originalPosition())&&h.set_originalPosition(c.get_mapper().pointToContainerCoordinates(lt.Annotations.Core._leadPointDExtensions.create(0,
0))):h.set_originalPosition(lt.Annotations.Core._leadPointDExtensions.create(b.get_bounds().get_x(),b.get_bounds().get_y())));f.get_labelRenderer().renderLabel(e,h,b.get_fixedStateOperations());b.set_renderedObjectBounds(lt.Annotations.Core._leadRectDExtensions.unionRects(b.get_renderedObjectBounds(),h.get_renderedLabelBounds()))}!d&&b.get_isSelected()&&(b.get_canRotate()&&f.renderRotatePointThumbs(e,b.get_internalRotateCenterLocation(),b.get_internalRotateGripperLocation(),b.get_fixedStateOperations()),
f.renderThumbs(e,b.get_internalThumbLocations(),b.get_fixedStateOperations()),b.get_supportsSelectionStroke()&&f.renderSelection(e,b));a=Type.safeCast(b,lt.Annotations.Core.AnnSelectionObject);if(null!=a)for(a=ss.IEnumerator.getEnumerator(a.get_selectedObjects());a.moveNext();)g=a.current,h=this.get_renderers()[g.get_id()],null!=h&&0<g.get_points().get_count()&&h.render(e,g);!c.get_userMode()&&this._renderState&&(b.get_isLocked()&&1===(this._renderState&1)&&f.renderLocked(e,b,b.get_fixedStateOperations()),
b.get_supportsContent()&&(c=Object.keyExists(b.get_metadata(),"Content")?b.get_metadata().Content:null,!String.isNullOrEmpty(c)&&2===(this._renderState&2)&&f.renderContent(e,b,b.get_fixedStateOperations())));!d&&b.get_isAlignmentTarget()&&f.renderAlignmentTarget(e,b)}}},renderLayer:function(a,b,c,d){if(b.get_isVisible()){for(var e=ss.IEnumerator.getEnumerator(b.get_children());e.moveNext();)this._renderObject(a,e.current,c,d);this.renderLayers(a,b.get_layers(),c,d)}},renderLayers:function(a,b,c,d){if(null!=
b)for(b=ss.IEnumerator.getEnumerator(b);b.moveNext();)this.renderLayer(a,b.current,c,d)},renderContainer:function(a,b,c){if(b.get_isVisible()){var d=b.get_mapper();null!=lt.Annotations.Core.AnnRenderingEngine.get_containerLabelRenderer()&&lt.Annotations.Core.AnnRenderingEngine.get_containerLabelRenderer().initialize(this);if(null!=b.get_fill()||null!=b.get_stroke()){var e=new lt.Annotations.Core.AnnRectangleObject;e.set_rect(lt.Annotations.Core._leadRectDExtensions.create(0,0,b.get_size().get_width(),
b.get_size().get_height()));e.set_fill(b.get_fill());e.set_stroke(b.get_stroke());var f=this.get_renderers()[e.get_id()];null!=f&&(f.initialize(this),f.render(d,e))}null!=this._snapToGridOptions&&this._snapToGridOptions.get_showGrid()&&this.renderGrid(c,b);e=[lt.Annotations.Core._leadRectDExtensions.topLeft(a),lt.Annotations.Core._leadRectDExtensions.topRight(a),lt.Annotations.Core._leadRectDExtensions.bottomRight(a),lt.Annotations.Core._leadRectDExtensions.bottomLeft(a)];a=d.rectFromContainerCoordinates(a,
0);if(!b.get_mapper().get_rotateTransform().get_isIdentity()){e=b.get_mapper().pointsFromContainerCoordinates(e,0);for(e=ss.IEnumerator.getEnumerator(e);e.moveNext();)f=e.current,lt.Annotations.Core._leadRectDExtensions.containsPoint(a,f)||(a=lt.Annotations.Core._leadRectDExtensions.unionPoint(a,f))}e=Type.safeCast(b.get_selectionObject(),lt.Annotations.Core.AnnSelectionObject);e.set_renderedObjectBounds(e.get_bounds());for(f=ss.IEnumerator.getEnumerator(b.get_children());f.moveNext();){var g=f.current;
null==g.get_layer()&&(this._renderObject(a,g,b,c),e.get_selectedObjects().contains(g)&&e.set_renderedObjectBounds(lt.Annotations.Core._leadRectDExtensions.unionRects(e.get_renderedObjectBounds(),g.get_renderedObjectBounds())))}this.renderLayers(a,b.get_layers(),b,c);if(4===(this._renderState&4)&&0<b.get_labels().length)for(a=ss.IEnumerator.getEnumerator(b.get_labels());a.moveNext();)b=a.current,null!=lt.Annotations.Core.AnnRenderingEngine.get_containerLabelRenderer()&&lt.Annotations.Core.AnnRenderingEngine.get_containerLabelRenderer().renderLabel(d,
b,4);!c&&Object.keyExists(this.get_renderers(),e.get_id())&&(c=this.get_renderers()[e.get_id()],c.initialize(this),lt.Annotations.Core._leadRectDExtensions.isEmpty(e.get_bounds())||(c.render(d,e),e.get_isSelected()&&!e.get_isLocked()&&(e.get_canRotate()&&c.renderRotatePointThumbs(d,e.get_internalRotateCenterLocation(),e.get_internalRotateGripperLocation(),e.get_fixedStateOperations()),c.renderThumbs(d,e.get_internalThumbLocations(),e.get_fixedStateOperations()))))}},_doRender:function(a,b){this._container.get_isVisible()&&
(null!=lt.Annotations.Core.AnnRenderingEngine.get_containerLabelRenderer()&&lt.Annotations.Core.AnnRenderingEngine.get_containerLabelRenderer().initialize(this),this.renderContainer(a,this._container,b))},add_loadPicture:function(a){this.__loadPicture=ss.Delegate.combine(this.__loadPicture,a)},remove_loadPicture:function(a){this.__loadPicture=ss.Delegate.remove(this.__loadPicture,a)},__loadPicture_handler_get:function(){null==this.__loadPicture_handler&&(this.__loadPicture_handler=ss.EventHandler.create(this,
this.add_loadPicture,this.remove_loadPicture));return this.__loadPicture_handler},__loadPicture:null,__loadPicture_handler:null,onLoadPicture:function(a){null!=this.__loadPicture&&this.__loadPicture(this,a)},renderGrid:function(){}};Object.defineProperty(lt.Annotations.Core.AnnRenderingEngine.prototype,"stateless",{get:lt.Annotations.Core.AnnRenderingEngine.prototype.get_stateless,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRenderingEngine.prototype,"snapToGridOptions",
{get:lt.Annotations.Core.AnnRenderingEngine.prototype.get_snapToGridOptions,set:lt.Annotations.Core.AnnRenderingEngine.prototype.set_snapToGridOptions,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRenderingEngine.prototype,"renderers",{get:lt.Annotations.Core.AnnRenderingEngine.prototype.get_renderers,set:lt.Annotations.Core.AnnRenderingEngine.prototype.set_renderers,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRenderingEngine,"containerLabelRenderer",
{get:lt.Annotations.Core.AnnRenderingEngine.get_containerLabelRenderer,set:lt.Annotations.Core.AnnRenderingEngine.set_containerLabelRenderer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRenderingEngine.prototype,"container",{get:lt.Annotations.Core.AnnRenderingEngine.prototype.get_container,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRenderingEngine.prototype,"clipRectangle",{get:lt.Annotations.Core.AnnRenderingEngine.prototype.get_clipRectangle,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRenderingEngine.prototype,"loadingPictureStroke",{get:lt.Annotations.Core.AnnRenderingEngine.prototype.get_loadingPictureStroke,set:lt.Annotations.Core.AnnRenderingEngine.prototype.set_loadingPictureStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRenderingEngine.prototype,"loadingPictureFill",{get:lt.Annotations.Core.AnnRenderingEngine.prototype.get_loadingPictureFill,set:lt.Annotations.Core.AnnRenderingEngine.prototype.set_loadingPictureFill,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRenderingEngine.prototype,"renderState",{get:lt.Annotations.Core.AnnRenderingEngine.prototype.get_renderState,set:lt.Annotations.Core.AnnRenderingEngine.prototype.set_renderState,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRenderingEngine.prototype,"resources",{get:lt.Annotations.Core.AnnRenderingEngine.prototype.get_resources,set:lt.Annotations.Core.AnnRenderingEngine.prototype.set_resources,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRenderingEngine.prototype,"loadPicture",{get:lt.Annotations.Core.AnnRenderingEngine.prototype.__loadPicture_handler_get,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnDrawDesignerEventArgs=function(){lt.Annotations.Core.AnnDrawDesignerEventArgs.initializeBase(this)};lt.Annotations.Core.AnnDrawDesignerEventArgs.create=function(a,b){var c=new lt.Annotations.Core.AnnDrawDesignerEventArgs;c._object$1=a;c._operationStatus$1=
b;c._cancel$1=!1;return c};lt.Annotations.Core.AnnDrawDesignerEventArgs.prototype={_object$1:null,get_object:function(){return this._object$1},_operationStatus$1:0,get_operationStatus:function(){return this._operationStatus$1},_cancel$1:!1,get_cancel:function(){return this._cancel$1},set_cancel:function(a){return this._cancel$1=a}};Object.defineProperty(lt.Annotations.Core.AnnDrawDesignerEventArgs.prototype,"object",{get:lt.Annotations.Core.AnnDrawDesignerEventArgs.prototype.get_object,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnDrawDesignerEventArgs.prototype,"operationStatus",{get:lt.Annotations.Core.AnnDrawDesignerEventArgs.prototype.get_operationStatus,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnDrawDesignerEventArgs.prototype,"cancel",{get:lt.Annotations.Core.AnnDrawDesignerEventArgs.prototype.get_cancel,set:lt.Annotations.Core.AnnDrawDesignerEventArgs.prototype.set_cancel,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnEditDesignerEventArgs=
function(){lt.Annotations.Core.AnnEditDesignerEventArgs.initializeBase(this)};lt.Annotations.Core.AnnEditDesignerEventArgs.create=function(a,b,c,d){var e=new lt.Annotations.Core.AnnEditDesignerEventArgs;e._object$1=a;e._operation$1=b;e._moveThumbIndex$1=c;e._operationStatus$1=d;e._cancel$1=!1;return e};lt.Annotations.Core.AnnEditDesignerEventArgs.prototype={_object$1:null,get_object:function(){return this._object$1},_operation$1:0,get_operation:function(){return this._operation$1},_operationStatus$1:0,
get_operationStatus:function(){return this._operationStatus$1},_moveThumbIndex$1:0,get_moveThumbIndex:function(){return this._moveThumbIndex$1},_cancel$1:!1,get_cancel:function(){return this._cancel$1},set_cancel:function(a){return this._cancel$1=a}};Object.defineProperty(lt.Annotations.Core.AnnEditDesignerEventArgs.prototype,"object",{get:lt.Annotations.Core.AnnEditDesignerEventArgs.prototype.get_object,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEditDesignerEventArgs.prototype,
"operation",{get:lt.Annotations.Core.AnnEditDesignerEventArgs.prototype.get_operation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEditDesignerEventArgs.prototype,"operationStatus",{get:lt.Annotations.Core.AnnEditDesignerEventArgs.prototype.get_operationStatus,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEditDesignerEventArgs.prototype,"moveThumbIndex",{get:lt.Annotations.Core.AnnEditDesignerEventArgs.prototype.get_moveThumbIndex,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEditDesignerEventArgs.prototype,"cancel",{get:lt.Annotations.Core.AnnEditDesignerEventArgs.prototype.get_cancel,set:lt.Annotations.Core.AnnEditDesignerEventArgs.prototype.set_cancel,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnEditContentEventArgs=function(){lt.Annotations.Core.AnnEditContentEventArgs.initializeBase(this)};lt.Annotations.Core.AnnEditContentEventArgs.create=function(a,b){var c=new lt.Annotations.Core.AnnEditContentEventArgs;
c._cancel$1=!1;c._bounds$1=b;c._object$1=a;return c};lt.Annotations.Core.AnnEditContentEventArgs.prototype={_object$1:null,get_targetObject:function(){return this._object$1},_bounds$1:null,get_bounds:function(){return this._bounds$1},_cancel$1:!1,get_cancel:function(){return this._cancel$1},set_cancel:function(a){return this._cancel$1=a}};Object.defineProperty(lt.Annotations.Core.AnnEditContentEventArgs.prototype,"targetObject",{get:lt.Annotations.Core.AnnEditContentEventArgs.prototype.get_targetObject,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEditContentEventArgs.prototype,"bounds",{get:lt.Annotations.Core.AnnEditContentEventArgs.prototype.get_bounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEditContentEventArgs.prototype,"cancel",{get:lt.Annotations.Core.AnnEditContentEventArgs.prototype.get_cancel,set:lt.Annotations.Core.AnnEditContentEventArgs.prototype.set_cancel,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnEditTextEventArgs=
function(){lt.Annotations.Core.AnnEditTextEventArgs.initializeBase(this)};lt.Annotations.Core.AnnEditTextEventArgs.create=function(a,b){var c=new lt.Annotations.Core.AnnEditTextEventArgs;c._cancel$1=!1;c._bounds$1=b;c._textObject$1=a;return c};lt.Annotations.Core.AnnEditTextEventArgs.prototype={_textObject$1:null,get_textObject:function(){return this._textObject$1},_bounds$1:null,get_bounds:function(){return this._bounds$1},_cancel$1:!1,get_cancel:function(){return this._cancel$1},set_cancel:function(a){return this._cancel$1=
a}};Object.defineProperty(lt.Annotations.Core.AnnEditTextEventArgs.prototype,"textObject",{get:lt.Annotations.Core.AnnEditTextEventArgs.prototype.get_textObject,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEditTextEventArgs.prototype,"bounds",{get:lt.Annotations.Core.AnnEditTextEventArgs.prototype.get_bounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnEditTextEventArgs.prototype,"cancel",{get:lt.Annotations.Core.AnnEditTextEventArgs.prototype.get_cancel,
set:lt.Annotations.Core.AnnEditTextEventArgs.prototype.set_cancel,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnLockObjectEventArgs=function(){this._password$1="";lt.Annotations.Core.AnnLockObjectEventArgs.initializeBase(this)};lt.Annotations.Core.AnnLockObjectEventArgs.create=function(a){var b=new lt.Annotations.Core.AnnLockObjectEventArgs;b._object$1=a;return b};lt.Annotations.Core.AnnLockObjectEventArgs.prototype={_object$1:null,get_object:function(){return this._object$1},get_password:function(){return this._password$1},
set_password:function(a){return this._password$1=a},_cancel$1:!1,get_cancel:function(){return this._cancel$1},set_cancel:function(a){return this._cancel$1=a}};Object.defineProperty(lt.Annotations.Core.AnnLockObjectEventArgs.prototype,"object",{get:lt.Annotations.Core.AnnLockObjectEventArgs.prototype.get_object,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLockObjectEventArgs.prototype,"password",{get:lt.Annotations.Core.AnnLockObjectEventArgs.prototype.get_password,
set:lt.Annotations.Core.AnnLockObjectEventArgs.prototype.set_password,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLockObjectEventArgs.prototype,"cancel",{get:lt.Annotations.Core.AnnLockObjectEventArgs.prototype.get_cancel,set:lt.Annotations.Core.AnnLockObjectEventArgs.prototype.set_cancel,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnPointerEventArgs=function(){lt.Annotations.Core.AnnPointerEventArgs.initializeBase(this)};lt.Annotations.Core.AnnPointerEventArgs.create=
function(a,b){var c=new lt.Annotations.Core.AnnPointerEventArgs;c._location$1=lt.Annotations.Core._leadPointDExtensions.clone(b);c._button$1=a;c._isHandled$1=!1;return c};lt.Annotations.Core.AnnPointerEventArgs.prototype={clone:function(){var a=new lt.Annotations.Core.AnnPointerEventArgs;a._location$1=lt.Annotations.Core._leadPointDExtensions.clone(this._location$1);a._button$1=this._button$1;a._isHandled$1=this._isHandled$1;return a},_button$1:0,get_button:function(){return this._button$1},_location$1:null,
get_location:function(){return lt.Annotations.Core._leadPointDExtensions.clone(this._location$1)},set_location:function(a){this._location$1=lt.Annotations.Core._leadPointDExtensions.clone(a);return a},_isHandled$1:!1,get_isHandled:function(){return this._isHandled$1},set_isHandled:function(a){return this._isHandled$1=a}};Object.defineProperty(lt.Annotations.Core.AnnPointerEventArgs.prototype,"button",{get:lt.Annotations.Core.AnnPointerEventArgs.prototype.get_button,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Core.AnnPointerEventArgs.prototype,"location",{get:lt.Annotations.Core.AnnPointerEventArgs.prototype.get_location,set:lt.Annotations.Core.AnnPointerEventArgs.prototype.set_location,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPointerEventArgs.prototype,"isHandled",{get:lt.Annotations.Core.AnnPointerEventArgs.prototype.get_isHandled,set:lt.Annotations.Core.AnnPointerEventArgs.prototype.set_isHandled,enumerable:!0,configurable:!0});
lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs=function(){this._newItems$1=[];this._oldItems$1=[];lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.initializeBase(this)};lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create=function(a){var b=new lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs;b._action$1=a;return b};lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.prototype={_action$1:0,get_action:function(){return this._action$1},get_newItems:function(){return this._newItems$1},
_newStartingIndex$1:0,get_newStartingIndex:function(){return this._newStartingIndex$1},get_oldItems:function(){return this._oldItems$1},_oldStartingIndex$1:0,get_oldStartingIndex:function(){return this._oldStartingIndex$1}};Object.defineProperty(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.prototype,"action",{get:lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.prototype.get_action,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.prototype,
"newItems",{get:lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.prototype.get_newItems,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.prototype,"newStartingIndex",{get:lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.prototype.get_newStartingIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.prototype,"oldItems",{get:lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.prototype.get_oldItems,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.prototype,"oldStartingIndex",{get:lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.prototype.get_oldStartingIndex,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnObjectCollectionEventArgs=function(){lt.Annotations.Core.AnnObjectCollectionEventArgs.initializeBase(this)};lt.Annotations.Core.AnnObjectCollectionEventArgs.create=function(a){var b=new lt.Annotations.Core.AnnObjectCollectionEventArgs;
b._obj$1=a;return b};lt.Annotations.Core.AnnObjectCollectionEventArgs.prototype={_obj$1:null,get_object:function(){return this._obj$1},_setObject:function(a){this._obj$1=a}};Object.defineProperty(lt.Annotations.Core.AnnObjectCollectionEventArgs.prototype,"object",{get:lt.Annotations.Core.AnnObjectCollectionEventArgs.prototype.get_object,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnPropertyChangedEventArgs=function(a,b,c,d){lt.Annotations.Core.AnnPropertyChangedEventArgs.initializeBase(this);
this._propertyName$1=a;this._oldValue$1=c;this._newValue$1=d;this._status$1=b};lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype={_propertyName$1:null,get_propertyName:function(){return this._propertyName$1},_oldValue$1:null,get_oldValue:function(){return this._oldValue$1},_newValue$1:null,get_newValue:function(){return this._newValue$1},_status$1:0,get_status:function(){return this._status$1},set_status:function(a){return this._status$1=a},_cancel$1:!1,get_cancel:function(){return this._cancel$1},
set_cancel:function(a){return this._cancel$1=a}};Object.defineProperty(lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype,"propertyName",{get:lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype.get_propertyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype,"oldValue",{get:lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype.get_oldValue,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype,
"newValue",{get:lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype.get_newValue,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype,"status",{get:lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype.get_status,set:lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype.set_status,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype,"cancel",{get:lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype.get_cancel,
set:lt.Annotations.Core.AnnPropertyChangedEventArgs.prototype.set_cancel,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnRunDesignerEventArgs=function(){lt.Annotations.Core.AnnRunDesignerEventArgs.initializeBase(this)};lt.Annotations.Core.AnnRunDesignerEventArgs.create=function(a,b){var c=new lt.Annotations.Core.AnnRunDesignerEventArgs;c._object$1=a;c._operationStatus$1=b;c._cancel$1=!1;return c};lt.Annotations.Core.AnnRunDesignerEventArgs.prototype={_object$1:null,get_object:function(){return this._object$1},
_operationStatus$1:0,get_operationStatus:function(){return this._operationStatus$1},_cancel$1:!1,get_cancel:function(){return this._cancel$1},set_cancel:function(a){return this._cancel$1=a}};Object.defineProperty(lt.Annotations.Core.AnnRunDesignerEventArgs.prototype,"object",{get:lt.Annotations.Core.AnnRunDesignerEventArgs.prototype.get_object,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRunDesignerEventArgs.prototype,"operationStatus",{get:lt.Annotations.Core.AnnRunDesignerEventArgs.prototype.get_operationStatus,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnRunDesignerEventArgs.prototype,"cancel",{get:lt.Annotations.Core.AnnRunDesignerEventArgs.prototype.get_cancel,set:lt.Annotations.Core.AnnRunDesignerEventArgs.prototype.set_cancel,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnToolTipEventArgs=function(){lt.Annotations.Core.AnnToolTipEventArgs.initializeBase(this)};lt.Annotations.Core.AnnToolTipEventArgs.create=function(a,b){var c=new lt.Annotations.Core.AnnToolTipEventArgs;
c._cancel$1=!1;c._bounds$1=b;c._annObject$1=a;return c};lt.Annotations.Core.AnnToolTipEventArgs.prototype={_annObject$1:null,get_annotationObject:function(){return this._annObject$1},_bounds$1:null,get_bounds:function(){return this._bounds$1},_cancel$1:!1,get_cancel:function(){return this._cancel$1},set_cancel:function(a){return this._cancel$1=a}};Object.defineProperty(lt.Annotations.Core.AnnToolTipEventArgs.prototype,"annotationObject",{get:lt.Annotations.Core.AnnToolTipEventArgs.prototype.get_annotationObject,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnToolTipEventArgs.prototype,"bounds",{get:lt.Annotations.Core.AnnToolTipEventArgs.prototype.get_bounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnToolTipEventArgs.prototype,"cancel",{get:lt.Annotations.Core.AnnToolTipEventArgs.prototype.get_cancel,set:lt.Annotations.Core.AnnToolTipEventArgs.prototype.set_cancel,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnBrush=function(){};lt.Annotations.Core.AnnBrush.prototype=
{clone:function(){return this.createBrush()}};lt.Annotations.Core.AnnSolidColorBrush=function(){lt.Annotations.Core.AnnSolidColorBrush.initializeBase(this);this._color$1="#000000"};lt.Annotations.Core.AnnSolidColorBrush.create=function(a){var b=new lt.Annotations.Core.AnnSolidColorBrush;b.set_color(a);return b};lt.Annotations.Core.AnnSolidColorBrush.prototype={_color$1:null,get_color:function(){return this._color$1},set_color:function(a){return this._color$1=a},createBrush:function(){return new lt.Annotations.Core.AnnSolidColorBrush},
clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnSolidColorBrush.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnSolidColorBrush);null!=a&&(a._color$1=this._color$1);return a}};Object.defineProperty(lt.Annotations.Core.AnnSolidColorBrush.prototype,"color",{get:lt.Annotations.Core.AnnSolidColorBrush.prototype.get_color,set:lt.Annotations.Core.AnnSolidColorBrush.prototype.set_color,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnHatchBrush=function(){lt.Annotations.Core.AnnHatchBrush.initializeBase(this)};
lt.Annotations.Core.AnnHatchBrush.create=function(a){var b=new lt.Annotations.Core.AnnHatchBrush;b.set_hatchStyle(a);return b};lt.Annotations.Core.AnnHatchBrush.prototype={_foregroundColor$1:"#000000",_backgroundColor$1:"#FFFFFF",_hatchSytle$1:0,get_hatchStyle:function(){return this._hatchSytle$1},set_hatchStyle:function(a){return this._hatchSytle$1=a},get_foregroundColor:function(){return this._foregroundColor$1},set_foregroundColor:function(a){return this._foregroundColor$1=a},get_backgroundColor:function(){return this._backgroundColor$1},
set_backgroundColor:function(a){return this._backgroundColor$1=a},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnHatchBrush.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnHatchBrush);a.set_foregroundColor(this.get_foregroundColor());a.set_backgroundColor(this.get_backgroundColor());a.set_hatchStyle(this.get_hatchStyle());return a},createBrush:function(){return new lt.Annotations.Core.AnnHatchBrush}};Object.defineProperty(lt.Annotations.Core.AnnHatchBrush.prototype,"hatchStyle",{get:lt.Annotations.Core.AnnHatchBrush.prototype.get_hatchStyle,
set:lt.Annotations.Core.AnnHatchBrush.prototype.set_hatchStyle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnHatchBrush.prototype,"foregroundColor",{get:lt.Annotations.Core.AnnHatchBrush.prototype.get_foregroundColor,set:lt.Annotations.Core.AnnHatchBrush.prototype.set_foregroundColor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnHatchBrush.prototype,"backgroundColor",{get:lt.Annotations.Core.AnnHatchBrush.prototype.get_backgroundColor,
set:lt.Annotations.Core.AnnHatchBrush.prototype.set_backgroundColor,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnGradientStop=function(a,b){this._color="";this._offset=b;this._color=a};lt.Annotations.Core.AnnGradientStop.prototype={get_color:function(){return this._color},set_color:function(a){return this._color=a},_offset:0,get_offset:function(){return this._offset},set_offset:function(a){(lt.LeadDoubleTools.lessThan(a,0)||lt.LeadDoubleTools.greaterThan(a,1))&&lt.Annotations.Core.ExceptionHelper.argumentOutOfRangeException("Offset",
a,"Must be a value greater than or equals to 0 and less than or equals to 1");return this._offset=a},clone:function(){return new lt.Annotations.Core.AnnGradientStop(this._color,this._offset)}};Object.defineProperty(lt.Annotations.Core.AnnGradientStop.prototype,"color",{get:lt.Annotations.Core.AnnGradientStop.prototype.get_color,set:lt.Annotations.Core.AnnGradientStop.prototype.set_color,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnGradientStop.prototype,"offset",{get:lt.Annotations.Core.AnnGradientStop.prototype.get_offset,
set:lt.Annotations.Core.AnnGradientStop.prototype.set_offset,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnGradientBrush=function(){this._gradientStops$1=new lt.Annotations.Core.AnnGradientStopCollection;lt.Annotations.Core.AnnGradientBrush.initializeBase(this)};lt.Annotations.Core.AnnGradientBrush.prototype={get_gradientStops:function(){return this._gradientStops$1},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnGradientBrush.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnGradientBrush);
if(null!=a)for(var b=ss.IEnumerator.getEnumerator(this.get_gradientStops());b.moveNext();){var c=b.current;a.get_gradientStops().add(c)}return a}};Object.defineProperty(lt.Annotations.Core.AnnGradientBrush.prototype,"gradientStops",{get:lt.Annotations.Core.AnnGradientBrush.prototype.get_gradientStops,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnLinearGradientBrush=function(){this._linearGradientMode$2=2;lt.Annotations.Core.AnnLinearGradientBrush.initializeBase(this)};lt.Annotations.Core.AnnLinearGradientBrush.create=
function(a){var b=new lt.Annotations.Core.AnnLinearGradientBrush;b.set_linearGradientMode(a);return b};lt.Annotations.Core.AnnLinearGradientBrush.prototype={get_linearGradientMode:function(){return this._linearGradientMode$2},set_linearGradientMode:function(a){return this._linearGradientMode$2=a},createBrush:function(){return new lt.Annotations.Core.AnnLinearGradientBrush},clone:function(){var a=Type.safeCast(lt.Annotations.Core.AnnLinearGradientBrush.callBaseMethod(this,"clone"),lt.Annotations.Core.AnnLinearGradientBrush);
null!=a&&a.set_linearGradientMode(this._linearGradientMode$2);return a}};Object.defineProperty(lt.Annotations.Core.AnnLinearGradientBrush.prototype,"linearGradientMode",{get:lt.Annotations.Core.AnnLinearGradientBrush.prototype.get_linearGradientMode,set:lt.Annotations.Core.AnnLinearGradientBrush.prototype.set_linearGradientMode,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnContainerCollection=function(){this._elements=[]};lt.Annotations.Core.AnnContainerCollection.prototype={get_count:function(){return this._elements.length},
clear:function(){for(var a=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(4),b=ss.IEnumerator.getEnumerator(this._elements);b.moveNext();){var c=b.current;a.get_newItems().add(c)}this._elements.clear();this.onCollectionChanged(a)},remove:function(a){this.removeItem(a)},add:function(a){this._elements.add(a);var b=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(0);b.get_newItems().add(a);this.onCollectionChanged(b)},insert:function(a,b){this._elements.insert(a,b);var c=
lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(0);c.get_newItems().add(b);this.onCollectionChanged(c)},contains:function(a){return this._elements.contains(a)},getEnumerator:function(){return this._elements.getEnumerator()},_copyTo:function(a,b,c){for(var d=0,b=ss.IEnumerator.getEnumerator(b);b.moveNext();)d<c||(a[d]=b.current,d++)},toArray:function(){var a=Array(this._elements.length);this._copyTo(a,this._elements,0);return a},insertItem:function(a,b){var c=this._elements[a];this._elements[a]=
b;this._elements[a+1]=c;c=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(0);c.get_newItems().add(b);this.onCollectionChanged(c)},move:function(a,b){this.moveItem(a,b)},moveItem:function(a,b){var c=this._elements[a];this._elements.remove(c);this._elements.insert(b,c);this.onCollectionChanged(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(3))},onCollectionChanged:function(a){null!=this.__collectionChanged&&this.__collectionChanged(this,a)},removeAt:function(a){this.removeItem(this.get_item(a))},
removeItem:function(a){var b=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(1);b.get_newItems().add(a);this._elements.remove(a);this.onCollectionChanged(b)},setItem:function(a,b){this._elements[a]=b;this.onCollectionChanged(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(2))},clearItems:function(){for(var a=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(4),b=ss.IEnumerator.getEnumerator(this._elements);b.moveNext();){var c=b.current;a.get_newItems().add(c)}this._elements.clear();
this.onCollectionChanged(a)},indexOf:function(a){return this._elements.indexOf(a)},add_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.combine(this.__collectionChanged,a)},remove_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.remove(this.__collectionChanged,a)},__collectionChanged_handler_get:function(){null==this.__collectionChanged_handler&&(this.__collectionChanged_handler=ss.EventHandler.create(this,this.add_collectionChanged,this.remove_collectionChanged));
return this.__collectionChanged_handler},__collectionChanged:null,__collectionChanged_handler:null,sendToBack:function(){},bringToFront:function(){},get_item:function(a){return this._elements[a]},set_item:function(a,b){return this._elements[a]=b},item:function(a,b){return void 0===b?this.get_item(a):this.set_item(a,b)}};Object.defineProperty(lt.Annotations.Core.AnnContainerCollection.prototype,"count",{get:lt.Annotations.Core.AnnContainerCollection.prototype.get_count,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Core.AnnContainerCollection.prototype,"collectionChanged",{get:lt.Annotations.Core.AnnContainerCollection.prototype.__collectionChanged_handler_get,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnGradientStopCollection=function(){this._elements=[]};lt.Annotations.Core.AnnGradientStopCollection.prototype={get_count:function(){return this._elements.length},clear:function(){for(var a=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(4),b=ss.IEnumerator.getEnumerator(this._elements);b.moveNext();){var c=
b.current;a.get_newItems().add(c)}this._elements.clear();this.onCollectionChanged(a)},remove:function(a){this.removeItem(a)},add:function(a){this._elements.add(a);var b=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(0);b.get_newItems().add(a);this.onCollectionChanged(b)},contains:function(a){return this._elements.contains(a)},getEnumerator:function(){return this._elements.getEnumerator()},_copyTo:function(a,b,c){for(var d=0,b=ss.IEnumerator.getEnumerator(b);b.moveNext();)d<c||(a[d]=
b.current,d++)},toArray:function(){var a=Array(this._elements.length);this._copyTo(a,this._elements,0);return a},insertItem:function(a,b){this._elements[a]=b;var c=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(0);c.get_newItems().add(b);this.onCollectionChanged(c)},move:function(a,b){this.moveItem(a,b)},moveItem:function(a,b){var c=this._elements[a];this._elements.remove(c);this._elements.insert(b,c);this.onCollectionChanged(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(3))},
onCollectionChanged:function(a){null!=this.__collectionChanged&&this.__collectionChanged(this,a)},removeAt:function(a){this.removeItem(this.get_item(a))},removeItem:function(a){var b=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(1);b.get_newItems().add(a);this._elements.remove(a);this.onCollectionChanged(b)},setItem:function(a,b){this._elements[a]=b;this.onCollectionChanged(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(2))},clearItems:function(){for(var a=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(4),
b=ss.IEnumerator.getEnumerator(this._elements);b.moveNext();){var c=b.current;a.get_newItems().add(c)}this._elements.clear();this.onCollectionChanged(a)},indexOf:function(a){return this._elements.indexOf(a)},add_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.combine(this.__collectionChanged,a)},remove_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.remove(this.__collectionChanged,a)},__collectionChanged_handler_get:function(){null==this.__collectionChanged_handler&&
(this.__collectionChanged_handler=ss.EventHandler.create(this,this.add_collectionChanged,this.remove_collectionChanged));return this.__collectionChanged_handler},__collectionChanged:null,__collectionChanged_handler:null,sendToBack:function(){},bringToFront:function(){},get_item:function(a){return this._elements[a]},set_item:function(a,b){return this._elements[a]=b},item:function(a,b){return void 0===b?this.get_item(a):this.set_item(a,b)}};Object.defineProperty(lt.Annotations.Core.AnnGradientStopCollection.prototype,
"count",{get:lt.Annotations.Core.AnnGradientStopCollection.prototype.get_count,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnGradientStopCollection.prototype,"collectionChanged",{get:lt.Annotations.Core.AnnGradientStopCollection.prototype.__collectionChanged_handler_get,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnDataProvider=function(){};lt.Annotations.Core.AnnDataProvider.prototype={get_canRead:function(){return!0},get_canWrite:function(){return!0}};Object.defineProperty(lt.Annotations.Core.AnnDataProvider.prototype,
"canRead",{get:lt.Annotations.Core.AnnDataProvider.prototype.get_canRead,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnDataProvider.prototype,"canWrite",{get:lt.Annotations.Core.AnnDataProvider.prototype.get_canWrite,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnDouble=function(){};lt.Annotations.Core.AnnDouble.isNaN=function(a){return a!==a};lt.Annotations.Core.AnnDouble.isInfinity=function(a){return a===lt.Annotations.Core.AnnDouble.positiveInfinity||a===
lt.Annotations.Core.AnnDouble.negativeInfinity};lt.Annotations.Core.AnnDouble.parseInvariantCulture=function(a){return String.isNullOrEmpty(a)?0:parseFloat(a)};lt.Annotations.Core.AnnFont=function(a,b){this._textDecoration=0;this._fontFamilyName=a;this._fontSize=b};lt.Annotations.Core.AnnFont.prototype={add_propertyChanged:function(a){this.__propertyChanged=ss.Delegate.combine(this.__propertyChanged,a)},remove_propertyChanged:function(a){this.__propertyChanged=ss.Delegate.remove(this.__propertyChanged,
a)},__propertyChanged_handler_get:function(){null==this.__propertyChanged_handler&&(this.__propertyChanged_handler=ss.EventHandler.create(this,this.add_propertyChanged,this.remove_propertyChanged));return this.__propertyChanged_handler},__propertyChanged:null,__propertyChanged_handler:null,onPropertyChanged:function(a){null!=this.__propertyChanged&&this.__propertyChanged(this,a)},_fontFamilyName:null,get_fontFamilyName:function(){return this._fontFamilyName},set_fontFamilyName:function(a){if(this._fontFamilyName!==
a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("FontFamilyName",1,this._fontFamilyName,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._fontFamilyName=a,this.onPropertyChanged(b),this._isDirty=!0)}return a},_fontSize:0,get_fontSize:function(){return this._fontSize},set_fontSize:function(a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("FontSize",1,this._fontSize,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._fontSize=a,this.onPropertyChanged(b),
this._isDirty=!0);return a},_fontStretch:0,get_fontStretch:function(){return this._fontStretch},set_fontStretch:function(a){if(this._fontStretch!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("FontStretch",1,this._fontStretch,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._fontStretch=a,this.onPropertyChanged(b),this._isDirty=!0)}return a},_fontStyle:0,get_fontStyle:function(){return this._fontStyle},set_fontStyle:function(a){if(this._fontStyle!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("FontStyle",
1,this._fontStyle,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._fontStyle=a,this.onPropertyChanged(b),this._isDirty=!0)}return a},_fontWeight:0,get_fontWeight:function(){return this._fontWeight},set_fontWeight:function(a){if(this._fontWeight!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("FontWeight",1,this._fontWeight,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._fontWeight=a,this.onPropertyChanged(b),this._isDirty=!0)}return a},clone:function(){var a=
new lt.Annotations.Core.AnnFont(this._fontFamilyName,this._fontSize);a._fontHeight=this._fontHeight;a._fontStretch=this._fontStretch;a._fontStyle=this._fontStyle;a._fontWeight=this._fontWeight;a._textDecoration=this._textDecoration;a._isDirty=this._isDirty;return a},_isDirty:!0,get_isDirty:function(){return this._isDirty},set_isDirty:function(a){return this._isDirty=a},_fontHeight:0,get_fontHeight:function(){return this._fontHeight},set_fontHeight:function(a){if(this._fontHeight!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("FontHeight",
1,this._fontHeight,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._fontHeight=a,this.onPropertyChanged(b),this._isDirty=!0)}return a},get_textDecoration:function(){return this._textDecoration},set_textDecoration:function(a){if(this._textDecoration!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("TextDecoration",1,this._textDecoration,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._textDecoration=a,this.onPropertyChanged(b),this._isDirty=!0)}return a}};
Object.defineProperty(lt.Annotations.Core.AnnFont.prototype,"propertyChanged",{get:lt.Annotations.Core.AnnFont.prototype.__propertyChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFont.prototype,"fontFamilyName",{get:lt.Annotations.Core.AnnFont.prototype.get_fontFamilyName,set:lt.Annotations.Core.AnnFont.prototype.set_fontFamilyName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFont.prototype,"fontSize",{get:lt.Annotations.Core.AnnFont.prototype.get_fontSize,
set:lt.Annotations.Core.AnnFont.prototype.set_fontSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFont.prototype,"fontStretch",{get:lt.Annotations.Core.AnnFont.prototype.get_fontStretch,set:lt.Annotations.Core.AnnFont.prototype.set_fontStretch,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFont.prototype,"fontStyle",{get:lt.Annotations.Core.AnnFont.prototype.get_fontStyle,set:lt.Annotations.Core.AnnFont.prototype.set_fontStyle,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFont.prototype,"fontWeight",{get:lt.Annotations.Core.AnnFont.prototype.get_fontWeight,set:lt.Annotations.Core.AnnFont.prototype.set_fontWeight,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFont.prototype,"isDirty",{get:lt.Annotations.Core.AnnFont.prototype.get_isDirty,set:lt.Annotations.Core.AnnFont.prototype.set_isDirty,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFont.prototype,
"fontHeight",{get:lt.Annotations.Core.AnnFont.prototype.get_fontHeight,set:lt.Annotations.Core.AnnFont.prototype.set_fontHeight,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnFont.prototype,"textDecoration",{get:lt.Annotations.Core.AnnFont.prototype.get_textDecoration,set:lt.Annotations.Core.AnnFont.prototype.set_textDecoration,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnOperationInfoEventArgs=function(a,b){this._role$1="";lt.Annotations.Core.AnnOperationInfoEventArgs.initializeBase(this);
this._type$1=a;this._annObject$1=b};lt.Annotations.Core.AnnOperationInfoEventArgs.prototype={_type$1:0,get_type:function(){return this._type$1},_annObject$1:null,get_annObject:function(){return this._annObject$1},get_role:function(){return this._role$1},set_role:function(a){return this._role$1=a},_ignoreUserCheck$1:!1,get_ignoreUserCheck:function(){return this._ignoreUserCheck$1},set_ignoreUserCheck:function(a){return this._ignoreUserCheck$1=a}};Object.defineProperty(lt.Annotations.Core.AnnOperationInfoEventArgs.prototype,
"type",{get:lt.Annotations.Core.AnnOperationInfoEventArgs.prototype.get_type,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnOperationInfoEventArgs.prototype,"annObject",{get:lt.Annotations.Core.AnnOperationInfoEventArgs.prototype.get_annObject,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnOperationInfoEventArgs.prototype,"role",{get:lt.Annotations.Core.AnnOperationInfoEventArgs.prototype.get_role,set:lt.Annotations.Core.AnnOperationInfoEventArgs.prototype.set_role,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnOperationInfoEventArgs.prototype,"ignoreUserCheck",{get:lt.Annotations.Core.AnnOperationInfoEventArgs.prototype.get_ignoreUserCheck,set:lt.Annotations.Core.AnnOperationInfoEventArgs.prototype.set_ignoreUserCheck,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnRoles=function(){this._elements=[]};lt.Annotations.Core.AnnRoles.prototype={get_count:function(){return this._elements.length},clear:function(){this._elements.clear()},
remove:function(a){this.removeItem(a)},add:function(a){this._elements.add(a)},contains:function(a){return this._elements.contains(a)},getEnumerator:function(){return this._elements.getEnumerator()},_copyTo:function(a,b,c){for(var d=0,b=ss.IEnumerator.getEnumerator(b);b.moveNext();)d<c||(a[d]=b.current,d++)},toArray:function(){var a=Array(this._elements.length);this._copyTo(a,this._elements,0);return a},insertItem:function(a,b){this._elements[a]=b},move:function(a,b){this.moveItem(a,b)},moveItem:function(a,
b){var c=this._elements[a];this._elements.remove(c);this._elements.insert(b,c)},removeAt:function(a){this.removeItem(this.get_item(a))},removeItem:function(a){this._elements.remove(a)},setItem:function(a,b){this._elements[a]=b},clearItems:function(){this._elements.clear()},indexOf:function(a){return this._elements.indexOf(a)},get_item:function(a){return this._elements[a]},set_item:function(a,b){return this._elements[a]=b},item:function(a,b){return void 0===b?this.get_item(a):this.set_item(a,b)}};
Object.defineProperty(lt.Annotations.Core.AnnRoles.prototype,"count",{get:lt.Annotations.Core.AnnRoles.prototype.get_count,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnGroupsRoles=function(){this._currentUser="";this._groupUsers={};this._groupRoles={}};lt.Annotations.Core.AnnGroupsRoles.prototype={add_generateRole:function(a){this.__generateRole=ss.Delegate.combine(this.__generateRole,a)},remove_generateRole:function(a){this.__generateRole=ss.Delegate.remove(this.__generateRole,a)},__generateRole_handler_get:function(){null==
this.__generateRole_handler&&(this.__generateRole_handler=ss.EventHandler.create(this,this.add_generateRole,this.remove_generateRole));return this.__generateRole_handler},__generateRole:null,__generateRole_handler:null,get_currentUser:function(){return this._currentUser},set_currentUser:function(a){return this._currentUser=a},get_groupUsers:function(){return this._groupUsers},get_groupRoles:function(){return this._groupRoles},getUserGroup:function(a){for(var b=[],c=ss.IEnumerator.getEnumerator(Object.keys(this._groupUsers));c.moveNext();){var d=
c.current;this._groupUsers[d].contains(a)&&b.add(d)}return b},getUserRoles:function(a){var b=null,a=this.getUserGroup(a);if(1===a.length)b=this._groupRoles[a[0]];else{b=new lt.Annotations.Core.AnnRoles;for(a=ss.IEnumerator.getEnumerator(a);a.moveNext();){var c=a.current;if(Object.keyExists(this._groupRoles,c))for(c=ss.IEnumerator.getEnumerator(this._groupRoles[c]);c.moveNext();){var d=c.current;b.contains(d)||b.add(d)}}}return b},onGenerateRole:function(a){var b="";null!=this.__generateRole&&(this.__generateRole(this,
a),b=a.get_role());if(String.isNullOrEmpty(b))switch(a.get_type()){case 14:b="View";break;default:b="Edit"}return b},isCurrentUserInRole:function(a){return this.isUserInRole(this.get_currentUser(),a)},isUserInRole:function(a,b){var c=!1;if(String.isNullOrEmpty(a)&&0<Object.getKeyCount(this._groupUsers))return!1;var d=this.getUserRoles(a);if(d.contains("Full Control"))return!0;if(14===b.get_type()){if(d.contains("View All")||d.contains("Edit All")||d.contains("View")&&a===b.get_annObject().get_userId())return!0}else if(!b.get_type()||
2===b.get_type())if(d.contains("Edit All")||d.contains("Edit")&&a===b.get_annObject().get_userId())return!0;if(null!=d){c="";null!=b&&null!=b.get_annObject()&&(c=b.get_annObject().get_userId());var e=this.onGenerateRole(b);b.get_ignoreUserCheck();if("View"===e&&d.contains("View All")||"Edit"===e&&d.contains("Edit All"))return!0;c=d.contains(e)&&(b.get_ignoreUserCheck()?!0:String.isNullOrEmpty(c)||c===this.get_currentUser())}return c}};Object.defineProperty(lt.Annotations.Core.AnnGroupsRoles.prototype,
"generateRole",{get:lt.Annotations.Core.AnnGroupsRoles.prototype.__generateRole_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnGroupsRoles.prototype,"currentUser",{get:lt.Annotations.Core.AnnGroupsRoles.prototype.get_currentUser,set:lt.Annotations.Core.AnnGroupsRoles.prototype.set_currentUser,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnGroupsRoles.prototype,"groupUsers",{get:lt.Annotations.Core.AnnGroupsRoles.prototype.get_groupUsers,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnGroupsRoles.prototype,"groupRoles",{get:lt.Annotations.Core.AnnGroupsRoles.prototype.get_groupRoles,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnLabel=function(){this._stateId="";this._font=new lt.Annotations.Core.AnnFont("Arial",11);this._originalPosition=lt.Annotations.Core._leadPointDExtensions.get_empty();this._positionMode=0;this._offset=lt.Annotations.Core._leadPointDExtensions.create(0,0);this._foreground=
lt.Annotations.Core.AnnSolidColorBrush.create("red");this._renderedLabelBounds=lt.Annotations.Core._leadRectDExtensions.get_empty();this._restrictionMode=0;this._restrictionRectangle=lt.Annotations.Core._leadRectDExtensions.get_empty()};lt.Annotations.Core.AnnLabel.prototype={clone:function(){var a=new lt.Annotations.Core.AnnLabel;a.set_font(null!=this.get_font()?this.get_font().clone():null);a.set_text(this.get_text());a.set_originalPosition(lt.Annotations.Core._leadPointDExtensions.clone(this.get_originalPosition()));
a.set_offset(lt.Annotations.Core._leadPointDExtensions.clone(this.get_offset()));a.set_background(null!=this.get_background()?this.get_background().clone():null);a.set_foreground(null!=this.get_foreground()?this.get_foreground().clone():null);a.set_isVisible(this.get_isVisible());a.set_restrictionRectangle(lt.Annotations.Core._leadRectDExtensions.clone(this._restrictionRectangle));a.set_restrictionMode(this._restrictionMode);a.set_positionMode(this._positionMode);a.set_parent(this._parent);a.set_offsetHeight(this._offsetHeight);
this._font.add_propertyChanged(ss.Delegate.create(this,this._font_PropertyChanged));return a},_font_PropertyChanged:function(){this._isDirty=!0},_isDirty:!0,get__isDirty:function(){return this._isDirty},set__isDirty:function(a){return this._isDirty=a},get_stateId:function(){return this._stateId},set_stateId:function(a){return this._stateId=a},get_font:function(){return this._font},set_font:function(a){this._font!==a&&(null!=this._font&&this._font.remove_propertyChanged(ss.Delegate.create(this,this._font_PropertyChanged)),
this._font=a,null!=this._font&&this._font.add_propertyChanged(ss.Delegate.create(this,this._font_PropertyChanged)));return a},_text:null,get_text:function(){return this._text},set_text:function(a){this._text!==a&&(this._text=a,this._isDirty=this._isTextDirty=!0);return a},get_originalPosition:function(){return lt.Annotations.Core._leadPointDExtensions.clone(this._originalPosition)},set_originalPosition:function(a){lt.Annotations.Core._leadPointDExtensions.isEqual(this._originalPosition,a)||(this._originalPosition=
lt.Annotations.Core._leadPointDExtensions.clone(a),this._isDirty=!0);return a},get_positionMode:function(){return this._positionMode},set_positionMode:function(a){return this._positionMode=a},_parent:null,get_parent:function(){return this._parent},set_parent:function(a){return this._parent=a},_offsetHeight:!1,get_offsetHeight:function(){return this._offsetHeight},set_offsetHeight:function(a){return this._offsetHeight=a},get_offset:function(){return lt.Annotations.Core._leadPointDExtensions.clone(this._offset)},
set_offset:function(a){lt.Annotations.Core._leadPointDExtensions.isEqual(this._offset,a)||(this._offset=lt.Annotations.Core._leadPointDExtensions.clone(a),this._isDirty=!0);return a},_background:null,get_background:function(){return this._background},set_background:function(a){this._background!==a&&(this._background=a,this._isDirty=!0);return a},get_foreground:function(){return this._foreground},set_foreground:function(a){return this._foreground=a},_isVisible:!0,get_isVisible:function(){return this._isVisible},
set_isVisible:function(a){this._isVisible!==a&&(this._isVisible=a,this._isDirty=!0);return a},get_renderedLabelBounds:function(){return this._renderedLabelBounds},set_renderedLabelBounds:function(a){return this._renderedLabelBounds=a},get_restrictionMode:function(){return this._restrictionMode},set_restrictionMode:function(a){this._restrictionMode!==a&&(this._restrictionMode=a,this._isDirty=!0);return a},get_restrictionRectangle:function(){return this._restrictionRectangle},set_restrictionRectangle:function(a){this._restrictionRectangle=
a;this._isDirty=!0;return a},_isTextDirty:!1,get__isTextDirty:function(){return this._isTextDirty},set__isTextDirty:function(a){return this._isTextDirty=a},_internalData:null,get__internalData:function(){return this._internalData},set__internalData:function(a){return this._internalData=a}};Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"stateId",{get:lt.Annotations.Core.AnnLabel.prototype.get_stateId,set:lt.Annotations.Core.AnnLabel.prototype.set_stateId,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"font",{get:lt.Annotations.Core.AnnLabel.prototype.get_font,set:lt.Annotations.Core.AnnLabel.prototype.set_font,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"text",{get:lt.Annotations.Core.AnnLabel.prototype.get_text,set:lt.Annotations.Core.AnnLabel.prototype.set_text,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"originalPosition",{get:lt.Annotations.Core.AnnLabel.prototype.get_originalPosition,
set:lt.Annotations.Core.AnnLabel.prototype.set_originalPosition,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"positionMode",{get:lt.Annotations.Core.AnnLabel.prototype.get_positionMode,set:lt.Annotations.Core.AnnLabel.prototype.set_positionMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"parent",{get:lt.Annotations.Core.AnnLabel.prototype.get_parent,set:lt.Annotations.Core.AnnLabel.prototype.set_parent,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"offsetHeight",{get:lt.Annotations.Core.AnnLabel.prototype.get_offsetHeight,set:lt.Annotations.Core.AnnLabel.prototype.set_offsetHeight,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"offset",{get:lt.Annotations.Core.AnnLabel.prototype.get_offset,set:lt.Annotations.Core.AnnLabel.prototype.set_offset,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,
"background",{get:lt.Annotations.Core.AnnLabel.prototype.get_background,set:lt.Annotations.Core.AnnLabel.prototype.set_background,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"foreground",{get:lt.Annotations.Core.AnnLabel.prototype.get_foreground,set:lt.Annotations.Core.AnnLabel.prototype.set_foreground,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"isVisible",{get:lt.Annotations.Core.AnnLabel.prototype.get_isVisible,
set:lt.Annotations.Core.AnnLabel.prototype.set_isVisible,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"renderedLabelBounds",{get:lt.Annotations.Core.AnnLabel.prototype.get_renderedLabelBounds,set:lt.Annotations.Core.AnnLabel.prototype.set_renderedLabelBounds,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"restrictionMode",{get:lt.Annotations.Core.AnnLabel.prototype.get_restrictionMode,set:lt.Annotations.Core.AnnLabel.prototype.set_restrictionMode,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLabel.prototype,"restrictionRectangle",{get:lt.Annotations.Core.AnnLabel.prototype.get_restrictionRectangle,set:lt.Annotations.Core.AnnLabel.prototype.set_restrictionRectangle,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnLayerCollection=function(a){this._elements=[];this._owner=a};lt.Annotations.Core.AnnLayerCollection.prototype={_owner:null,get_owner:function(){return this._owner},get_count:function(){return this._elements.length},
clear:function(){for(var a=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(4),b=ss.IEnumerator.getEnumerator(this._elements);b.moveNext();){var c=b.current;a.get_newItems().add(c)}this._elements.clear();this.onCollectionChanged(a)},remove:function(a){this.removeItem(a)},add:function(a){a.set_parent(this._owner);this._elements.add(a);var b=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(0);b.get_newItems().add(a);this.onCollectionChanged(b)},contains:function(a){return this._elements.contains(a)},
getEnumerator:function(){return this._elements.getEnumerator()},_copyTo:function(a,b,c){for(var d=0,b=ss.IEnumerator.getEnumerator(b);b.moveNext();)d<c||(a[d]=b.current,d++)},toArray:function(){var a=Array(this._elements.length);this._copyTo(a,this._elements,0);return a},insertItem:function(a,b){this._elements[a]=b;var c=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(0);c.get_newItems().add(b);this.onCollectionChanged(c)},move:function(a,b){this.moveItem(a,b)},moveItem:function(a,
b){var c=this._elements[a];this._elements.remove(c);this._elements.insert(b,c);this.onCollectionChanged(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(3))},onCollectionChanged:function(a){null!=this.__collectionChanged&&this.__collectionChanged(this,a)},removeAt:function(a){this.removeItem(this.get_item(a))},removeItem:function(a){var b=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(1);b.get_newItems().add(a);a.set_parent(null);this._elements.remove(a);this.onCollectionChanged(b)},
setItem:function(a,b){this._elements[a]=b;this.onCollectionChanged(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(2))},clearItems:function(){for(var a=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(4),b=ss.IEnumerator.getEnumerator(this._elements);b.moveNext();){var c=b.current;a.get_newItems().add(c)}this._elements.clear();this.onCollectionChanged(a)},indexOf:function(a){return this._elements.indexOf(a)},add_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.combine(this.__collectionChanged,
a)},remove_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.remove(this.__collectionChanged,a)},__collectionChanged_handler_get:function(){null==this.__collectionChanged_handler&&(this.__collectionChanged_handler=ss.EventHandler.create(this,this.add_collectionChanged,this.remove_collectionChanged));return this.__collectionChanged_handler},__collectionChanged:null,__collectionChanged_handler:null,sendToBack:function(a,b){if(null!=a){var c=this.indexOf(a);0<=c&&(this.remove(a),c=b?
this.get_count():c+1,c<this.get_count()?this.insertItem(c,a):this.add(a))}},bringToFront:function(a,b){var c=this.indexOf(a);if(-1!==c&&c<=this.get_count()-1){this.remove(a);if(!b&&(c-=1,0<c)){this.insertItem(c,a);return}this.insertItem(0,a)}},get_item:function(a){return this._elements[a]},set_item:function(a,b){return this._elements[a]=b},item:function(a,b){return void 0===b?this.get_item(a):this.set_item(a,b)}};Object.defineProperty(lt.Annotations.Core.AnnLayerCollection.prototype,"owner",{get:lt.Annotations.Core.AnnLayerCollection.prototype.get_owner,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLayerCollection.prototype,"count",{get:lt.Annotations.Core.AnnLayerCollection.prototype.get_count,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLayerCollection.prototype,"collectionChanged",{get:lt.Annotations.Core.AnnLayerCollection.prototype.__collectionChanged_handler_get,enumerable:!0,configurable:!0});lt.Annotations.Core._myLayerObjectCollection=function(){lt.Annotations.Core._myLayerObjectCollection.initializeBase(this)};
lt.Annotations.Core._myLayerObjectCollection._create=function(a){var b=new lt.Annotations.Core._myLayerObjectCollection;b._owner$1=a;return b};lt.Annotations.Core._myLayerObjectCollection.prototype={_owner$1:null,get_owner:function(){return this._owner$1},insertItem:function(a,b){null!=b&&b.set_layer(this._owner$1);lt.Annotations.Core._myLayerObjectCollection.callBaseMethod(this,"insertItem",[a,b])},removeItem:function(a){a.set_layer(null);lt.Annotations.Core._myLayerObjectCollection.callBaseMethod(this,
"removeItem",[a])}};lt.Annotations.Core.AnnLayer=function(){this._layers=new lt.Annotations.Core.AnnLayerCollection(this);this._children=lt.Annotations.Core._myLayerObjectCollection._create(this)};lt.Annotations.Core.AnnLayer.create=function(a){var b=new lt.Annotations.Core.AnnLayer;b.set_name(a);return b};lt.Annotations.Core.AnnLayer.prototype={_parent:null,get_parent:function(){return this._parent},set_parent:function(a){return this._parent=a},_name:null,get_name:function(){return this._name},set_name:function(a){return this._name=
a},_layerId:null,get_layerId:function(){return this._layerId},set_layerId:function(a){return this._layerId=a},_visible:!0,get_isVisible:function(){return this._visible},set_isVisible:function(a){return this._visible=a},_children:null,get_children:function(){return this._children},_layers:null,get_layers:function(){return this._layers}};Object.defineProperty(lt.Annotations.Core.AnnLayer.prototype,"parent",{get:lt.Annotations.Core.AnnLayer.prototype.get_parent,set:lt.Annotations.Core.AnnLayer.prototype.set_parent,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLayer.prototype,"name",{get:lt.Annotations.Core.AnnLayer.prototype.get_name,set:lt.Annotations.Core.AnnLayer.prototype.set_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLayer.prototype,"layerId",{get:lt.Annotations.Core.AnnLayer.prototype.get_layerId,set:lt.Annotations.Core.AnnLayer.prototype.set_layerId,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLayer.prototype,
"isVisible",{get:lt.Annotations.Core.AnnLayer.prototype.get_isVisible,set:lt.Annotations.Core.AnnLayer.prototype.set_isVisible,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLayer.prototype,"children",{get:lt.Annotations.Core.AnnLayer.prototype.get_children,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnLayer.prototype,"layers",{get:lt.Annotations.Core.AnnLayer.prototype.get_layers,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnMedia=
function(){};lt.Annotations.Core.AnnMedia.prototype={clone:function(){var a=new lt.Annotations.Core.AnnMedia;a._source1=this._source1;a._type1=this._type1;a._source2=this._source2;a._type2=this._type2;a._source3=this._source3;a._type3=this._type3;return a},_source1:null,get_source1:function(){return this._source1},set_source1:function(a){return this._source1=a},_type1:null,get_type1:function(){return this._type1},set_type1:function(a){return this._type1=a},_source2:null,get_source2:function(){return this._source2},
set_source2:function(a){return this._source2=a},_type2:null,get_type2:function(){return this._type2},set_type2:function(a){return this._type2=a},_source3:null,get_source3:function(){return this._source3},set_source3:function(a){return this._source3=a},_type3:null,get_type3:function(){return this._type3},set_type3:function(a){return this._type3=a}};Object.defineProperty(lt.Annotations.Core.AnnMedia.prototype,"source1",{get:lt.Annotations.Core.AnnMedia.prototype.get_source1,set:lt.Annotations.Core.AnnMedia.prototype.set_source1,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnMedia.prototype,"type1",{get:lt.Annotations.Core.AnnMedia.prototype.get_type1,set:lt.Annotations.Core.AnnMedia.prototype.set_type1,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnMedia.prototype,"source2",{get:lt.Annotations.Core.AnnMedia.prototype.get_source2,set:lt.Annotations.Core.AnnMedia.prototype.set_source2,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnMedia.prototype,
"type2",{get:lt.Annotations.Core.AnnMedia.prototype.get_type2,set:lt.Annotations.Core.AnnMedia.prototype.set_type2,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnMedia.prototype,"source3",{get:lt.Annotations.Core.AnnMedia.prototype.get_source3,set:lt.Annotations.Core.AnnMedia.prototype.set_source3,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnMedia.prototype,"type3",{get:lt.Annotations.Core.AnnMedia.prototype.get_type3,set:lt.Annotations.Core.AnnMedia.prototype.set_type3,
enumerable:!0,configurable:!0});lt.Annotations.Core.AnnObjectCollection=function(){this._elements=[]};lt.Annotations.Core.AnnObjectCollection.prototype={get_count:function(){return this._elements.length},clear:function(){for(var a=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(4),b=ss.IEnumerator.getEnumerator(this._elements);b.moveNext();){var c=b.current;a.get_newItems().add(c)}this._elements.clear();this.onCollectionChanged(a)},remove:function(a){this.removeItem(a)},add:function(a){this._elements.add(a);
var b=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(0);b.get_newItems().add(a);this.onCollectionChanged(b)},contains:function(a){return this._elements.contains(a)},getEnumerator:function(){return this._elements.getEnumerator()},_copyTo:function(a,b,c){for(var d=0,b=ss.IEnumerator.getEnumerator(b);b.moveNext();)d<c||(a[d]=b.current,d++)},toArray:function(){var a=Array(this._elements.length);this._copyTo(a,this._elements,0);return a},insertItem:function(a,b){this._elements.insert(a,
b);var c=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(0);c.get_newItems().add(b);this.onCollectionChanged(c)},move:function(a,b){this.moveItem(a,b)},moveItem:function(a,b){var c=this._elements[a];this._elements.remove(c);this._elements.insert(b,c);this.onCollectionChanged(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(3))},onCollectionChanged:function(a){null!=this.__collectionChanged&&this.__collectionChanged(this,a)},removeAt:function(a){this.removeItem(this.get_item(a))},
removeItem:function(a){var b=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(1);b.get_newItems().add(a);this._elements.remove(a);this.onCollectionChanged(b)},setItem:function(a,b){this._elements[a]=b;this.onCollectionChanged(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(2))},clearItems:function(){for(var a=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(4),b=ss.IEnumerator.getEnumerator(this._elements);b.moveNext();){var c=b.current;a.get_newItems().add(c)}this._elements.clear();
this.onCollectionChanged(a)},indexOf:function(a){return this._elements.indexOf(a)},add_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.combine(this.__collectionChanged,a)},remove_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.remove(this.__collectionChanged,a)},__collectionChanged_handler_get:function(){null==this.__collectionChanged_handler&&(this.__collectionChanged_handler=ss.EventHandler.create(this,this.add_collectionChanged,this.remove_collectionChanged));
return this.__collectionChanged_handler},__collectionChanged:null,__collectionChanged_handler:null,sendToBack:function(a,b){if(null!=a){var c=this.indexOf(a);0<=c&&(a.set_internalAdd(!0),this.remove(a),c=b?this.get_count():c+1,c<this.get_count()?this.insertItem(c,a):(a.set_internalAdd(!0),this.add(a)))}},bringToFront:function(a,b){a.set_internalAdd(!0);var c=this.indexOf(a);if(-1!==c&&c<=this.get_count()-1){this.remove(a);if(!b&&(c-=1,0<c)){this.insertItem(c,a);return}this.insertItem(0,a)}a.set_internalAdd(!1)},
get_item:function(a){return this._elements[a]},set_item:function(a,b){return this._elements[a]=b},item:function(a,b){return void 0===b?this.get_item(a):this.set_item(a,b)}};Object.defineProperty(lt.Annotations.Core.AnnObjectCollection.prototype,"count",{get:lt.Annotations.Core.AnnObjectCollection.prototype.get_count,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnObjectCollection.prototype,"collectionChanged",{get:lt.Annotations.Core.AnnObjectCollection.prototype.__collectionChanged_handler_get,
enumerable:!0,configurable:!0});lt.Annotations.Core.AnnPicture=function(a){this._source=a};lt.Annotations.Core.AnnPicture.get_empty=function(){return new lt.Annotations.Core.AnnPicture("")};lt.Annotations.Core.AnnPicture.prototype={_isDirty:!1,get_isDirty:function(){return this._isDirty},set_isDirty:function(a){return this._isDirty=a},_isLoaded:!1,get_isLoaded:function(){return this._isLoaded},set_isLoaded:function(a){return this._isLoaded=a},_internalData:null,get_internalData:function(){return this._internalData},
set_internalData:function(a){return this._internalData=a},_source:null,get_source:function(){return this._source},set_source:function(a){return this._source=a},_pictureData:null,get_pictureData:function(){return this._pictureData},set_pictureData:function(a){return this._pictureData=a},clone:function(){var a=new lt.Annotations.Core.AnnPicture(this._source);a._pictureData=this._pictureData;return a},_width:0,get_width:function(){return this._width},set_width:function(a){return this._width=a},_height:0,
get_height:function(){return this._height},set_height:function(a){return this._height=a}};Object.defineProperty(lt.Annotations.Core.AnnPicture.prototype,"isDirty",{get:lt.Annotations.Core.AnnPicture.prototype.get_isDirty,set:lt.Annotations.Core.AnnPicture.prototype.set_isDirty,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPicture.prototype,"isLoaded",{get:lt.Annotations.Core.AnnPicture.prototype.get_isLoaded,set:lt.Annotations.Core.AnnPicture.prototype.set_isLoaded,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPicture.prototype,"internalData",{get:lt.Annotations.Core.AnnPicture.prototype.get_internalData,set:lt.Annotations.Core.AnnPicture.prototype.set_internalData,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPicture.prototype,"source",{get:lt.Annotations.Core.AnnPicture.prototype.get_source,set:lt.Annotations.Core.AnnPicture.prototype.set_source,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPicture.prototype,
"pictureData",{get:lt.Annotations.Core.AnnPicture.prototype.get_pictureData,set:lt.Annotations.Core.AnnPicture.prototype.set_pictureData,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPicture.prototype,"width",{get:lt.Annotations.Core.AnnPicture.prototype.get_width,set:lt.Annotations.Core.AnnPicture.prototype.set_width,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPicture.prototype,"height",{get:lt.Annotations.Core.AnnPicture.prototype.get_height,
set:lt.Annotations.Core.AnnPicture.prototype.set_height,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnPicture,"empty",{get:lt.Annotations.Core.AnnPicture.get_empty,enumerable:!0,configurable:!0});lt.Annotations.Core.LeadPointCollection=function(){this._elements=[]};lt.Annotations.Core.LeadPointCollection.prototype={get_count:function(){return this._elements.length},getEnumerator:function(){return this._elements.getEnumerator()},contains:function(a){return this._elements.contains(a)},
removeAt:function(a){this._elements.removeAt(a)},add:function(a){this._elements.add(a)},clear:function(){this._elements.clear()},_copyTo:function(a,b,c){for(var d=0,b=ss.IEnumerator.getEnumerator(b);b.moveNext();)d<c||(a[d]=b.current,d++)},toArray:function(){var a=Array(this._elements.length);this._copyTo(a,this._elements,0);return a},insertItem:function(a,b){this._elements[a]=b;var c=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(0);c.get_newItems().add(b);this.onCollectionChanged(c)},
move:function(a,b){this.moveItem(a,b)},moveItem:function(a,b){var c=this._elements[a];this._elements.remove(c);this._elements.insert(b,c);this.onCollectionChanged(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(3))},onCollectionChanged:function(a){null!=this.__collectionChanged&&this.__collectionChanged(this,a)},removeItem:function(a){this._elements.remove(a);var b=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(1);b.get_oldItems().add(a);this.onCollectionChanged(b)},
setItem:function(){},clearItems:function(){for(var a=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(4),b=ss.IEnumerator.getEnumerator(this._elements);b.moveNext();){var c=b.current;a.get_newItems().add(c)}this._elements.clear();this.onCollectionChanged(a)},add_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.combine(this.__collectionChanged,a)},remove_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.remove(this.__collectionChanged,a)},__collectionChanged_handler_get:function(){null==
this.__collectionChanged_handler&&(this.__collectionChanged_handler=ss.EventHandler.create(this,this.add_collectionChanged,this.remove_collectionChanged));return this.__collectionChanged_handler},__collectionChanged:null,__collectionChanged_handler:null,get_item:function(a){return this._elements[a]},set_item:function(a,b){return this._elements[a]=b},item:function(a,b){return void 0===b?this.get_item(a):this.set_item(a,b)}};Object.defineProperty(lt.Annotations.Core.LeadPointCollection.prototype,"count",
{get:lt.Annotations.Core.LeadPointCollection.prototype.get_count,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.LeadPointCollection.prototype,"collectionChanged",{get:lt.Annotations.Core.LeadPointCollection.prototype.__collectionChanged_handler_get,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnResources=function(){this._images=[];this._rubberStamps={}};lt.Annotations.Core.AnnResources.prototype={get_images:function(){return this._images},get_rubberStamps:function(){return this._rubberStamps}};
Object.defineProperty(lt.Annotations.Core.AnnResources.prototype,"images",{get:lt.Annotations.Core.AnnResources.prototype.get_images,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnResources.prototype,"rubberStamps",{get:lt.Annotations.Core.AnnResources.prototype.get_rubberStamps,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnReview=function(){this._replies=[]};lt.Annotations.Core.AnnReview.prototype={clone:function(){var a=new lt.Annotations.Core.AnnReview;a._author=
this._author;a._date=this._date;a._status=this._status;a._isChecked=this._isChecked;a._comment=this._comment;for(var b=ss.IEnumerator.getEnumerator(this._replies);b.moveNext();){var c=b.current;null!=c?a._replies.add(c.clone()):a._replies.add(null)}return a},_author:null,get_author:function(){return this._author},set_author:function(a){return this._author=a},_date:null,get_date:function(){return this._date},set_date:function(a){return this._date=a},_status:null,get_status:function(){return this._status},
set_status:function(a){return this._status=a},_isChecked:!1,get_isChecked:function(){return this._isChecked},set_isChecked:function(a){return this._isChecked=a},_comment:null,get_comment:function(){return this._comment},set_comment:function(a){return this._comment=a},get_replies:function(){return this._replies},toString:function(){return String.format("{0} at {1}",this._status,this._date.toDateString())}};Object.defineProperty(lt.Annotations.Core.AnnReview.prototype,"author",{get:lt.Annotations.Core.AnnReview.prototype.get_author,
set:lt.Annotations.Core.AnnReview.prototype.set_author,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnReview.prototype,"date",{get:lt.Annotations.Core.AnnReview.prototype.get_date,set:lt.Annotations.Core.AnnReview.prototype.set_date,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnReview.prototype,"status",{get:lt.Annotations.Core.AnnReview.prototype.get_status,set:lt.Annotations.Core.AnnReview.prototype.set_status,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Core.AnnReview.prototype,"isChecked",{get:lt.Annotations.Core.AnnReview.prototype.get_isChecked,set:lt.Annotations.Core.AnnReview.prototype.set_isChecked,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnReview.prototype,"comment",{get:lt.Annotations.Core.AnnReview.prototype.get_comment,set:lt.Annotations.Core.AnnReview.prototype.set_comment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnReview.prototype,
"replies",{get:lt.Annotations.Core.AnnReview.prototype.get_replies,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnSnapToGridOptions=function(){this._gridStroke=lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("blue"),lt.Annotations.Core._leadLengthDExtensions.create(1))};lt.Annotations.Core.AnnSnapToGridOptions.prototype={add_propertyChanged:function(a){this.__propertyChanged=ss.Delegate.combine(this.__propertyChanged,a)},remove_propertyChanged:function(a){this.__propertyChanged=
ss.Delegate.remove(this.__propertyChanged,a)},__propertyChanged_handler_get:function(){null==this.__propertyChanged_handler&&(this.__propertyChanged_handler=ss.EventHandler.create(this,this.add_propertyChanged,this.remove_propertyChanged));return this.__propertyChanged_handler},__propertyChanged:null,__propertyChanged_handler:null,clone:function(){var a=new lt.Annotations.Core.AnnSnapToGridOptions;a.set_gridStroke(this._gridStroke);a.set_gridLength(this._gridLength);a.set_lineSpacing(this._lineSpacing);
a.set_enableSnap(this._enableSnap);a.set_showGrid(this._showGrid);a.set_opacity(this._opacity);return a},get_gridStroke:function(){return this._gridStroke},set_gridStroke:function(a){if(this._gridStroke!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("GridStroke",1,this._gridStroke,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._gridStroke=a,this.onPropertyChanged(b))}return a},_gridLength:20,get_gridLength:function(){return this._gridLength},set_gridLength:function(a){if(this._gridLength!==
a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("GridLength",1,this._gridLength,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._gridLength=a,this.onPropertyChanged(b))}return a},_lineSpacing:5,get_lineSpacing:function(){return this._lineSpacing},set_lineSpacing:function(a){if(this._lineSpacing!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("LineSpacing",1,this._lineSpacing,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._lineSpacing=
a,this.onPropertyChanged(b))}return a},_enableSnap:!1,get_enableSnap:function(){return this._enableSnap},set_enableSnap:function(a){if(this._enableSnap!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("EnableSnap",1,this._enableSnap,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._enableSnap=a,this.onPropertyChanged(b))}return a},_showGrid:!1,get_showGrid:function(){return this._showGrid},set_showGrid:function(a){if(this._showGrid!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("ShowGrid",
1,this._showGrid,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._showGrid=a,this.onPropertyChanged(b))}return a},_opacity:1,get_opacity:function(){return this._opacity},set_opacity:function(a){(lt.LeadDoubleTools.lessThan(a,0)||lt.LeadDoubleTools.greaterThan(a,1))&&lt.Annotations.Core.ExceptionHelper.argumentOutOfRangeException("Opacity",a,"Must be a value greater than or equals to 0 and less than or equals to 1");if(this._opacity!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Opacity",
1,this._opacity,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._opacity=a,this.onPropertyChanged(b))}return a},onPropertyChanged:function(a){null!=this.__propertyChanged&&this.__propertyChanged(this,a)}};Object.defineProperty(lt.Annotations.Core.AnnSnapToGridOptions.prototype,"propertyChanged",{get:lt.Annotations.Core.AnnSnapToGridOptions.prototype.__propertyChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSnapToGridOptions.prototype,
"gridStroke",{get:lt.Annotations.Core.AnnSnapToGridOptions.prototype.get_gridStroke,set:lt.Annotations.Core.AnnSnapToGridOptions.prototype.set_gridStroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSnapToGridOptions.prototype,"gridLength",{get:lt.Annotations.Core.AnnSnapToGridOptions.prototype.get_gridLength,set:lt.Annotations.Core.AnnSnapToGridOptions.prototype.set_gridLength,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSnapToGridOptions.prototype,
"lineSpacing",{get:lt.Annotations.Core.AnnSnapToGridOptions.prototype.get_lineSpacing,set:lt.Annotations.Core.AnnSnapToGridOptions.prototype.set_lineSpacing,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSnapToGridOptions.prototype,"enableSnap",{get:lt.Annotations.Core.AnnSnapToGridOptions.prototype.get_enableSnap,set:lt.Annotations.Core.AnnSnapToGridOptions.prototype.set_enableSnap,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSnapToGridOptions.prototype,
"showGrid",{get:lt.Annotations.Core.AnnSnapToGridOptions.prototype.get_showGrid,set:lt.Annotations.Core.AnnSnapToGridOptions.prototype.set_showGrid,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnSnapToGridOptions.prototype,"opacity",{get:lt.Annotations.Core.AnnSnapToGridOptions.prototype.get_opacity,set:lt.Annotations.Core.AnnSnapToGridOptions.prototype.set_opacity,enumerable:!0,configurable:!0});lt.Annotations.Core.AnnStroke=function(){this._strokeAlignment=0};lt.Annotations.Core.AnnStroke.create=
function(a,b){var c=new lt.Annotations.Core.AnnStroke;c.set_stroke(a);c.set_strokeThickness(b);c.set_strokeLineJoin(2);c.set_strokeEndLineCap(2);c.set_strokeStartLineCap(2);return c};lt.Annotations.Core.AnnStroke.prototype={add_propertyChanged:function(a){this.__propertyChanged=ss.Delegate.combine(this.__propertyChanged,a)},remove_propertyChanged:function(a){this.__propertyChanged=ss.Delegate.remove(this.__propertyChanged,a)},__propertyChanged_handler_get:function(){null==this.__propertyChanged_handler&&
(this.__propertyChanged_handler=ss.EventHandler.create(this,this.add_propertyChanged,this.remove_propertyChanged));return this.__propertyChanged_handler},__propertyChanged:null,__propertyChanged_handler:null,onPropertyChanged:function(a){null!=this.__propertyChanged&&this.__propertyChanged(this,a)},_stroke:null,get_stroke:function(){return this._stroke},set_stroke:function(a){if(this._stroke!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("Stroke",1,this._stroke,a);this.onPropertyChanged(b);
b.get_cancel()||(b.set_status(0),this._stroke=a,this.onPropertyChanged(b))}return a},_strokeDashArray:null,get_strokeDashArray:function(){return this._strokeDashArray},set_strokeDashArray:function(a){if(this._strokeDashArray!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("StrokeDashArray",1,this._strokeDashArray,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._strokeDashArray=a,this.onPropertyChanged(b))}return a},_strokeDashCap:0,get_strokeDashCap:function(){return this._strokeDashCap},
set_strokeDashCap:function(a){if(this._strokeDashCap!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("StrokeDashCap",1,this._strokeDashCap,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._strokeDashCap=a,this.onPropertyChanged(b))}return a},_strokeDashOffset:0,get_strokeDashOffset:function(){return this._strokeDashOffset},set_strokeDashOffset:function(a){if(this._strokeDashOffset!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("StrokeDashOffset",1,
this._strokeDashOffset,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._strokeDashOffset=a,this.onPropertyChanged(b))}return a},_strokeEndLineCap:0,get_strokeEndLineCap:function(){return this._strokeEndLineCap},set_strokeEndLineCap:function(a){if(this._strokeEndLineCap!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("StrokeEndLineCap",1,this._strokeEndLineCap,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._strokeEndLineCap=a,this.onPropertyChanged(b))}return a},
_strokeLineJoin:0,get_strokeLineJoin:function(){return this._strokeLineJoin},set_strokeLineJoin:function(a){if(this._strokeLineJoin!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("StrokeLineJoin",1,this._strokeLineJoin,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._strokeLineJoin=a,this.onPropertyChanged(b))}return a},_strokeMiterLimit:0,get_strokeMiterLimit:function(){return this._strokeMiterLimit},set_strokeMiterLimit:function(a){if(this._strokeMiterLimit!==
a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("StrokeMiterLimit",1,this._strokeMiterLimit,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._strokeMiterLimit=a,this.onPropertyChanged(b))}return a},_strokeStartLineCap:0,get_strokeStartLineCap:function(){return this._strokeStartLineCap},set_strokeStartLineCap:function(a){if(this._strokeStartLineCap!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("StrokeStartLineCap",1,this._strokeStartLineCap,a);this.onPropertyChanged(b);
b.get_cancel()||(b.set_status(0),this._strokeStartLineCap=a,this.onPropertyChanged(b))}return a},_strokeThickness:null,get_strokeThickness:function(){return this._strokeThickness},set_strokeThickness:function(a){if(!lt.Annotations.Core._leadLengthDExtensions.isEqual(this._strokeThickness,a)){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("StrokeThickness",1,this._strokeThickness,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._strokeThickness=a,this.onPropertyChanged(b))}return a},
get_strokeAlignment:function(){return this._strokeAlignment},set_strokeAlignment:function(a){if(this._strokeAlignment!==a){var b=new lt.Annotations.Core.AnnPropertyChangedEventArgs("StrokeAlignment",1,this._strokeAlignment,a);this.onPropertyChanged(b);b.get_cancel()||(b.set_status(0),this._strokeAlignment=a,this.onPropertyChanged(b))}return a},clone:function(){var a=new lt.Annotations.Core.AnnStroke;null!=this.get_stroke()&&a.set_stroke(this.get_stroke().clone());null!=this.get_strokeThickness()&&
a.set_strokeThickness(lt.Annotations.Core._leadLengthDExtensions.clone(this.get_strokeThickness()));a.set_strokeDashCap(this.get_strokeDashCap());a.set_strokeDashOffset(this.get_strokeDashOffset());a.set_strokeEndLineCap(this.get_strokeEndLineCap());a.set_strokeLineJoin(this.get_strokeLineJoin());a.set_strokeMiterLimit(this.get_strokeMiterLimit());a.set_strokeStartLineCap(this.get_strokeStartLineCap());a.set_strokeAlignment(this.get_strokeAlignment());if(null!=this.get_strokeDashArray()){a.set_strokeDashArray(Array(this.get_strokeDashArray().length));
for(var b=0;b<this.get_strokeDashArray().length;++b)a.get_strokeDashArray()[b]=this.get_strokeDashArray()[b]}return a}};Object.defineProperty(lt.Annotations.Core.AnnStroke.prototype,"propertyChanged",{get:lt.Annotations.Core.AnnStroke.prototype.__propertyChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStroke.prototype,"stroke",{get:lt.Annotations.Core.AnnStroke.prototype.get_stroke,set:lt.Annotations.Core.AnnStroke.prototype.set_stroke,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStroke.prototype,"strokeDashArray",{get:lt.Annotations.Core.AnnStroke.prototype.get_strokeDashArray,set:lt.Annotations.Core.AnnStroke.prototype.set_strokeDashArray,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStroke.prototype,"strokeDashCap",{get:lt.Annotations.Core.AnnStroke.prototype.get_strokeDashCap,set:lt.Annotations.Core.AnnStroke.prototype.set_strokeDashCap,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStroke.prototype,
"strokeDashOffset",{get:lt.Annotations.Core.AnnStroke.prototype.get_strokeDashOffset,set:lt.Annotations.Core.AnnStroke.prototype.set_strokeDashOffset,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStroke.prototype,"strokeEndLineCap",{get:lt.Annotations.Core.AnnStroke.prototype.get_strokeEndLineCap,set:lt.Annotations.Core.AnnStroke.prototype.set_strokeEndLineCap,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStroke.prototype,"strokeLineJoin",
{get:lt.Annotations.Core.AnnStroke.prototype.get_strokeLineJoin,set:lt.Annotations.Core.AnnStroke.prototype.set_strokeLineJoin,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStroke.prototype,"strokeMiterLimit",{get:lt.Annotations.Core.AnnStroke.prototype.get_strokeMiterLimit,set:lt.Annotations.Core.AnnStroke.prototype.set_strokeMiterLimit,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStroke.prototype,"strokeStartLineCap",{get:lt.Annotations.Core.AnnStroke.prototype.get_strokeStartLineCap,
set:lt.Annotations.Core.AnnStroke.prototype.set_strokeStartLineCap,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStroke.prototype,"strokeThickness",{get:lt.Annotations.Core.AnnStroke.prototype.get_strokeThickness,set:lt.Annotations.Core.AnnStroke.prototype.set_strokeThickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnStroke.prototype,"strokeAlignment",{get:lt.Annotations.Core.AnnStroke.prototype.get_strokeAlignment,set:lt.Annotations.Core.AnnStroke.prototype.set_strokeAlignment,
enumerable:!0,configurable:!0});lt.Annotations.Core.AnnThickness=function(a,b,c,d){this._bottom=d;this._left=a;this._top=b;this._right=c};lt.Annotations.Core.AnnThickness.prototype={_bottom:0,get_bottom:function(){return this._bottom},set_bottom:function(a){return this._bottom=a},_left:0,get_left:function(){return this._left},set_left:function(a){return this._left=a},_top:0,get_top:function(){return this._top},set_top:function(a){return this._top=a},_right:0,get_right:function(){return this._right},
set_right:function(a){return this._right=a},clone:function(){return new lt.Annotations.Core.AnnThickness(this._left,this._top,this._right,this._bottom)}};Object.defineProperty(lt.Annotations.Core.AnnThickness.prototype,"bottom",{get:lt.Annotations.Core.AnnThickness.prototype.get_bottom,set:lt.Annotations.Core.AnnThickness.prototype.set_bottom,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnThickness.prototype,"left",{get:lt.Annotations.Core.AnnThickness.prototype.get_left,
set:lt.Annotations.Core.AnnThickness.prototype.set_left,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnThickness.prototype,"top",{get:lt.Annotations.Core.AnnThickness.prototype.get_top,set:lt.Annotations.Core.AnnThickness.prototype.set_top,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Core.AnnThickness.prototype,"right",{get:lt.Annotations.Core.AnnThickness.prototype.get_right,set:lt.Annotations.Core.AnnThickness.prototype.set_right,enumerable:!0,
configurable:!0});lt.Annotations.Core.AnnTransformer=function(){};lt.Annotations.Core.AnnTransformer.rotatePointAt=function(a,b,c,d){var a=lt.Annotations.Core.AnnTransformer.translatePoint(a,-c,-d),e=lt.Annotations.Core.Utils.degreesToRadian(b),b=Math.sin(e),e=Math.cos(e),a=lt.Annotations.Core._leadPointDExtensions.create(a.get_x()*e-a.get_y()*b,a.get_x()*b+a.get_y()*e);return a=lt.Annotations.Core.AnnTransformer.translatePoint(a,c,d)};lt.Annotations.Core.AnnTransformer.rotateRect=function(a,b){if(lt.Annotations.Core.AnnDouble.isNaN(b)||
!b)return lt.Annotations.Core._leadRectDExtensions.clone(a);var c=Array(2);c[0]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x(),a.get_y());c[1]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+a.get_width(),a.get_y()+a.get_height());for(var d=0;d<c.length;++d)c[d]=lt.Annotations.Core.AnnTransformer.rotatePointAt(c[d],b,a.get_x()+a.get_width()/2,a.get_y()+a.get_height()/2);var d=Math.min(c[0].get_x(),c[1].get_x()),e=Math.min(c[0].get_y(),c[1].get_y()),f=Math.max(c[0].get_x(),c[1].get_x()),
c=Math.max(c[0].get_y(),c[1].get_y());return lt.Annotations.Core._leadRectDExtensions.create(d,e,f-d,c-e)};lt.Annotations.Core.AnnTransformer.rotateRectAt=function(a,b,c,d){var e=Array(4);e[0]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x(),a.get_y());e[1]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+a.get_width(),a.get_y());e[2]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+a.get_width(),a.get_y()+a.get_height());e[3]=lt.Annotations.Core._leadPointDExtensions.create(a.get_x(),
a.get_y()+a.get_height());for(a=0;a<e.length;++a)e[a]=lt.Annotations.Core.AnnTransformer.rotatePointAt(e[a],b,c,d);b=e[0].get_x();c=e[0].get_y();d=e[2].get_x()-e[0].get_x();a=e[2].get_y()-e[0].get_y();0>d&&(b=e[0].get_x()+d,d=Math.abs(d));0>a&&(c=e[0].get_y()+a,a=Math.abs(a));return lt.Annotations.Core._leadRectDExtensions.create(b,c,d,a)};lt.Annotations.Core.AnnTransformer.rotatePoint=function(a,b){return lt.Annotations.Core.AnnTransformer.rotatePointAt(a,b,a.get_x(),a.get_y())};lt.Annotations.Core.AnnTransformer.scalePoint=
function(a,b,c){return lt.Annotations.Core.AnnTransformer.scalePointAt(a,b,c,0,0)};lt.Annotations.Core.AnnTransformer.scalePointAt=function(a,b,c,d,e){return lt.Annotations.Core._leadPointDExtensions.create(d-(d-a.get_x())*b,e-(e-a.get_y())*c)};lt.Annotations.Core.AnnTransformer.translatePoint=function(a,b,c){return lt.Annotations.Core._leadPointDExtensions.create(a.get_x()+b,a.get_y()+c)};lt.Annotations.Core.AnnTransformer.scalePointsAt=function(a,b,c,d,e){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("points");
for(var f=Array(a.length),g=0;g<a.length;++g)f[g]=lt.Annotations.Core.AnnTransformer.scalePointAt(a[g],b,c,d,e);return f};lt.Annotations.Core.AnnTransformer.rotatePoints=function(a,b){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("points");for(var c=Array(a.length),d=0;d<a.length;++d)c[d]=lt.Annotations.Core.AnnTransformer.rotatePointAt(a[d],b,a[d].get_x(),a[d].get_y());return c};lt.Annotations.Core.AnnTransformer.rotateAtPoints=function(a,b,c,d){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("points");
for(var e=Array(a.length),f=0;f<a.length;++f)e[f]=lt.Annotations.Core.AnnTransformer.rotatePointAt(a[f],b,c,d);return e};lt.Annotations.Core.AnnTransformer.translatePoints=function(a,b,c){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("points");for(var d=Array(a.length),e=0;e<a.length;++e)d[e]=lt.Annotations.Core.AnnTransformer.translatePoint(a[e],b,c);return d};lt.Annotations.Core._lT_VersionNumber.registerClass("lt.Annotations.Core._lT_VersionNumber");lt.Annotations.Core._leadRectDExtensions.registerClass("lt.Annotations.Core._leadRectDExtensions");
lt.Annotations.Core._leadPointDExtensions.registerClass("lt.Annotations.Core._leadPointDExtensions");lt.Annotations.Core._leadLengthDExtensions.registerClass("lt.Annotations.Core._leadLengthDExtensions");lt.Annotations.Core._leadSizeDExtensions.registerClass("lt.Annotations.Core._leadSizeDExtensions");lt.Annotations.Core.AnnUnitConverter.registerClass("lt.Annotations.Core.AnnUnitConverter");lt.Annotations.Core.AnnXmlHelper.registerClass("lt.Annotations.Core.AnnXmlHelper");lt.Annotations.Core.ExceptionHelper.registerClass("lt.Annotations.Core.ExceptionHelper");
lt.Annotations.Core.PolyPoint.registerClass("lt.Annotations.Core.PolyPoint");lt.Annotations.Core.RulerMetadata.registerClass("lt.Annotations.Core.RulerMetadata");lt.Annotations.Core.RulerHelper.registerClass("lt.Annotations.Core.RulerHelper");lt.Annotations.Core._encryptTable.registerClass("lt.Annotations.Core._encryptTable");lt.Annotations.Core._arC4.registerClass("lt.Annotations.Core._arC4");lt.Annotations.Core._randomGenerator.registerClass("lt.Annotations.Core._randomGenerator");lt.Annotations.Core.ScrambleImage.registerClass("lt.Annotations.Core.ScrambleImage");
lt.Annotations.Core.Utils.registerClass("lt.Annotations.Core.Utils");lt.Annotations.Core._annOnLoadData.registerClass("lt.Annotations.Core._annOnLoadData");lt.Annotations.Core.AnnCodecsInfo.registerClass("lt.Annotations.Core.AnnCodecsInfo");lt.Annotations.Core.AnnSerializeObjectEventArgs.registerClass("lt.Annotations.Core.AnnSerializeObjectEventArgs",lt.LeadEventArgs);lt.Annotations.Core.AnnSerializeOptions.registerClass("lt.Annotations.Core.AnnSerializeOptions");lt.Annotations.Core.AnnDeserializeOptions.registerClass("lt.Annotations.Core.AnnDeserializeOptions");
lt.Annotations.Core.AnnCodecs.registerClass("lt.Annotations.Core.AnnCodecs");lt.Annotations.Core.AnnContainer.registerClass("lt.Annotations.Core.AnnContainer");lt.Annotations.Core.AnnContainerMapper.registerClass("lt.Annotations.Core.AnnContainerMapper");lt.Annotations.Core.AnnObject.registerClass("lt.Annotations.Core.AnnObject",null,lt.Annotations.Core.IAnnObjectCloneable);lt.Annotations.Core.AnnRectangleObject.registerClass("lt.Annotations.Core.AnnRectangleObject",lt.Annotations.Core.AnnObject);
lt.Annotations.Core.AnnImageObject.registerClass("lt.Annotations.Core.AnnImageObject",lt.Annotations.Core.AnnRectangleObject);lt.Annotations.Core.AnnHotspotObject.registerClass("lt.Annotations.Core.AnnHotspotObject",lt.Annotations.Core.AnnImageObject);lt.Annotations.Core.AnnMediaObject.registerClass("lt.Annotations.Core.AnnMediaObject",lt.Annotations.Core.AnnHotspotObject);lt.Annotations.Core.AnnAudioObject.registerClass("lt.Annotations.Core.AnnAudioObject",lt.Annotations.Core.AnnMediaObject);lt.Annotations.Core._parameters.registerClass("lt.Annotations.Core._parameters");
lt.Annotations.Core.AnnPolylineObject.registerClass("lt.Annotations.Core.AnnPolylineObject",lt.Annotations.Core.AnnObject);lt.Annotations.Core.AnnPolyRulerObject.registerClass("lt.Annotations.Core.AnnPolyRulerObject",lt.Annotations.Core.AnnPolylineObject);lt.Annotations.Core.AnnCrossProductObject.registerClass("lt.Annotations.Core.AnnCrossProductObject",lt.Annotations.Core.AnnPolyRulerObject);lt.Annotations.Core.AnnCurveObject.registerClass("lt.Annotations.Core.AnnCurveObject",lt.Annotations.Core.AnnPolylineObject);
lt.Annotations.Core.AnnEllipseObject.registerClass("lt.Annotations.Core.AnnEllipseObject",lt.Annotations.Core.AnnRectangleObject);lt.Annotations.Core.AnnEncryptObject.registerClass("lt.Annotations.Core.AnnEncryptObject",lt.Annotations.Core.AnnRectangleObject);lt.Annotations.Core.AnnFreehandHotspotObject.registerClass("lt.Annotations.Core.AnnFreehandHotspotObject",lt.Annotations.Core.AnnPolylineObject);lt.Annotations.Core.AnnGroupObject.registerClass("lt.Annotations.Core.AnnGroupObject",lt.Annotations.Core.AnnRectangleObject);
lt.Annotations.Core.AnnHiliteObject.registerClass("lt.Annotations.Core.AnnHiliteObject",lt.Annotations.Core.AnnRectangleObject);lt.Annotations.Core.AnnTextObject.registerClass("lt.Annotations.Core.AnnTextObject",lt.Annotations.Core.AnnRectangleObject);lt.Annotations.Core.AnnNoteObject.registerClass("lt.Annotations.Core.AnnNoteObject",lt.Annotations.Core.AnnTextObject);lt.Annotations.Core.AnnPointerObject.registerClass("lt.Annotations.Core.AnnPointerObject",lt.Annotations.Core.AnnPolylineObject);lt.Annotations.Core.AnnPointObject.registerClass("lt.Annotations.Core.AnnPointObject",
lt.Annotations.Core.AnnObject);lt.Annotations.Core.AnnProtractorObject.registerClass("lt.Annotations.Core.AnnProtractorObject",lt.Annotations.Core.AnnPolyRulerObject);lt.Annotations.Core.AnnRedactionObject.registerClass("lt.Annotations.Core.AnnRedactionObject",lt.Annotations.Core.AnnRectangleObject);lt.Annotations.Core.AnnRubberStampObject.registerClass("lt.Annotations.Core.AnnRubberStampObject",lt.Annotations.Core.AnnRectangleObject);lt.Annotations.Core.AnnSelectionObject.registerClass("lt.Annotations.Core.AnnSelectionObject",
lt.Annotations.Core.AnnRectangleObject);lt.Annotations.Core.AnnStampObject.registerClass("lt.Annotations.Core.AnnStampObject",lt.Annotations.Core.AnnTextObject);lt.Annotations.Core.AnnStickyNoteObject.registerClass("lt.Annotations.Core.AnnStickyNoteObject",lt.Annotations.Core.AnnObject);lt.Annotations.Core.AnnTextReviewObject.registerClass("lt.Annotations.Core.AnnTextReviewObject",lt.Annotations.Core.AnnObject);lt.Annotations.Core.AnnTextHiliteObject.registerClass("lt.Annotations.Core.AnnTextHiliteObject",
lt.Annotations.Core.AnnTextReviewObject);lt.Annotations.Core.AnnTextPointerObject.registerClass("lt.Annotations.Core.AnnTextPointerObject",lt.Annotations.Core.AnnTextObject);lt.Annotations.Core.AnnTextRedactionObject.registerClass("lt.Annotations.Core.AnnTextRedactionObject",lt.Annotations.Core.AnnTextReviewObject);lt.Annotations.Core.AnnTextRollupObject.registerClass("lt.Annotations.Core.AnnTextRollupObject",lt.Annotations.Core.AnnNoteObject);lt.Annotations.Core.AnnTextStrikeoutObject.registerClass("lt.Annotations.Core.AnnTextStrikeoutObject",
lt.Annotations.Core.AnnTextReviewObject);lt.Annotations.Core.AnnTextUnderlineObject.registerClass("lt.Annotations.Core.AnnTextUnderlineObject",lt.Annotations.Core.AnnTextReviewObject);lt.Annotations.Core.AnnLoadPictureEventArgs.registerClass("lt.Annotations.Core.AnnLoadPictureEventArgs",lt.LeadEventArgs);lt.Annotations.Core.AnnRenderingEngine.registerClass("lt.Annotations.Core.AnnRenderingEngine");lt.Annotations.Core.AnnDrawDesignerEventArgs.registerClass("lt.Annotations.Core.AnnDrawDesignerEventArgs",
lt.LeadEventArgs);lt.Annotations.Core.AnnEditDesignerEventArgs.registerClass("lt.Annotations.Core.AnnEditDesignerEventArgs",lt.LeadEventArgs);lt.Annotations.Core.AnnEditContentEventArgs.registerClass("lt.Annotations.Core.AnnEditContentEventArgs",lt.LeadEventArgs);lt.Annotations.Core.AnnEditTextEventArgs.registerClass("lt.Annotations.Core.AnnEditTextEventArgs",lt.LeadEventArgs);lt.Annotations.Core.AnnLockObjectEventArgs.registerClass("lt.Annotations.Core.AnnLockObjectEventArgs",lt.LeadEventArgs);lt.Annotations.Core.AnnPointerEventArgs.registerClass("lt.Annotations.Core.AnnPointerEventArgs",
lt.LeadEventArgs);lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.registerClass("lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs",lt.LeadEventArgs);lt.Annotations.Core.AnnObjectCollectionEventArgs.registerClass("lt.Annotations.Core.AnnObjectCollectionEventArgs",lt.LeadEventArgs);lt.Annotations.Core.AnnPropertyChangedEventArgs.registerClass("lt.Annotations.Core.AnnPropertyChangedEventArgs",lt.LeadEventArgs);lt.Annotations.Core.AnnRunDesignerEventArgs.registerClass("lt.Annotations.Core.AnnRunDesignerEventArgs",
lt.LeadEventArgs);lt.Annotations.Core.AnnToolTipEventArgs.registerClass("lt.Annotations.Core.AnnToolTipEventArgs",lt.LeadEventArgs);lt.Annotations.Core.AnnBrush.registerClass("lt.Annotations.Core.AnnBrush");lt.Annotations.Core.AnnSolidColorBrush.registerClass("lt.Annotations.Core.AnnSolidColorBrush",lt.Annotations.Core.AnnBrush);lt.Annotations.Core.AnnHatchBrush.registerClass("lt.Annotations.Core.AnnHatchBrush",lt.Annotations.Core.AnnBrush);lt.Annotations.Core.AnnGradientStop.registerClass("lt.Annotations.Core.AnnGradientStop");
lt.Annotations.Core.AnnGradientBrush.registerClass("lt.Annotations.Core.AnnGradientBrush",lt.Annotations.Core.AnnBrush);lt.Annotations.Core.AnnLinearGradientBrush.registerClass("lt.Annotations.Core.AnnLinearGradientBrush",lt.Annotations.Core.AnnGradientBrush);lt.Annotations.Core.AnnContainerCollection.registerClass("lt.Annotations.Core.AnnContainerCollection");lt.Annotations.Core.AnnGradientStopCollection.registerClass("lt.Annotations.Core.AnnGradientStopCollection");lt.Annotations.Core.AnnDataProvider.registerClass("lt.Annotations.Core.AnnDataProvider");
lt.Annotations.Core.AnnDouble.registerClass("lt.Annotations.Core.AnnDouble");lt.Annotations.Core.AnnFont.registerClass("lt.Annotations.Core.AnnFont");lt.Annotations.Core.AnnOperationInfoEventArgs.registerClass("lt.Annotations.Core.AnnOperationInfoEventArgs",lt.LeadEventArgs);lt.Annotations.Core.AnnRoles.registerClass("lt.Annotations.Core.AnnRoles");lt.Annotations.Core.AnnGroupsRoles.registerClass("lt.Annotations.Core.AnnGroupsRoles");lt.Annotations.Core.AnnLabel.registerClass("lt.Annotations.Core.AnnLabel");
lt.Annotations.Core.AnnLayerCollection.registerClass("lt.Annotations.Core.AnnLayerCollection");lt.Annotations.Core.AnnObjectCollection.registerClass("lt.Annotations.Core.AnnObjectCollection");lt.Annotations.Core._myLayerObjectCollection.registerClass("lt.Annotations.Core._myLayerObjectCollection",lt.Annotations.Core.AnnObjectCollection);lt.Annotations.Core.AnnLayer.registerClass("lt.Annotations.Core.AnnLayer");lt.Annotations.Core.AnnMedia.registerClass("lt.Annotations.Core.AnnMedia");lt.Annotations.Core.AnnPicture.registerClass("lt.Annotations.Core.AnnPicture");
lt.Annotations.Core.LeadPointCollection.registerClass("lt.Annotations.Core.LeadPointCollection");lt.Annotations.Core.AnnResources.registerClass("lt.Annotations.Core.AnnResources");lt.Annotations.Core.AnnReview.registerClass("lt.Annotations.Core.AnnReview");lt.Annotations.Core.AnnSnapToGridOptions.registerClass("lt.Annotations.Core.AnnSnapToGridOptions");lt.Annotations.Core.AnnStroke.registerClass("lt.Annotations.Core.AnnStroke");lt.Annotations.Core.AnnThickness.registerClass("lt.Annotations.Core.AnnThickness");
lt.Annotations.Core.AnnTransformer.registerClass("lt.Annotations.Core.AnnTransformer");lt.Annotations.Core._lT_VersionNumber.l_VER_PRODUCT="LEADTOOLS\u00ae for JavaScript";lt.Annotations.Core._lT_VersionNumber.l_VER_COMPANYNAME_STR="LEAD Technologies, Inc.";lt.Annotations.Core._lT_VersionNumber.l_VER_LEGALTRADEMARKS_STR="LEADTOOLS\u00ae is a trademark of LEAD Technologies, Inc.";lt.Annotations.Core._lT_VersionNumber.l_VER_LEGALCOPYRIGHT_STR="\u00a9 1991-2017 LEAD Technologies, Inc.";lt.Annotations.Core._lT_VersionNumber.l_VER_DLLEXT=
".dll";lt.Annotations.Core._lT_VersionNumber.l_VER_EXEEXT=".exe";lt.Annotations.Core._lT_VersionNumber.l_VER_PLATFORM="";lt.Annotations.Core._lT_VersionNumber.l_VER_PLATFORM_FOR="";lt.Annotations.Core._lT_VersionNumber.l_VER_PRODUCTNAME_STR="LEADTOOLS\u00ae for JavaScript";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_XXX="Leadtools.Xxx.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_XXX="LEADTOOLS Xxx";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_KERNEL=
"lt.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_KERNEL="Leadtools";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS="lt.Controls.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS="Controls";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS_UI="lt.Documents.UI.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS_UI="Documents User Interface";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS_MEDICAL=
"lt.Controls.Medical.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS_MEDICAL="Medical Controls";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS="lt.Documents.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS="Documents";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_CORE="lt.Annotations.Core.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_CORE="Annotations Core";
lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_AUTOMATION="lt.Annotations.Automation.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_AUTOMATION="Annotations Automation";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DESIGNERS="lt.Annotations.Designers.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DESIGNERS="Annotations Designers";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_RENDERING=
"lt.Annotations.Rendering.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_RENDERING="Annotations Rendering";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CCOW="Leadtools.Ccow.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CCOW="Leadtools CCOW Library";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DOCUMENTS="Leadtools.Annotations.Documents.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DOCUMENTS=
"Annotations Documents";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_LEGACY="Leadtools.Annotations.Legacy.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_LEGACY="Annotations Legacy";lt.Annotations.Core._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_JAVASCRIPT="Leadtools.Annotations.JavaScript.dll";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_JAVASCRIPT="JavaScripot Annotations";lt.Annotations.Core._lT_VersionNumber.l_VER_PRODUCTVERSION_DOT_STR=
"19.0.0.0";lt.Annotations.Core._lT_VersionNumber.l_VER_FILEVERSION_DOT_STR="19.0.0.51";lt.Annotations.Core.AnnUnitConverter._unitRatio=[720,100,300,1,25.400000025908,1,25.400000025908,72,0.0833333333333333,0.0277777777777778,25400,2.5400000025908,0.025400000025908,1440];lt.Annotations.Core.AnnUnitConverter._unitsAbbreveations="Units,display,document,,,In,mm,pt,ft,yd,\u00b5,cm,m,twips,pixels".split(",");lt.Annotations.Core.AnnUnitConverter._angularUnitsabbreveation=["Rad","\u00b0"];lt.Annotations.Core.AnnUnitConverter._smartEnglishMaximumUnit=
3;lt.Annotations.Core.AnnUnitConverter._smartMetricMaximumUnit=4;lt.Annotations.Core.AnnXmlHelper.annObjectType="Object";lt.Annotations.Core.AnnXmlHelper.annAnnotationsType="Annotations";lt.Annotations.Core.AnnXmlHelper.annVersionType="Version";lt.Annotations.Core.AnnXmlHelper.annContainerType="Container";lt.Annotations.Core.AnnXmlHelper.annContainerSize="Size";lt.Annotations.Core.AnnXmlHelper.annContainerOffset="Offset";lt.Annotations.Core.AnnXmlHelper.annContainerPageNumberType="PageNumber";lt.Annotations.Core.AnnXmlHelper.annChildrenType=
"Objects";lt.Annotations.Core.AnnXmlHelper.annLabelType="Label";lt.Annotations.Core.AnnXmlHelper.annLabelsType="Labels";lt.Annotations.Core.AnnXmlHelper.leadPointType="Point";lt.Annotations.Core.AnnXmlHelper.annThicknessType="Thickness";lt.Annotations.Core.AnnXmlHelper.annSolidColorBrushType="SolidColorBrush";lt.Annotations.Core.AnnXmlHelper.annHatchBrushType="AnnHatchBrush";lt.Annotations.Core.AnnXmlHelper.leadPointsType="Points";lt.Annotations.Core.AnnXmlHelper.annStrokeType="Stroke";lt.Annotations.Core.AnnXmlHelper.annSelectionStrokeType=
"SelectionStroke";lt.Annotations.Core.AnnXmlHelper.metadata="Metadata";lt.Annotations.Core.AnnXmlHelper.reviews="Reviews";lt.Annotations.Core.AnnXmlHelper.userId="UserId";lt.Annotations.Core.AnnXmlHelper.isLocked="IsLocked";lt.Annotations.Core.AnnXmlHelper.objectTag="ObjectTag";lt.Annotations.Core.AnnXmlHelper.password="Password";lt.Annotations.Core.AnnXmlHelper.groupName="GroupName";lt.Annotations.Core.AnnXmlHelper.hyperlink="Hyperlink";lt.Annotations.Core.AnnXmlHelper.fixedStateOperations="FixedStateOperations";
lt.Annotations.Core.AnnXmlHelper.rotateGripper="RotateGripper";lt.Annotations.Core.AnnXmlHelper.rotateCenter="RotateCenter";lt.Annotations.Core.AnnXmlHelper.isSelected="IsSelected";lt.Annotations.Core.AnnXmlHelper.type="ObjectType";lt.Annotations.Core.AnnXmlHelper.arrowLength="ArrowLength";lt.Annotations.Core.AnnXmlHelper.arrowPosition="ArrowPosition";lt.Annotations.Core.AnnXmlHelper.shadowBorderWidth="ShadowBorderWidth";lt.Annotations.Core.AnnXmlHelper.tension="Tension";lt.Annotations.Core.AnnXmlHelper.familyName=
"FamilyName";lt.Annotations.Core.AnnXmlHelper.size="Size";lt.Annotations.Core.AnnXmlHelper.stretch="Stretch";lt.Annotations.Core.AnnXmlHelper.weight="Weight";lt.Annotations.Core.AnnXmlHelper.style="Style";lt.Annotations.Core.AnnXmlHelper.textDecoration="TextDecoration";lt.Annotations.Core.AnnXmlHelper.fill="Fill";lt.Annotations.Core.AnnXmlHelper.color="Color";lt.Annotations.Core.AnnXmlHelper.foregroundColor="ForegroundColor";lt.Annotations.Core.AnnXmlHelper.backgroundColor="BackgroundColor";lt.Annotations.Core.AnnXmlHelper.annHatchStyle=
"AnnHatchStyle";lt.Annotations.Core.AnnXmlHelper.x="X";lt.Annotations.Core.AnnXmlHelper.y="Y";lt.Annotations.Core.AnnXmlHelper.width="Width";lt.Annotations.Core.AnnXmlHelper.height="Height";lt.Annotations.Core.AnnXmlHelper.isVisible="IsVisible";lt.Annotations.Core.AnnXmlHelper.isEnabled="IsEnabled";lt.Annotations.Core.AnnXmlHelper.isRestricted="IsRestricted";lt.Annotations.Core.AnnXmlHelper.originalPosition="OriginalPosition";lt.Annotations.Core.AnnXmlHelper.offset="Offset";lt.Annotations.Core.AnnXmlHelper.font=
"Font";lt.Annotations.Core.AnnXmlHelper.isClosed="IsClosed";lt.Annotations.Core.AnnXmlHelper.fillRule="FillRule";lt.Annotations.Core.AnnXmlHelper.tickMarksStroke="TickMarksStroke";lt.Annotations.Core.AnnXmlHelper.measurementUnit="MeasurementUnit";lt.Annotations.Core.AnnXmlHelper.tickMarksLength="TickMarksLength";lt.Annotations.Core.AnnXmlHelper.showTickMarks="ShowTickMarks";lt.Annotations.Core.AnnXmlHelper.showTickValue="ShowTickValue";lt.Annotations.Core.AnnXmlHelper.gaugeLength="GaugeLength";lt.Annotations.Core.AnnXmlHelper.showGauge=
"ShowGauge";lt.Annotations.Core.AnnXmlHelper.precision="Precision";lt.Annotations.Core.AnnXmlHelper.acute="Acute";lt.Annotations.Core.AnnXmlHelper.showArc="ShowArc";lt.Annotations.Core.AnnXmlHelper.angularUnit="AngularUnit";lt.Annotations.Core.AnnXmlHelper.anglePrecision="AnglePrecision";lt.Annotations.Core.AnnXmlHelper.arcRadius="ArcRadius";lt.Annotations.Core.AnnXmlHelper.rubberStampType="RubberStampType";lt.Annotations.Core.AnnXmlHelper.text="Text";lt.Annotations.Core.AnnXmlHelper.textRotate="TextRotate";
lt.Annotations.Core.AnnXmlHelper.horizontalAlignment="HorizontalAlignment";lt.Annotations.Core.AnnXmlHelper.verticalAlignment="VerticalAlignment";lt.Annotations.Core.AnnXmlHelper.textBackground="Background";lt.Annotations.Core.AnnXmlHelper.textForeground="Foreground";lt.Annotations.Core.AnnXmlHelper.pointerPosition="PointerPosition";lt.Annotations.Core.AnnXmlHelper.fixedPointer="FixedPointer";lt.Annotations.Core.AnnXmlHelper.expanded="Expanded";lt.Annotations.Core.AnnXmlHelper.redactImageData="RedactImageData";
lt.Annotations.Core.AnnXmlHelper.dashCap="DashCap";lt.Annotations.Core.AnnXmlHelper.miterLimit="MiterLimit";lt.Annotations.Core.AnnXmlHelper.startLineCap="StartLineCap";lt.Annotations.Core.AnnXmlHelper.endLineCap="EndLineCap";lt.Annotations.Core.AnnXmlHelper.lineJoin="LineJoin";lt.Annotations.Core.AnnXmlHelper.dashArray="Dashes";lt.Annotations.Core.AnnXmlHelper.dashOffset="DashOffset";lt.Annotations.Core.AnnXmlHelper.dashSize="DashSize";lt.Annotations.Core.AnnXmlHelper.showPicture="ShowPicture";lt.Annotations.Core.AnnXmlHelper.picture=
"Picture";lt.Annotations.Core.AnnXmlHelper.pictureData="PictureData";lt.Annotations.Core.AnnXmlHelper.pictureSource="PictureSource";lt.Annotations.Core.AnnXmlHelper.pictureWidth="PictureWidth";lt.Annotations.Core.AnnXmlHelper.pictureHeight="PictureHeight";lt.Annotations.Core.AnnXmlHelper.labelKey="Key";lt.Annotations.Core.AnnXmlHelper.unitAbbreviation="UnitAbbreviation";lt.Annotations.Core.AnnXmlHelper.angularUnitAbbreviation="AngularUnitAbbreviation";lt.Annotations.Core.AnnXmlHelper.annCalibrationScale=
"CalibrationScale";lt.Annotations.Core.AnnXmlHelper.radius="Radius";lt.Annotations.Core.AnnXmlHelper.annContainerUserData="UserData";lt.Annotations.Core.AnnXmlHelper.media="Media";lt.Annotations.Core.AnnXmlHelper.mediaSource1="Source1";lt.Annotations.Core.AnnXmlHelper.mediaType1="MediaType1";lt.Annotations.Core.AnnXmlHelper.mediaSource2="Source2";lt.Annotations.Core.AnnXmlHelper.mediaType2="MediaType2";lt.Annotations.Core.AnnXmlHelper.mediaSource3="Source3";lt.Annotations.Core.AnnXmlHelper.mediaType3=
"MediaType3";lt.Annotations.Core.AnnXmlHelper.key="Key";lt.Annotations.Core.AnnXmlHelper.primaryPicture="PrimaryPicture";lt.Annotations.Core.AnnXmlHelper.secondaryPicture="SecondaryPicture";lt.Annotations.Core.AnnXmlHelper.encryptor="Encryptor";lt.Annotations.Core.AnnXmlHelper.isEncrypted="IsEncrypted";lt.Annotations.Core.AnnXmlHelper.objectId="ObjectId";lt.Annotations.Core.AnnXmlHelper.annLayers="Layers";lt.Annotations.Core.AnnXmlHelper.annLayer="Layer";lt.Annotations.Core.AnnXmlHelper.annLayerName=
"Name";lt.Annotations.Core.AnnXmlHelper.annLayerId="Id";lt.Annotations.Core.AnnXmlHelper.annObjectLayerId="LayerId";lt.Annotations.Core.AnnXmlHelper.assemblyName="AssemblyName";lt.Annotations.Core.AnnXmlHelper.wordWrap="WordWrap";lt.Annotations.Core.AnnXmlHelper.opacity="Opacity";lt.Annotations.Core.AnnXmlHelper.dictionaryItem="Item";lt.Annotations.Core.AnnXmlHelper.dictionaryKey="Key";lt.Annotations.Core.AnnXmlHelper.dictionaryValue="Value";lt.Annotations.Core.AnnXmlHelper.reviewItem="Review";lt.Annotations.Core.AnnXmlHelper.reviewAuthorItem=
"Author";lt.Annotations.Core.AnnXmlHelper.reviewDateItem="Date";lt.Annotations.Core.AnnXmlHelper.reviewStatusItem="Status";lt.Annotations.Core.AnnXmlHelper.reviewIsCheckedItem="IsChecked";lt.Annotations.Core.AnnXmlHelper.reviewCommentItem="Comment";lt.Annotations.Core.AnnXmlHelper.reviewRepliesItem="Replies";lt.Annotations.Core.AnnXmlHelper.canScale="CanScale";lt.Annotations.Core.AnnXmlHelper.canTranslate="CanTranslate";lt.Annotations.Core.AnnXmlHelper.onLoad="OnLoad";lt.Annotations.Core.AnnXmlHelper.rotateAngle=
"RotateAngle";lt.Annotations.Core.AnnXmlHelper.scaleX="ScaleX";lt.Annotations.Core.AnnXmlHelper.scaleY="ScaleY";lt.Annotations.Core.AnnXmlHelper.left="Left";lt.Annotations.Core.AnnXmlHelper.right="Right";lt.Annotations.Core.AnnXmlHelper.top="Top";lt.Annotations.Core.AnnXmlHelper.bottom="Bottom";lt.Annotations.Core.AnnXmlHelper.padding="Padding";lt.Annotations.Core.AnnXmlHelper.offsetHeight="OffsetHeight";lt.Annotations.Core.AnnXmlHelper.strokeAlignment="StrokeAlignment";lt.Annotations.Core.AnnXmlHelper.labelRestriction=
"LabelRestriction";lt.Annotations.Core.AnnXmlHelper.drawShadow="DrawShadow";lt.Annotations.Core.AnnXmlHelper.calibrationUnit="CalibrationUnit";lt.Annotations.Core.RulerHelper._micrometersPerMeter=1E6;lt.Annotations.Core.RulerHelper._micrometersPerCm=1E4;lt.Annotations.Core.Utils.doubleDelta=1.0E-6;lt.Annotations.Core.Utils._checkModifierCallback=null;lt.Annotations.Core.AnnContainerMapper._unit=1/720;lt.Annotations.Core.AnnCrossProductObject.firstRulerHitTestObject="FirstRuler";lt.Annotations.Core.AnnCrossProductObject.secondRulerHitTestObject=
"SecondRuler";lt.Annotations.Core.AnnObject.none=-1E3;lt.Annotations.Core.AnnObject.groupObjectId=0;lt.Annotations.Core.AnnObject.selectObjectId=-1;lt.Annotations.Core.AnnObject.lineObjectId=-2;lt.Annotations.Core.AnnObject.rectangleObjectId=-3;lt.Annotations.Core.AnnObject.ellipseObjectId=-4;lt.Annotations.Core.AnnObject.polylineObjectId=-5;lt.Annotations.Core.AnnObject.polygonObjectId=-6;lt.Annotations.Core.AnnObject.curveObjectId=-7;lt.Annotations.Core.AnnObject.closedCurveObjectId=-8;lt.Annotations.Core.AnnObject.pointerObjectId=
-9;lt.Annotations.Core.AnnObject.freehandObjectId=-10;lt.Annotations.Core.AnnObject.hiliteObjectId=-11;lt.Annotations.Core.AnnObject.textObjectId=-12;lt.Annotations.Core.AnnObject.textRollupObjectId=-13;lt.Annotations.Core.AnnObject.textPointerObjectId=-14;lt.Annotations.Core.AnnObject.noteObjectId=-15;lt.Annotations.Core.AnnObject.stampObjectId=-16;lt.Annotations.Core.AnnObject.rubberStampObjectId=-17;lt.Annotations.Core.AnnObject.hotspotObjectId=-18;lt.Annotations.Core.AnnObject.freehandHotspotObjectId=
-19;lt.Annotations.Core.AnnObject.buttonObjectId=-20;lt.Annotations.Core.AnnObject.pointObjectId=-21;lt.Annotations.Core.AnnObject.redactionObjectId=-22;lt.Annotations.Core.AnnObject.rulerObjectId=-23;lt.Annotations.Core.AnnObject.polyRulerObjectId=-24;lt.Annotations.Core.AnnObject.protractorObjectId=-25;lt.Annotations.Core.AnnObject.crossProductObjectId=-26;lt.Annotations.Core.AnnObject.encryptObjectId=-27;lt.Annotations.Core.AnnObject.audioObjectId=-28;lt.Annotations.Core.AnnObject.richTextObjectId=
-29;lt.Annotations.Core.AnnObject.mediaObjectId=-30;lt.Annotations.Core.AnnObject.imageObjectId=-31;lt.Annotations.Core.AnnObject.stickyNoteObjectId=-32;lt.Annotations.Core.AnnObject.textHiliteObjectId=-33;lt.Annotations.Core.AnnObject.textStrikeoutObjectId=-34;lt.Annotations.Core.AnnObject.textUnderlineObjectId=-35;lt.Annotations.Core.AnnObject.textRedactionObjectId=-36;lt.Annotations.Core.AnnObject.userObjectId=1;lt.Annotations.Core.AnnObject.subjectMetadataKey="Subject";lt.Annotations.Core.AnnObject.authorMetadataKey=
"Author";lt.Annotations.Core.AnnObject.modifiedMetadataKey="Modified";lt.Annotations.Core.AnnObject.titleMetadataKey="Title";lt.Annotations.Core.AnnObject.contentMetadataKey="Content";lt.Annotations.Core.AnnObject.createdMetadataKey="Created";lt.Annotations.Core.AnnObject._rotateGripperOriginal=240;lt.Annotations.Core.AnnRenderingEngine._containerLabelRenderer=null;lt.Annotations.Core.AnnDouble.naN=0/0;lt.Annotations.Core.AnnDouble.positiveInfinity=1/0;lt.Annotations.Core.AnnDouble.negativeInfinity=
-1/0;lt.Annotations.Core.AnnRoles.view="View";lt.Annotations.Core.AnnRoles.edit="Edit";lt.Annotations.Core.AnnRoles.viewAll="View All";lt.Annotations.Core.AnnRoles.editAll="Edit All";lt.Annotations.Core.AnnRoles.fullControl="Full Control";lt.Annotations.Core.AnnReview.none="None";lt.Annotations.Core.AnnReview.created="Created";lt.Annotations.Core.AnnReview.modified="Modified";lt.Annotations.Core.AnnReview.cancelled="Cancelled";lt.Annotations.Core.AnnReview.rejected="Rejected";lt.Annotations.Core.AnnReview.accepted=
"Accepted";lt.Annotations.Core.AnnReview.completed="Completed";lt.Annotations.Core.AnnReview.reply="Reply"})();

/**************************************************
LEADTOOLS (C) 1991-2017 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Annotations.Designers.js
// Version:19.0.0.5
(function(){Type.registerNamespace("lt.Annotations.Designers");window.lt.Annotations.Designers._lT_VersionNumber=function(){};lt.Annotations.Designers._leadRectDExtensions=function(){};lt.Annotations.Designers._leadRectDExtensions.inflate=function(b,c,a){b.inflate(c,a);return b};lt.Annotations.Designers._leadRectDExtensions.intersectRects=function(b,c){return lt.LeadRectD.intersectRects(b,c)};lt.Annotations.Designers._leadRectDExtensions.intersectsWith=function(b,c){var a=!1;return a=b.intersectsWith(c)};
lt.Annotations.Designers._leadRectDExtensions.create=function(b,c,a,d){return lt.LeadRectD.create(b,c,a,d)};lt.Annotations.Designers._leadRectDExtensions.unionRects=function(b,c){return lt.LeadRectD.unionRects(b,c)};lt.Annotations.Designers._leadRectDExtensions.unionPoint=function(b,c){return lt.Annotations.Designers._leadRectDExtensions.unionRects(b,lt.LeadRectD.create(c.get_x(),c.get_y(),0,0))};lt.Annotations.Designers._leadRectDExtensions.clone=function(b){return b.clone()};lt.Annotations.Designers._leadRectDExtensions.isEmpty=
function(b){return b.get_isEmpty()};lt.Annotations.Designers._leadRectDExtensions.fromLTRB=function(b,c,a,d){return lt.LeadRectD.fromLTRB(b,c,a,d)};lt.Annotations.Designers._leadRectDExtensions.get_empty=function(){return lt.LeadRectD.get_empty()};lt.Annotations.Designers._leadRectDExtensions.containsRect=function(b,c){return b.containsRect(c)};lt.Annotations.Designers._leadRectDExtensions.containsPoint=function(b,c){return b.containsPoint(c)};lt.Annotations.Designers._leadRectDExtensions.topLeft=
function(b){return b.get_topLeft()};lt.Annotations.Designers._leadRectDExtensions.topRight=function(b){return b.get_topRight()};lt.Annotations.Designers._leadRectDExtensions.bottomLeft=function(b){return b.get_bottomLeft()};lt.Annotations.Designers._leadRectDExtensions.bottomRight=function(b){return b.get_bottomRight()};lt.Annotations.Designers._leadRectDExtensions.top=function(b){return b.get_top()};lt.Annotations.Designers._leadRectDExtensions.left=function(b){return b.get_left()};lt.Annotations.Designers._leadRectDExtensions.bottom=
function(b){return b.get_bottom()};lt.Annotations.Designers._leadRectDExtensions.right=function(b){return b.get_right()};lt.Annotations.Designers._leadRectDExtensions.equals=function(b,c){return b===c};lt.Annotations.Designers._leadPointDExtensions=function(){};lt.Annotations.Designers._leadPointDExtensions.create=function(b,c){return lt.LeadPointD.create(b,c)};lt.Annotations.Designers._leadPointDExtensions.isEqual=function(b,c){return b===c};lt.Annotations.Designers._leadPointDExtensions.clone=function(b){return b.clone()};
lt.Annotations.Designers._leadPointDExtensions.get_empty=function(){return lt.LeadPointD.get_empty()};lt.Annotations.Designers._leadPointDExtensions.isEmpty=function(b){return b.get_isEmpty()};lt.Annotations.Designers._leadLengthDExtensions=function(){};lt.Annotations.Designers._leadLengthDExtensions.isEqual=function(b,c){return b===c};lt.Annotations.Designers._leadLengthDExtensions.create=function(b){return lt.LeadLengthD.create(b)};lt.Annotations.Designers._leadLengthDExtensions.clone=function(b){return b.clone()};
lt.Annotations.Designers._leadSizeDExtensions=function(){};lt.Annotations.Designers._leadSizeDExtensions.create=function(b,c){return lt.LeadSizeD.create(b,c)};lt.Annotations.Designers._leadSizeDExtensions.clone=function(b){return b.clone()};lt.Annotations.Designers._leadSizeDExtensions.get_empty=function(){return lt.LeadSizeD.get_empty()};lt.Annotations.Designers._leadSizeDExtensions.isEmpty=function(b){return b.get_isEmpty()};lt.Annotations.Designers.AnnDesigner=function(b,c,a){this._snapToGridOptions=
new lt.Annotations.Core.AnnSnapToGridOptions;this._automationControl=b;this._targetObject=a;this._container=c};lt.Annotations.Designers.AnnDesigner.prototype={get__enableSnapToGrid:function(){return null!=this.get_snapToGridOptions()&&this.get_snapToGridOptions().get_enableSnap()},_isMouseLeftButtonDown:!1,get_isMouseLeftButtonDown:function(){return this._isMouseLeftButtonDown},set_isMouseLeftButtonDown:function(b){return this._isMouseLeftButtonDown=b},_targetObject:null,get_targetObject:function(){return this._targetObject},
set_targetObject:function(b){return this._targetObject=b},get_finalTargetObject:function(){return this._targetObject},_container:null,get_container:function(){return this._container},_restrictDesigners:!1,get_restrictDesigners:function(){return this._restrictDesigners},set_restrictDesigners:function(b){return this._restrictDesigners=b},get_clipRectangle:function(){var b=lt.Annotations.Designers._leadRectDExtensions.get_empty();null!=this._container&&(b=lt.Annotations.Designers._leadRectDExtensions.create(0,
0,this._container.get_size().get_width(),this._container.get_size().get_height()));return b},clipPoint:function(b,c){if(lt.Annotations.Designers._leadPointDExtensions.isEmpty(b)||lt.Annotations.Designers._leadRectDExtensions.isEmpty(c)||!this._restrictDesigners)return this._targetObject.get_id()!==lt.Annotations.Core.AnnObject.crossProductObjectId?this.snapPointToGrid(b,!1):b;var a=lt.Annotations.Designers._leadPointDExtensions.clone(b);lt.Annotations.Designers._leadRectDExtensions.containsPoint(c,
a)||(a.set_x(Math.min(lt.Annotations.Designers._leadRectDExtensions.right(c),Math.max(c.get_x(),a.get_x()))),a.set_y(Math.min(lt.Annotations.Designers._leadRectDExtensions.bottom(c),Math.max(c.get_y(),a.get_y()))));return this._targetObject.get_id()!==lt.Annotations.Core.AnnObject.crossProductObjectId?this.snapPointToGrid(a,!1):a},getRenderer:function(){var b=null,c=this._automationControl.get_renderingEngine();null!=c&&null!=c.get_renderers()&&Object.keyExists(c.get_renderers(),this.get_targetObject().get_id())&&
(b=c.get_renderers()[this.get_targetObject().get_id()],b.initialize(c));return b},_automationControl:null,get_automationControl:function(){return this._automationControl},invalidate:function(b){if(null!=this._automationControl){var c=this._automationControl.get_renderingEngine();if(null!=c)if(c.get_stateless())this._automationControl.automationInvalidate(b);else for(var b=this.getRenderer(),a=this._automationControl.get_automationGetContainersCallback()(),a=ss.IEnumerator.getEnumerator(a);a.moveNext();){var d=
a.current;d.get_children().contains(this.get_targetObject())&&(c.attachContainer(d),b.render(d.get_mapper(),this.get_targetObject()))}}},_hasStarted:!1,get_hasStarted:function(){return this._hasStarted},start:function(){this.get_hasStarted()||(this._hasStarted=!0)},end:function(){this.get_hasStarted()&&(this._hasStarted=!1)},onPointerDoubleClick:function(){return!1},onPointerDown:function(b,c){!this._isMouseLeftButtonDown&&c.get_button()===lt.Annotations.Core.AnnMouseButton.left&&(this._isMouseLeftButtonDown=
!0);return!1},onPointerUp:function(b,c){c.get_button()===lt.Annotations.Core.AnnMouseButton.left&&(this._isMouseLeftButtonDown=!1);return!1},onPointerMove:function(){return!1},_getRotationAngle:function(b){return 180*Math.atan2(b.get_m21(),b.get_m11())/Math.PI},snapPointToGrid:function(b,c){if(lt.Annotations.Designers._leadPointDExtensions.isEmpty(b))return b;var a=this.get_finalTargetObject().get_id();if(a===lt.Annotations.Core.AnnObject.freehandObjectId||a===lt.Annotations.Core.AnnObject.freehandHotspotObjectId||
a===lt.Annotations.Core.AnnObject.selectObjectId||a===lt.Annotations.Core.AnnObject.textHiliteObjectId||a===lt.Annotations.Core.AnnObject.textRedactionObjectId||a===lt.Annotations.Core.AnnObject.textStrikeoutObjectId||a===lt.Annotations.Core.AnnObject.textUnderlineObjectId||a===lt.Annotations.Core.AnnObject.rectangleObjectId&&0<this._targetObject.get_points().get_count()&&this._targetObject.get_points().get_item(0).get_y()!==this._targetObject.get_points().get_item(1).get_y())return b;var a=lt.Annotations.Designers._leadPointDExtensions.clone(b),
d=this.get_snapToGridOptions();if(null!=d&&d.get_enableSnap()){d.get_lineSpacing();var d=this._getGridCellSize(),e=this._getRotationAngle(this._container.get_mapper().get_transform()),f=this._container.get_mapper().clone();f.updateTransform(lt.LeadMatrix.get_identity());var g=f.rectFromContainerCoordinates(lt.Annotations.Designers._leadRectDExtensions.create(0,0,this._container.get_size().get_width(),this._container.get_size().get_height()),lt.Annotations.Core.AnnFixedStateOperations.none),f=new lt.LeadMatrix,
h=this._container.get_mapper().get_targetDpiX(),k=this._container.get_mapper().get_targetDpiY();f.rotateAt(-e,g.get_width()/2,g.get_height()/2);var i=f.transformRect(g);f.translate((i.get_width()-g.get_width())/2,(i.get_height()-g.get_height())/2);a.set_x(a.get_x()*h*lt.Annotations.Designers.AnnDesigner._unit);a.set_y(a.get_y()*k*lt.Annotations.Designers.AnnDesigner._unit);a=f.transformPoint(a);a.set_x(a.get_x()/h/lt.Annotations.Designers.AnnDesigner._unit);a.set_y(a.get_y()/k/lt.Annotations.Designers.AnnDesigner._unit);
a.set_x(this._snapValue(a.get_x(),d.get_width()));a.set_y(this._snapValue(a.get_y(),d.get_height()));g=this.get_clipRectangle();90===Math.abs(e)&&(g.set_width(this.get_clipRectangle().get_height()),g.set_height(g.get_width()));if((c||Type.canCast(this,lt.Annotations.Designers.AnnDrawDesigner))&&this._restrictDesigners&&!lt.Annotations.Designers._leadRectDExtensions.containsPoint(g,a))a.get_x()>lt.Annotations.Designers._leadRectDExtensions.right(g)&&a.set_x(a.get_x()-d.get_width()),a.get_y()>lt.Annotations.Designers._leadRectDExtensions.bottom(g)&&
a.set_y(a.get_y()-d.get_height());a.set_x(a.get_x()*h*lt.Annotations.Designers.AnnDesigner._unit);a.set_y(a.get_y()*k*lt.Annotations.Designers.AnnDesigner._unit);f.invert();a=f.transformPoint(a);a.set_x(a.get_x()/h/lt.Annotations.Designers.AnnDesigner._unit);a.set_y(a.get_y()/k/lt.Annotations.Designers.AnnDesigner._unit)}return a},_getGridCellSize:function(){var b=lt.Annotations.Designers._leadSizeDExtensions.create(0,0),c=this.get_snapToGridOptions();null!=c&&c.get_enableSnap()&&(c=c.get_gridLength(),
b.set_width(c/this.get_container().get_mapper().get_targetDpiX()/lt.Annotations.Designers.AnnDesigner._unit),b.set_height(c/this.get_container().get_mapper().get_targetDpiY()/lt.Annotations.Designers.AnnDesigner._unit));return b},_snapValue:function(b,c){return Math.round(b/c)*c},get_snapToGridOptions:function(){return this._snapToGridOptions},set_snapToGridOptions:function(b){return this._snapToGridOptions=b}};Object.defineProperty(lt.Annotations.Designers.AnnDesigner.prototype,"isMouseLeftButtonDown",
{get:lt.Annotations.Designers.AnnDesigner.prototype.get_isMouseLeftButtonDown,set:lt.Annotations.Designers.AnnDesigner.prototype.set_isMouseLeftButtonDown,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDesigner.prototype,"targetObject",{get:lt.Annotations.Designers.AnnDesigner.prototype.get_targetObject,set:lt.Annotations.Designers.AnnDesigner.prototype.set_targetObject,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDesigner.prototype,
"finalTargetObject",{get:lt.Annotations.Designers.AnnDesigner.prototype.get_finalTargetObject,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDesigner.prototype,"container",{get:lt.Annotations.Designers.AnnDesigner.prototype.get_container,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDesigner.prototype,"restrictDesigners",{get:lt.Annotations.Designers.AnnDesigner.prototype.get_restrictDesigners,set:lt.Annotations.Designers.AnnDesigner.prototype.set_restrictDesigners,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDesigner.prototype,"clipRectangle",{get:lt.Annotations.Designers.AnnDesigner.prototype.get_clipRectangle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDesigner.prototype,"automationControl",{get:lt.Annotations.Designers.AnnDesigner.prototype.get_automationControl,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDesigner.prototype,"hasStarted",{get:lt.Annotations.Designers.AnnDesigner.prototype.get_hasStarted,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDesigner.prototype,"snapToGridOptions",{get:lt.Annotations.Designers.AnnDesigner.prototype.get_snapToGridOptions,set:lt.Annotations.Designers.AnnDesigner.prototype.set_snapToGridOptions,enumerable:!0,configurable:!0});lt.Annotations.Designers.AnnCrossProductDrawDesigner=function(b,c,a){lt.Annotations.Designers.AnnCrossProductDrawDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnCrossProductDrawDesigner.prototype=
{onPointerDown:function(b,c){var a=lt.Annotations.Designers.AnnCrossProductDrawDesigner.callBaseMethod(this,"onPointerDown",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;null!=this.get_targetObject()&&(a=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnCrossProductObject),null!=a&&(a.set_firstStartPoint(a.set_firstEndPoint(this.snapPointToGrid(c.get_location(),!1))),a.updateSecondPoints(),this.startWorking()),a=!0);return a},onPointerMove:function(b,c){var a=
lt.Annotations.Designers.AnnCrossProductDrawDesigner.callBaseMethod(this,"onPointerMove",[b,c]);if(null!=this.get_targetObject()&&this.get_isMouseLeftButtonDown()){var d=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnCrossProductObject);null!=d&&(d.set_firstEndPoint(this.snapPointToGrid(c.get_location(),!1)),d.updateSecondPoints(),d.set_secondStartPoint(this.clipPoint(d.get_secondStartPoint(),this.get_clipRectangle())),d.set_secondEndPoint(this.clipPoint(d.get_secondEndPoint(),this.get_clipRectangle())),
this.working(),a=!0)}return a},onPointerUp:function(b,c){var a=lt.Annotations.Designers.AnnCrossProductDrawDesigner.callBaseMethod(this,"onPointerUp",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;if(null!=this.get_targetObject()){var a=!0,d=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnCrossProductObject);1<Math.abs(d.get_firstStartPoint().get_x()-d.get_firstEndPoint().get_x())||1<Math.abs(d.get_firstStartPoint().get_y()-d.get_firstEndPoint().get_y())?
this.endWorking():(this.cancel(),a=!1)}return a}};lt.Annotations.Designers.AnnDrawDesigner=function(b,c,a){this._invalidateRect$1=lt.Annotations.Designers._leadRectDExtensions.get_empty();lt.Annotations.Designers.AnnDrawDesigner.initializeBase(this,[b,c,a]);this._extendedMode$1=!1;this._extendedModeModifierKey$1=lt.Annotations.Core.AnnKeys.none};lt.Annotations.Designers.AnnDrawDesigner.prototype={_operationStatus$1:0,get_operationStatus:function(){return this._operationStatus$1},add_draw:function(b){this.__draw$1=
ss.Delegate.combine(this.__draw$1,b)},remove_draw:function(b){this.__draw$1=ss.Delegate.remove(this.__draw$1,b)},__draw$1_handler_get:function(){null==this.__draw$1_handler&&(this.__draw$1_handler=ss.EventHandler.create(this,this.add_draw,this.remove_draw));return this.__draw$1_handler},__draw$1:null,__draw$1_handler:null,start:function(){this.get_hasStarted();lt.Annotations.Designers.AnnDrawDesigner.callBaseMethod(this,"start")},end:function(){lt.Annotations.Designers.AnnDrawDesigner.callBaseMethod(this,
"end")},onDraw:function(b){this._operationStatus$1=b.get_operationStatus();null!=this.__draw$1&&this.__draw$1(this,b)},_isTargetObjectAdded$1:!1,get_isTargetObjectAdded:function(){return this._isTargetObjectAdded$1},startWorking:function(){this.get_hasStarted()||lt.Annotations.Core.ExceptionHelper.invalidOperationException("Designer not started. Call Start before calling this method");var b=this.get_targetObject();this._invalidateRect$1=b.getInvalidateRect(this.get_container().get_mapper(),this.getRenderer());
Type.canCast(b,lt.Annotations.Core.AnnSelectionObject)?this._isTargetObjectAdded$1=!0:this.get_container().get_children().contains(b)||(this.get_container().get_children().add(b),this._isTargetObjectAdded$1=!0);var c=lt.Annotations.Core.AnnDrawDesignerEventArgs.create(this.get_targetObject(),lt.Annotations.Core.AnnDesignerOperationStatus.start);this.onDraw(c);c.get_cancel()&&this.cancel();this.invalidate(b.getInvalidateRect(this.get_container().get_mapper(),this.getRenderer()));return!c.get_cancel()},
working:function(){this.get_hasStarted()||lt.Annotations.Core.ExceptionHelper.invalidOperationException("Designer not started. Call Start before calling this method");var b=lt.Annotations.Core.AnnDrawDesignerEventArgs.create(this.get_targetObject(),lt.Annotations.Core.AnnDesignerOperationStatus.working);this.onDraw(b);b.get_cancel()&&this.cancel();var c=this.get_targetObject().getInvalidateRect(this.get_container().get_mapper(),this.getRenderer()),a=lt.Annotations.Designers._leadRectDExtensions.clone(c),
a=lt.Annotations.Designers._leadRectDExtensions.unionRects(a,this._invalidateRect$1);this.invalidate(a);this._invalidateRect$1=c;return b.get_cancel()},cancel:function(){if(null!=this.get_targetObject()){this.onDraw(lt.Annotations.Core.AnnDrawDesignerEventArgs.create(this.get_targetObject(),lt.Annotations.Core.AnnDesignerOperationStatus.canceled));this.get_container().get_children().contains(this.get_targetObject())&&(this.get_container().get_children().remove(this.get_targetObject()),this._isTargetObjectAdded$1=
!1);var b=this.getRenderer();null!=b&&this.get_targetObject().get_id()!==lt.Annotations.Core.AnnObject.selectObjectId&&null!=b.get_renderingEngine()&&!b.get_renderingEngine().get_stateless()&&this.getRenderer().removeObject(this.get_targetObject());this.invalidate(this._invalidateRect$1)}},endWorking:function(){this.get_hasStarted()||lt.Annotations.Core.ExceptionHelper.invalidOperationException("Designer not started. Call Start before calling this method");var b=lt.Annotations.Core.AnnDrawDesignerEventArgs.create(this.get_targetObject(),
lt.Annotations.Core.AnnDesignerOperationStatus.end);this.onDraw(b);b.get_cancel()&&this.cancel();var c=this.get_targetObject().getInvalidateRect(this.get_container().get_mapper(),this.getRenderer()),c=lt.Annotations.Designers._leadRectDExtensions.clone(c),c=lt.Annotations.Designers._leadRectDExtensions.isEmpty(c)?lt.Annotations.Designers._leadRectDExtensions.unionRects(c,this._invalidateRect$1):this._invalidateRect$1;this.invalidate(c);return b.get_cancel()},_extendedMode$1:!1,get_extendedMode:function(){return this._extendedMode$1},
set_extendedMode:function(b){return this._extendedMode$1=b},_extendedModeModifierKey$1:0,get_extendedModeModifierKey:function(){return this._extendedModeModifierKey$1},set_extendedModeModifierKey:function(b){return this._extendedModeModifierKey$1=b},get_isExtendedMode:function(){return this.get_extendedMode()||lt.Annotations.Core.Utils.checkModifierKey(this.get_extendedModeModifierKey())}};Object.defineProperty(lt.Annotations.Designers.AnnDrawDesigner.prototype,"operationStatus",{get:lt.Annotations.Designers.AnnDrawDesigner.prototype.get_operationStatus,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDrawDesigner.prototype,"draw",{get:lt.Annotations.Designers.AnnDrawDesigner.prototype.__draw$1_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDrawDesigner.prototype,"isTargetObjectAdded",{get:lt.Annotations.Designers.AnnDrawDesigner.prototype.get_isTargetObjectAdded,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDrawDesigner.prototype,
"extendedMode",{get:lt.Annotations.Designers.AnnDrawDesigner.prototype.get_extendedMode,set:lt.Annotations.Designers.AnnDrawDesigner.prototype.set_extendedMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDrawDesigner.prototype,"extendedModeModifierKey",{get:lt.Annotations.Designers.AnnDrawDesigner.prototype.get_extendedModeModifierKey,set:lt.Annotations.Designers.AnnDrawDesigner.prototype.set_extendedModeModifierKey,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnDrawDesigner.prototype,
"isExtendedMode",{get:lt.Annotations.Designers.AnnDrawDesigner.prototype.get_isExtendedMode,enumerable:!0,configurable:!0});lt.Annotations.Designers.AnnFreehandDrawDesigner=function(b,c,a){lt.Annotations.Designers.AnnFreehandDrawDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnFreehandDrawDesigner.prototype={_spacing$2:2,_spaceCount$2:0,get_spacing:function(){return this._spacing$2},set_spacing:function(b){return this._spacing$2=b},onPointerDown:function(b,c){var a=lt.Annotations.Designers.AnnFreehandDrawDesigner.callBaseMethod(this,
"onPointerDown",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;c.get_button()===lt.Annotations.Core.AnnMouseButton.left?(Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPolylineObject).get_points().add(this.clipPoint(c.get_location(),this.get_clipRectangle())),this.startWorking()):this._endMe$2();return!0},onPointerMove:function(b,c){var a=lt.Annotations.Designers.AnnFreehandDrawDesigner.callBaseMethod(this,"onPointerMove",[b,c]);null!=this.get_targetObject()&&
this.get_isMouseLeftButtonDown()&&(this._spaceCount$2++,this._spaceCount$2>=this.get_spacing()&&(Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPolylineObject).get_points().add(this.clipPoint(c.get_location(),this.get_clipRectangle())),this.working(),a=!0,this._spaceCount$2=0));return a},onPointerUp:function(b,c){var a=lt.Annotations.Designers.AnnFreehandDrawDesigner.callBaseMethod(this,"onPointerUp",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;null!=this.get_targetObject()&&
(this._spaceCount$2=0,this._endMe$2(),a=!0);return a},_endMe$2:function(){var b=!0;null!=this.get_targetObject()&&2<Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPolylineObject).get_points().get_count()&&(b=!1,this.endWorking());b&&this.cancel()}};Object.defineProperty(lt.Annotations.Designers.AnnFreehandDrawDesigner.prototype,"spacing",{get:lt.Annotations.Designers.AnnFreehandDrawDesigner.prototype.get_spacing,set:lt.Annotations.Designers.AnnFreehandDrawDesigner.prototype.set_spacing,
enumerable:!0,configurable:!0});lt.Annotations.Designers.AnnLineDrawDesigner=function(b,c,a){lt.Annotations.Designers.AnnLineDrawDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnLineDrawDesigner._setPoints$3=function(b,c,a){b.get_points().set_item(0,lt.Annotations.Designers._leadPointDExtensions.isEmpty(c)?b.get_points().get_item(0):c);b.get_points().set_item(1,lt.Annotations.Designers._leadPointDExtensions.isEmpty(a)?b.get_points().get_item(1):a)};lt.Annotations.Designers.AnnLineDrawDesigner.prototype=
{_begin$3:null,_end$3:null,onPointerDown:function(b,c){var a=lt.Annotations.Designers.AnnLineDrawDesigner.callBaseMethod(this,"onPointerDown",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left||!this.get_hasStarted())return a;c.get_button()===lt.Annotations.Core.AnnMouseButton.left&&(this._end$3=this._begin$3=this.clipPoint(c.get_location(),this.get_clipRectangle()),lt.Annotations.Designers.AnnLineDrawDesigner._setPoints$3(this.get_targetObject(),this._begin$3,this._end$3),this.startWorking());
return a},onPointerMove:function(b,c){var a=lt.Annotations.Designers.AnnLineDrawDesigner.callBaseMethod(this,"onPointerMove",[b,c]);if(!lt.Annotations.Designers.AnnLineDrawDesigner.callBaseMethod(this,"get_hasStarted"))return a;if(null!=this.get_targetObject()&&this.get_isMouseLeftButtonDown()){a=this.clipPoint(c.get_location(),this.get_clipRectangle());if(a.get_x()!==this._end$3.get_x()||a.get_y()!==this._end$3.get_y())this._end$3=a,lt.Annotations.Designers.AnnLineDrawDesigner._setPoints$3(this.get_targetObject(),
lt.Annotations.Designers._leadPointDExtensions.get_empty(),this._end$3),this.working();a=!0}return a},onPointerUp:function(b,c){var a=lt.Annotations.Designers.AnnLineDrawDesigner.callBaseMethod(this,"onPointerUp",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left||!lt.Annotations.Designers.AnnLineDrawDesigner.callBaseMethod(this,"get_hasStarted"))return a;if(null!=this.get_targetObject()){var d=a=1;if(this.get_targetObject().get_id()===lt.Annotations.Core.AnnObject.pointerObjectId)var e=
Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPointerObject),a=a+e.get_arrowLength().get_value(),d=d+e.get_arrowLength().get_value();Math.abs(this.get_targetObject().get_bounds().get_width())>=a||Math.abs(this.get_targetObject().get_bounds().get_height())>=d?this.endWorking():this.cancel();this._started=a=!1}return a},onPointerDoubleClick:function(b,c){return lt.Annotations.Designers.AnnLineDrawDesigner.callBaseMethod(this,"onPointerDoubleClick",[b,c])}};lt.Annotations.Designers.AnnPointDrawDesigner=
function(b,c,a){lt.Annotations.Designers.AnnPointDrawDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnPointDrawDesigner.prototype={onPointerDown:function(b,c){var a=lt.Annotations.Designers.AnnPointDrawDesigner.callBaseMethod(this,"onPointerDown",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;null!=this.get_targetObject()&&c.get_button()===lt.Annotations.Core.AnnMouseButton.left&&(Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPointObject).set_centerPoint(this.clipPoint(c.get_location(),
this.get_clipRectangle())),this.startWorking()&&(this.working(),this.endWorking()),a=!0);return a}};lt.Annotations.Designers.AnnPolylineDrawDesigner=function(b,c,a){this._begin$2=lt.Annotations.Designers._leadPointDExtensions.get_empty();this._end$2=lt.Annotations.Designers._leadPointDExtensions.get_empty();lt.Annotations.Designers.AnnPolylineDrawDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnPolylineDrawDesigner.prototype={_started:!1,_saveClosed$2:!1,_firstPointOnClick$2:!0,
get_firstPointOnClick:function(){return this._firstPointOnClick$2},set_firstPointOnClick:function(b){return this._firstPointOnClick$2=b},onPointerDown:function(b,c){var a=lt.Annotations.Designers.AnnPolylineDrawDesigner.callBaseMethod(this,"onPointerDown",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return c.get_button()===lt.Annotations.Core.AnnMouseButton.right&&this.endWorking(),a;this._started?c.get_button()===lt.Annotations.Core.AnnMouseButton.left?(this._end$2=this.clipPoint(c.get_location(),
this.get_clipRectangle()),a=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPolylineObject),a.get_points().add(this._end$2),this.working(),a=!0):this.endWorking():c.get_button()===lt.Annotations.Core.AnnMouseButton.left&&(this._end$2=this._begin$2=this.clipPoint(c.get_location(),this.get_clipRectangle()),a=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPolylineObject),this._saveClosed$2=a.get_isClosed(),a.set_isClosed(!1),a.get_points().clear(),a.get_points().add(this._begin$2),
a.get_points().add(this._end$2),this._started=!0,this.startWorking(),a=!0);return a},onPointerMove:function(b,c){var a=lt.Annotations.Designers.AnnPolylineDrawDesigner.callBaseMethod(this,"onPointerMove",[b,c]);if(null!=this.get_targetObject()&&this._started){a=this.clipPoint(c.get_location(),this.get_clipRectangle());if(a.get_x()!==this._end$2.get_x()||a.get_y()!==this._end$2.get_y()){this._end$2=a;var d=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPolylineObject);1<d.get_points().get_count()&&
d.get_points().set_item(d.get_points().get_count()-1,a);this.working()}a=!0}return a},onPointerUp:function(b,c){var a=lt.Annotations.Designers.AnnPolylineDrawDesigner.callBaseMethod(this,"onPointerUp",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;this.get_targetObject();this._firstPointOnClick$2||(a=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPolylineObject),null!=a&&2===a.get_points().get_count()&&lt.Annotations.Designers._leadPointDExtensions.isEqual(a.get_points().get_item(0),
a.get_points().get_item(1))&&this.cancel());this.invalidate(this.get_targetObject().getInvalidateRect(this.get_container().get_mapper(),this.getRenderer()));return!0},_restorePolygon$2:function(){Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPolylineObject).set_isClosed(this._saveClosed$2);this._saveClosed$2=!0},onPointerDoubleClick:function(b,c){var a=lt.Annotations.Designers.AnnPolylineDrawDesigner.callBaseMethod(this,"onPointerDoubleClick",[b,c]),d=Type.safeCast(this.get_targetObject(),
lt.Annotations.Core.AnnPolylineObject);3<d.get_points().get_count()?(d.get_points().removeAt(d.get_points().get_count()-1),d.get_points().removeAt(d.get_points().get_count()-1),this._started=!1,a=!0,this._restorePolygon$2(),this.endWorking()):this.cancel();return a}};Object.defineProperty(lt.Annotations.Designers.AnnPolylineDrawDesigner.prototype,"firstPointOnClick",{get:lt.Annotations.Designers.AnnPolylineDrawDesigner.prototype.get_firstPointOnClick,set:lt.Annotations.Designers.AnnPolylineDrawDesigner.prototype.set_firstPointOnClick,
enumerable:!0,configurable:!0});lt.Annotations.Designers.AnnProtractorDrawDesigner=function(b,c,a){this._begin$2=lt.Annotations.Designers._leadPointDExtensions.get_empty();this._end$2=lt.Annotations.Designers._leadPointDExtensions.get_empty();lt.Annotations.Designers.AnnProtractorDrawDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnProtractorDrawDesigner.prototype={_pointCount$2:0,onPointerDown:function(b,c){var a=lt.Annotations.Designers.AnnProtractorDrawDesigner.callBaseMethod(this,
"onPointerDown",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;this._pointCount$2?(this._pointCount$2++,a=!0):(this._end$2=this._begin$2=this.clipPoint(c.get_location(),this.get_clipRectangle()),a=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnProtractorObject),a.set_centerPoint(lt.Annotations.Designers._leadPointDExtensions.clone(this._begin$2)),a.set_firstPoint(lt.Annotations.Designers._leadPointDExtensions.clone(this._begin$2)),a.set_secondPoint(lt.Annotations.Designers._leadPointDExtensions.clone(this._begin$2)),
this.startWorking(),a=!0,this._pointCount$2++);return a},onPointerMove:function(b,c){var a=lt.Annotations.Designers.AnnProtractorDrawDesigner.callBaseMethod(this,"onPointerMove",[b,c]);if(3>this._pointCount$2){var d=this.clipPoint(c.get_location(),this.get_clipRectangle());if(d.get_x()!==this._end$2.get_x()||d.get_y()!==this._end$2.get_y()){this._end$2=d;a=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnProtractorObject);lt.Annotations.Designers._leadPointDExtensions.get_empty();switch(this._pointCount$2){case 1:a.set_firstPoint(d);
break;case 2:a.set_secondPoint(d)}this.working();a=!0}}return a},onPointerUp:function(b,c){var a=lt.Annotations.Designers.AnnProtractorDrawDesigner.callBaseMethod(this,"onPointerUp",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;a=!0;1===this._pointCount$2&&lt.Annotations.Designers._leadPointDExtensions.isEqual(this._begin$2,this._end$2)&&null!=this.get_targetObject()&&(this.cancel(),a=!1);2===this._pointCount$2&&(this.endWorking(),a=!0);return a}};lt.Annotations.Designers.AnnRectangleDrawDesigner=
function(b,c,a){this._begin$2=lt.Annotations.Designers._leadPointDExtensions.get_empty();this._end$2=lt.Annotations.Designers._leadPointDExtensions.get_empty();lt.Annotations.Designers.AnnRectangleDrawDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnRectangleDrawDesigner.prototype={onPointerDown:function(b,c){var a=lt.Annotations.Designers.AnnRectangleDrawDesigner.callBaseMethod(this,"onPointerDown",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;c.get_button()===
lt.Annotations.Core.AnnMouseButton.left&&(this._end$2=this._begin$2=this.clipPoint(c.get_location(),this.get_clipRectangle()),Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnRectangleObject).set_rect(lt.Annotations.Designers._leadRectDExtensions.create(this._begin$2.get_x(),this._begin$2.get_y(),this._end$2.get_x()-this._begin$2.get_x(),this._end$2.get_y()-this._begin$2.get_y())),this.startWorking(),a=!0);return a},onPointerMove:function(b,c){var a=lt.Annotations.Designers.AnnRectangleDrawDesigner.callBaseMethod(this,
"onPointerMove",[b,c]);if(null!=this.get_targetObject()&&this.get_isMouseLeftButtonDown()){a=this.clipPoint(c.get_location(),this.get_clipRectangle());if(a.get_x()!==this._end$2.get_x()||a.get_y()!==this._end$2.get_y())this._end$2=a,Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnRectangleObject).set_rect(lt.Annotations.Designers._leadRectDExtensions.fromLTRB(this._begin$2.get_x(),this._begin$2.get_y(),this._end$2.get_x(),this._end$2.get_y())),this.working();a=!0}return a},onPointerUp:function(b,
c){var a=lt.Annotations.Designers.AnnRectangleDrawDesigner.callBaseMethod(this,"onPointerUp",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;if(null!=this.get_targetObject()){var a=!1,d=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnRectangleObject);1<=Math.abs(d.get_bounds().get_width())||1<=Math.abs(d.get_bounds().get_height())?(d=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnSelectionObject),null!=d&&d.adjustBounds(),this.endWorking()):(this.cancel(),
a=!1)}return a}};lt.Annotations.Designers.AnnStickyNoteDrawDesigner=function(b,c,a){lt.Annotations.Designers.AnnStickyNoteDrawDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnStickyNoteDrawDesigner.prototype={onPointerDown:function(b,c){var a=lt.Annotations.Designers.AnnStickyNoteDrawDesigner.callBaseMethod(this,"onPointerDown",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;null!=this.get_targetObject()&&c.get_button()===lt.Annotations.Core.AnnMouseButton.left&&
(this.get_targetObject().get_points().add(this.clipPoint(c.get_location(),this.get_clipRectangle())),this.startWorking()&&(this.working(),this.endWorking()),a=!0);return a}};lt.Annotations.Designers.AnnTextPointerDrawDesigner=function(b,c,a){this._begin$2=lt.Annotations.Designers._leadPointDExtensions.get_empty();this._end$2=lt.Annotations.Designers._leadPointDExtensions.get_empty();lt.Annotations.Designers.AnnTextPointerDrawDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnTextPointerDrawDesigner.prototype=
{_drawingPoint$2:!1,_defaultText$2:"AaBbZz",get_defaultText:function(){return this._defaultText$2},set_defaultText:function(b){return this._defaultText$2=b},cancel:function(){this._begin$2=this._end$2=lt.Annotations.Designers._leadPointDExtensions.get_empty();this._drawingPoint$2=!1;lt.Annotations.Designers.AnnTextPointerDrawDesigner.callBaseMethod(this,"cancel")},endWorking:function(){this._begin$2=this._end$2=lt.Annotations.Designers._leadPointDExtensions.get_empty();this._drawingPoint$2=!1;return lt.Annotations.Designers.AnnTextPointerDrawDesigner.callBaseMethod(this,
"endWorking")},onPointerDown:function(b,c){var a=lt.Annotations.Designers.AnnTextPointerDrawDesigner.callBaseMethod(this,"onPointerDown",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;if(this._drawingPoint$2)a=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnTextPointerObject),a.set_pointerPosition(this.clipPoint(c.get_location(),this.get_clipRectangle())),this.endWorking();else{this._end$2=this._begin$2=this.clipPoint(c.get_location(),this.get_clipRectangle());
var a=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnTextPointerObject),d=this.clipPoint(c.get_location(),this.get_clipRectangle());a.set_rect(lt.Annotations.Designers._leadRectDExtensions.create(this._begin$2.get_x(),this._begin$2.get_y(),this._end$2.get_x()-this._begin$2.get_x(),this._end$2.get_y()-this._begin$2.get_y()));a.set_pointerPosition(d);(null==a.get_text()||!a.get_text().length)&&a.set_text(this.get_defaultText());this.startWorking()}return!0},onPointerMove:function(b,c){var a=
lt.Annotations.Designers.AnnTextPointerDrawDesigner.callBaseMethod(this,"onPointerMove",[b,c]);if(null!=this.get_targetObject()&&!(this.get_operationStatus()===lt.Annotations.Core.AnnDesignerOperationStatus.end||this.get_operationStatus()===lt.Annotations.Core.AnnDesignerOperationStatus.canceled)){a=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnTextPointerObject);if(this._drawingPoint$2)a.set_pointerPosition(this.clipPoint(c.get_location(),this.get_clipRectangle())),this.working();
else{var d=this.clipPoint(c.get_location(),this.get_clipRectangle());if(d.get_x()!==this._end$2.get_x()||d.get_y()!==this._end$2.get_y())this._end$2=d,a.set_rect(lt.Annotations.Designers._leadRectDExtensions.fromLTRB(this._begin$2.get_x(),this._begin$2.get_y(),this._end$2.get_x(),this._end$2.get_y())),this.working()}a=!0}return a},onPointerUp:function(b,c){var a=lt.Annotations.Designers.AnnTextPointerDrawDesigner.callBaseMethod(this,"onPointerUp",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return a;
null!=this.get_targetObject()&&(a=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnTextPointerObject),1<=Math.abs(a.get_bounds().get_width())||1<=Math.abs(a.get_bounds().get_height())?(a.set_pointerPosition(this.clipPoint(c.get_location(),this.get_clipRectangle())),this._drawingPoint$2=!0):this.cancel());return!0}};Object.defineProperty(lt.Annotations.Designers.AnnTextPointerDrawDesigner.prototype,"defaultText",{get:lt.Annotations.Designers.AnnTextPointerDrawDesigner.prototype.get_defaultText,
set:lt.Annotations.Designers.AnnTextPointerDrawDesigner.prototype.set_defaultText,enumerable:!0,configurable:!0});lt.Annotations.Designers.AnnTextReviewDrawDesigner=function(b,c,a){lt.Annotations.Designers.AnnTextReviewDrawDesigner.initializeBase(this,[b,c,lt.Annotations.Designers.AnnTextReviewDrawDesigner._dummyRectangle$3]);this._annTextReviewObject$3=a};lt.Annotations.Designers.AnnTextReviewDrawDesigner.prototype={_annTextReviewObject$3:null,get_finalTargetObject:function(){return this._annTextReviewObject$3},
endWorking:function(){this.get_container().get_children().remove(lt.Annotations.Designers.AnnTextReviewDrawDesigner._dummyRectangle$3);this._annTextReviewObject$3.get_points().clear();this._annTextReviewObject$3.addRectangle(lt.Annotations.Designers._leadRectDExtensions.clone(lt.Annotations.Designers.AnnTextReviewDrawDesigner._dummyRectangle$3.get_rect()));lt.Annotations.Designers.AnnTextReviewDrawDesigner._dummyRectangle$3.get_points().clear();1<this._annTextReviewObject$3.get_points().get_count()&&
(this.set_targetObject(this._annTextReviewObject$3),this.get_container().get_children().add(this._annTextReviewObject$3));return lt.Annotations.Designers.AnnTextReviewDrawDesigner.callBaseMethod(this,"endWorking")}};Object.defineProperty(lt.Annotations.Designers.AnnTextReviewDrawDesigner.prototype,"finalTargetObject",{get:lt.Annotations.Designers.AnnTextReviewDrawDesigner.prototype.get_finalTargetObject,enumerable:!0,configurable:!0});lt.Annotations.Designers.AnnCrossProductEditDesigner=function(b,
c,a){lt.Annotations.Designers.AnnCrossProductEditDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnCrossProductEditDesigner.prototype={getThumbLocations:function(){var b=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnCrossProductObject),c=Array(5);c[0]=b.get_firstStartPoint();c[1]=b.get_firstEndPoint();c[2]=b.get_secondStartPoint();c[3]=b.get_secondEndPoint();c[4]=b.get_intersectionPoint();return c},moveThumb:function(b,c){var a=Type.safeCast(this.get_targetObject(),
lt.Annotations.Core.AnnCrossProductObject);switch(b){case 0:case 1:case 2:case 3:var d=a.get_points().get_item(b),d=lt.Annotations.Core.AnnTransformer.translatePoint(d,c.get_x(),c.get_y());(!this.get_restrictDesigners()||lt.Annotations.Designers._leadRectDExtensions.containsPoint(this.get_clipRectangle(),d))&&a.updatePoint(b,d);break;case 4:lt.Annotations.Designers.AnnCrossProductEditDesigner.callBaseMethod(this,"move",[c.get_x(),c.get_y()])}},move:function(b,c){var a=Type.safeCast(this.get_targetObject(),
lt.Annotations.Core.AnnCrossProductObject);if(null!=a){var d=-1;lt.Annotations.Core.Utils.compare(a.get_hitTestedRuler(),lt.Annotations.Core.AnnCrossProductObject.firstRulerHitTestObject,!1)?d=0:lt.Annotations.Core.Utils.compare(a.get_hitTestedRuler(),lt.Annotations.Core.AnnCrossProductObject.secondRulerHitTestObject,!1)&&(d=1);-1!==d&&a.moveLine(d,b,c)}},getRotationReferencePoints:function(){var b=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnCrossProductObject);return null!=b?[b.get_firstStartPoint(),
b.get_secondEndPoint()]:null}};lt.Annotations.Designers.AnnEditDesigner=function(b,c,a){this._invalidateRect$1=lt.Annotations.Designers._leadRectDExtensions.get_empty();this._rotateFirstPoint$1=lt.Annotations.Designers._leadPointDExtensions.get_empty();this._thumbsHitTestBuffer$1=parseInt(720*(2/96));this._workingBuffer$1=parseInt(720*(2/96));this._operation$1=lt.Annotations.Core.AnnEditDesignerOperation.none;this._moveThumbIndex$1=-1;this._startWorkingLocation$1=lt.Annotations.Designers._leadPointDExtensions.get_empty();
lt.Annotations.Designers.AnnEditDesigner.initializeBase(this,[b,c,a]);null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("container");null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject")};lt.Annotations.Designers.AnnEditDesigner.prototype={add_editContent:function(b){this.__editContent$1=ss.Delegate.combine(this.__editContent$1,b)},remove_editContent:function(b){this.__editContent$1=ss.Delegate.remove(this.__editContent$1,b)},__editContent$1_handler_get:function(){null==
this.__editContent$1_handler&&(this.__editContent$1_handler=ss.EventHandler.create(this,this.add_editContent,this.remove_editContent));return this.__editContent$1_handler},__editContent$1:null,__editContent$1_handler:null,_restrictRotateGripper$1:!0,_rotateModifierKey$1:0,get_rotateModifierKey:function(){return this._rotateModifierKey$1},set_rotateModifierKey:function(b){return this._rotateModifierKey$1=b},_dragOrigin$1:null,add_edit:function(b){this.__edit$1=ss.Delegate.combine(this.__edit$1,b)},
remove_edit:function(b){this.__edit$1=ss.Delegate.remove(this.__edit$1,b)},__edit$1_handler_get:function(){null==this.__edit$1_handler&&(this.__edit$1_handler=ss.EventHandler.create(this,this.add_edit,this.remove_edit));return this.__edit$1_handler},__edit$1:null,__edit$1_handler:null,getRotationReferencePoints:function(){return 2>this.get_targetObject().get_points().get_count()?null:[this.get_targetObject().get_points().get_item(0),this.get_targetObject().get_points().get_item(1)]},_getRotationUnitVector$1:function(){var b=
lt.Annotations.Designers._leadPointDExtensions.get_empty();if(1<this.get_targetObject().get_points().get_count()){var c=this.getRotationReferencePoints();null!=c&&(b=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(c[0],c[1]));if(null!=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnRectangleObject)&&!lt.Annotations.Designers._leadPointDExtensions.isEmpty(b)){var a=this.get_targetObject().get_points().get_item(3),d=c[1].get_x()-c[0].get_x(),e=c[1].get_y()-c[0].get_y(),f=a.get_x()-
c[0].get_x(),c=a.get_y()-c[0].get_y();0>d*c-f*e&&(b.set_x(-b.get_x()),b.set_y(-b.get_y()))}}return b},getRotateCenterPoint:function(){var b=this.get_targetObject().get_bounds();return lt.Annotations.Designers._leadPointDExtensions.create(b.get_x()+b.get_width()/2,b.get_y()+b.get_height()/2)},_getScale:function(){var b=this.get_container().get_mapper().get_transform();return Math.sqrt(Math.pow(b.get_m11(),2)+Math.pow(b.get_m12(),2))},getRotateGripper:function(){var b=this.get_targetObject().get_internalRotateGripperLocation();
if(lt.Annotations.Designers._leadPointDExtensions.isEmpty(b)||this._restrictRotateGripper$1)var b=this.getIntersectionWithReferencePoints(),c=this.get_targetObject().get_rotateGripper().get_value()/this._getScale(),b=lt.Annotations.Core.Utils.transformPoint(this._getRotationUnitVector$1(),lt.Annotations.Designers._leadLengthDExtensions.create(c),b);return b},_useRotateThumbs$1:!0,get_useRotateThumbs:function(){return this._useRotateThumbs$1},set_useRotateThumbs:function(b){this._useRotateThumbs$1!==
b&&(this._useRotateThumbs$1=b,this._updateThumbsVisibility$1());return b},getThumbLocations:function(){return null},get_thumbsHitTestBuffer:function(){return this._thumbsHitTestBuffer$1},set_thumbsHitTestBuffer:function(b){0>b&&lt.Annotations.Core.ExceptionHelper.invalidOperationException("Thumbs hit test buffer must be a value greater than or equal to 0");return this._thumbsHitTestBuffer$1=b},get_workingBuffer:function(){return this._workingBuffer$1},set_workingBuffer:function(b){0>b&&lt.Annotations.Core.ExceptionHelper.invalidOperationException("Working buffer must be a value greater than or equal to 0");
return this._workingBuffer$1=b},cancel:function(){this.get_operation()!==lt.Annotations.Core.AnnEditDesignerOperation.none&&(this.onEdit(lt.Annotations.Core.AnnEditDesignerEventArgs.create(this.get_targetObject(),this.get_operation(),this.get_moveThumbIndex(),lt.Annotations.Core.AnnDesignerOperationStatus.canceled)),this._moveThumbIndex$1=-1,this._operation$1=lt.Annotations.Core.AnnEditDesignerOperation.none);this.get_targetObject().set_isSelected(!1)},_maintainAspectRatio$1:!1,get_maintainAspectRatio:function(){return this._maintainAspectRatio$1},
set_maintainAspectRatio:function(b){return this._maintainAspectRatio$1=b},get_operation:function(){return this._operation$1},set_operation:function(b){return this._operation$1=b},get_moveThumbIndex:function(){return this._moveThumbIndex$1},_showThumbs$1:!0,get_showThumbs:function(){return this._showThumbs$1},set_showThumbs:function(b){this._showThumbs$1=b;this._updateThumbsVisibility$1();return b},_ignoreHitTestThumbs$1:!1,get_ignoreHitTestThumbs:function(){return this._ignoreHitTestThumbs$1},set_ignoreHitTestThumbs:function(b){return this._ignoreHitTestThumbs$1=
b},_isModified$1:!1,get_isModified:function(){return this._isModified$1},set_isModified:function(b){return this._isModified$1=b},_updateThumbsVisibility$1:function(){var b=this.getRenderer();null!=b&&(null!=b.get_rotateCenterThumbStyle()&&b.get_rotateCenterThumbStyle().set_isVisible(this.get_showThumbs()&&this.get_useRotateThumbs()),null!=b.get_rotateGripperThumbStyle()&&b.get_rotateGripperThumbStyle().set_isVisible(this.get_showThumbs()&&this.get_useRotateThumbs()),null!=b.get_locationsThumbStyle()&&
b.get_locationsThumbStyle().set_isVisible(this.get_showThumbs()))},start:function(){if(!lt.Annotations.Designers.AnnEditDesigner.callBaseMethod(this,"get_hasStarted")){this._isModified$1=!1;var b=lt.Annotations.Designers.AnnEditDesigner.callBaseMethod(this,"get_container"),c=lt.Annotations.Designers.AnnEditDesigner.callBaseMethod(this,"get_targetObject"),a=b.get_selectionObject();c!==a&&(a.get_selectedObjects().contains(c)||a.get_selectedObjects().add(c),a.set_rect(lt.Annotations.Designers._leadRectDExtensions.create(0,
0,0,0)));b.select(c);this._updateThumbsVisibility$1();null!=c&&c.get_canRotate()&&this.get_showThumbs()&&this.get_useRotateThumbs()&&(c.set_internalRotateCenterLocation(c.get_rotateCenter()),lt.Annotations.Designers._leadPointDExtensions.isEmpty(c.get_internalRotateCenterLocation())&&c.set_internalRotateCenterLocation(this.getRotateCenterPoint()),c.set_rotateCenter(c.get_internalRotateCenterLocation()),c.set_internalRotateGripperLocation(this.getRotateGripper()));null!=c&&this.get_showThumbs()&&c.set_internalThumbLocations(this.getThumbLocations());
this.invalidate(c.getInvalidateRect(this.get_container().get_mapper(),this.getRenderer()))}lt.Annotations.Designers.AnnEditDesigner.callBaseMethod(this,"start")},end:function(){if(this.get_hasStarted()){var b=this.get_targetObject().getInvalidateRect(this.get_container().get_mapper(),this.getRenderer());this.get_container().unselect(this.get_targetObject());this.invalidate(b)}},hitTestThumbs:function(b){var b=lt.Annotations.Core.Utils.fixPoint(b,this.get_container().get_mapper(),this.get_targetObject().get_fixedStateOperations()),
c=this.get_targetObject();if(null==c)return!1;var a=this.getRenderer();if(null==a)return!1;var d=this.get_container().get_mapper().getHitTestBuffer(this.get_thumbsHitTestBuffer()),e=!1,f=a.get_locationsThumbStyle();if(this.get_showThumbs()&&null!=f&&(e=!1,this.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.none)){var g=this.getThumbLocations();if(null!=g)for(var h=0;h<g.length;++h)if(f.renderHitTest(g[h],b,d,this.get_container().get_mapper())){e=!0;break}}return!e&&this.get_showThumbs()&&
this.get_useRotateThumbs()&&(null!=c.get_internalRotateCenterLocation()&&null!=a.get_rotateCenterThumbStyle()&&a.get_rotateCenterThumbStyle().renderHitTest(c.get_internalRotateCenterLocation(),b,d,this.get_container().get_mapper())||null!=c.get_internalRotateGripperLocation()&&null!=a.get_rotateGripperThumbStyle()&&a.get_rotateGripperThumbStyle().renderHitTest(c.get_internalRotateGripperLocation(),b,d,this.get_container().get_mapper()))?!0:e},_startWorkingBuffer$1:0,onPointerDown:function(b,c){var a=
lt.Annotations.Designers.AnnEditDesigner.callBaseMethod(this,"onPointerDown",[b,c]);if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return this._ignoreHitTestThumbs$1=!1,a;var d=this.get_targetObject();if(null==d)return this._ignoreHitTestThumbs$1=!1,a;var e=!this.get_useRotateThumbs();e&&(e=d.get_canRotate()&&lt.Annotations.Core.Utils.checkModifierKey(this.get_rotateModifierKey()));var f=d.get_isLocked();if(this.get_hasStarted()){var g=this.get_container().get_mapper().getHitTestBuffer(this.get_thumbsHitTestBuffer());
if(f)return this._ignoreHitTestThumbs$1=!1,!0;this.get_operation()!==lt.Annotations.Core.AnnEditDesignerOperation.none?(a=!0,this.cancel()):(this._startWorkingLocation$1=lt.Annotations.Designers._leadPointDExtensions.clone(c.get_location()),this._startWorkingBuffer$1=this.get_container().get_mapper().getHitTestBuffer(this._workingBuffer$1));if(!a&&c.get_button()===lt.Annotations.Core.AnnMouseButton.left){var f=c.get_location(),h=this.getRenderer();if(e)this._rotateFirstPoint$1=f,this._doStartWorking$1(lt.Annotations.Core.AnnEditDesignerOperation.rotate,
-1,!1),a=!0;else if(!a&&this.get_showThumbs()&&null!=h){var k=h.get_locationsThumbStyle();if(!a&&!this._ignoreHitTestThumbs$1&&this.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.none&&null!=k){var i=this.getThumbLocations();if(null!=i)for(var f=lt.Annotations.Core.Utils.fixPoint(c.get_location(),this.get_container().get_mapper(),this.get_targetObject().get_fixedStateOperations()),j=0;j<i.length;++j)if(k.renderHitTest(i[j],f,g,this.get_container().get_mapper())){this._doStartWorking$1(lt.Annotations.Core.AnnEditDesignerOperation.moveThumb,
j,!0);a=!0;break}}this._dragOrigin$1=f}if(!a&&!this._ignoreHitTestThumbs$1&&this.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.none&&this.get_useRotateThumbs()){if(null!=h&&(f=lt.Annotations.Core.Utils.fixPoint(c.get_location(),this.get_container().get_mapper(),this.get_targetObject().get_fixedStateOperations()),null!=h.get_rotateCenterThumbStyle()&&h.get_rotateCenterThumbStyle().renderHitTest(d.get_internalRotateCenterLocation(),f,g,this.get_container().get_mapper())&&(this._doStartWorking$1(lt.Annotations.Core.AnnEditDesignerOperation.moveRotateCenterThumb,
-1,!0),a=!0),!a))f=lt.Annotations.Core.Utils.fixPoint(c.get_location(),this.get_container().get_mapper(),this.get_targetObject().get_fixedStateOperations()),null!=h.get_rotateGripperThumbStyle()&&h.get_rotateGripperThumbStyle().renderHitTest(d.get_internalRotateGripperLocation(),f,g,this.get_container().get_mapper())&&(this._doStartWorking$1(lt.Annotations.Core.AnnEditDesignerOperation.moveRotateGripperThumb,-1,!0),a=!0,e=e||a);e&&(this._rotateFirstPoint$1=f,this._doStartWorking$1(lt.Annotations.Core.AnnEditDesignerOperation.rotate,
-1,!1))}!a&&this.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.none&&(d=this.get_container().hitTestPoint(c.get_location()),f=lt.Annotations.Core.Utils.fixPoint(c.get_location(),this.get_container().get_mapper(),this.get_targetObject().get_fixedStateOperations()),null!=d&&0<d.length&&(e?(this._rotateFirstPoint$1=f,this._doStartWorking$1(lt.Annotations.Core.AnnEditDesignerOperation.rotate,-1,!1)):(a=f.get_x(),e=f.get_y(),a-=f.get_x(),e-=f.get_y(),(a||e)&&this.move(-a,-e),this._dragOrigin$1=
f,this._doStartWorking$1(lt.Annotations.Core.AnnEditDesignerOperation.move,-1,!0)),a=!0))}}this._ignoreHitTestThumbs$1=!1;return a},onPointerMove:function(b,c){var a=lt.Annotations.Designers.AnnEditDesigner.callBaseMethod(this,"onPointerMove",[b,c]),d=this.get_targetObject();if(null==d)return!1;if(d.get_isLocked())return!0;if(this.get_hasStarted()&&this.get_operation()!==lt.Annotations.Core.AnnEditDesignerOperation.none){if(0<this._startWorkingBuffer$1&&!lt.Annotations.Designers._leadPointDExtensions.isEmpty(this._startWorkingLocation$1)&&
Math.abs(c.get_location().get_x()-this._startWorkingLocation$1.get_x())<this._startWorkingBuffer$1&&Math.abs(c.get_location().get_y()-this._startWorkingLocation$1.get_y())<this._startWorkingBuffer$1)return!0;a=c.get_location();this.get_operation()!==lt.Annotations.Core.AnnEditDesignerOperation.moveRotateCenterThumb&&this.get_operation()!==lt.Annotations.Core.AnnEditDesignerOperation.moveRotateGripperThumb&&this.get_operation()!==lt.Annotations.Core.AnnEditDesignerOperation.rotate&&(a=this.snapPointToGrid(a,
!1));a=lt.Annotations.Core.Utils.fixPoint(a,this.get_container().get_mapper(),this.get_targetObject().get_fixedStateOperations());if(this.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.moveRotateCenterThumb)this._moveRotateCenter$1(a);else if(this.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.moveThumb){var d=a.get_x()-this._dragOrigin$1.get_x(),e=a.get_y()-this._dragOrigin$1.get_y();this.moveThumb(this.get_moveThumbIndex(),lt.Annotations.Designers._leadPointDExtensions.create(d,
e));this.invalidate(this.get_targetObject().getInvalidateRect(this.get_container().get_mapper(),this.getRenderer()));this._dragOrigin$1=a}else if(this.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.move||this.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.moveName){if(d=a.get_x()-this._dragOrigin$1.get_x(),e=a.get_y()-this._dragOrigin$1.get_y(),d||e)this.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.move&&(this.move(d,e),this.invalidate(this.get_targetObject().getInvalidateRect(this.get_container().get_mapper(),
this.getRenderer()))),this._dragOrigin$1=a}else if(this.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.rotate){var e=lt.Annotations.Core.Utils.findAngle(this._rotateFirstPoint$1,d.get_internalRotateCenterLocation()),f=lt.Annotations.Core.Utils.findAngle(a,d.get_internalRotateCenterLocation());e!==f&&(this.get_targetObject().rotate(f-e,d.get_internalRotateCenterLocation()),this.get_restrictDesigners()&&!lt.Annotations.Designers._leadRectDExtensions.containsRect(this.get_clipRectangle(),
this.get_targetObject().get_bounds())&&this.get_targetObject().rotate(e-f,d.get_internalRotateCenterLocation()),d.set_internalRotateGripperLocation(a),d=this.getIntersectionWithReferencePoints(),this._restrictRotateGripper$1&&this.get_targetObject().set_rotateGripper(lt.Annotations.Designers._leadLengthDExtensions.create(lt.Annotations.Core.Utils.distance(a,d)*this._getScale())),this._rotateFirstPoint$1=a,this.invalidate(this.get_targetObject().getInvalidateRect(this.get_container().get_mapper(),
this.getRenderer())))}this.working();a=!0}return a},getIntersectionWithReferencePoints:function(){var b=this.getRotationReferencePoints(),c=this._getRotationUnitVector$1(),c=lt.Annotations.Core.Utils.transformPoint(c,lt.Annotations.Designers._leadLengthDExtensions.create(this.get_targetObject().get_bounds().get_height()),this.get_targetObject().get_rotateCenter());return 0>=this.get_targetObject().get_bounds().get_height()?c:lt.Annotations.Core.Utils.intersect(this.get_targetObject().get_rotateCenter(),
c,b[0],b[1])},_doStartWorking$1:function(b,c){this.startWorking(b,c)},startWorking:function(b,c){this.get_hasStarted()||lt.Annotations.Core.ExceptionHelper.invalidOperationException("Designer not started. Call Start before calling this method");this._invalidateRect$1=this.get_targetObject().getInvalidateRect(this.get_container().get_mapper(),this.getRenderer());this.invalidate(this._invalidateRect$1);var a=lt.Annotations.Core.AnnEditDesignerEventArgs.create(this.get_targetObject(),b,c,lt.Annotations.Core.AnnDesignerOperationStatus.start);
this.onEdit(a);a.get_cancel()||(this._moveThumbIndex$1=c,this._operation$1=b);return!a.get_cancel()},working:function(){this.get_hasStarted()||lt.Annotations.Core.ExceptionHelper.invalidOperationException("Designer not started. Call Start before calling this method");var b=lt.Annotations.Core.AnnEditDesignerEventArgs.create(this.get_targetObject(),this.get_operation(),this.get_moveThumbIndex(),lt.Annotations.Core.AnnDesignerOperationStatus.working);this.onEdit(b);b.get_cancel()&&this.cancel();var c=
this.get_targetObject().getInvalidateRect(this.get_container().get_mapper(),this.getRenderer()),a=lt.Annotations.Designers._leadRectDExtensions.clone(c),a=lt.Annotations.Designers._leadRectDExtensions.unionRects(a,this._invalidateRect$1);this.invalidate(a);this._invalidateRect$1=c;return!b.get_cancel()},endWorking:function(){this.get_hasStarted()||lt.Annotations.Core.ExceptionHelper.invalidOperationException("Designer not started. Call Start before calling this method");var b=lt.Annotations.Core.AnnEditDesignerEventArgs.create(this.get_targetObject(),
this.get_operation(),this.get_moveThumbIndex(),lt.Annotations.Core.AnnDesignerOperationStatus.end);this.onEdit(b);b.get_cancel()?this.cancel():(this._moveThumbIndex$1=-1,this._operation$1=lt.Annotations.Core.AnnEditDesignerOperation.none);var c=this.get_targetObject().getInvalidateRect(this.get_container().get_mapper(),this.getRenderer()),c=lt.Annotations.Designers._leadRectDExtensions.clone(c),c=lt.Annotations.Designers._leadRectDExtensions.unionRects(c,this._invalidateRect$1);this.invalidate(c);
return!b.get_cancel()},onEdit:function(b){b.get_operation()!==lt.Annotations.Core.AnnEditDesignerOperation.none&&b.get_operationStatus()===lt.Annotations.Core.AnnDesignerOperationStatus.working&&(this._isModified$1=!0);null!=this.__edit$1&&this.__edit$1(this,b)},move:function(b,c){var a=this.get_targetObject();if(null!=a){var d=lt.Annotations.Designers._leadPointDExtensions.create(b,c);a.translate(d.get_x(),d.get_y());this.snapObjectToGrid(this.get_targetObject(),!1);a.get_canRotate()&&(a.set_internalRotateCenterLocation(a.get_rotateCenter()),
a.set_internalRotateGripperLocation(this.getRotateGripper()))}},callMove:function(b,c){var a=Type.safeCast(this,lt.Annotations.Designers.AnnCrossProductEditDesigner);null!=a?(a=Type.safeCast(a.get_targetObject(),lt.Annotations.Core.AnnCrossProductObject),null!=a&&(a.moveLine(0,b,c),a.moveLine(1,b,c))):(this.move(b,c),this.snapObjectToGrid(this.get_targetObject(),!0))},snapObjectToGrid:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("targetObject");if(0<b.get_points().get_count()){var a=
b.get_points().get_item(0);if(c)for(var d=b.get_bounds(),d=[lt.Annotations.Designers._leadRectDExtensions.topLeft(d),lt.Annotations.Designers._leadRectDExtensions.topRight(d),lt.Annotations.Designers._leadRectDExtensions.bottomLeft(d),lt.Annotations.Designers._leadRectDExtensions.bottomRight(d)],d=ss.IEnumerator.getEnumerator(d);d.moveNext();){var e=d.current;if(!lt.Annotations.Designers._leadRectDExtensions.containsPoint(this.get_clipRectangle(),e)){a=e;break}}d=this.snapPointToGrid(a,c);a=lt.Annotations.Designers._leadPointDExtensions.create(d.get_x()-
a.get_x(),d.get_y()-a.get_y());this.get_targetObject().translate(a.get_x(),a.get_y())}},_moveRotateCenter$1:function(b){var c=this.get_targetObject();null!=c&&(c.set_rotateCenter(b),c.set_internalRotateCenterLocation(c.get_rotateCenter()),c.set_internalRotateGripperLocation(this.getRotateGripper()))},invalidate:function(b){var c=this.getRenderer();null!=this.get_targetObject()&&null!=c&&this.get_showThumbs()&&(this.get_targetObject().set_internalThumbLocations(this.getThumbLocations()),this.get_targetObject().get_canRotate()&&
(this.get_targetObject().set_internalRotateCenterLocation(this.get_targetObject().get_rotateCenter()),lt.Annotations.Designers._leadPointDExtensions.isEmpty(this.get_targetObject().get_internalRotateCenterLocation())&&this.get_targetObject().set_internalRotateCenterLocation(this.getRotateCenterPoint()),this.get_targetObject().set_rotateCenter(this.get_targetObject().get_internalRotateCenterLocation()),this.get_targetObject().set_internalRotateGripperLocation(this.getRotateGripper())));lt.Annotations.Designers.AnnEditDesigner.callBaseMethod(this,
"invalidate",[b])},moveThumb:function(){},resetRotateThumbs:function(){this.get_targetObject().set_rotateCenter(this.getRotateCenterPoint());this.get_targetObject().set_rotateGripper(lt.Annotations.Designers._leadLengthDExtensions.create(lt.Annotations.Core.AnnObject._rotateGripperOriginal));var b=this.getRenderer();null!=this.get_targetObject()&&this.get_targetObject().get_canRotate()&&null!=b&&(this.get_targetObject().set_internalRotateCenterLocation(this.get_targetObject().get_rotateCenter()),
lt.Annotations.Designers._leadPointDExtensions.isEmpty(this.get_targetObject().get_internalRotateCenterLocation())&&this.get_targetObject().set_internalRotateCenterLocation(this.getRotateCenterPoint()),this.get_targetObject().set_rotateCenter(this.get_targetObject().get_internalRotateCenterLocation()),this.get_targetObject().set_internalRotateGripperLocation(lt.Annotations.Designers._leadPointDExtensions.get_empty()),this.get_targetObject().set_internalRotateGripperLocation(this.getRotateGripper()),
this.invalidate(this.get_targetObject().getInvalidateRect(this.get_container().get_mapper(),this.getRenderer())))},onPointerUp:function(b,c){if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return lt.Annotations.Designers.AnnEditDesigner.callBaseMethod(this,"onPointerUp",[b,c]);this.endWorking();return lt.Annotations.Designers.AnnEditDesigner.callBaseMethod(this,"onPointerUp",[b,c])},onPointerDoubleClick:function(b,c){var a=!1;if(c.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return lt.Annotations.Designers.AnnEditDesigner.callBaseMethod(this,
"onPointerDoubleClick",[b,c]);var d=this.get_targetObject();if(null!=d&&!d.get_isLocked()){var e=lt.Annotations.Core.AnnEditContentEventArgs.create(d,this.get_container().get_mapper().rectFromContainerCoordinates(d.get_bounds(),d.get_fixedStateOperations()));null!=this.__editContent$1&&d.get_supportsContent()&&(a=!0,this.__editContent$1(this,e))}return a}};Object.defineProperty(lt.Annotations.Designers.AnnEditDesigner.prototype,"editContent",{get:lt.Annotations.Designers.AnnEditDesigner.prototype.__editContent$1_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnEditDesigner.prototype,"rotateModifierKey",{get:lt.Annotations.Designers.AnnEditDesigner.prototype.get_rotateModifierKey,set:lt.Annotations.Designers.AnnEditDesigner.prototype.set_rotateModifierKey,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnEditDesigner.prototype,"edit",{get:lt.Annotations.Designers.AnnEditDesigner.prototype.__edit$1_handler_get,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Designers.AnnEditDesigner.prototype,"useRotateThumbs",{get:lt.Annotations.Designers.AnnEditDesigner.prototype.get_useRotateThumbs,set:lt.Annotations.Designers.AnnEditDesigner.prototype.set_useRotateThumbs,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnEditDesigner.prototype,"thumbsHitTestBuffer",{get:lt.Annotations.Designers.AnnEditDesigner.prototype.get_thumbsHitTestBuffer,set:lt.Annotations.Designers.AnnEditDesigner.prototype.set_thumbsHitTestBuffer,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnEditDesigner.prototype,"workingBuffer",{get:lt.Annotations.Designers.AnnEditDesigner.prototype.get_workingBuffer,set:lt.Annotations.Designers.AnnEditDesigner.prototype.set_workingBuffer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnEditDesigner.prototype,"maintainAspectRatio",{get:lt.Annotations.Designers.AnnEditDesigner.prototype.get_maintainAspectRatio,set:lt.Annotations.Designers.AnnEditDesigner.prototype.set_maintainAspectRatio,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnEditDesigner.prototype,"operation",{get:lt.Annotations.Designers.AnnEditDesigner.prototype.get_operation,set:lt.Annotations.Designers.AnnEditDesigner.prototype.set_operation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnEditDesigner.prototype,"moveThumbIndex",{get:lt.Annotations.Designers.AnnEditDesigner.prototype.get_moveThumbIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnEditDesigner.prototype,
"showThumbs",{get:lt.Annotations.Designers.AnnEditDesigner.prototype.get_showThumbs,set:lt.Annotations.Designers.AnnEditDesigner.prototype.set_showThumbs,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnEditDesigner.prototype,"ignoreHitTestThumbs",{get:lt.Annotations.Designers.AnnEditDesigner.prototype.get_ignoreHitTestThumbs,set:lt.Annotations.Designers.AnnEditDesigner.prototype.set_ignoreHitTestThumbs,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnEditDesigner.prototype,
"isModified",{get:lt.Annotations.Designers.AnnEditDesigner.prototype.get_isModified,set:lt.Annotations.Designers.AnnEditDesigner.prototype.set_isModified,enumerable:!0,configurable:!0});lt.Annotations.Designers.AnnPointEditDesigner=function(b,c,a){lt.Annotations.Designers.AnnPointEditDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnPointEditDesigner.prototype={getRotationReferencePoints:function(){return[this.get_targetObject().get_points().get_item(0),this.get_targetObject().get_points().get_item(0)]},
getThumbLocations:function(){return[Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPointObject).get_centerPoint()]},moveThumb:function(b,c){Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPointObject).translate(c.get_x(),c.get_y())}};lt.Annotations.Designers.AnnPolylineEditDesigner=function(b,c,a){lt.Annotations.Designers.AnnPolylineEditDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnPolylineEditDesigner._getGapPoints$2=function(b){return b.get_points().toArray()};
lt.Annotations.Designers.AnnPolylineEditDesigner.prototype={_distance0$2:0,_distance1$2:0,_offset$2:0,_thumbsGap$2:0,get_thumbsGap:function(){return this._thumbsGap$2},set_thumbsGap:function(b){0>b&&lt.Annotations.Core.ExceptionHelper.invalidOperationException("Thumbs gap must be a value greater than or equal to 0");return this._thumbsGap$2=b},getThumbLocations:function(){return lt.Annotations.Designers.AnnPolylineEditDesigner._getGapPoints$2(Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnPolylineObject),
this._thumbsGap$2)},moveThumb:function(b,c){var a=this.get_targetObject();if(2===a.get_points().get_count()){var d=lt.Annotations.Core.Utils.findAngle(a.get_points().get_item(0),a.get_points().get_item(1)),e=d-lt.Annotations.Core.Utils.findAngle(a.get_points().get_item(0),a.get_rotateCenter()),f=lt.Annotations.Core.Utils.distance(a.get_points().get_item(0),a.get_rotateCenter());this._offset$2=f*Math.sin(lt.Annotations.Core.Utils.degreesToRadian(e));this._distance0$2=f*Math.cos(lt.Annotations.Core.Utils.degreesToRadian(e));
e=d-lt.Annotations.Core.Utils.findAngle(a.get_rotateCenter(),a.get_points().get_item(1));f=lt.Annotations.Core.Utils.distance(a.get_points().get_item(1),a.get_rotateCenter());this._distance1$2=f*Math.cos(lt.Annotations.Core.Utils.degreesToRadian(e))}d=a.get_points().get_item(b);d=lt.Annotations.Core.AnnTransformer.translatePoint(d,c.get_x(),c.get_y());(!this.get_restrictDesigners()||lt.Annotations.Designers._leadRectDExtensions.containsPoint(this.get_clipRectangle(),d))&&a.get_points().set_item(b,
this.snapPointToGrid(d,!1));lt.Annotations.Designers.AnnPolylineEditDesigner.callBaseMethod(this,"moveThumb",[b,c]);this._updateRotateThumbs$2()},_updateRotateThumbs$2:function(){var b=this.get_targetObject();if(2===b.get_points().get_count()){var c;c=lt.Annotations.Designers._leadPointDExtensions.get_empty();c=lt.Annotations.Core.Utils.getUnitVector(b.get_points().get_item(0),b.get_points().get_item(1));var a=lt.Annotations.Designers._leadPointDExtensions.create(c.get_y(),-c.get_x()),d=lt.Annotations.Core.Utils.distance(b.get_points().get_item(0),
b.get_points().get_item(1));c=lt.Annotations.Core.Utils.transformPoint(c,lt.Annotations.Designers._leadLengthDExtensions.create(d*this._distance0$2/(this._distance0$2+this._distance1$2)),b.get_points().get_item(0));b.set_rotateCenter(lt.Annotations.Core.Utils.transformPoint(a,lt.Annotations.Designers._leadLengthDExtensions.create(this._offset$2),c));b.set_internalRotateCenterLocation(b.get_rotateCenter());b.set_internalRotateGripperLocation(this.getRotateGripper())}},getRotateCenterPoint:function(){var b=
lt.Annotations.Designers._leadPointDExtensions.get_empty(),b=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnProtractorObject);return b=null!=b?lt.Annotations.Designers._leadPointDExtensions.clone(b.get_centerPoint()):lt.Annotations.Designers.AnnPolylineEditDesigner.callBaseMethod(this,"getRotateCenterPoint")},getRotationReferencePoints:function(){var b=null,c=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnProtractorObject);if(null!=c)var a=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(c.get_centerPoint(),
c.get_secondPoint()),b=lt.Annotations.Core.Utils.transformPoint(a,lt.Annotations.Designers._leadLengthDExtensions.create(-1),c.get_centerPoint()),c=lt.Annotations.Core.Utils.transformPoint(a,lt.Annotations.Designers._leadLengthDExtensions.create(1),c.get_centerPoint()),b=[b,c];else b=lt.Annotations.Designers.AnnPolylineEditDesigner.callBaseMethod(this,"getRotationReferencePoints");return b}};Object.defineProperty(lt.Annotations.Designers.AnnPolylineEditDesigner.prototype,"thumbsGap",{get:lt.Annotations.Designers.AnnPolylineEditDesigner.prototype.get_thumbsGap,
set:lt.Annotations.Designers.AnnPolylineEditDesigner.prototype.set_thumbsGap,enumerable:!0,configurable:!0});lt.Annotations.Designers.AnnRectangleEditDesigner=function(b,c,a){this._oldPoints$2=Array(4);this._minimumSize$2=lt.Annotations.Designers._leadSizeDExtensions.get_empty();lt.Annotations.Designers.AnnRectangleEditDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnRectangleEditDesigner._transformPoint$2=function(b,c,a){c=c.get_x()*a.get_x()+c.get_y()*a.get_y();return lt.Annotations.Designers._leadPointDExtensions.create(b.get_x()+
c*a.get_x(),b.get_y()+c*a.get_y())};lt.Annotations.Designers.AnnRectangleEditDesigner.prototype={_oldScaleX$2:0,_oldScaleY$2:0,_rotateCenterUnitVector$2:null,_xUnitVector$2:null,_yUnitVector$2:null,get_minimumSize:function(){return this._minimumSize$2},set_minimumSize:function(b){return this._minimumSize$2=b},onPointerDown:function(b,c){this._oldPoints$2=this.get_targetObject().get_points().toArray();this._rotateCenterUnitVector$2=lt.Annotations.Core.Utils.getUnitVector(this.get_targetObject().get_points().get_item(0),
this.get_targetObject().get_rotateCenter());var a=lt.Annotations.Core.Utils.distance(this.get_targetObject().get_points().get_item(0),this.get_targetObject().get_rotateCenter());this._xUnitVector$2=lt.Annotations.Core.Utils.getUnitVector(this.get_targetObject().get_points().get_item(0),this.get_targetObject().get_points().get_item(1));this._yUnitVector$2=lt.Annotations.Core.Utils.getUnitVector(this.get_targetObject().get_points().get_item(0),this.get_targetObject().get_points().get_item(3));this._oldScaleX$2=
a*(this._xUnitVector$2.get_x()*this._rotateCenterUnitVector$2.get_x()+this._xUnitVector$2.get_y()*this._rotateCenterUnitVector$2.get_y())/lt.Annotations.Core.Utils.distance(this.get_targetObject().get_points().get_item(0),this.get_targetObject().get_points().get_item(1));this._oldScaleY$2=a*(this._yUnitVector$2.get_x()*this._rotateCenterUnitVector$2.get_x()+this._yUnitVector$2.get_y()*this._rotateCenterUnitVector$2.get_y())/lt.Annotations.Core.Utils.distance(this.get_targetObject().get_points().get_item(0),
this.get_targetObject().get_points().get_item(3));return lt.Annotations.Designers.AnnRectangleEditDesigner.callBaseMethod(this,"onPointerDown",[b,c])},getThumbLocations:function(){var b=null,c=Array(8),a=this.getRenderer();if(null!=a){b=a.getRenderPoints(this.get_container().get_mapper(),this.get_targetObject());if(!b.length)return null;c[0]=b[0];c[2]=b[1];c[4]=b[2];c[6]=b[3];var b=(c[0].get_x()+c[2].get_x())/2,a=(c[0].get_y()+c[2].get_y())/2,d=(c[2].get_y()+c[4].get_y())/2,e=(c[2].get_x()+c[4].get_x())/
2,f=(c[4].get_x()+c[6].get_x())/2,g=(c[4].get_y()+c[6].get_y())/2,h=(c[0].get_y()+c[6].get_y())/2,k=(c[0].get_x()+c[6].get_x())/2;c[1]=lt.Annotations.Designers._leadPointDExtensions.create(b,a);c[3]=lt.Annotations.Designers._leadPointDExtensions.create(e,d);c[5]=lt.Annotations.Designers._leadPointDExtensions.create(f,g);c[7]=lt.Annotations.Designers._leadPointDExtensions.create(k,h);b=c}return b},_updateThumbs:function(b,c){var a=!lt.Annotations.Designers._leadSizeDExtensions.isEmpty(this.get_minimumSize()),
d=this.get_clipRectangle(),e=this.get_targetObject(),f=e.get_points().get_item(0).get_y()!==e.get_points().get_item(1).get_y();switch(b){case 0:a=this._updatePoints$2(e.get_points().get_item(3),e.get_points().get_item(0),e.get_points().get_item(1),c,this.get_maintainAspectRatio(),this._oldPoints$2[3],this._oldPoints$2[0],this._oldPoints$2[1],a);if(!this.get_restrictDesigners()||lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[0])&&lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,
a[1])&&lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[2]))!Type.canCast(e,lt.Annotations.Core.AnnSelectionObject)&&this.get__enableSnapToGrid()?(d=this.snapPointToGrid(a[1],!1),d.get_x()!==a[1].get_x()&&d.get_y()!==a[1].get_y()&&(e.get_points().set_item(0,d),e.get_points().set_item(1,lt.Annotations.Designers._leadPointDExtensions.create(a[2].get_x(),d.get_y())),e.get_points().set_item(3,lt.Annotations.Designers._leadPointDExtensions.create(d.get_x(),a[0].get_y())))):(e.get_points().set_item(3,
this.snapPointToGrid(a[0],!1)),e.get_points().set_item(0,this.snapPointToGrid(a[1],!1)),e.get_points().set_item(1,this.snapPointToGrid(a[2],!1)));break;case 1:var g=lt.Annotations.Designers._leadPointDExtensions.create((e.get_points().get_item(0).get_x()+e.get_points().get_item(1).get_x())/2,(e.get_points().get_item(0).get_y()+e.get_points().get_item(1).get_y())/2),h=lt.Annotations.Designers._leadPointDExtensions.create((this._oldPoints$2[0].get_x()+this._oldPoints$2[1].get_x())/2,(this._oldPoints$2[0].get_y()+
this._oldPoints$2[1].get_y())/2),a=this._updatePoints$2(e.get_points().get_item(0),g,e.get_points().get_item(1),c,!1,this._oldPoints$2[0],h,this._oldPoints$2[1],a);if(!this.get_restrictDesigners()||lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[0])&&lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[2]))f?(e.get_points().set_item(0,a[0]),e.get_points().set_item(1,a[2])):(d=e.get_points().get_item(0).get_x(),f=e.get_points().get_item(1).get_x(),a[0]=this.snapPointToGrid(a[0],
!1),a[2]=this.snapPointToGrid(a[2],!1),e.get_points().set_item(0,lt.Annotations.Designers._leadPointDExtensions.create(d,a[0].get_y())),e.get_points().set_item(1,lt.Annotations.Designers._leadPointDExtensions.create(f,a[2].get_y())));break;case 2:a=this._updatePoints$2(e.get_points().get_item(0),e.get_points().get_item(1),e.get_points().get_item(2),c,this.get_maintainAspectRatio(),this._oldPoints$2[0],this._oldPoints$2[1],this._oldPoints$2[2],a);if(!this.get_restrictDesigners()||lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,
a[0])&&lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[1])&&lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[2]))!Type.canCast(e,lt.Annotations.Core.AnnSelectionObject)&&this.get__enableSnapToGrid()?(d=this.snapPointToGrid(a[1],!1),d.get_x()!==a[1].get_x()&&d.get_y()!==a[1].get_y()&&(e.get_points().set_item(1,d),e.get_points().set_item(0,lt.Annotations.Designers._leadPointDExtensions.create(a[0].get_x(),d.get_y())),e.get_points().set_item(2,lt.Annotations.Designers._leadPointDExtensions.create(d.get_x(),
a[2].get_y())))):(e.get_points().set_item(1,a[1]),this.get_targetObject().get_points().set_item(0,a[0]),e.get_points().set_item(2,a[2]));break;case 3:g=lt.Annotations.Designers._leadPointDExtensions.create((e.get_points().get_item(1).get_x()+e.get_points().get_item(2).get_x())/2,(e.get_points().get_item(1).get_y()+e.get_points().get_item(2).get_y())/2);h=lt.Annotations.Designers._leadPointDExtensions.create((this._oldPoints$2[1].get_x()+this._oldPoints$2[2].get_x())/2,(this._oldPoints$2[1].get_y()+
this._oldPoints$2[2].get_y())/2);a=this._updatePoints$2(e.get_points().get_item(1),g,e.get_points().get_item(2),c,!1,this._oldPoints$2[1],h,this._oldPoints$2[2],a);if(!this.get_restrictDesigners()||lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[0])&&lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[2]))f?(e.get_points().set_item(1,a[0]),e.get_points().set_item(2,a[2])):(d=e.get_points().get_item(1).get_y(),f=e.get_points().get_item(2).get_y(),a[0]=this.snapPointToGrid(a[0],
!1),a[2]=this.snapPointToGrid(a[2],!1),e.get_points().set_item(1,lt.Annotations.Designers._leadPointDExtensions.create(a[0].get_x(),d)),e.get_points().set_item(2,lt.Annotations.Designers._leadPointDExtensions.create(a[2].get_x(),f)));break;case 4:a=this._updatePoints$2(e.get_points().get_item(1),e.get_points().get_item(2),e.get_points().get_item(3),c,this.get_maintainAspectRatio(),this._oldPoints$2[1],this._oldPoints$2[2],this._oldPoints$2[3],a);if(!this.get_restrictDesigners()||lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,
a[0])&&lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[1])&&lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[2]))e.get_points().set_item(1,this.snapPointToGrid(a[0],!1)),e.get_points().set_item(2,this.snapPointToGrid(a[1],!1)),e.get_points().set_item(3,this.snapPointToGrid(a[2],!1));break;case 5:g=lt.Annotations.Designers._leadPointDExtensions.create((e.get_points().get_item(2).get_x()+e.get_points().get_item(3).get_x())/2,(e.get_points().get_item(2).get_y()+e.get_points().get_item(3).get_y())/
2);h=lt.Annotations.Designers._leadPointDExtensions.create((this._oldPoints$2[2].get_x()+this._oldPoints$2[3].get_x())/2,(this._oldPoints$2[2].get_y()+this._oldPoints$2[3].get_y())/2);a=this._updatePoints$2(e.get_points().get_item(2),g,e.get_points().get_item(3),c,!1,this._oldPoints$2[2],h,this._oldPoints$2[3],a);if(!this.get_restrictDesigners()||lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[0])&&lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[2]))f?(e.get_points().set_item(2,
a[0]),e.get_points().set_item(3,a[2])):(d=e.get_points().get_item(2).get_x(),f=e.get_points().get_item(3).get_x(),a[0]=this.snapPointToGrid(a[0],!1),a[2]=this.snapPointToGrid(a[2],!1),e.get_points().set_item(2,lt.Annotations.Designers._leadPointDExtensions.create(d,a[0].get_y())),e.get_points().set_item(3,lt.Annotations.Designers._leadPointDExtensions.create(f,a[2].get_y())));break;case 6:a=this._updatePoints$2(e.get_points().get_item(2),e.get_points().get_item(3),e.get_points().get_item(0),c,this.get_maintainAspectRatio(),
this._oldPoints$2[2],this._oldPoints$2[3],this._oldPoints$2[0],a);if(!this.get_restrictDesigners()||lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[0])&&lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[1])&&lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[2]))e.get_points().set_item(2,this.snapPointToGrid(a[0],!1)),e.get_points().set_item(3,this.snapPointToGrid(a[1],!1)),e.get_points().set_item(0,this.snapPointToGrid(a[2],!1));break;case 7:if(g=lt.Annotations.Designers._leadPointDExtensions.create((e.get_points().get_item(0).get_x()+
e.get_points().get_item(3).get_x())/2,(e.get_points().get_item(0).get_y()+e.get_points().get_item(3).get_y())/2),a=this._updatePoints$2(e.get_points().get_item(3),g,e.get_points().get_item(0),c,!1,this._oldPoints$2[3],g,this._oldPoints$2[0],a),!this.get_restrictDesigners()||lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[0])&&lt.Annotations.Designers._leadRectDExtensions.containsPoint(d,a[2]))f?(e.get_points().set_item(3,a[0]),e.get_points().set_item(0,a[2])):(d=e.get_points().get_item(3).get_y(),
f=e.get_points().get_item(0).get_y(),a[0]=this.snapPointToGrid(a[0],!1),a[2]=this.snapPointToGrid(a[2],!1),e.get_points().set_item(3,lt.Annotations.Designers._leadPointDExtensions.create(a[0].get_x(),d)),e.get_points().set_item(0,lt.Annotations.Designers._leadPointDExtensions.create(a[2].get_x(),f)))}this._oldPoints$2[0]=e.get_points().get_item(0);this._oldPoints$2[1]=e.get_points().get_item(1);this._oldPoints$2[2]=e.get_points().get_item(2);this._oldPoints$2[3]=e.get_points().get_item(3)},moveThumb:function(b,
c){var a=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnEncryptObject);null!=a&&a.get_canDecrypt()||(this._updateThumbs(b,c),this._updateRotateThumbs(b,c),lt.Annotations.Designers.AnnRectangleEditDesigner.callBaseMethod(this,"moveThumb",[b,c]))},_updateRotateThumbs:function(){var b=this.get_targetObject(),c=lt.Annotations.Core.Utils.distance(b.get_points().get_item(0),b.get_points().get_item(1)),a=lt.Annotations.Core.Utils.distance(b.get_points().get_item(0),b.get_points().get_item(3));
this._xUnitVector$2=lt.Annotations.Core.Utils.getUnitVector(b.get_points().get_item(0),b.get_points().get_item(1));this._yUnitVector$2=lt.Annotations.Core.Utils.getUnitVector(b.get_points().get_item(0),b.get_points().get_item(3));c=lt.Annotations.Designers._leadPointDExtensions.create(this._xUnitVector$2.get_x()*c*this._oldScaleX$2,this._xUnitVector$2.get_y()*c*this._oldScaleX$2);a=lt.Annotations.Designers._leadPointDExtensions.create(this._yUnitVector$2.get_x()*a*this._oldScaleY$2,this._yUnitVector$2.get_y()*
a*this._oldScaleY$2);b.set_rotateCenter(lt.Annotations.Designers._leadPointDExtensions.create(c.get_x()+a.get_x()+b.get_points().get_item(0).get_x(),c.get_y()+a.get_y()+b.get_points().get_item(0).get_y()));b.set_internalRotateCenterLocation(b.get_rotateCenter());b.set_internalRotateGripperLocation(this.getRotateGripper())},_updatePoints$2:function(b,c,a,d,e,f,g,h,k){var i=Array(3),j=d,l=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(b,c),m=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(c,
a);lt.Annotations.Designers._leadPointDExtensions.isEmpty(l)&&(l=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(f,g));lt.Annotations.Designers._leadPointDExtensions.isEmpty(m)&&(m=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(g,h));if(e&&!lt.Annotations.Designers._leadPointDExtensions.isEmpty(l)&&!lt.Annotations.Designers._leadPointDExtensions.isEmpty(m)){var e=l.get_x()+m.get_x(),j=l.get_y()+m.get_y(),n=Math.sqrt(e*e+j*j),e=lt.Annotations.Designers._leadPointDExtensions.create(e/n,j/
n),e=e.get_x()*d.get_x()+e.get_y()*d.get_y(),j=lt.Annotations.Core.Utils.distance(f,h),e=e/j,j=lt.Annotations.Core.Utils.distance(f,c),n=lt.Annotations.Core.Utils.distance(c,h),n=lt.Annotations.Designers.AnnRectangleEditDesigner._transformPoint$2(c,lt.Annotations.Designers._leadPointDExtensions.create(e*n*l.get_x(),e*n*l.get_y()),l),j=n=lt.Annotations.Designers.AnnRectangleEditDesigner._transformPoint$2(n,lt.Annotations.Designers._leadPointDExtensions.create(e*j*m.get_x(),e*j*m.get_y()),m);d.set_x(j.get_x()-
c.get_x());d.set_y(j.get_y()-c.get_y())}else j=lt.Annotations.Core.AnnTransformer.translatePoint(c,d.get_x(),d.get_y());i[1]=j;lt.Annotations.Designers._leadPointDExtensions.isEmpty(l)?(l=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(i[1],b),i[0]=lt.Annotations.Designers._leadPointDExtensions.isEmpty(l)?lt.Annotations.Designers._leadPointDExtensions.clone(j):lt.Annotations.Designers.AnnRectangleEditDesigner._transformPoint$2(b,d,l)):i[0]=lt.Annotations.Designers.AnnRectangleEditDesigner._transformPoint$2(b,
d,l);lt.Annotations.Designers._leadPointDExtensions.isEmpty(m)?(m=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(i[1],a),i[2]=lt.Annotations.Designers._leadPointDExtensions.isEmpty(m)?lt.Annotations.Designers._leadPointDExtensions.clone(j):lt.Annotations.Designers.AnnRectangleEditDesigner._transformPoint$2(a,d,m)):i[2]=lt.Annotations.Designers.AnnRectangleEditDesigner._transformPoint$2(a,d,m);if(k&&(b=this.get_minimumSize().get_width(),c=this.get_minimumSize().get_height(),a=lt.Annotations.Core.Utils.distance(f,
g),d=lt.Annotations.Core.Utils.distance(g,h),k=lt.Annotations.Core.Utils.distance(i[0],i[1]),l=lt.Annotations.Core.Utils.distance(i[1],i[2]),!(a+5<k)&&!(d+5<l))){if(k<=b)return i=[f,g,h];l<=c&&(i=[f,g,h])}return i},snapObjectToGrid:function(b,c){var a=Type.safeCast(b,lt.Annotations.Core.AnnRectangleObject);if(null!=a&&0<a.get_points().get_count()&&a.get_points().get_item(0).get_y()===a.get_points().get_item(1).get_y()){a.get_rect().get_width();a.get_rect().get_height();var d=a.get_points().get_item(1),
e=this.snapPointToGrid(d,c),d=lt.Annotations.Designers._leadPointDExtensions.create(e.get_x()-d.get_x(),e.get_y()-d.get_y());a.translate(d.get_x(),d.get_y())}}};Object.defineProperty(lt.Annotations.Designers.AnnRectangleEditDesigner.prototype,"minimumSize",{get:lt.Annotations.Designers.AnnRectangleEditDesigner.prototype.get_minimumSize,set:lt.Annotations.Designers.AnnRectangleEditDesigner.prototype.set_minimumSize,enumerable:!0,configurable:!0});lt.Annotations.Designers.AnnSelectionEditDesigner=function(b,
c,a){lt.Annotations.Designers.AnnSelectionEditDesigner.initializeBase(this,[b,c,a]);this.set_minimumSize(lt.Annotations.Designers._leadSizeDExtensions.create(90,90))};lt.Annotations.Designers.AnnSelectionEditDesigner.prototype={_oldWidth$3:0,_oldHeight$3:0,_oldUnitVectorX$3:null,_oldUnitVectorY$3:null,start:function(){lt.Annotations.Designers.AnnSelectionEditDesigner.callBaseMethod(this,"start");var b=this.get_targetObject();this._oldUnitVectorX$3=lt.Annotations.Core.Utils.getUnitVector(b.get_points().get_item(0),
b.get_points().get_item(1));this._oldUnitVectorY$3=lt.Annotations.Core.Utils.getUnitVector(b.get_points().get_item(0),b.get_points().get_item(3));this._oldWidth$3=parseInt(lt.Annotations.Core.Utils.distance(b.get_points().get_item(0),b.get_points().get_item(1)));this._oldHeight$3=parseInt(lt.Annotations.Core.Utils.distance(b.get_points().get_item(0),b.get_points().get_item(3)))},get_maintainAspectRatio:function(){return!0},set_maintainAspectRatio:function(b){return b},getThumbLocations:function(){var b=
null,c=this.getRenderer();null!=c&&(b=c.getRenderPoints(this.get_container().get_mapper(),this.get_targetObject()));return b},moveThumb:function(b,c){lt.Annotations.Designers.AnnSelectionEditDesigner.callBaseMethod(this,"moveThumb",[2*b,c]);var a=this.get_targetObject().get_points().toArray(),d=lt.Annotations.Core.Utils.distance(a[0],a[1]),a=lt.Annotations.Core.Utils.distance(a[0],a[3]),e=lt.Annotations.Core.Utils.getUnitVector(this.get_targetObject().get_points().get_item(0),this.get_targetObject().get_points().get_item(1)),
f=lt.Annotations.Core.Utils.getUnitVector(this.get_targetObject().get_points().get_item(0),this.get_targetObject().get_points().get_item(3)),g=e.get_x()*this._oldUnitVectorX$3.get_x()+e.get_y()*this._oldUnitVectorX$3.get_y(),h=f.get_x()*this._oldUnitVectorY$3.get_x()+f.get_y()*this._oldUnitVectorY$3.get_y();this.get_maintainAspectRatio()?(h*=a/this._oldHeight$3,g*=d/this._oldWidth$3):g=h=Math.sqrt(a*a+d*d)/Math.sqrt(this._oldHeight$3*this._oldHeight$3+this._oldWidth$3*this._oldWidth$3);var k;k=this.getThumbLocations();
var i=k.length/2,j=b>=i?b-i:b+i,i=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnSelectionObject);if(null!=i){k=k[j];for(i=ss.IEnumerator.getEnumerator(i.get_selectedObjects());i.moveNext();)j=i.current,j.get_isLocked()||(j.scaleVector(g,h,e,f,k),j.set_rotateCenter(lt.Annotations.Designers._leadPointDExtensions.get_empty()))}this._oldUnitVectorX$3=lt.Annotations.Designers._leadPointDExtensions.clone(e);this._oldUnitVectorY$3=lt.Annotations.Designers._leadPointDExtensions.clone(f);this._oldWidth$3=
d;this._oldHeight$3=a},end:function(){lt.Annotations.Designers.AnnSelectionEditDesigner.callBaseMethod(this,"end");var b=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnSelectionObject);null!=b&&(b.get_selectedObjects().clear(),this.get_container().get_selectionObject().get_selectedObjects().clear())},onPointerMove:function(b,c){this._oldUnitVectorX$3=lt.Annotations.Core.Utils.getUnitVector(this.get_targetObject().get_points().get_item(0),this.get_targetObject().get_points().get_item(1));
this._oldUnitVectorY$3=lt.Annotations.Core.Utils.getUnitVector(this.get_targetObject().get_points().get_item(0),this.get_targetObject().get_points().get_item(3));return lt.Annotations.Designers.AnnSelectionEditDesigner.callBaseMethod(this,"onPointerMove",[b,c])}};Object.defineProperty(lt.Annotations.Designers.AnnSelectionEditDesigner.prototype,"maintainAspectRatio",{get:lt.Annotations.Designers.AnnSelectionEditDesigner.prototype.get_maintainAspectRatio,set:lt.Annotations.Designers.AnnSelectionEditDesigner.prototype.set_maintainAspectRatio,
enumerable:!0,configurable:!0});lt.Annotations.Designers.AnnTextEditDesigner=function(b,c,a){lt.Annotations.Designers.AnnTextEditDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnTextEditDesigner.prototype={_autoSizeAfterEdit$3:!1,_acceptsReturn$3:!1,add_editText:function(b){this.__editText$3=ss.Delegate.combine(this.__editText$3,b)},remove_editText:function(b){this.__editText$3=ss.Delegate.remove(this.__editText$3,b)},__editText$3_handler_get:function(){null==this.__editText$3_handler&&
(this.__editText$3_handler=ss.EventHandler.create(this,this.add_editText,this.remove_editText));return this.__editText$3_handler},__editText$3:null,__editText$3_handler:null,get_acceptsReturn:function(){return this._acceptsReturn$3},set_acceptsReturn:function(b){return this._acceptsReturn$3=b},get_autoSizeAfterEdit:function(){return this._autoSizeAfterEdit$3},set_autoSizeAfterEdit:function(b){return this._autoSizeAfterEdit$3=b},onPointerDoubleClick:function(b,c){var a=lt.Annotations.Designers.AnnTextEditDesigner.callBaseMethod(this,
"onPointerDoubleClick",[b,c]),d=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnTextObject);if(null!=d&&!d.get_isLocked()){var e=lt.Annotations.Core.AnnEditTextEventArgs.create(d,this.get_container().get_mapper().rectFromContainerCoordinates(d.get_bounds(),d.get_fixedStateOperations()));null!=this.__editText$3&&!Type.canCast(d,lt.Annotations.Core.AnnStampObject)&&(a=!0,this.__editText$3(b,e))}return a}};Object.defineProperty(lt.Annotations.Designers.AnnTextEditDesigner.prototype,"editText",
{get:lt.Annotations.Designers.AnnTextEditDesigner.prototype.__editText$3_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnTextEditDesigner.prototype,"acceptsReturn",{get:lt.Annotations.Designers.AnnTextEditDesigner.prototype.get_acceptsReturn,set:lt.Annotations.Designers.AnnTextEditDesigner.prototype.set_acceptsReturn,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnTextEditDesigner.prototype,"autoSizeAfterEdit",{get:lt.Annotations.Designers.AnnTextEditDesigner.prototype.get_autoSizeAfterEdit,
set:lt.Annotations.Designers.AnnTextEditDesigner.prototype.set_autoSizeAfterEdit,enumerable:!0,configurable:!0});lt.Annotations.Designers.AnnTextPointerEditDesigner=function(b,c,a){lt.Annotations.Designers.AnnTextPointerEditDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnTextPointerEditDesigner.prototype={_count$4:0,getThumbLocations:function(){for(var b=lt.Annotations.Designers.AnnTextPointerEditDesigner.callBaseMethod(this,"getThumbLocations"),c=Array(b.length+1),a=0;a<b.length;++a)c[a]=
lt.Annotations.Designers._leadPointDExtensions.clone(b[a]);this._count$4=c.length;c[this._count$4-1]=lt.Annotations.Designers._leadPointDExtensions.clone(Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnTextPointerObject).get_pointerPosition());return c},moveThumb:function(b,c){if(b!==this._count$4-1)lt.Annotations.Designers.AnnTextPointerEditDesigner.callBaseMethod(this,"moveThumb",[b,c]);else{var a=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnTextPointerObject),d=lt.Annotations.Core.AnnTransformer.translatePoint(a.get_pointerPosition(),
c.get_x(),c.get_y());(!this.get_restrictDesigners()||lt.Annotations.Designers._leadRectDExtensions.containsPoint(this.get_clipRectangle(),d))&&a.set_pointerPosition(lt.Annotations.Core.AnnTransformer.translatePoint(a.get_pointerPosition(),c.get_x(),c.get_y()))}}};lt.Annotations.Designers.AnnTextReviewEditDesigner=function(b,c,a){lt.Annotations.Designers.AnnTextReviewEditDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnTextReviewEditDesigner.prototype={move:function(b,c){var a=Type.safeCast(this.get_targetObject(),
lt.Annotations.Core.AnnTextReviewObject);(null==a||a.get_canTranslate())&&lt.Annotations.Designers.AnnTextReviewEditDesigner.callBaseMethod(this,"move",[b,c])},getThumbLocations:function(){return null}};lt.Annotations.Designers.AnnRunDesigner=function(b,c,a){lt.Annotations.Designers.AnnRunDesigner.initializeBase(this,[b,c,a])};lt.Annotations.Designers.AnnRunDesigner.prototype={add_run:function(b){this.__run$1=ss.Delegate.combine(this.__run$1,b)},remove_run:function(b){this.__run$1=ss.Delegate.remove(this.__run$1,
b)},__run$1_handler_get:function(){null==this.__run$1_handler&&(this.__run$1_handler=ss.EventHandler.create(this,this.add_run,this.remove_run));return this.__run$1_handler},__run$1:null,__run$1_handler:null,_hitTestBuffer$1:1,get_hitTestBuffer:function(){return this._hitTestBuffer$1},set_hitTestBuffer:function(b){0>b&&lt.Annotations.Core.ExceptionHelper.invalidOperationException("Hit test buffer must be a value greater than or equal to 0");return this._hitTestBuffer$1=b},cancel:function(){this.get_hasStarted()&&
(this.onRun(lt.Annotations.Core.AnnRunDesignerEventArgs.create(this.get_targetObject(),lt.Annotations.Core.AnnDesignerOperationStatus.canceled)),this.end())},startWorking:function(){this.get_hasStarted()||lt.Annotations.Core.ExceptionHelper.invalidOperationException("Designer not started. Call Start before calling this method");var b=lt.Annotations.Core.AnnRunDesignerEventArgs.create(this.get_targetObject(),lt.Annotations.Core.AnnDesignerOperationStatus.start);this.onRun(b);b.get_cancel()&&this.cancel();
return!b.get_cancel()},working:function(){this.get_hasStarted()||lt.Annotations.Core.ExceptionHelper.invalidOperationException("Designer not started. Call Start before calling this method");var b=lt.Annotations.Core.AnnRunDesignerEventArgs.create(this.get_targetObject(),lt.Annotations.Core.AnnDesignerOperationStatus.working);this.onRun(b);b.get_cancel()&&this.cancel();return!b.get_cancel()},endWorking:function(){this.get_hasStarted()||lt.Annotations.Core.ExceptionHelper.invalidOperationException("Designer not started. Call Start before calling this method");
this.end();var b=lt.Annotations.Core.AnnRunDesignerEventArgs.create(this.get_targetObject(),lt.Annotations.Core.AnnDesignerOperationStatus.end);this.onRun(b);b.get_cancel()&&this.cancel();return!b.get_cancel()},onRun:function(b){null!=this.__run$1&&this.__run$1(this,b)},onPointerDown:function(b,c){var a=lt.Annotations.Designers.AnnRunDesigner.callBaseMethod(this,"onPointerDown",[b,c]);this.get_hasStarted()&&!this.get_targetObject().get_isLocked()&&!a&&c.get_button()===lt.Annotations.Core.AnnMouseButton.left&&
(c.get_location(),a=!0,this.startWorking()&&this.working()&&this.endWorking());return a},onPointerMove:function(b,c){return lt.Annotations.Designers.AnnRunDesigner.callBaseMethod(this,"onPointerMove",[b,c])},onPointerUp:function(b,c){return lt.Annotations.Designers.AnnRunDesigner.callBaseMethod(this,"onPointerUp",[b,c])},onPointerDoubleClick:function(b,c){return lt.Annotations.Designers.AnnRunDesigner.callBaseMethod(this,"onPointerDoubleClick",[b,c])}};Object.defineProperty(lt.Annotations.Designers.AnnRunDesigner.prototype,
"run",{get:lt.Annotations.Designers.AnnRunDesigner.prototype.__run$1_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Designers.AnnRunDesigner.prototype,"hitTestBuffer",{get:lt.Annotations.Designers.AnnRunDesigner.prototype.get_hitTestBuffer,set:lt.Annotations.Designers.AnnRunDesigner.prototype.set_hitTestBuffer,enumerable:!0,configurable:!0});lt.Annotations.Designers.AnnTextRollupRunDesigner=function(b,c,a){lt.Annotations.Designers.AnnTextRollupRunDesigner.initializeBase(this,
[b,c,a])};lt.Annotations.Designers.AnnTextRollupRunDesigner.prototype={onRun:function(b){if(b.get_operationStatus()===lt.Annotations.Core.AnnDesignerOperationStatus.end){var c=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnTextRollupObject);c.set_expanded(!c.get_expanded());this.invalidate(this.get_targetObject().getInvalidateRect(this.get_container().get_mapper(),this.getRenderer()))}lt.Annotations.Designers.AnnTextRollupRunDesigner.callBaseMethod(this,"onRun",[b])}};lt.Annotations.Designers._lT_VersionNumber.registerClass("lt.Annotations.Designers._lT_VersionNumber");
lt.Annotations.Designers._leadRectDExtensions.registerClass("lt.Annotations.Designers._leadRectDExtensions");lt.Annotations.Designers._leadPointDExtensions.registerClass("lt.Annotations.Designers._leadPointDExtensions");lt.Annotations.Designers._leadLengthDExtensions.registerClass("lt.Annotations.Designers._leadLengthDExtensions");lt.Annotations.Designers._leadSizeDExtensions.registerClass("lt.Annotations.Designers._leadSizeDExtensions");lt.Annotations.Designers.AnnDesigner.registerClass("lt.Annotations.Designers.AnnDesigner");
lt.Annotations.Designers.AnnDrawDesigner.registerClass("lt.Annotations.Designers.AnnDrawDesigner",lt.Annotations.Designers.AnnDesigner);lt.Annotations.Designers.AnnCrossProductDrawDesigner.registerClass("lt.Annotations.Designers.AnnCrossProductDrawDesigner",lt.Annotations.Designers.AnnDrawDesigner);lt.Annotations.Designers.AnnFreehandDrawDesigner.registerClass("lt.Annotations.Designers.AnnFreehandDrawDesigner",lt.Annotations.Designers.AnnDrawDesigner);lt.Annotations.Designers.AnnPolylineDrawDesigner.registerClass("lt.Annotations.Designers.AnnPolylineDrawDesigner",
lt.Annotations.Designers.AnnDrawDesigner);lt.Annotations.Designers.AnnLineDrawDesigner.registerClass("lt.Annotations.Designers.AnnLineDrawDesigner",lt.Annotations.Designers.AnnPolylineDrawDesigner);lt.Annotations.Designers.AnnPointDrawDesigner.registerClass("lt.Annotations.Designers.AnnPointDrawDesigner",lt.Annotations.Designers.AnnDrawDesigner);lt.Annotations.Designers.AnnProtractorDrawDesigner.registerClass("lt.Annotations.Designers.AnnProtractorDrawDesigner",lt.Annotations.Designers.AnnDrawDesigner);
lt.Annotations.Designers.AnnRectangleDrawDesigner.registerClass("lt.Annotations.Designers.AnnRectangleDrawDesigner",lt.Annotations.Designers.AnnDrawDesigner);lt.Annotations.Designers.AnnStickyNoteDrawDesigner.registerClass("lt.Annotations.Designers.AnnStickyNoteDrawDesigner",lt.Annotations.Designers.AnnDrawDesigner);lt.Annotations.Designers.AnnTextPointerDrawDesigner.registerClass("lt.Annotations.Designers.AnnTextPointerDrawDesigner",lt.Annotations.Designers.AnnDrawDesigner);lt.Annotations.Designers.AnnTextReviewDrawDesigner.registerClass("lt.Annotations.Designers.AnnTextReviewDrawDesigner",
lt.Annotations.Designers.AnnRectangleDrawDesigner);lt.Annotations.Designers.AnnEditDesigner.registerClass("lt.Annotations.Designers.AnnEditDesigner",lt.Annotations.Designers.AnnDesigner);lt.Annotations.Designers.AnnCrossProductEditDesigner.registerClass("lt.Annotations.Designers.AnnCrossProductEditDesigner",lt.Annotations.Designers.AnnEditDesigner);lt.Annotations.Designers.AnnPointEditDesigner.registerClass("lt.Annotations.Designers.AnnPointEditDesigner",lt.Annotations.Designers.AnnEditDesigner);
lt.Annotations.Designers.AnnPolylineEditDesigner.registerClass("lt.Annotations.Designers.AnnPolylineEditDesigner",lt.Annotations.Designers.AnnEditDesigner);lt.Annotations.Designers.AnnRectangleEditDesigner.registerClass("lt.Annotations.Designers.AnnRectangleEditDesigner",lt.Annotations.Designers.AnnEditDesigner);lt.Annotations.Designers.AnnSelectionEditDesigner.registerClass("lt.Annotations.Designers.AnnSelectionEditDesigner",lt.Annotations.Designers.AnnRectangleEditDesigner);lt.Annotations.Designers.AnnTextEditDesigner.registerClass("lt.Annotations.Designers.AnnTextEditDesigner",
lt.Annotations.Designers.AnnRectangleEditDesigner);lt.Annotations.Designers.AnnTextPointerEditDesigner.registerClass("lt.Annotations.Designers.AnnTextPointerEditDesigner",lt.Annotations.Designers.AnnTextEditDesigner);lt.Annotations.Designers.AnnTextReviewEditDesigner.registerClass("lt.Annotations.Designers.AnnTextReviewEditDesigner",lt.Annotations.Designers.AnnEditDesigner);lt.Annotations.Designers.AnnRunDesigner.registerClass("lt.Annotations.Designers.AnnRunDesigner",lt.Annotations.Designers.AnnDesigner);
lt.Annotations.Designers.AnnTextRollupRunDesigner.registerClass("lt.Annotations.Designers.AnnTextRollupRunDesigner",lt.Annotations.Designers.AnnRunDesigner);lt.Annotations.Designers._lT_VersionNumber.l_VER_PRODUCT="LEADTOOLS\u00ae for JavaScript";lt.Annotations.Designers._lT_VersionNumber.l_VER_COMPANYNAME_STR="LEAD Technologies, Inc.";lt.Annotations.Designers._lT_VersionNumber.l_VER_LEGALTRADEMARKS_STR="LEADTOOLS\u00ae is a trademark of LEAD Technologies, Inc.";lt.Annotations.Designers._lT_VersionNumber.l_VER_LEGALCOPYRIGHT_STR=
"\u00a9 1991-2017 LEAD Technologies, Inc.";lt.Annotations.Designers._lT_VersionNumber.l_VER_DLLEXT=".dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_EXEEXT=".exe";lt.Annotations.Designers._lT_VersionNumber.l_VER_PLATFORM="";lt.Annotations.Designers._lT_VersionNumber.l_VER_PLATFORM_FOR="";lt.Annotations.Designers._lT_VersionNumber.l_VER_PRODUCTNAME_STR="LEADTOOLS\u00ae for JavaScript";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_XXX="Leadtools.Xxx.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_XXX=
"LEADTOOLS Xxx";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_KERNEL="lt.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_KERNEL="Leadtools";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS="lt.Controls.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS="Controls";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS_UI="lt.Documents.UI.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS_UI=
"Documents User Interface";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS_MEDICAL="lt.Controls.Medical.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS_MEDICAL="Medical Controls";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS="lt.Documents.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS="Documents";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_CORE=
"lt.Annotations.Core.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_CORE="Annotations Core";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_AUTOMATION="lt.Annotations.Automation.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_AUTOMATION="Annotations Automation";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DESIGNERS="lt.Annotations.Designers.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DESIGNERS=
"Annotations Designers";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_RENDERING="lt.Annotations.Rendering.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_RENDERING="Annotations Rendering";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CCOW="Leadtools.Ccow.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CCOW="Leadtools CCOW Library";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DOCUMENTS=
"Leadtools.Annotations.Documents.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DOCUMENTS="Annotations Documents";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_LEGACY="Leadtools.Annotations.Legacy.dll";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_LEGACY="Annotations Legacy";lt.Annotations.Designers._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_JAVASCRIPT="Leadtools.Annotations.JavaScript.dll";
lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_JAVASCRIPT="JavaScripot Annotations";lt.Annotations.Designers._lT_VersionNumber.l_VER_PRODUCTVERSION_DOT_STR="19.0.0.0";lt.Annotations.Designers._lT_VersionNumber.l_VER_FILEVERSION_DOT_STR="19.0.0.5";lt.Annotations.Designers.AnnDesigner._unit=1/720;lt.Annotations.Designers.AnnTextReviewDrawDesigner._dummyRectangle$3=null;lt.Annotations.Designers.AnnTextReviewDrawDesigner._dummyRectangle$3=new lt.Annotations.Core.AnnRectangleObject;
lt.Annotations.Designers.AnnTextReviewDrawDesigner._dummyRectangle$3.set_stroke(lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("rgba(0,0,0,0.5)"),lt.Annotations.Designers._leadLengthDExtensions.create(3)))})();

/**************************************************
LEADTOOLS (C) 1991-2017 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Annotations.Rendering.JavaScript.js
// Version:19.0.0.61
(function(){Type.registerNamespace("lt.Annotations.Rendering");window.lt.Annotations.Rendering._lT_VersionNumber=function(){};lt.Annotations.Rendering.AnnHtml5RenderingEngine=function(){lt.Annotations.Rendering.AnnHtml5RenderingEngine.initializeBase(this);this._init$1()};lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFont=function(b,c){var a="";switch(c.get_fontWeight()){case lt.Annotations.Core.AnnFontWeight.bold:case lt.Annotations.Core.AnnFontWeight.extraBold:case lt.Annotations.Core.AnnFontWeight.semiBold:a=
"bold";break;default:a=""}switch(c.get_fontStyle()){case lt.Annotations.Core.AnnFontStyle.italic:a+="italic"}a=String.format("{0} {1}pt {2}",a,c.get_fontSize(),c.get_fontFamilyName());b.font=a};lt.Annotations.Rendering.AnnHtml5RenderingEngine.measureTextHeight=function(b,c){var a=document.createElement("canvas"),d=parseInt(b.measureText("gM").width)+1,e=parseInt(1.25*(96*c.get_fontSize()/72));a.width=d;a.height=e;a=a.getContext("2d");a.save();lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFont(a,
c);a.textBaseline="top";a.fillStyle="#000000";a.fillText("gM",0,0);var f=0,g=0;if(0<d&&0<e){for(var h=a.getImageData(0,0,d,e),i=e,j=0;!g&&0<i;){i--;for(j=0;j<d;j++)if(h.data[4*i*d+4*j+3]){g=i;break}}for(i=0;i<e&&!f;){i++;for(j=0;j<d;j++)if(h.data[4*i*d+4*j+3]){f=i;break}}}a.restore();return g+f};lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFill=function(b,c){var a=Type.safeCast(c,lt.Annotations.Core.AnnSolidColorBrush);null!=b&&null!=a&&(b.fillStyle=a.get_color())};lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds=
function(b,c,a,d){(lt.LeadDoubleTools.lessThan(a,0)||lt.LeadDoubleTools.greaterThan(a,1))&&lt.Annotations.Core.ExceptionHelper.argumentOutOfRangeException("opacity",a,"Must be a value greater than or equals to 0 and less than or equals to 1");if(null!=b){var e=Type.safeCast(c,lt.Annotations.Core.AnnSolidColorBrush);if(null!=e)lt.Annotations.Rendering._colorUtil.addOpacityToBrush(e,a),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFill(b,e);else if(c=Type.safeCast(c,lt.Annotations.Core.AnnLinearGradientBrush),
null!=c&&null!=c&&!d.get_isEmpty()){d=d.clone();switch(c.get_linearGradientMode()){case lt.Annotations.Core.AnnLinearGradientMode.horizontal:d.set_height(0);break;case lt.Annotations.Core.AnnLinearGradientMode.vertical:d.set_width(0)}d=b.createLinearGradient(d.get_x(),d.get_y(),d.get_width(),d.get_height());for(c=ss.IEnumerator.getEnumerator(c.get_gradientStops());c.moveNext();)e=c.current,d.addColorStop(e.get_offset(),lt.Annotations.Rendering._colorUtil.addOpacityToColor(e.get_color(),a));b.fillStyle=
d}}};lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillWithOpacity=function(b,c,a){(lt.LeadDoubleTools.lessThan(a,0)||lt.LeadDoubleTools.greaterThan(a,1))&&lt.Annotations.Core.ExceptionHelper.argumentOutOfRangeException("opacity",a,"Must be a value greater than or equals to 0 and less than or equals to 1");null!=b&&lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(b,c,a,lt.LeadRectD.get_empty())};lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStroke=function(b,c){if(null!=
b&&null!=c){var a=Type.safeCast(c.get_stroke(),lt.Annotations.Core.AnnSolidColorBrush);null!=a&&(b.lineWidth=lt.LTHelper.device!==lt.LTDevice.desktop?Math.max(c.get_strokeThickness().get_value(),1.1):Math.max(c.get_strokeThickness().get_value(),1),b.strokeStyle=a.get_color());switch(c.get_strokeLineJoin()){case lt.Annotations.Core.AnnStrokeLineJoin.miter:b.lineJoin="miter";break;case lt.Annotations.Core.AnnStrokeLineJoin.bevel:b.lineJoin="bevel";break;default:b.lineJoin="round"}switch(c.get_strokeEndLineCap()){case lt.Annotations.Core.AnnStrokeLineCap.square:b.lineCap=
"square";break;default:b.lineCap="round"}}null!=c.get_strokeDashArray()&&0<c.get_strokeDashArray().length&&(null!=b.setLineDash&&b.setLineDash(c.get_strokeDashArray()),null!=b.lineDashOffset&&(b.lineDashOffset=c.get_strokeDashOffset()))};lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity=function(b,c,a){(lt.LeadDoubleTools.lessThan(a,0)||lt.LeadDoubleTools.greaterThan(a,1))&&lt.Annotations.Core.ExceptionHelper.argumentOutOfRangeException("opacity",a,"Must be a value greater than or equals to 0 and less than or equals to 1");
null!=b&&null!=c&&(lt.Annotations.Rendering._colorUtil.addOpacityToBrush(Type.safeCast(c.get_stroke(),lt.Annotations.Core.AnnSolidColorBrush),a),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStroke(b,c))};lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawCurve=function(b,c,a){c=lt.Annotations.Core.Utils.splineCurve(c,a);b.moveTo(c[0].get_x(),c[0].get_y());for(a=1;a<c.length;++a)b.lineTo(c[a].get_x(),c[a].get_y())};lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawClosedCurve=function(b,
c,a){c=lt.Annotations.Core.Utils.splineClosedCurve(c,a);b.moveTo(c[0].get_x(),c[0].get_y());for(a=1;a<c.length;++a)b.lineTo(c[a].get_x(),c[a].get_y())};lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawEllipse=function(b,c){var a=0.5522848*(c.get_width()/2),d=0.5522848*(c.get_height()/2),e=c.get_left()+c.get_width(),f=c.get_top()+c.get_height(),g=c.get_left()+c.get_width()/2,h=c.get_top()+c.get_height()/2;b.moveTo(c.get_left(),h);b.bezierCurveTo(c.get_left(),h-d,g-a,c.get_top(),g,c.get_top());
b.bezierCurveTo(g+a,c.get_top(),e,h-d,e,h);b.bezierCurveTo(e,h+d,g+a,f,g,f);b.bezierCurveTo(g-a,f,c.get_left(),h+d,c.get_left(),h)};lt.Annotations.Rendering.AnnHtml5RenderingEngine.getTextSize=function(b,c){var a=document.createElement("canvas");a.width=200;a.height=200;var d=a.getContext("2d"),a=0;lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFont(d,c);null!=d&&(null!=c&&c.get_isDirty()&&(c.set_fontHeight(parseInt(lt.Annotations.Rendering.AnnHtml5RenderingEngine.measureTextHeight(d,c))),c.set_isDirty(!1)),
a=c.get_fontHeight());d=d.measureText(b).width;return lt.LeadSizeD.create(d,a)};lt.Annotations.Rendering.AnnHtml5RenderingEngine.prototype={_context$1:null,get_context:function(){return this._context$1},set_context:function(b){return this._context$1=b},_init$1:function(){this.get_renderers()[lt.Annotations.Core.AnnObject.selectObjectId]=new lt.Annotations.Rendering.AnnRectangleObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.lineObjectId]=new lt.Annotations.Rendering.AnnPolylineObjectRenderer;
this.get_renderers()[lt.Annotations.Core.AnnObject.rectangleObjectId]=new lt.Annotations.Rendering.AnnRectangleObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.ellipseObjectId]=new lt.Annotations.Rendering.AnnEllipseObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.polyRulerObjectId]=new lt.Annotations.Rendering.AnnPolyRulerObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.rulerObjectId]=new lt.Annotations.Rendering.AnnPolyRulerObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.polylineObjectId]=
new lt.Annotations.Rendering.AnnPolylineObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.polygonObjectId]=new lt.Annotations.Rendering.AnnPolylineObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.stampObjectId]=new lt.Annotations.Rendering.AnnStampObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.rubberStampObjectId]=new lt.Annotations.Rendering.AnnRubberStampObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.textObjectId]=new lt.Annotations.Rendering.AnnTextObjectRenderer;
this.get_renderers()[lt.Annotations.Core.AnnObject.textRollupObjectId]=new lt.Annotations.Rendering.AnnTextRollupObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.textPointerObjectId]=new lt.Annotations.Rendering.AnnTextPointerObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.protractorObjectId]=new lt.Annotations.Rendering.AnnProtractorObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.crossProductObjectId]=new lt.Annotations.Rendering.AnnCrossProductObjectRenderer;
this.get_renderers()[lt.Annotations.Core.AnnObject.freehandObjectId]=new lt.Annotations.Rendering.AnnPolylineObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.hotspotObjectId]=new lt.Annotations.Rendering.AnnHotspotObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.freehandHotspotObjectId]=new lt.Annotations.Rendering.AnnFreehandHotspotObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.noteObjectId]=new lt.Annotations.Rendering.AnnNoteObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.hiliteObjectId]=
new lt.Annotations.Rendering.AnnHiliteObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.pointObjectId]=new lt.Annotations.Rendering.AnnPointObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.curveObjectId]=new lt.Annotations.Rendering.AnnCurveObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.closedCurveObjectId]=new lt.Annotations.Rendering.AnnCurveObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.pointerObjectId]=new lt.Annotations.Rendering.AnnPointerObjectRenderer;
this.get_renderers()[lt.Annotations.Core.AnnObject.redactionObjectId]=new lt.Annotations.Rendering.AnnRectangleObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.audioObjectId]=new lt.Annotations.Rendering.AnnMediaObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.mediaObjectId]=new lt.Annotations.Rendering.AnnMediaObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.encryptObjectId]=new lt.Annotations.Rendering.AnnEncryptObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.imageObjectId]=
new lt.Annotations.Rendering.AnnImageObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.textHiliteObjectId]=new lt.Annotations.Rendering.AnnTextHiliteObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.textStrikeoutObjectId]=new lt.Annotations.Rendering.AnnTextStrikeoutObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.textUnderlineObjectId]=new lt.Annotations.Rendering.AnnTextUnderlineObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.textRedactionObjectId]=
new lt.Annotations.Rendering.AnnTextRedactionObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.stickyNoteObjectId]=new lt.Annotations.Rendering.AnnStickyNoteObjectRenderer;var b=new lt.Annotations.Rendering.AnnRectangleThumbStyle;b.set_size(lt.LeadSizeD.create(144,144));b.set_stroke(lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("black"),lt.LeadLengthD.create(1)));b.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("lightblue"));var c=new lt.Annotations.Rendering.AnnEllipseThumbStyle;
c.set_size(lt.LeadSizeD.create(72,72));c.set_stroke(lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("black"),lt.LeadLengthD.create(1)));c.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("lightgreen"));var a=new lt.Annotations.Rendering.AnnEllipseThumbStyle;a.set_size(lt.LeadSizeD.create(144,144));a.set_stroke(lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("black"),lt.LeadLengthD.create(1)));a.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("lightgreen"));
var d=this.get_renderers(),e;for(e in d){var f=d[e];f.set_locationsThumbStyle(b);f.set_rotateCenterThumbStyle(c);f.set_rotateGripperThumbStyle(a)}lt.Annotations.Core.AnnRenderingEngine.set_containerLabelRenderer(new lt.Annotations.Rendering.AnnLabelRenderer)},attach:function(b,c){this.attachContainer(b);this._context$1=c},detach:function(){lt.Annotations.Rendering.AnnHtml5RenderingEngine.callBaseMethod(this,"detach");this._context$1=null},measureString:function(b,c){var a=lt.LeadSizeD.get_empty(),
d=document.createElement("canvas").getContext("2d");null!=d&&(d.save(),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFont(d,c),a=lt.LeadSizeD.create(d.measureText(b).width,lt.Annotations.Rendering.AnnHtml5RenderingEngine.measureTextHeight(d,c)),d.restore());return a},drawPicture:function(b,c,a){if(!(null==b||null==this.get_context()))if(!b.get_isDirty()&&b.get_isLoaded()&&null!=b.get_internalData()){var d=b.get_internalData();b.set_isDirty(!1);!c.get_isEmpty()&&0<c.get_width()&&0<c.get_height()&&
(b=this.get_context().globalAlpha,this.get_context().globalAlpha=a.get_opacity(),this.get_context().drawImage(d,c.get_left(),c.get_top(),c.get_width(),c.get_height()),this.get_context().globalAlpha=b)}else if(null!=b.get_source()||null!=b.get_pictureData()&&0<b.get_pictureData().length)d=this.get_container().get_mapper(),(b.get_isDirty()||!b.get_isLoaded())&&this._doLoadPicture$1(d,b,a),a=this.get_renderers()[lt.Annotations.Core.AnnObject.rectangleObjectId],null!=a&&(b=new lt.Annotations.Core.AnnRectangleObject,
b.set_stroke(this.get_loadingPictureStroke()),b.set_fill(this.get_loadingPictureFill()),b.set_rect(d.rectToContainerCoordinates(c)),a.initialize(this),a.render(d,b),b.set_stroke(null),b.set_fill(null))},_freeInternalData$1:function(b){null!=b.get_internalData()&&b.set_internalData(null)},_doLoadPicture$1:function(b,c,a){var d=this.get_container();this._freeInternalData$1(c);var e=document.createElement("img"),f=null,g=null,f=ss.Delegate.create(this,function(){e.removeEventListener("load",f,!1);e.removeEventListener("error",
g,!1);c.set_isLoaded(!0);var h=lt.LeadRectD.create(0,0,e.naturalWidth,e.naturalHeight);b.set_ignoreDpiScale(!0);h=b.rectToContainerCoordinates(h);b.set_ignoreDpiScale(!1);c.set_width(h.get_width());c.set_height(h.get_height());h=document.createElement("canvas");h.width=e.width;h.height=e.height;h.getContext("2d").drawImage(e,0,0);try{c.set_pictureData(h.toDataURL("image/png")),c.set_pictureData(c.get_pictureData().remove(0,22))}catch(i){this.onLoadPicture(lt.Annotations.Core.AnnLoadPictureEventArgs.create(c,
a,d,i));e=null;return}h=d.get_mapper().clone();d.set_mapper(b);this.onLoadPicture(lt.Annotations.Core.AnnLoadPictureEventArgs.create(c,a,d,null));d.set_mapper(h);e=null}),g=function(){c.set_isLoaded(!1);c.set_internalData(null);e.removeEventListener("load",f,!1);e.removeEventListener("error",g,!1);e=null};e.addEventListener("load",f,!1);e.addEventListener("error",g,!1);c.set_isLoaded(!1);c.set_isDirty(!1);c.set_internalData(e);String.isNullOrEmpty(c.get_pictureData())?String.isNullOrEmpty(c.get_source())||
(e.src=c.get_source()):e.src="data:image/png;base64,"+c.get_pictureData()},_needsInvalidate$1:!1,onLoadPicture:function(b){if(null==b.get_error()){this._needsInvalidate$1=!0;var c=b.get_container().get_mapper().clone(),a=this.get_renderers()[b.get_annObject().get_id()],d=b.get_container().get_children(),e=b.get_annObject().get_id();null!=a&&setTimeout(ss.Delegate.create(this,function(){if(this._needsInvalidate$1){this._needsInvalidate$1=!1;for(var b=ss.IEnumerator.getEnumerator(d);b.moveNext();){var g=
b.current;g.get_id()===e&&(a.get_renderingEngine().get_stateless()?this.render(g.getInvalidateRect(c,a),!0):(a.render(c,g),a.renderThumbs(c,g.get_internalThumbLocations(),g.get_fixedStateOperations())))}}}),200)}lt.Annotations.Rendering.AnnHtml5RenderingEngine.callBaseMethod(this,"onLoadPicture",[b])},renderGrid:function(b,c){if(null==c)throw new lt.ArgumentNullException("container");if(null!=this._context$1&&!b){var a=lt.Annotations.Core.AnnContainerMapper.createDefault(),d=this.get_snapToGridOptions(),
e=d.get_lineSpacing(),f=a.lengthToContainerCoordinates(d.get_gridLength());a.updateTransform(c.get_mapper().get_transform());var g=a.get_transform(),h=lt.LeadMatrix.create(g.get_m11(),g.get_m12(),g.get_m21(),g.get_m11(),g.get_offsetX(),g.get_offsetY());a.updateTransform(h);var h=a.lengthFromContainerCoordinates(f,lt.Annotations.Core.AnnFixedStateOperations.none),i=lt.LeadMatrix.create(g.get_m22(),g.get_m12(),g.get_m21(),g.get_m22(),g.get_offsetX(),g.get_offsetY());a.updateTransform(i);f=a.lengthFromContainerCoordinates(f,
lt.Annotations.Core.AnnFixedStateOperations.none);a.updateTransform(g);var j=c.get_mapper().rectFromContainerCoordinates(lt.LeadRectD.create(0,0,c.get_size().get_width(),c.get_size().get_height()),lt.Annotations.Core.AnnFixedStateOperations.none),a=j.get_left(),g=j.get_top(),i=j.get_right(),j=j.get_bottom(),k=new lt.LeadPointD,l=new lt.LeadPointD;k.set_y(g);l.set_y(j);var m=h*e,e=f*e;this._context$1.save();if(null!=d.get_gridStroke()){lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity(this._context$1,
c.get_mapper().strokeFromContainerCoordinates(d.get_gridStroke(),lt.Annotations.Core.AnnFixedStateOperations.strokeWidth),d.get_opacity());this._context$1.beginPath();for(var n=a;n<i;n+=m)k.set_x(n),l.set_x(n),this._context$1.moveTo(k.get_x(),k.get_y()),this._context$1.lineTo(l.get_x(),l.get_y());k.set_x(a);l.set_x(i);for(n=g;n<j;n+=e)k.set_y(n),l.set_y(n),this._context$1.moveTo(k.get_x(),k.get_y()),this._context$1.lineTo(l.get_x(),l.get_y());this._context$1.closePath();this._context$1.stroke();k=
e=0;for(e=a;e<i;e+=h)for(k=g;k<j;k+=f)lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(this._context$1,d.get_gridStroke().get_stroke(),d.get_opacity(),lt.LeadRectD.get_empty()),this._context$1.fillRect(e,k,1,1)}this._context$1.restore()}}};Object.defineProperty(lt.Annotations.Rendering.AnnHtml5RenderingEngine.prototype,"context",{get:lt.Annotations.Rendering.AnnHtml5RenderingEngine.prototype.get_context,set:lt.Annotations.Rendering.AnnHtml5RenderingEngine.prototype.set_context,
enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnSvgRenderingEngine=function(){lt.Annotations.Rendering.AnnSvgRenderingEngine.initializeBase(this);this._init$1()};lt.Annotations.Rendering.AnnSvgRenderingEngine.exportSvg=function(b,c,a){var d=new lt.Annotations.Rendering.AnnSvgRenderingEngine;null!=a&&d.set_renderers(a);a=b.get_mapper();null!=c&&(a=c);var c=document.createElement("div"),e=a.sizeFromContainerCoordinates(b.get_size());c.style.width=String.format("{0}px",e.get_width());c.style.height=
String.format("{0}px",e.get_height());c.id="Save";document.documentElement.appendChild(c);e=b.clone();d.attach(e,c);b.get_children();for(b=ss.IEnumerator.getEnumerator(e.get_children());b.moveNext();)if(e=b.current,e.get_isVisible()&&!String.isNullOrEmpty(e.get_stateId())&&Object.keyExists(d.get_renderers(),e.get_id())){var f=d.get_renderers()[e.get_id()];null!=f&&(f.initialize(d),null!=f&&0<e.get_points().get_count()&&f.render(a,e))}a=lt.Annotations.Rendering._annSvgHelpers.getElementById(d.get_element().id+
"AnnThumbGroup");null!=a&&d.get_element().removeChild(a);a=c.innerHTML;d.detach();document.documentElement.removeChild(c);a=a.replaceAll('xmlns="http://www.w3.org/2000/svg"',"");a=a.replaceAll('xmlns:xlink="http://www.w3.org/1999/xlink"',"");a=a.replaceAll("xlink:href",'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');return a=a.replaceAll("<svg",'<svg xmlns="http://www.w3.org/2000/svg"')};lt.Annotations.Rendering.AnnSvgRenderingEngine.prototype={_element$1:null,get_element:function(){return this._element$1},
set_element:function(b){return this._element$1=b},renderGrid:function(){},render:function(){var b=this.get_container().get_mapper();this.get_container().get_children();for(var c=ss.IEnumerator.getEnumerator(this.get_container().get_children());c.moveNext();){var a=c.current;if(a.get_isVisible()&&!String.isNullOrEmpty(a.get_stateId())&&Object.keyExists(this.get_renderers(),a.get_id())){var d=this.get_renderers()[a.get_id()];null!=d&&(d.initialize(this),null!=d&&0<a.get_points().get_count()&&d.render(b,
a))}}},_init$1:function(){this.get_renderers()[lt.Annotations.Core.AnnObject.selectObjectId]=new lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.lineObjectId]=new lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.rectangleObjectId]=new lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.ellipseObjectId]=new lt.Annotations.Rendering.AnnSvgEllipseObjectRenderer;
this.get_renderers()[lt.Annotations.Core.AnnObject.polyRulerObjectId]=new lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.rulerObjectId]=new lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.polylineObjectId]=new lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.polygonObjectId]=new lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer;
this.get_renderers()[lt.Annotations.Core.AnnObject.stampObjectId]=new lt.Annotations.Rendering.AnnSvgStampObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.rubberStampObjectId]=new lt.Annotations.Rendering.AnnSvgRubberStampObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.textObjectId]=new lt.Annotations.Rendering.AnnSvgTextObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.textRollupObjectId]=new lt.Annotations.Rendering.AnnSvgTextRollupObjectRenderer;
this.get_renderers()[lt.Annotations.Core.AnnObject.textPointerObjectId]=new lt.Annotations.Rendering.AnnSvgTextPointerObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.protractorObjectId]=new lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.crossProductObjectId]=new lt.Annotations.Rendering.AnnSvgCrossProductObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.freehandObjectId]=new lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer;
this.get_renderers()[lt.Annotations.Core.AnnObject.hotspotObjectId]=new lt.Annotations.Rendering.AnnSvgHotspotObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.freehandHotspotObjectId]=new lt.Annotations.Rendering.AnnSvgFreehandHotspotObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.noteObjectId]=new lt.Annotations.Rendering.AnnSvgNoteObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.hiliteObjectId]=new lt.Annotations.Rendering.AnnSvgHiliteObjectRenderer;
this.get_renderers()[lt.Annotations.Core.AnnObject.pointObjectId]=new lt.Annotations.Rendering.AnnSvgPointObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.curveObjectId]=new lt.Annotations.Rendering.AnnSvgCurveObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.closedCurveObjectId]=new lt.Annotations.Rendering.AnnSvgCurveObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.pointerObjectId]=new lt.Annotations.Rendering.AnnSvgPointerObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.redactionObjectId]=
new lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.audioObjectId]=new lt.Annotations.Rendering.AnnSvgMediaObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.mediaObjectId]=new lt.Annotations.Rendering.AnnSvgMediaObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.encryptObjectId]=new lt.Annotations.Rendering.AnnSvgEncryptObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.textHiliteObjectId]=new lt.Annotations.Rendering.AnnSvgTextHiliteObjectRenderer;
this.get_renderers()[lt.Annotations.Core.AnnObject.textStrikeoutObjectId]=new lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.textUnderlineObjectId]=new lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.textRedactionObjectId]=new lt.Annotations.Rendering.AnnSvgTextRedactionObjectRenderer;this.get_renderers()[lt.Annotations.Core.AnnObject.stickyNoteObjectId]=new lt.Annotations.Rendering.AnnSvgStickyNoteObjectRenderer;
var b=new lt.Annotations.Rendering.AnnSvgRectangleThumbStyle;b.set_size(lt.LeadSizeD.create(144,144));b.set_stroke(lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("black"),lt.LeadLengthD.create(1)));b.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("lightblue"));var c=new lt.Annotations.Rendering.AnnSvgEllipseThumbStyle;c.set_size(lt.LeadSizeD.create(72,72));c.set_stroke(lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("black"),
lt.LeadLengthD.create(1)));c.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("lightgreen"));var a=new lt.Annotations.Rendering.AnnSvgEllipseThumbStyle;a.set_size(lt.LeadSizeD.create(144,144));a.set_stroke(lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("black"),lt.LeadLengthD.create(1)));a.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("lightgreen"));var d=this.get_renderers(),e;for(e in d){var f=d[e];f.initialize(this);f.set_locationsThumbStyle(b);
f.set_rotateCenterThumbStyle(c);f.set_rotateGripperThumbStyle(a)}lt.Annotations.Core.AnnRenderingEngine.set_containerLabelRenderer(new lt.Annotations.Rendering.AnnLabelRenderer)},measureString:function(){return new lt.LeadSizeD},_getSize$1:function(b){lt.LeadSizeD.create(0,0);var c=b.style.width,a=b.style.height;if(!c){var d=b.offsetWidth,e=b.offsetHeight;d&&(c=d,a=e);c||(d=b.clientWidth,b=b.clientHeight,d&&(c=d,a=b))}return lt.LeadSizeD.create(c,a)},attach:function(b,c){this._element$1=c;this.attachContainer(b);
var a=String.format("Annotation_Svg_{0}",c.id),d=lt.Annotations.Rendering._annSvgHelpers.getElementById(a);null==d&&(d=lt.Annotations.Rendering._annSvgHelpers.createRoot());if(null!=c&&d.parentNode!==c){var e=this._getSize$1(c);d.setAttribute("width",e.get_width());d.setAttribute("height",e.get_height());d.setAttribute("id",a);d.setAttribute("style","position: absolute;");c.appendChild(d)}},detach:function(){if(0<this.get_container().get_children().get_count())for(var b=ss.IEnumerator.getEnumerator(this.get_container().get_children());b.moveNext();){var c=
b.current;if(c.get_isVisible()&&!String.isNullOrEmpty(c.get_stateId())&&Object.keyExists(this.get_renderers(),c.get_id())){var a=this.get_renderers()[c.get_id()];null!=a&&a.removeObject(c)}}lt.Annotations.Rendering.AnnSvgRenderingEngine.callBaseMethod(this,"detach")},get_stateless:function(){return!1}};Object.defineProperty(lt.Annotations.Rendering.AnnSvgRenderingEngine.prototype,"element",{get:lt.Annotations.Rendering.AnnSvgRenderingEngine.prototype.get_element,set:lt.Annotations.Rendering.AnnSvgRenderingEngine.prototype.set_element,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnSvgRenderingEngine.prototype,"stateless",{get:lt.Annotations.Rendering.AnnSvgRenderingEngine.prototype.get_stateless,enumerable:!0,configurable:!0});lt.Annotations.Rendering._colorUtil=function(){};lt.Annotations.Rendering._colorUtil.addOpacityToBrush=function(b,c){1===c||null==b||b.set_color(lt.Annotations.Rendering._colorUtil.addOpacityToColor(b.get_color(),c))};lt.Annotations.Rendering._colorUtil.addOpacityToColor=
function(b,c){return 1===c?b:-1===b.toLowerCase().indexOf("transparent")?(b.startsWith("rgb")||(b=lt.Annotations.Rendering._colorUtil._nameToRGB(b)),lt.Annotations.Rendering._colorUtil._setOpacity(b,c)):b};lt.Annotations.Rendering._colorUtil._setOpacity=function(b,c){var a=b.indexOf("(")+1,d=b.indexOf(")")-a,a=b.substr(a,d).split(","),d=1;4===a.length&&(d=parseFloat(a[3]));a[3]=(c*d).toString();return"rgba("+a.toString()+")"};lt.Annotations.Rendering._colorUtil._nameToRGB=function(b){if(ss.isUndefined(lt.Annotations.Rendering._colorUtil._colorNamesToRGB[b.toLowerCase()]))throw Error.createError("Invalid Color Name",
null);return lt.Annotations.Rendering._colorUtil._colorNamesToRGB[b.toLowerCase()]};lt.Annotations.Rendering.AnnCrossProductObjectRenderer=function(){lt.Annotations.Rendering.AnnCrossProductObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnCrossProductObjectRenderer.prototype={render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(c,lt.Annotations.Core.AnnCrossProductObject);
if(null!=a){var d=new lt.Annotations.Core.AnnPolyRulerObject;d.set_showGauge(a.get_showGauge());d.set_showTickMarks(a.get_showTickMarks());d.set_showTickValue(a.get_showTickValue());d.set_tickMarksStroke(a.get_tickMarksStroke());d.get_stroke().set_stroke(a.get_stroke().get_stroke());d.get_stroke().set_strokeThickness(a.get_stroke().get_strokeThickness());d.set_measurementUnit(a.get_measurementUnit());for(var e=ss.IEnumerator.getEnumerator(Object.keys(a.get_unitsAbbreviation()));e.moveNext();){var f=
e.current;d.get_unitsAbbreviation()[f]=a.get_unitsAbbreviation()[f]}d.set_precision(a.get_precision());d.get_labels().RulerLength=a.get_labels().RulerLength;d.set_fixedStateOperations(c.get_fixedStateOperations());d.set_gaugeLength(a.get_gaugeLength());d.set_tickMarksLength(a.get_tickMarksLength());d.set_opacity(a.get_opacity());d.get_points().clear();d.get_points().add(a.get_firstStartPoint());d.get_points().add(a.get_firstEndPoint());lt.Annotations.Rendering.AnnCrossProductObjectRenderer.callBaseMethod(this,
"render",[b,d]);e=new lt.Annotations.Core.AnnPolyRulerObject;e.set_showGauge(a.get_showGauge());e.set_showTickMarks(a.get_showTickMarks());e.set_showTickValue(a.get_showTickValue());e.set_tickMarksStroke(a.get_tickMarksStroke());e.get_stroke().set_stroke(a.get_stroke().get_stroke());e.get_stroke().set_strokeThickness(a.get_stroke().get_strokeThickness());e.set_measurementUnit(a.get_measurementUnit());for(var g=ss.IEnumerator.getEnumerator(Object.keys(a.get_unitsAbbreviation()));g.moveNext();)f=g.current,
e.get_unitsAbbreviation()[f]=a.get_unitsAbbreviation()[f];e.set_precision(a.get_precision());e.set_fixedStateOperations(c.get_fixedStateOperations());e.set_gaugeLength(a.get_gaugeLength());e.set_tickMarksLength(a.get_tickMarksLength());e.set_opacity(a.get_opacity());e.get_labels().RulerLength=a.get_labels().SecondaryRulerLength;e.get_points().clear();e.get_points().add(a.get_secondStartPoint());e.get_points().add(a.get_secondEndPoint());lt.Annotations.Rendering.AnnCrossProductObjectRenderer.callBaseMethod(this,
"render",[b,e]);a.set_renderedObjectBounds(lt.LeadRectD.unionRects(d.get_renderedObjectBounds(),e.get_renderedObjectBounds()))}}};lt.Annotations.Rendering.AnnCurveObjectRenderer=function(){lt.Annotations.Rendering.AnnCurveObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnCurveObjectRenderer.prototype={_drawCurve$2:function(b,c,a){var d=Type.safeCast(a,lt.Annotations.Core.AnnCurveObject);b.get_context().beginPath();c=c.pointsFromContainerCoordinates(a.get_points().toArray(),d.get_fixedStateOperations());
2<c.length?d.get_isClosed()?lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawClosedCurve(b.get_context(),c,d.get_tension()):lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawCurve(b.get_context(),c,d.get_tension()):2===c.length&&(b.get_context().moveTo(c[0].get_x(),c[0].get_y()),b.get_context().lineTo(c[1].get_x(),c[1].get_y()))},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");
var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=a&&null!=a.get_context()){var d=Type.safeCast(c,lt.Annotations.Core.AnnCurveObject);if(null!=d){a.get_context().save();this._drawCurve$2(a,b,c);if(d.get_supportsFill()&&null!=d.get_fill()){var e=d.get_fill().clone();if(Type.canCast(e,lt.Annotations.Core.AnnHatchBrush))this.renderHatchBrushFill(a,b,d),this._drawCurve$2(a,b,c);else{var f=b.rectFromContainerCoordinates(d.get_bounds(),lt.Annotations.Core.AnnFixedStateOperations.none);
lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(a.get_context(),e,d.get_opacity(),f);a.get_context().fill()}}d.get_supportsStroke()&&null!=d.get_stroke()&&(e=b.strokeFromContainerCoordinates(d.get_stroke(),d.get_fixedStateOperations()),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity(a.get_context(),e,d.get_opacity()),a.get_context().stroke());a.get_context().closePath();a.get_context().restore()}}}};lt.Annotations.Rendering.AnnEllipseObjectRenderer=function(){lt.Annotations.Rendering.AnnEllipseObjectRenderer.initializeBase(this)};
lt.Annotations.Rendering.AnnEllipseObjectRenderer.prototype={render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=a&&null!=a.get_context()){var d=Type.safeCast(c,lt.Annotations.Core.AnnEllipseObject);if(null!=d){var e=lt.LeadPointD.create(d.get_bounds().get_left()+d.get_bounds().get_width()/
2,d.get_bounds().get_top()+d.get_bounds().get_height()/2),e=b.pointFromContainerCoordinates(e,d.get_fixedStateOperations());a.get_context().save();a.get_context().beginPath();var f=new lt.LeadMatrix,e=lt.LeadPointD.create(parseInt(e.get_x()),parseInt(e.get_y())),g=d.get_rect().clone(),h=d.get_angle()+b.normalizeRectangle(g,d.get_fixedStateOperations());h&&(f.rotateAt(h,e.get_x(),e.get_y()),a.get_context().transform(f.get_m11(),f.get_m12(),f.get_m21(),f.get_m22(),f.get_offsetX(),f.get_offsetY()));
lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawEllipse(a.get_context(),g);d.get_supportsFill()&&null!=d.get_fill()&&(a.get_context().closePath(),Type.canCast(d.get_fill(),lt.Annotations.Core.AnnHatchBrush)?(this.renderHatchBrushFill(a,b,d),a.get_context().beginPath(),h&&a.get_context().transform(f.get_m11(),f.get_m12(),f.get_m21(),f.get_m22(),f.get_offsetX(),f.get_offsetY()),lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawEllipse(a.get_context(),g)):(f=d.get_fill().clone(),e=b.rectFromContainerCoordinates(d.get_bounds(),
lt.Annotations.Core.AnnFixedStateOperations.none),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(a.get_context(),f,d.get_opacity(),e),a.get_context().fill()));d.get_supportsStroke()&&null!=d.get_stroke()&&0<d.get_stroke().get_strokeThickness().get_value()&&(f=b.strokeFromContainerCoordinates(d.get_stroke(),d.get_fixedStateOperations()),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity(a.get_context(),f,d.get_opacity()),a.get_context().stroke());a.get_context().closePath();
a.get_context().restore()}}}};lt.Annotations.Rendering.AnnFreehandHotspotObjectRenderer=function(){lt.Annotations.Rendering.AnnFreehandHotspotObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnFreehandHotspotObjectRenderer.prototype={render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);
if(null!=a&&null!=a.get_context()){var d=Type.safeCast(c,lt.Annotations.Core.AnnFreehandHotspotObject);if(null!=d&&a.get_container().get_userMode()!==lt.Annotations.Core.AnnUserMode.run){var e=b.rectFromContainerCoordinates(d.get_bounds(),d.get_fixedStateOperations()),f=this.beginClipPath();lt.Annotations.Rendering.AnnFreehandHotspotObjectRenderer.callBaseMethod(this,"render",[b,c]);b.pointsFromContainerCoordinates(c.get_points().toArray(),d.get_fixedStateOperations());if(null!=d.get_picture())a.drawPicture(d.get_picture(),
e,c);else{var g=this.get_renderingEngine().get_resources();null!=g&&-1<d.get_defaultPicture()&&d.get_defaultPicture()<g.get_images().length&&a.drawPicture(g.get_images()[d.get_defaultPicture()],e,c)}this.endClipPath(f)}}}};lt.Annotations.Rendering.AnnHiliteObjectRenderer=function(){lt.Annotations.Rendering.AnnHiliteObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnHiliteObjectRenderer.prototype={_drawRoundEdges$2:function(b,c,a){lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawEllipse(b,
lt.LeadRectD.create(c.get_x()+c.get_width()-a,c.get_y(),2*a,c.get_height()));lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawEllipse(b,lt.LeadRectD.create(c.get_x()-a,c.get_y(),2*a,c.get_height()))},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=a&&null!=a.get_context()){var d=
Type.safeCast(c,lt.Annotations.Core.AnnHiliteObject),e=c.get_points();if(1<e.get_count()){var f=this._saveContext();a.get_context().beginPath();var g=b.pointFromContainerCoordinates(e.get_item(0),d.get_fixedStateOperations());a.get_context().moveTo(g.get_x(),g.get_y());for(g=1;g<e.get_count();g++){var h=b.pointFromContainerCoordinates(e.get_item(g),d.get_fixedStateOperations());a.get_context().lineTo(h.get_x(),h.get_y())}a.get_context().closePath();e=d.get_hiliteColor();e=lt.Annotations.Core.AnnSolidColorBrush.create(e);
lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFill(a.get_context(),e);a.get_context().globalAlpha=0.5*d.get_opacity();a.get_context().fill();this._restoreContext(f)}}}};lt.Annotations.Rendering.AnnHotspotObjectRenderer=function(){lt.Annotations.Rendering.AnnHotspotObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnHotspotObjectRenderer.prototype={get_showAtRunMode:function(){return null!=this.get_renderingEngine()?this.get_renderingEngine().get_container().get_userMode()!==lt.Annotations.Core.AnnUserMode.run:
!1},_transformCounter$2:0,render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=a&&null!=a.get_context()){var d=Type.safeCast(c,lt.Annotations.Core.AnnHotspotObject);if(null!=d&&this.get_showAtRunMode()){var e=b.get_transform().clone(),f=b.get_rotateTransform().clone();f.get_isIdentity()||
b.updateTransform(b.get_transformWithoutRotate());var g=lt.LeadPointD.create(d.get_bounds().get_left()+d.get_bounds().get_width()/2,d.get_bounds().get_top()+d.get_bounds().get_height()/2),g=b.pointFromContainerCoordinates(g,d.get_fixedStateOperations()),h=this._saveContext(),i=d.get_rect(),i=b.rectFromContainerCoordinates(i,d.get_fixedStateOperations()),j=d.get_isFlipped()?-1:1,k=d.get_isReversed()?-1:1;if(!this._transformCounter$2){f.translatePrepend(g.get_x(),g.get_y());var l=lt.Annotations.Core.Utils.isFlipedReveresd(b)*
Math.abs(d.get_angle());(0>k||0>j)&&f.scalePrepend(k,j);lt.Annotations.Core.AnnDouble.isNaN(d.get_angle())||f.rotatePrepend(l*k*j);f.translatePrepend(-g.get_x(),-g.get_y());this._multiplyTransform(f)}this._transformCounter$2++;null!=d.get_picture()?a.drawPicture(d.get_picture(),i,c):(f=this.get_renderingEngine().get_resources(),null!=f&&-1<d.get_defaultPicture()&&d.get_defaultPicture()<f.get_images().length&&a.drawPicture(f.get_images()[d.get_defaultPicture()],i,c));this._restoreContext(h);this._transformCounter$2--;
b.updateTransform(e)}}}};Object.defineProperty(lt.Annotations.Rendering.AnnHotspotObjectRenderer.prototype,"showAtRunMode",{get:lt.Annotations.Rendering.AnnHotspotObjectRenderer.prototype.get_showAtRunMode,enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnImageObjectRenderer=function(){lt.Annotations.Rendering.AnnImageObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnImageObjectRenderer.prototype={render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");
null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=this._getRotationAngle(b.get_transform()),d=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=d&&null!=d.get_context()){var e=Type.safeCast(c,lt.Annotations.Core.AnnImageObject);if(null!=e){var f=lt.LeadPointD.create(e.get_bounds().get_left()+e.get_bounds().get_width()/2,e.get_bounds().get_top()+e.get_bounds().get_height()/2),f=b.pointFromContainerCoordinates(f,e.get_fixedStateOperations());
d.get_context().save();var g=new lt.LeadMatrix,f=lt.LeadPointD.create(parseInt(f.get_x()),parseInt(f.get_y())),h=e.get_rect().clone(),h=lt.Annotations.Core.AnnTransformer.rotateRect(h,a),h=b.rectFromContainerCoordinates(h,e.get_fixedStateOperations()),i=e.get_isFlipped()?-1:1,j=e.get_isReversed()?-1:1;g.translate(-f.get_x(),-f.get_y());var k=Math.abs(e.get_angle());0>j*i&&g.scale(j,i);lt.Annotations.Core.AnnDouble.isNaN(a)||g.rotate(-a);lt.Annotations.Core.AnnDouble.isNaN(e.get_angle())||g.rotate(k);
g.translate(f.get_x(),f.get_y());d.get_context().transform(g.get_m11(),g.get_m12(),g.get_m21(),g.get_m22(),g.get_offsetX(),g.get_offsetY());null!=e.get_picture()&&d.drawPicture(e.get_picture(),h,c);d.get_context().restore()}}}};lt.Annotations.Rendering.AnnLabelRenderer=function(){};lt.Annotations.Rendering.AnnLabelRenderer.prototype={_engine:null,_rotateWithParent:!0,get_rotateWithParent:function(){return this._rotateWithParent},set_rotateWithParent:function(b){return this._rotateWithParent=b},initialize:function(b){null==
b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("renderingEngine");this._engine=b},_offsetHeight:!1,get_offsetHeight:function(){return this._offsetHeight},set_offsetHeight:function(b){return this._offsetHeight=b},get_renderingEngine:function(){return this._engine},getBounds:function(b,c,a){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("label");var d=lt.LeadRectD.get_empty();if(String.isNullOrEmpty(c.get_text()))return d;
if(null!=c.get_font()&&c.get_isVisible()){var e=this._getRotationAngle(b.get_transform()),d=lt.LeadPointD.create(c.get_originalPosition().get_x(),c.get_originalPosition().get_y());if(!this._rotateWithParent){var f=c.get_parent();null!=f&&f.get_labels().AnnObjectName===c&&(f=f.get_bounds(),-90===e?d=f.get_bottomLeft():180===e?d=f.get_bottomRight():90===e&&(d=f.get_topRight()),e=0)}c.get_positionMode()===lt.Annotations.Core.AnnLabelPositionMode.relativeToObject&&(f=c.get_parent(),null!=f&&!d.get_isEmpty()&&
(f=f.get_bounds(),d.set_x(d.get_x()+f.get_x()),d.set_y(d.get_y()+f.get_y())));d=b.pointFromContainerCoordinates(d,a);if(d.get_isEmpty())return lt.LeadRectD.get_empty();f=b.fontFromContainerCoordinates(c.get_font(),a);f=this._getTextSize(this._engine,c.get_text(),f);c.get_font().get_isDirty()&&(c.get_font().set_fontHeight(parseInt(f.get_height())),c.get_font().set_isDirty(!1));if(!c.get_offset().get_isEmpty()){var g=b.lengthFromContainerCoordinates(lt.LeadLengthD.create(c.get_offset().get_x()),lt.Annotations.Core.AnnFixedStateOperations.none),
h=b.lengthFromContainerCoordinates(lt.LeadLengthD.create(c.get_offset().get_y()),lt.Annotations.Core.AnnFixedStateOperations.none);d.set_x(d.get_x()+g);d.set_y(d.get_y()+h)}this._offsetHeight&&d.set_y(d.get_y()-f.get_height());if(c.get_restrictionMode()!==lt.Annotations.Core.AnnLabelRestriction.none){var g=b.rectFromContainerCoordinates(c.get_restrictionRectangle(),a),h=(c.get_restrictionMode()&lt.Annotations.Core.AnnLabelRestriction.restrictToObjectBounds)===lt.Annotations.Core.AnnLabelRestriction.restrictToObjectBounds,
i=(c.get_restrictionMode()&lt.Annotations.Core.AnnLabelRestriction.restrictToUserRect)===lt.Annotations.Core.AnnLabelRestriction.restrictToUserRect,c=(c.get_restrictionMode()&lt.Annotations.Core.AnnLabelRestriction.restrictToContainer)===lt.Annotations.Core.AnnLabelRestriction.restrictToContainer;if((h||i)&&!g.get_isEmpty())d.set_x(Math.min(Math.max(d.get_x(),g.get_left()),g.get_left()+g.get_width()-f.get_width())),d.set_y(Math.min(Math.max(d.get_y(),g.get_top()),g.get_top()+g.get_height()-f.get_height()));
c&&(c=this.get_renderingEngine().get_clipRectangle(),c.get_isEmpty()||(c=c.get_size().clone(),b=b.rectFromContainerCoordinates(lt.LeadRectD.create(0,0,c.get_width(),c.get_height()),a),d.set_x(Math.min(Math.max(d.get_x(),b.get_left()),b.get_left()+b.get_width()-f.get_width())),d.set_y(Math.min(Math.max(d.get_y(),b.get_top()),b.get_top()+b.get_height()-f.get_height()))))}d=lt.LeadRectD.create(d.get_x(),d.get_y(),f.get_width(),f.get_height());e&&(b=new lt.LeadMatrix,b.rotateAt(-e,d.get_bottomLeft().get_x(),
d.get_bottomLeft().get_y()),d=b.transformRect(d))}d.get_isEmpty()||d.inflate(1,1);return d},_getRotationAngle:function(b){return 180*Math.atan2(b.get_m21(),b.get_m11())/Math.PI},renderLabel:function(b,c,a){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("label");if(!String.isNullOrEmpty(c.get_text())){var d=this._getRotationAngle(b.get_transform());if(!(null==this.get_renderingEngine()||(this.get_renderingEngine().get_renderState()&
lt.Annotations.Core.AnnRenderState.label)!==lt.Annotations.Core.AnnRenderState.label)&&null!=c.get_font()&&c.get_isVisible()){var e=lt.LeadPointD.create(c.get_originalPosition().get_x(),c.get_originalPosition().get_y());if(!this._rotateWithParent){var f=c.get_parent();null!=f&&f.get_labels().AnnObjectName===c&&(f=f.get_bounds(),-90===d?e=f.get_bottomLeft():180===d?e=f.get_bottomRight():90===d&&(e=f.get_topRight()),d=0)}c.get_positionMode()===lt.Annotations.Core.AnnLabelPositionMode.relativeToObject&&
(f=c.get_parent(),null!=f&&!e.get_isEmpty()&&(f=f.get_bounds(),e.set_x(e.get_x()+f.get_x()),e.set_y(e.get_y()+f.get_y())));if(this.get_renderingEngine().get_stateless()){if(f=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine),null!=f&&null!=f.get_context()&&!e.get_isEmpty()){var e=b.pointFromContainerCoordinates(e,a),g=new lt.LeadMatrix;lt.Annotations.Core.AnnDouble.isNaN(d)||g.rotateAt(-d,e.get_x(),e.get_y());f.get_context().save();var h=b.fontFromContainerCoordinates(c.get_font(),
a);lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFont(f.get_context(),h);var d=h.get_fontHeight(),i=this._getTextSize(f,c.get_text(),h),h=i.get_width();c.get_font().get_isDirty()&&(d=i.get_height(),c.get_font().set_fontHeight(parseInt(d)),c.get_font().set_isDirty(!1));if(!c.get_offset().get_isEmpty()){var i=b.lengthFromContainerCoordinates(lt.LeadLengthD.create(c.get_offset().get_x()),lt.Annotations.Core.AnnFixedStateOperations.none),j=b.lengthFromContainerCoordinates(lt.LeadLengthD.create(c.get_offset().get_y()),
lt.Annotations.Core.AnnFixedStateOperations.none);e.set_x(e.get_x()+i);e.set_y(e.get_y()+j)}this._offsetHeight&&e.set_y(e.get_y()-d);if(c.get_restrictionMode()!==lt.Annotations.Core.AnnLabelRestriction.none){var i=b.rectFromContainerCoordinates(c.get_restrictionRectangle(),a),j=(c.get_restrictionMode()&lt.Annotations.Core.AnnLabelRestriction.restrictToObjectBounds)===lt.Annotations.Core.AnnLabelRestriction.restrictToObjectBounds,k=(c.get_restrictionMode()&lt.Annotations.Core.AnnLabelRestriction.restrictToUserRect)===
lt.Annotations.Core.AnnLabelRestriction.restrictToUserRect,l=(c.get_restrictionMode()&lt.Annotations.Core.AnnLabelRestriction.restrictToContainer)===lt.Annotations.Core.AnnLabelRestriction.restrictToContainer;if(j||k)e.set_x(Math.min(Math.max(e.get_x(),i.get_left()),i.get_left()+i.get_width()-h)),e.set_y(Math.min(Math.max(e.get_y(),i.get_top()),i.get_top()+i.get_height()-d));l&&(i=this.get_renderingEngine().get_container().get_size().clone(),a=b.rectFromContainerCoordinates(lt.LeadRectD.create(0,
0,i.get_width(),i.get_height()),a),e.set_x(Math.min(Math.max(e.get_x(),a.get_left()),a.get_left()+a.get_width()-h)),e.set_y(Math.min(Math.max(e.get_y(),a.get_top()),a.get_top()+a.get_height()-d)))}f.get_context().transform(g.get_m11(),g.get_m12(),g.get_m21(),g.get_m22(),g.get_offsetX(),g.get_offsetY());null!=c.get_background()&&(a=c.get_background(),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFill(f.get_context(),a),f.get_context().fillRect(e.get_x(),e.get_y(),h,d));null!=c.get_foreground()&&
(a=c.get_foreground(),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFill(f.get_context(),a),f.get_context().textBaseline="top",String.isNullOrEmpty(c.get_text())||f.get_context().fillText(c.get_text(),e.get_x(),e.get_y()));c.get_isVisible()?c.set_renderedLabelBounds(b.rectToContainerCoordinates(lt.LeadRectD.create(e.get_x(),e.get_y(),h,d))):c.set_renderedLabelBounds(lt.LeadRectD.get_empty());f.get_context().restore()}}else if(f=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine),
null!=f&&(g=lt.Annotations.Rendering._annSvgHelpers.getElementById(c.get_stateId()),null!=g)){if(null!=g.childNodes&&0<g.childNodes.length&&(d=g.childNodes.length,0<d))for(h=0;h<d;++h)g.removeChild(g.childNodes[0]);if(!e.get_isEmpty()){e=b.pointFromContainerCoordinates(e,a);h=b.fontFromContainerCoordinates(c.get_font(),a);lt.Annotations.Rendering._annSvgHelpers.setFontAttribute(g,h);i=f.measureString(c.get_text(),h);d=i.get_height();h=i.get_width();e.set_x(e.get_x()+c.get_offset().get_x());e.set_y(e.get_y()+
(this._offsetHeight?c.get_offset().get_y()-d:c.get_offset().get_y()));if(c.get_restrictionMode()!==lt.Annotations.Core.AnnLabelRestriction.none&&(i=b.rectFromContainerCoordinates(c.get_restrictionRectangle(),a),i.get_isEmpty()||(e.set_x(Math.min(Math.max(e.get_x(),i.get_left()),i.get_left()+i.get_width()-h)),e.set_y(Math.min(Math.max(e.get_y(),i.get_top()),i.get_top()+i.get_height()-d))),(c.get_restrictionMode()&lt.Annotations.Core.AnnLabelRestriction.restrictToContainer)===lt.Annotations.Core.AnnLabelRestriction.restrictToContainer))a=
b.rectFromContainerCoordinates(this.get_renderingEngine().get_clipRectangle(),a),e.set_x(Math.min(Math.max(e.get_x(),a.get_left()),a.get_left()+a.get_width()-h)),e.set_y(Math.min(Math.max(e.get_y(),a.get_top()),a.get_top()+a.get_height()-d));null!=c.get_background()&&(a=c.get_background(),lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(g,a,!0));null!=c.get_foreground()&&(a=c.get_foreground(),lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(g,a,!0),b=lt.Annotations.Rendering._annSvgHelpers.createTSpan(c.get_text(),
e.get_x(),e.get_y()),g.appendChild(b))}}}}},_getTextSize:function(b,c,a){b=lt.LeadSizeD.create(0,0);if(String.isNullOrEmpty(c))return b;var d=document.createElement("canvas").getContext("2d");null!=d&&(d.save(),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFont(d,a),b=lt.LeadSizeD.create(d.measureText(c).width,1.5*a.get_fontSize()),d.restore());return b}};Object.defineProperty(lt.Annotations.Rendering.AnnLabelRenderer.prototype,"rotateWithParent",{get:lt.Annotations.Rendering.AnnLabelRenderer.prototype.get_rotateWithParent,
set:lt.Annotations.Rendering.AnnLabelRenderer.prototype.set_rotateWithParent,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnLabelRenderer.prototype,"offsetHeight",{get:lt.Annotations.Rendering.AnnLabelRenderer.prototype.get_offsetHeight,set:lt.Annotations.Rendering.AnnLabelRenderer.prototype.set_offsetHeight,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnLabelRenderer.prototype,"renderingEngine",{get:lt.Annotations.Rendering.AnnLabelRenderer.prototype.get_renderingEngine,
enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnNoteObjectRenderer=function(){lt.Annotations.Rendering.AnnNoteObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnNoteObjectRenderer.prototype={renderShadow:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=
a&&null!=a.get_context()){var d=Type.safeCast(c,lt.Annotations.Core.AnnNoteObject),e=lt.LeadPointD.get_empty();if(null!=d){var f=this.getRenderPoints(b,d),f=b.pointsFromContainerCoordinates(f,d.get_fixedStateOperations()),g=[f[1],f[2],f[3]],h=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(g[0],g[1]),i=lt.Annotations.Core.Utils.getUnitVector(g[0],g[1]),f=[lt.LeadPointD.get_empty(),lt.LeadPointD.get_empty(),lt.LeadPointD.get_empty(),lt.LeadPointD.get_empty(),lt.LeadPointD.get_empty(),lt.LeadPointD.get_empty(),
lt.LeadPointD.get_empty()],j=lt.LeadLengthD.create(b.lengthFromContainerCoordinates(lt.LeadLengthD.create(d.get_shadowBorderWidth().get_value()),lt.Annotations.Core.AnnFixedStateOperations.zooming)),e=c.get_bounds();if(j.get_value()<e.get_width()&&j.get_value()<e.get_height()){f[0]=lt.Annotations.Core.Utils.transformPoint(i,j,g[0]);f[1]=lt.Annotations.Core.Utils.transformPoint(h,j,f[0]);e=lt.Annotations.Core.Utils.transformPoint(i,j,g[1]);f[2]=lt.Annotations.Core.Utils.transformPoint(h,j,e);e=lt.Annotations.Core.Utils.transformPoint(h,
j,g[2]);f[3]=lt.Annotations.Core.Utils.transformPoint(i,j,e);f[4]=e;f[5]=g[1];f[6]=f[0];this._updateRenderedObjectBounds(f,b,d);a.get_context().save();a.get_context().beginPath();a.get_context().moveTo(f[0].get_x(),f[0].get_y());for(g=1;g<f.length;g++)a.get_context().lineTo(f[g].get_x(),f[g].get_y());a.get_context().closePath();a.get_context().fillStyle="#7F7F7F";f=a.get_context().globalAlpha;a.get_context().globalAlpha=0.5*d.get_opacity();a.get_context().fill();a.get_context().globalAlpha=f;a.get_context().restore()}}}},
render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");this.renderShadow(b,c);lt.Annotations.Rendering.AnnNoteObjectRenderer.callBaseMethod(this,"render",[b,c])}};lt.Annotations.Rendering.AnnObjectRenderer=function(){};lt.Annotations.Rendering.AnnObjectRenderer.prototype={_clipPath:!1,get_clipPath:function(){return this._clipPath},set_clipPath:function(b){return this._clipPath=
b},beginClipPath:function(){this._clipPath=!0;Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);return null},endClipPath:function(){this._clipPath=!1;var b=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);null!=b&&null!=b.get_context()&&b.get_context().restore()},_saveContext:function(){var b=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null==b||null==b.get_context())return null;
b.get_context().save();return null},_restoreContext:function(){var b=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);null!=b&&null!=b.get_context()&&b.get_context().restore()},_clipContext:function(){var b=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);null!=b&&null!=b.get_context()&&b.get_context().clip()},_multiplyTransform:function(b){var c=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);
null!=c&&null!=c.get_context()&&c.get_context().transform(b.get_m11(),b.get_m12(),b.get_m21(),b.get_m22(),b.get_offsetX(),b.get_offsetY())},addObject:function(){},removeObject:function(){},renderHatchBrushFill:function(b,c,a){var b=b.get_context(),d=c.rectFromContainerCoordinates(a.get_bounds(),lt.Annotations.Core.AnnFixedStateOperations.none);b.save();b.clip();var a=Type.safeCast(a.get_fill(),lt.Annotations.Core.AnnHatchBrush),e=8*c.get_burnScaleFactor(),f=d.get_width()+d.get_height()+Math.max(d.get_x(),
d.get_y()),d=lt.LeadRectD.create(d.get_x(),d.get_y(),f,f);b.lineWidth=1*c.get_burnScaleFactor();b.fillStyle=a.get_backgroundColor();b.strokeStyle=a.get_foregroundColor();if(a.get_hatchStyle()===lt.Annotations.Core.AnnHatchStyle.horizontal||a.get_hatchStyle()===lt.Annotations.Core.AnnHatchStyle.cross)for(c=0;c<f/e;c++)b.beginPath(),b.moveTo(d.get_left(),c*e+d.get_top()),b.lineTo(d.get_right(),c*e+d.get_top()),b.stroke();if(a.get_hatchStyle()===lt.Annotations.Core.AnnHatchStyle.vertical||a.get_hatchStyle()===
lt.Annotations.Core.AnnHatchStyle.cross)for(c=0;c<f/e;c++)b.beginPath(),b.moveTo(d.get_left()+c*e,d.get_top()),b.lineTo(d.get_left()+c*e,d.get_bottom()),b.stroke();if(a.get_hatchStyle()===lt.Annotations.Core.AnnHatchStyle.forwardDiagonal||a.get_hatchStyle()===lt.Annotations.Core.AnnHatchStyle.diagonalCross)for(c=0;c<f/e;c++)b.beginPath(),b.moveTo(d.get_left(),c*e+d.get_top()),b.lineTo(d.get_right()-c*e,d.get_bottom()),0<c&&(b.moveTo(d.get_right(),d.get_bottom()-c*e),b.lineTo(d.get_left()+c*e,d.get_top())),
b.stroke();if(a.get_hatchStyle()===lt.Annotations.Core.AnnHatchStyle.backwardDiagonal||a.get_hatchStyle()===lt.Annotations.Core.AnnHatchStyle.diagonalCross)for(c=0;c<f/e;c++)b.beginPath(),b.moveTo(d.get_left(),c*e+d.get_top()),b.lineTo(d.get_left()+c*e,d.get_top()),b.stroke();b.restore()},_locationsThumbStyle:null,get_locationsThumbStyle:function(){return this._locationsThumbStyle},set_locationsThumbStyle:function(b){return this._locationsThumbStyle=b},_rotateCenterThumbStyle:null,get_rotateCenterThumbStyle:function(){return this._rotateCenterThumbStyle},
set_rotateCenterThumbStyle:function(b){return this._rotateCenterThumbStyle=b},_rotateGripperThumbStyle:null,get_rotateGripperThumbStyle:function(){return this._rotateGripperThumbStyle},set_rotateGripperThumbStyle:function(b){return this._rotateGripperThumbStyle=b},initialize:function(b){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("renderingException");this._renderingEngine=b;null==this._labelRenderer&&(this._labelRenderer=new lt.Annotations.Rendering.AnnLabelRenderer);this._labelRenderer.initialize(b)},
renderLocked:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=this._getRotationAngle(b.get_transform()),d=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=d&&null!=d.get_context()){var e=lt.LeadPointD.create(c.get_bounds().get_left(),c.get_bounds().get_top()),f=this.get_renderingEngine().get_resources();if(null!=f){var g=
f.get_images()[c.get_lockPicture()];null==g&&-1<c.get_lockPicture()&&c.get_lockPicture()<f.get_images().length&&(g=f.get_images()[c.get_lockPicture()]);if(null!=g){f=lt.LeadSizeD.create(g.get_width(),g.get_height());b.set_ignoreDpiScale(!0);f=b.sizeFromContainerCoordinates(f);b.set_ignoreDpiScale(!1);f=b.sizeToContainerCoordinates(f);e=lt.LeadRectD.create(e.get_x(),e.get_y(),f.get_width(),f.get_height());e=b.rectFromContainerCoordinates(e,c.get_fixedStateOperations());f=new lt.LeadMatrix;d.get_context().save();
if(!lt.Annotations.Core.AnnDouble.isNaN(a)){var h=lt.LeadPointD.create(e.get_left()+e.get_width()/2,e.get_top()+e.get_height()/2);f.rotateAt(-a,h.get_x(),h.get_y())}d.get_context().transform(f.get_m11(),f.get_m12(),f.get_m21(),f.get_m22(),f.get_offsetX(),f.get_offsetY());d.drawPicture(g,e,c);d.get_context().restore()}}}},renderSelection:function(){},renderAlignmentTarget:function(b,c){if(c.get_isAlignmentTarget()){var a=Type.safeCast(this._renderingEngine,lt.Annotations.Rendering.AnnHtml5RenderingEngine);
if(null!=a&&null!=a.get_context()){a.get_context().save();var d=this.getRenderPoints(b,c),e=new lt.Annotations.Core.AnnRectangleObject;e.get_points().clear();for(d=ss.IEnumerator.getEnumerator(d);d.moveNext();){var f=d.current;e.get_points().add(f)}e=b.rectFromContainerCoordinates(c.get_bounds(),c.get_fixedStateOperations());d=lt.Annotations.Core.AnnSolidColorBrush.create("LightSkyBlue");lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(a.get_context(),d,0.4,e);a.get_context().fillRect(e.get_x(),
e.get_y(),e.get_width(),e.get_height());a.get_context().restore()}}},renderContent:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=this._getRotationAngle(b.get_transform()),d=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=d&&null!=d.get_context()){var e=c.get_bounds(),f=lt.LeadPointD.create(e.get_left()+e.get_width()/
2,e.get_top()+e.get_height()/2),g=this.get_renderingEngine().get_resources();if(null!=g&&(e=g.get_images()[c.get_contentPicture()],null==e&&-1<c.get_contentPicture()&&c.get_contentPicture()<g.get_images().length&&(e=g.get_images()[c.get_contentPicture()]),null!=e)){g=lt.LeadSizeD.create(e.get_width(),e.get_height());b.set_ignoreDpiScale(!0);g=b.sizeFromContainerCoordinates(g);b.set_ignoreDpiScale(!1);g=b.sizeToContainerCoordinates(g);f=lt.LeadRectD.create(f.get_x(),f.get_y(),g.get_width(),g.get_height());
f=b.rectFromContainerCoordinates(f,c.get_fixedStateOperations());g=new lt.LeadMatrix;d.get_context().save();if(!lt.Annotations.Core.AnnDouble.isNaN(a)){var h=lt.LeadPointD.create(f.get_left()+f.get_width()/2,f.get_top()+f.get_height()/2);g.rotateAt(-a,h.get_x(),h.get_y())}d.get_context().transform(g.get_m11(),g.get_m12(),g.get_m21(),g.get_m22(),g.get_offsetX(),g.get_offsetY());d.drawPicture(e,f,c);d.get_context().restore()}}},renderThumbs:function(b,c,a){if(null!=c&&null!=this.get_locationsThumbStyle())for(c=
ss.IEnumerator.getEnumerator(c);c.moveNext();){var d=c.current;this.get_locationsThumbStyle().render(this,b,d,a)}},renderRotatePointThumbs:function(b,c,a,d){null!=this.get_rotateCenterThumbStyle()&&this.get_rotateCenterThumbStyle().render(this,b,c,d);null!=this.get_rotateGripperThumbStyle()&&this.get_rotateGripperThumbStyle().render(this,b,a,d)},getRenderPoints:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");
return c.get_points().toArray()},_updateRenderedObjectBounds:function(b,c,a){if(null!=b){for(var d=new lt.Annotations.Core.AnnRectangleObject,b=ss.IEnumerator.getEnumerator(b);b.moveNext();){var e=b.current;d.get_points().add(c.pointToContainerCoordinates(e))}a.set_renderedObjectBounds(lt.LeadRectD.unionRects(a.get_renderedObjectBounds(),d.get_bounds()));d.get_points().clear()}},_renderingEngine:null,get_renderingEngine:function(){return this._renderingEngine},_labelRenderer:null,get_labelRenderer:function(){return this._labelRenderer},
set_labelRenderer:function(b){return this._labelRenderer=b},_getRotationAngle:function(b){return 180*Math.atan2(b.get_m21(),b.get_m11())/Math.PI}};Object.defineProperty(lt.Annotations.Rendering.AnnObjectRenderer.prototype,"clipPath",{get:lt.Annotations.Rendering.AnnObjectRenderer.prototype.get_clipPath,set:lt.Annotations.Rendering.AnnObjectRenderer.prototype.set_clipPath,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnObjectRenderer.prototype,"locationsThumbStyle",
{get:lt.Annotations.Rendering.AnnObjectRenderer.prototype.get_locationsThumbStyle,set:lt.Annotations.Rendering.AnnObjectRenderer.prototype.set_locationsThumbStyle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnObjectRenderer.prototype,"rotateCenterThumbStyle",{get:lt.Annotations.Rendering.AnnObjectRenderer.prototype.get_rotateCenterThumbStyle,set:lt.Annotations.Rendering.AnnObjectRenderer.prototype.set_rotateCenterThumbStyle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnObjectRenderer.prototype,
"rotateGripperThumbStyle",{get:lt.Annotations.Rendering.AnnObjectRenderer.prototype.get_rotateGripperThumbStyle,set:lt.Annotations.Rendering.AnnObjectRenderer.prototype.set_rotateGripperThumbStyle,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnObjectRenderer.prototype,"renderingEngine",{get:lt.Annotations.Rendering.AnnObjectRenderer.prototype.get_renderingEngine,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnObjectRenderer.prototype,
"labelRenderer",{get:lt.Annotations.Rendering.AnnObjectRenderer.prototype.get_labelRenderer,set:lt.Annotations.Rendering.AnnObjectRenderer.prototype.set_labelRenderer,enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnPointerObjectRenderer=function(){lt.Annotations.Rendering.AnnPointerObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnPointerObjectRenderer.prototype={_drawArrow$2:function(b,c,a){var d=b.getArrowPoints(),e=c.lengthFromContainerCoordinates(b.get_arrowLength(),
b.get_fixedStateOperations()|lt.Annotations.Core.AnnFixedStateOperations.zooming|lt.Annotations.Core.AnnFixedStateOperations.lengthValue);if(null!=d&&3<=d.length){lt.LeadPointD.get_empty();a.get_context().beginPath();for(var f=c.pointFromContainerCoordinates(d[1],b.get_fixedStateOperations()),g=0;2>g;g++){var h=c.pointFromContainerCoordinates(d[2*g],b.get_fixedStateOperations()),h=lt.Annotations.Core.Utils.getUnitVector(f,h),h=lt.Annotations.Core.Utils.transformPoint(h,lt.LeadLengthD.create(e),f);
a.get_context().moveTo(h.get_x(),h.get_y());a.get_context().lineTo(f.get_x(),f.get_y());g||h.clone()}}},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");Type.canCast(c.get_fill(),lt.Annotations.Core.AnnHatchBrush)||lt.Annotations.Rendering.AnnPointerObjectRenderer.callBaseMethod(this,"render",[b,c]);var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);
if(null!=a&&null!=a.get_context()){a.get_context().save();var d=Type.safeCast(c,lt.Annotations.Core.AnnPointerObject);if(null!=d){var e=d.getArrowPoints(),f=b.lengthFromContainerCoordinates(d.get_arrowLength(),d.get_fixedStateOperations()|lt.Annotations.Core.AnnFixedStateOperations.zooming|lt.Annotations.Core.AnnFixedStateOperations.lengthValue);if(null!=e&&3<=e.length){var g=lt.LeadPointD.get_empty();a.get_context().beginPath();for(var h=b.pointFromContainerCoordinates(e[1],d.get_fixedStateOperations()),
i=0;2>i;i++){var j=b.pointFromContainerCoordinates(e[2*i],d.get_fixedStateOperations()),j=lt.Annotations.Core.Utils.getUnitVector(h,j),j=lt.Annotations.Core.Utils.transformPoint(j,lt.LeadLengthD.create(f),h);a.get_context().moveTo(j.get_x(),j.get_y());a.get_context().lineTo(h.get_x(),h.get_y());i||(g=j.clone())}if(d.get_supportsFill()&&null!=d.get_fill())if(Type.canCast(d.get_fill(),lt.Annotations.Core.AnnHatchBrush)){a.get_context().lineTo(g.get_x(),g.get_y());a.get_context().closePath();this.renderHatchBrushFill(a,
b,d);this._drawArrow$2(d,b,a);a.get_context().lineTo(g.get_x(),g.get_y());a.get_context().closePath();var f=b.pointFromContainerCoordinates(e[0],d.get_fixedStateOperations()),j=b.pointFromContainerCoordinates(e[2],d.get_fixedStateOperations()),k=b.pointFromContainerCoordinates(d.get_points().get_item(0),d.get_fixedStateOperations()),e=b.pointFromContainerCoordinates(d.get_points().get_item(1),d.get_fixedStateOperations()),g=f.get_x(),f=f.get_y(),h=j.get_x(),j=j.get_y(),i=k.get_x(),k=k.get_y(),l=e.get_x(),
m=e.get_y();a.get_context().moveTo(((g*j-f*h)*(i-l)-(g-h)*(i*m-k*l))/((g-h)*(k-m)-(f-j)*(i-l)),((g*j-f*h)*(k-m)-(f-j)*(i*m-k*l))/((g-h)*(k-m)-(f-j)*(i-l)));a.get_context().lineTo(e.get_x(),e.get_y())}else j=d.get_fill().clone(),"transparent"!==lt.Annotations.Core.Utils.toLowerCase(j.get_color())&&(a.get_context().lineTo(g.get_x(),g.get_y()),a.get_context().closePath(),e=b.rectFromContainerCoordinates(d.get_bounds(),lt.Annotations.Core.AnnFixedStateOperations.none),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(a.get_context(),
j,d.get_opacity(),e),a.get_context().fill());else a.get_context().closePath();d.get_supportsStroke()&&null!=d.get_stroke()&&(j=b.strokeFromContainerCoordinates(d.get_stroke(),d.get_fixedStateOperations()),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity(a.get_context(),j,d.get_opacity()),a.get_context().stroke())}}a.get_context().restore()}}};lt.Annotations.Rendering.AnnPointObjectRenderer=function(){lt.Annotations.Rendering.AnnPointObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnPointObjectRenderer.prototype=
{render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=a&&null!=a.get_context()){var d=Type.safeCast(c,lt.Annotations.Core.AnnPointObject);if(null!=d){var e=b.get_transform().clone(),f=b.get_rotateTransform().clone();f.get_isIdentity()||b.updateTransform(b.get_transformWithoutRotate());
var g=this._saveContext();if(null==d.get_picture()){var h=this.get_renderingEngine().get_resources();null!=h&&-1<d.get_defaultPicture()&&d.get_defaultPicture()<h.get_images().length&&d.set_picture(h.get_images()[d.get_defaultPicture()])}var h=d.get_picture(),i=lt.LeadSizeD.create(0,0),j=lt.Annotations.Core.AnnContainerMapper.createDefault();if(null!=h&&null!=h.get_internalData()){var k=h.get_internalData();null!=k&&(i.set_width(k.naturalWidth),i.set_height(k.naturalHeight));if(i.get_width()||i.get_height())i=
j.sizeToContainerCoordinates(i),h.set_width(i.get_width()),h.set_height(i.get_height()),j.updateTransform(b.get_transform()),i=j.sizeFromContainerCoordinates(i)}var k=c.get_points().get_item(0),l=lt.LeadRectD.create(0,0,0,0),k=b.pointFromContainerCoordinates(k,c.get_fixedStateOperations());this._multiplyTransform(f);if(d.get_showPicture())l=lt.LeadRectD.create(k.get_x()-i.get_width()/2,k.get_y()-i.get_height()/2,i.get_width(),i.get_height()),a.drawPicture(h,l,c);else if(j.updateTransform(b.get_transform()),
f=j.lengthFromContainerCoordinates(d.get_radius(),d.get_fixedStateOperations()),l=lt.LeadRectD.create(k.get_x()-f,k.get_y()-f,2*f,2*f),f=a.get_context(),f.beginPath(),lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawEllipse(f,l),f.closePath(),d.get_supportsFill()&&null!=d.get_fill()&&(Type.canCast(d.get_fill(),lt.Annotations.Core.AnnHatchBrush)?(this.renderHatchBrushFill(a,b,d),f.closePath(),f.beginPath(),lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawEllipse(f,l),f.closePath()):(a=b.rectFromContainerCoordinates(d.get_bounds(),
lt.Annotations.Core.AnnFixedStateOperations.none),h=d.get_fill().clone(),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(f,h,d.get_opacity(),a),f.fill())),d.get_supportsStroke()&&null!=d.get_stroke())a=b.strokeFromContainerCoordinates(d.get_stroke(),d.get_fixedStateOperations()),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity(f,a,d.get_opacity()),f.stroke();this._restoreContext(g);b.updateTransform(e)}}}};lt.Annotations.Rendering.AnnPolylineObjectRenderer=
function(){lt.Annotations.Rendering.AnnPolylineObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnPolylineObjectRenderer.prototype={_useSplineMode$1:!1,get_useSplineMode:function(){return this._useSplineMode$1},set_useSplineMode:function(b){return this._useSplineMode$1=b},_drawPolyLine$1:function(b,c,a){b.get_context().moveTo(a[0].get_x(),a[0].get_y());if(this._useSplineMode$1&&c.get_id()===lt.Annotations.Core.AnnObject.freehandObjectId)lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawCurve(b.get_context(),
a,1);else for(var d=1;d<a.length;d++)b.get_context().lineTo(a[d].get_x(),a[d].get_y());c.get_isClosed()&&(c=a.length-1,b.get_context().moveTo(a[c].get_x(),a[c].get_y()),b.get_context().lineTo(a[0].get_x(),a[0].get_y()))},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=
a&&null!=a.get_context()){a.get_context().save();var d=Type.safeCast(c,lt.Annotations.Core.AnnPolylineObject),e=b.pointsFromContainerCoordinates(c.get_points().toArray(),d.get_fixedStateOperations());if(1<e.length){a.get_context().beginPath();this._drawPolyLine$1(a,d,e);this.get_clipPath()&&a.get_context().clip();if(d.get_supportsFill()&&null!=d.get_fill())if(Type.canCast(d.get_fill(),lt.Annotations.Core.AnnHatchBrush))this.renderHatchBrushFill(a,b,d),a.get_context().beginPath(),this._drawPolyLine$1(a,
d,e);else{var e=d.get_fill().clone(),f=b.rectFromContainerCoordinates(d.get_bounds(),lt.Annotations.Core.AnnFixedStateOperations.none);lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(a.get_context(),e,d.get_opacity(),f);a.get_context().fill()}d.get_supportsStroke()&&null!=d.get_stroke()&&0<d.get_stroke().get_strokeThickness().get_value()&&(e=b.strokeFromContainerCoordinates(d.get_stroke(),d.get_fixedStateOperations()),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity(a.get_context(),
e,d.get_opacity()),a.get_context().stroke());a.get_context().closePath()}this.get_clipPath()||a.get_context().restore()}}};Object.defineProperty(lt.Annotations.Rendering.AnnPolylineObjectRenderer.prototype,"useSplineMode",{get:lt.Annotations.Rendering.AnnPolylineObjectRenderer.prototype.get_useSplineMode,set:lt.Annotations.Rendering.AnnPolylineObjectRenderer.prototype.set_useSplineMode,enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnPolyRulerObjectRenderer=function(){lt.Annotations.Rendering.AnnPolyRulerObjectRenderer.initializeBase(this)};
lt.Annotations.Rendering.AnnPolyRulerObjectRenderer.prototype={_annObject$2:null,drawTickMarks:function(b,c,a,d,e,f,g){var h=null,i=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine).get_context(),h=lt.Annotations.Core.RulerHelper.getTickMarks(b,c,a,lt.LeadLengthD.create(d.get_value()),e,g);if(null!=h){i.save();i.beginPath();for(c=0;c<h.length;c+=2)i.moveTo(h[c].get_x(),h[c].get_y()),i.lineTo(h[c+1].get_x(),h[c+1].get_y());i.closePath();lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStroke(i,
b.strokeFromContainerCoordinates(f,g));i.stroke();this.get_clipPath()||i.restore()}this._updateRenderedObjectBounds(h,b,this._annObject$2)},drawGauge:function(b,c,a,d,e,f){var g=null,h=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine).get_context();c.get_x()===a.get_x()&&c.get_y()===a.get_y()||(g=lt.Annotations.Core.RulerHelper.getGaugePoints(b,c,a,d,f),null!=g&&(h.save(),h.beginPath(),h.moveTo(g[0].get_x(),g[0].get_y()),h.lineTo(g[1].get_x(),g[1].get_y()),
h.moveTo(g[2].get_x(),g[2].get_y()),h.lineTo(g[3].get_x(),g[3].get_y()),h.closePath(),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStroke(h,b.strokeFromContainerCoordinates(e,f)),h.stroke(),this.get_clipPath()||h.restore()),this._updateRenderedObjectBounds(g,b,this._annObject$2))},drawLengthText:function(){},get__canDrawLength:function(){return!0},_addOpacityToStroke:function(b,c){lt.Annotations.Rendering._colorUtil.addOpacityToBrush(Type.safeCast(b.get_stroke(),lt.Annotations.Core.AnnSolidColorBrush),
c)},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");this._getRotationAngle(b.get_transform());this._annObject$2=c;var a=Type.safeCast(c,lt.Annotations.Core.AnnPolyRulerObject);if(null!=a){lt.Annotations.Rendering.AnnPolyRulerObjectRenderer.callBaseMethod(this,"render",[b,c]);var d=a.get_stroke().clone();this._addOpacityToStroke(d,a.get_opacity());var e=a.get_tickMarksStroke().clone();
this._addOpacityToStroke(e,a.get_opacity());for(var f=0;f<c.get_points().get_count()-1;++f){var g=c.get_points().get_item(f),h=c.get_points().get_item(f+1);a.get_supportsStroke()&&null!=a.get_stroke()&&(a.get_showGauge()&&this.drawGauge(b,g,h,a.get_gaugeLength(),d,a.get_fixedStateOperations()),a.get_showTickMarks()&&null!=a.get_tickMarksStroke()&&this.drawTickMarks(b,g,h,a.get_tickMarksLength(),a.get_measurementUnit(),e,a.get_fixedStateOperations()))}if(Object.keyExists(a.get_labels(),"RulerLength")&&
(d=a.get_labels().RulerLength,null!=d))g=a.get_points().toArray(),f=lt.Annotations.Core.Utils.getUnitVector(g[0],g[1]),e=a.get_points().get_item(a.get_points().get_count()-1),0>f.get_x()&&(f=lt.Annotations.Core.Utils.getUnitVector(g[1],g[0]),e=a.get_points().get_item(0)),a.get_measurementUnit()===lt.Annotations.Core.AnnUnit.pixel?(g=a.getRulerLength(1),g=b.lengthFromContainerCoordinates(g,lt.Annotations.Core.AnnFixedStateOperations.scrolling|lt.Annotations.Core.AnnFixedStateOperations.zooming),d.set_text(String.format("{0} {1}",
lt.Annotations.Core.Utils.precisionFormat(a.get_precision(),g),a.get_unitsAbbreviation()[lt.Annotations.Core.AnnUnit.pixel]))):d.set_text(a.getRulerLengthAsString(b.get_calibrationScale())),g=d.get_font().clone(),f=lt.Annotations.Core.Utils.transformPoint(f,lt.LeadLengthD.create(g.get_fontHeight()),e),f.get_isEmpty()||(f=lt.LeadPointD.create(f.get_x()-e.get_x(),f.get_y()-e.get_y())),d.set_originalPosition(lt.LeadPointD.create(e.get_x()+f.get_x(),e.get_y()+f.get_y())),(d.get_restrictionMode()&lt.Annotations.Core.AnnLabelRestriction.restrictToObjectBounds)===
lt.Annotations.Core.AnnLabelRestriction.restrictToObjectBounds&&d.set_restrictionRectangle(a.get_bounds()),this.drawLengthText(b,d,a.get_fixedStateOperations()),a.set_renderedObjectBounds(lt.LeadRectD.unionRects(a.get_renderedObjectBounds(),d.get_renderedLabelBounds()))}}};lt.Annotations.Rendering.AnnProtractorObjectRenderer=function(){lt.Annotations.Rendering.AnnProtractorObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnProtractorObjectRenderer._getAngle$3=function(b,c,a,d){b-=c;
a?180<Math.abs(b)&&(b=0<b?b-360:b+360):180>Math.abs(b)&&(b=0<b?b-360:b+360);return d===lt.Annotations.Core.AnnAngularUnit.radian?lt.Annotations.Core.Utils.degreesToRadian(b):b};lt.Annotations.Rendering.AnnProtractorObjectRenderer.prototype={getAngleText:function(b,c,a,d){null==d&&lt.Annotations.Core.ExceptionHelper.argumentNullException("unitsAbbreviation");return String.format("{0} {1}",lt.Annotations.Core.Utils.precisionFormat(c,b),d[a])},_getTextPart$3:function(b,c,a,d,e,f,g){var h=b.get_y()-a.get_y(),
a=b.get_x()-a.get_x(),i=b.get_y()-c.get_y(),b=b.get_x()-c.get_x(),c=1,g=lt.Annotations.Rendering.AnnProtractorObjectRenderer._getAngle$3(d,e,f,g);0>=i&&0>=b&&0>=h&&0>=a?c=2:0<=i&&0<=b&&0<=h&&0<=a?c=4:0>=i&&0<=b&&0>=h&&0<=a?c=1:0<=i&&0>=b&&0<=h&&0>=a?c=3:0<=i&&0<=b&&0>=h&&0<=a||0<=h&&0<=a&&0>=i&&0<=b?(f=d,g=e,d>e?f=360-f:g=360-g,c=0<=i&&0<=b&&0>=h&&0<=a?f<g?1:4:f<g?4:1):0<=i&&0<=b&&0>=h&&0>=a||0<=h&&0<=a&&0>=i&&0>=b?c=0<=i&&0<=b&&0>=h&&0>=a?0>g?f?3:1:f?1:3:0>g?f?1:3:f?3:1:0<=i&&0>=b&&0>=h&&0<=a||0<=
h&&0>=a&&0>=i&&0<=b?c=0<=i&&0>=b&&0>=h&&0<=a?0>g?f?2:4:f?4:2:0>g?f?4:2:f?2:4:0<=i&&0<=b&&0<=h&&0>=a||0<=h&&0<=a&&0<=i&&0>=b?(f=d,g=e,d>e?f=180-f:g=180-g,c=0<=i&&0<=b&&0<=h&&0>=a?f<g?4:3:f<g?3:4):0<=i&&0>=b&&0>=h&&0>=a||0<=h&&0>=a&&0>=i&&0>=b?(f=d,g=e,d>e?(f=270-f,g-=90):(g=270-g,f-=90),c=0<=i&&0>=b&&0>=h&&0>=a?f<g?3:2:f<g?2:3):0>=i&&0>=b&&0>=h&&0<=a||0>=h&&0>=a&&0>=i&&0<=b?(f=d,g=e,d>e?(f=360-f,g-=180):(g=360-g,f-=180),c=0>=i&&0>=b&&0>=h&&0<=a?f<g?2:1:f<g?1:2):c=1;return c},getPoint:function(b,c,
a,d,e,f,g,h,i){c=this._getTextPart$3(a,c,d,e,f,g,i);a=6;g||(a=h);return 1===c?lt.LeadPointD.create(a,-(b.get_height()+a)):2===c?lt.LeadPointD.create(-b.get_width()-a,-(b.get_height()+a)):4===c?lt.LeadPointD.create(a,a):lt.LeadPointD.create(-b.get_width()-a,a)},drawArc:function(b,c,a,d,e,f,g){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");var h=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=h&&null!=h.get_context()){h.get_context().save();
e=b.lengthFromContainerCoordinates(e,g);h.get_context().beginPath();var i=this._getRotationAngle(b.get_transform()),a=a-i,i=lt.Annotations.Core.Utils.degreesToRadian(a+d);h.get_context().arc(c.get_x(),c.get_y(),Math.abs(e),lt.Annotations.Core.Utils.degreesToRadian(a),i,0<d?!1:!0);lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStroke(h.get_context(),b.strokeFromContainerCoordinates(f,g));h.get_context().stroke();h.get_context().closePath();h.get_context().restore()}},drawAngleText:function(){},
render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");lt.Annotations.Rendering.AnnProtractorObjectRenderer.callBaseMethod(this,"render",[b,c]);var a=Type.safeCast(c,lt.Annotations.Core.AnnProtractorObject);if(null!=a){var d=a.get_points().toArray(),d=b.pointsFromContainerCoordinates(d,a.get_fixedStateOperations()),e=lt.Annotations.Core.Utils.findAngle(a.get_points().get_item(0),
a.get_points().get_item(1)),f=Number.NaN;lt.LeadPointD.equals(a.get_points().get_item(2),a.get_points().get_item(1))||(f=lt.Annotations.Core.Utils.findAngle(a.get_points().get_item(2),a.get_points().get_item(1)));var g=0,h=0,i=a.get_acute();if(0.2<Math.abs(e-f)||!i)g=e-180,h=-lt.Annotations.Rendering.AnnProtractorObjectRenderer._getAngle$3(e,f,i,lt.Annotations.Core.AnnAngularUnit.degree);if(!isNaN(f)&&a.get_supportsStroke()&&null!=a.get_stroke()){lt.Annotations.Core.Utils.distance(a.get_firstPoint(),
a.get_centerPoint());var j=a.get_stroke().clone();this._addOpacityToStroke(j,a.get_opacity());a.get_showArc()&&this.drawArc(b,d[1],g,h,a.get_arcRadius(),j,a.get_fixedStateOperations()|lt.Annotations.Core.AnnFixedStateOperations.zooming|lt.Annotations.Core.AnnFixedStateOperations.lengthValue)}Object.keyExists(a.get_labels(),"AngleText")&&(d=a.get_labels().AngleText,null!=d&&!isNaN(f)&&(g=Math.abs(lt.Annotations.Rendering.AnnProtractorObjectRenderer._getAngle$3(e,f,a.get_acute(),a.get_angularUnit())),
lt.Annotations.Core.AnnDouble.isNaN(g)||(d.set_text(this.getAngleText(g,a.get_anglePrecision(),a.get_angularUnit(),a.get_angularUnitsAbbreviation())),g=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine),h=lt.LeadSizeD.create(g.get_context().measureText(d.get_text()).width,d.get_font().get_fontSize()),e=this.getPoint(h,a.get_firstPoint(),a.get_centerPoint(),a.get_secondPoint(),e,f,i,a.get_arcRadius().get_value(),a.get_angularUnit()),d.set_originalPosition(lt.LeadPointD.create(a.get_centerPoint().get_x()+
e.get_x(),a.get_centerPoint().get_y()+e.get_y())),(d.get_restrictionMode()&lt.Annotations.Core.AnnLabelRestriction.restrictToObjectBounds)===lt.Annotations.Core.AnnLabelRestriction.restrictToObjectBounds&&d.set_restrictionRectangle(a.get_bounds()),this.drawAngleText(b,d,a.get_fixedStateOperations()),a.set_renderedObjectBounds(lt.LeadRectD.unionRects(a.get_renderedObjectBounds(),d.get_renderedLabelBounds())))));if(Object.keyExists(a.get_labels(),"FirstRulerLength")&&(d=a.get_labels().FirstRulerLength,
null!=d&&(e=a.getRulerLengthFromPoints(a.get_centerPoint(),a.get_firstPoint(),b.get_calibrationScale()),!lt.Annotations.Core.AnnDouble.isNaN(e.get_value())))){a.get_measurementUnit()===lt.Annotations.Core.AnnUnit.pixel?(a.set_measurementUnit(lt.Annotations.Core.AnnUnit.unit),e=a.getRulerLengthFromPoints(a.get_centerPoint(),a.get_firstPoint(),1),a.set_measurementUnit(lt.Annotations.Core.AnnUnit.pixel),e=b.lengthFromContainerCoordinates(e,lt.Annotations.Core.AnnFixedStateOperations.scrolling|lt.Annotations.Core.AnnFixedStateOperations.zooming),
d.set_text(String.format("{0} {1}",lt.Annotations.Core.Utils.precisionFormat(a.get_precision(),e),a.get_unitsAbbreviation()[lt.Annotations.Core.AnnUnit.pixel]))):d.set_text(a.getRulerLengthAsStringFromPoints(a.get_centerPoint(),a.get_firstPoint(),b.get_calibrationScale()));i=a.get_firstPoint().clone();e=lt.LeadPointD.create(0,0);if(i.get_x()<a.get_centerPoint().get_x()||i.get_y()<a.get_centerPoint().get_y())h=d.get_font().clone(),g=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine),
g.get_context().save(),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFont(g.get_context(),h),h=lt.LeadSizeD.create(g.get_context().measureText(d.get_text()).width,h.get_fontHeight()),g.get_context().restore(),i.get_y()<a.get_centerPoint().get_y()&&e.set_y(e.get_y()-h.get_height()),i.get_x()<a.get_centerPoint().get_x()&&e.set_x(e.get_x()-h.get_width());d.set_originalPosition(lt.LeadPointD.create(i.get_x()+e.get_x(),i.get_y()+e.get_y()));(d.get_restrictionMode()&lt.Annotations.Core.AnnLabelRestriction.restrictToObjectBounds)===
lt.Annotations.Core.AnnLabelRestriction.restrictToObjectBounds&&d.set_restrictionRectangle(a.get_bounds());this.drawLengthText(b,d,a.get_fixedStateOperations());a.set_renderedObjectBounds(lt.LeadRectD.unionRects(a.get_renderedObjectBounds(),d.get_renderedLabelBounds()))}if(Object.keyExists(a.get_labels(),"SecondRulerLength")&&!isNaN(f)&&(d=a.get_labels().SecondRulerLength,null!=d&&(e=a.getRulerLengthFromPoints(a.get_centerPoint(),a.get_secondPoint(),b.get_calibrationScale()),!lt.Annotations.Core.AnnDouble.isNaN(e.get_value())))){a.get_measurementUnit()===
lt.Annotations.Core.AnnUnit.pixel?(a.set_measurementUnit(lt.Annotations.Core.AnnUnit.unit),e=a.getRulerLengthFromPoints(a.get_centerPoint(),a.get_secondPoint(),1),a.set_measurementUnit(lt.Annotations.Core.AnnUnit.pixel),e=b.lengthFromContainerCoordinates(e,lt.Annotations.Core.AnnFixedStateOperations.scrolling|lt.Annotations.Core.AnnFixedStateOperations.zooming),d.set_text(String.format("{0} {1}",lt.Annotations.Core.Utils.precisionFormat(a.get_precision(),e),a.get_unitsAbbreviation()[lt.Annotations.Core.AnnUnit.pixel]))):
d.set_text(a.getRulerLengthAsStringFromPoints(a.get_centerPoint(),a.get_secondPoint(),b.get_calibrationScale()));i=a.get_secondPoint().clone();e=lt.LeadPointD.create(0,0);if(i.get_x()<a.get_centerPoint().get_x()||i.get_y()<a.get_centerPoint().get_y())h=d.get_font().clone(),g=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine),g.get_context().save(),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFont(g.get_context(),h),h=lt.LeadSizeD.create(g.get_context().measureText(d.get_text()).width,
h.get_fontHeight()),g.get_context().restore(),i.get_y()<a.get_centerPoint().get_y()&&e.set_y(e.get_y()-h.get_height()),i.get_x()<a.get_centerPoint().get_x()&&e.set_x(e.get_x()-h.get_width());d.set_originalPosition(lt.LeadPointD.create(i.get_x()+e.get_x(),i.get_y()+e.get_y()));(d.get_restrictionMode()&lt.Annotations.Core.AnnLabelRestriction.restrictToObjectBounds)===lt.Annotations.Core.AnnLabelRestriction.restrictToObjectBounds&&d.set_restrictionRectangle(a.get_bounds());this.drawLengthText(b,d,a.get_fixedStateOperations());
a.set_renderedObjectBounds(lt.LeadRectD.unionRects(a.get_renderedObjectBounds(),d.get_renderedLabelBounds()))}}}};lt.Annotations.Rendering.AnnRectangleObjectRenderer=function(){lt.Annotations.Rendering.AnnRectangleObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnRectangleObjectRenderer.prototype={render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),
lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=a&&null!=a.get_context()){a.get_context().save();var d=Type.safeCast(c,lt.Annotations.Core.AnnRectangleObject);if(null!=d){var e=this.getRenderPoints(b,c),e=b.pointsFromContainerCoordinates(e,c.get_fixedStateOperations());if(1<e.length){a.get_context().beginPath();var f=d.get_stroke(),g=d.get_opacity();-1===d.get_id()&&(f=Type.safeCast(d,lt.Annotations.Core.AnnSelectionObject).get_selectionStroke(),g=Type.safeCast(d,lt.Annotations.Core.AnnSelectionObject).get_selectionOpacity());
f=b.strokeFromContainerCoordinates(f,d.get_fixedStateOperations());if(null!=f&&0<f.get_strokeThickness().get_value()&&f.get_strokeAlignment()===lt.Annotations.Core.AnnStrokeAlignment.inset){for(var h=new lt.Annotations.Core.AnnRectangleObject,i=ss.IEnumerator.getEnumerator(e);i.moveNext();){var j=i.current;h.get_points().add(j)}h=h.get_rect();i=f.get_strokeThickness().get_value()/2;h.inflate(-i,-i);i=Array(2);i[0]=lt.LeadPointD.create(e[0].get_x(),e[0].get_y());i[1]=lt.LeadPointD.create(e[2].get_x(),
e[2].get_y());i=lt.LeadPointD.create((e[0].get_x()+e[2].get_x())/2,(e[0].get_y()+e[2].get_y())/2);j=lt.LeadMatrix.get_identity();j.rotateAt(d.get_angle(),i.get_x(),i.get_y());a.get_context().transform(j.get_m11(),j.get_m12(),j.get_m21(),j.get_m22(),j.get_offsetX(),j.get_offsetY());a.get_context().rect(h.get_x(),h.get_y(),h.get_width(),h.get_height())}else{h=e[0];a.get_context().moveTo(parseInt(h.get_x()),parseInt(h.get_y()));for(i=1;i<e.length;i++)j=e[i],a.get_context().lineTo(parseInt(j.get_x()),
parseInt(j.get_y()));a.get_context().lineTo(parseInt(h.get_x()),parseInt(h.get_y()))}if(d.get_supportsFill()&&null!=d.get_fill())if(Type.canCast(d.get_fill(),lt.Annotations.Core.AnnHatchBrush)){if(this.renderHatchBrushFill(a,b,d),a.get_context().beginPath(),d.get_supportsStroke()&&null!=f){h=e[0];a.get_context().moveTo(parseInt(h.get_x()),parseInt(h.get_y()));for(i=1;i<e.length;i++)j=e[i],a.get_context().lineTo(parseInt(j.get_x()),parseInt(j.get_y()));a.get_context().lineTo(parseInt(h.get_x()),parseInt(h.get_y()))}}else e=
d.get_fill().clone(),h=b.rectFromContainerCoordinates(d.get_bounds(),lt.Annotations.Core.AnnFixedStateOperations.none),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(a.get_context(),e,d.get_opacity(),h),a.get_context().fill();a.get_context().closePath();d.get_supportsStroke()&&null!=f&&0<f.get_strokeThickness().get_value()&&(lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity(a.get_context(),f,g),a.get_context().stroke())}}a.get_context().restore()}}};lt.Annotations.Rendering.AnnRubberStampObjectRenderer=
function(){lt.Annotations.Rendering.AnnRubberStampObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnRubberStampObjectRenderer.prototype={_transformCounter$2:0,render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=a&&null!=a.get_context()){var d=Type.safeCast(c,
lt.Annotations.Core.AnnRubberStampObject);if(null!=d){var e=b.get_transform().clone(),f=b.get_rotateTransform().clone();f.get_isIdentity()||b.updateTransform(b.get_transformWithoutRotate());var g=lt.LeadPointD.create(d.get_bounds().get_left()+d.get_bounds().get_width()/2,d.get_bounds().get_top()+d.get_bounds().get_height()/2),g=b.pointFromContainerCoordinates(g,d.get_fixedStateOperations()),h=this._saveContext(),i=d.get_rect(),i=b.rectFromContainerCoordinates(i,d.get_fixedStateOperations()),j=d.get_isFlipped()?
-1:1,k=d.get_isReversed()?-1:1;if(!this._transformCounter$2){f.translatePrepend(g.get_x(),g.get_y());var l=lt.Annotations.Core.Utils.isFlipedReveresd(b)*Math.abs(d.get_angle());(0>k||0>j)&&f.scalePrepend(k,j);!lt.Annotations.Core.AnnDouble.isNaN(d.get_angle())&&l&&f.rotatePrepend(l*k*j);f.translatePrepend(-g.get_x(),-g.get_y());this._multiplyTransform(f)}this._transformCounter$2++;f=a.get_resources();null!=f&&Object.keyExists(f.get_rubberStamps(),d.get_rubberStampType())&&a.drawPicture(f.get_rubberStamps()[d.get_rubberStampType()],
i,c);this._restoreContext(h);this._transformCounter$2--;b.updateTransform(e)}}}};lt.Annotations.Rendering.AnnStampObjectRenderer=function(){lt.Annotations.Rendering.AnnStampObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnStampObjectRenderer.prototype={_transformCounter$3:0,_mySizeFromContainerCoordinates$3:function(b,c){var a=1/720;return lt.LeadSizeD.create(b.get_width()*a*c.get_deviceDpiX(),b.get_height()*a*c.get_deviceDpiY())},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");
null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(c,lt.Annotations.Core.AnnStampObject);if(null!=a){var d=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=d&&null!=d.get_context()){if(a.get_drawShadow()){var e=new lt.Annotations.Rendering.AnnNoteObjectRenderer;e.initialize(d);var f=new lt.Annotations.Core.AnnNoteObject;f.set_fixedStateOperations(a.get_fixedStateOperations());for(var g=ss.IEnumerator.getEnumerator(a.get_points());g.moveNext();){var h=
g.current;f.get_points().add(h)}e.renderShadow(b,f)}if(!this._transformCounter$3){e=new lt.Annotations.Core.AnnTextObject;for(f=ss.IEnumerator.getEnumerator(a.get_points());f.moveNext();)h=f.current,e.get_points().add(h);e.set_fill(a.get_fill());e.set_fixedStateOperations(a.get_fixedStateOperations());e.set_stroke(null);e.set_text(null);lt.Annotations.Rendering.AnnStampObjectRenderer.callBaseMethod(this,"render",[b,e])}if(null!=a.get_picture()&&(!String.isNullOrEmpty(a.get_picture().get_source())||
!String.isNullOrEmpty(a.get_picture().get_pictureData()))&&null!=d&&null!=d.get_context()){h=b.get_transform().clone();g=b.get_rotateTransform().clone();g.get_isIdentity()||b.updateTransform(b.get_transformWithoutRotate());var f=lt.LeadPointD.create(a.get_bounds().get_left()+a.get_bounds().get_width()/2,a.get_bounds().get_top()+a.get_bounds().get_height()/2),f=b.pointFromContainerCoordinates(f,a.get_fixedStateOperations()),e=this._saveContext(),i=a.get_isFlipped()?-1:1,j=a.get_isReversed()?-1:1;this._transformCounter$3||
(g.translatePrepend(f.get_x(),f.get_y()),(0>j||0>i)&&g.scalePrepend(j,i),lt.Annotations.Core.AnnDouble.isNaN(a.get_angle())||g.rotatePrepend(a.get_angle()*j*i),g.translatePrepend(-f.get_x(),-f.get_y()),this._multiplyTransform(g));g=lt.LeadRectD.get_empty();a.get_pictureSizeMode()===lt.Annotations.Core.AnnSizeMode.stretch?(f=a.get_rect(),g=b.rectFromContainerCoordinates(f,a.get_fixedStateOperations())):(g=this._mySizeFromContainerCoordinates$3(lt.LeadSizeD.create(a.get_picture().get_width(),a.get_picture().get_height()),
b),g=lt.LeadRectD.create(f.get_x()-g.get_width()/2,f.get_y()-g.get_height()/2,g.get_width(),g.get_height()),this._clipContext(b.rectFromContainerCoordinates(a.get_rect(),a.get_fixedStateOperations())));this._transformCounter$3++;d.drawPicture(a.get_picture(),g,c);this._restoreContext(e);this._transformCounter$3--;b.updateTransform(h)}this._transformCounter$3||(a=Type.safeCast(a.clone(),lt.Annotations.Core.AnnStampObject),a.set_fill(null),lt.Annotations.Rendering.AnnStampObjectRenderer.callBaseMethod(this,
"render",[b,a]))}}}};lt.Annotations.Rendering.AnnStickyNoteObjectRenderer=function(){lt.Annotations.Rendering.AnnStickyNoteObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnStickyNoteObjectRenderer.prototype={render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=
a&&null!=a.get_context()){var d=Type.safeCast(c,lt.Annotations.Core.AnnStickyNoteObject);if(null!=d){var e=b.get_transform().clone(),f=b.get_rotateTransform().clone();f.get_isIdentity()||b.updateTransform(b.get_transformWithoutRotate());var g=this._saveContext();if(null==d.get_picture()){var h=this.get_renderingEngine().get_resources();null!=h&&-1<d.get_defaultPicture()&&d.get_defaultPicture()<h.get_images().length&&d.set_picture(h.get_images()[d.get_defaultPicture()])}var d=d.get_picture(),h=lt.LeadSizeD.create(0,
0),i=lt.Annotations.Core.AnnContainerMapper.createDefault();if(null!=d&&null!=d.get_internalData()){var j=d.get_internalData();null!=j&&(h.set_width(j.naturalWidth),h.set_height(j.naturalHeight));if(h.get_width()||h.get_height())h=i.sizeToContainerCoordinates(h),d.set_width(h.get_width()),d.set_height(h.get_height()),i.updateTransform(b.get_transform()),h=i.sizeFromContainerCoordinates(h)}i=c.get_points().get_item(0);j=lt.LeadRectD.create(0,0,0,0);i=b.pointFromContainerCoordinates(i,c.get_fixedStateOperations());
this._multiplyTransform(f);j=lt.LeadRectD.create(i.get_x()-h.get_width()/2,i.get_y()-h.get_height()/2,h.get_width(),h.get_height());a.drawPicture(d,j,c);this._restoreContext(g);b.updateTransform(e)}}},renderSelection:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(!(null==a||null==
a.get_context())){var d=Type.safeCast(c,lt.Annotations.Core.AnnStickyNoteObject);c.get_bounds();var e=d.get_picture(),d=lt.LeadSizeD.create(0,0);if(null!=e&&null!=e.get_internalData()&&(e=Type.safeCast(e.get_internalData(),Image),null!=e&&(d.set_width(e.naturalWidth),d.set_height(e.naturalHeight)),d.get_width()||d.get_height()))e=lt.Annotations.Core.AnnContainerMapper.createDefault(),d=e.sizeToContainerCoordinates(d),e.updateTransform(b.get_transform()),d=e.sizeFromContainerCoordinates(d);e=c.get_points().get_item(0);
e=b.pointFromContainerCoordinates(e,c.get_fixedStateOperations());d=lt.LeadRectD.create(e.get_x()-d.get_width()/2,e.get_y()-d.get_height()/2,d.get_width(),d.get_height());e=b.strokeFromContainerCoordinates(c.get_selectionStroke(),c.get_fixedStateOperations()).clone();a.get_context().beginPath();a.get_context().rect(d.get_x(),d.get_y(),d.get_width(),d.get_height());lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity(a.get_context(),e,0.5);a.get_context().stroke();a.get_context().closePath();
a.get_context().beginPath();a.get_context().rect(d.get_x(),d.get_y(),d.get_width(),d.get_height());d=lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("white"),lt.LeadLengthD.create(e.get_strokeThickness().get_value()-2));lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity(a.get_context(),d,0.5);a.get_context().stroke();a.get_context().closePath()}},renderContent:function(){}};lt.Annotations.Rendering.AnnTextObjectRenderer=function(){lt.Annotations.Rendering.AnnTextObjectRenderer.initializeBase(this)};
lt.Annotations.Rendering.AnnTextObjectRenderer._getTextRotation$2=function(b,c){var a=lt.LeadMatrix.get_identity();switch(b){case lt.Annotations.Core.AnnTextRotate.rotate90:a.rotateAt(-90,c.get_x(),c.get_y());break;case lt.Annotations.Core.AnnTextRotate.rotate180:a.rotateAt(-180,c.get_x(),c.get_y());break;case lt.Annotations.Core.AnnTextRotate.rotate270:a.rotateAt(90,c.get_x(),c.get_y())}return a};lt.Annotations.Rendering.AnnTextObjectRenderer._alignRect$2=function(b,c,a,d,e,f,g){var h=c.clone(),
g=g.clone();switch(a){case lt.Annotations.Core.AnnHorizontalAlignment.center:h.set_x(Math.max(c.get_left(),c.get_left()+(c.get_width()-b.get_width())/2));h.set_width(Math.max(1,h.get_width()-e.get_right()));c.get_x()+e.get_left()>=h.get_x()&&(h.set_x(c.get_x()+e.get_left()),h.set_width(Math.max(1,c.get_width()-e.get_left()-e.get_right())));break;case lt.Annotations.Core.AnnHorizontalAlignment.right:h.set_x(c.get_right()-b.get_width());h.set_x(h.get_x()-e.get_right());h.set_width(Math.max(1,h.get_width()-
e.get_right()));c.get_x()+e.get_left()>=h.get_x()&&(h.set_x(c.get_x()+e.get_left()),h.set_width(Math.max(1,c.get_width()-e.get_left()-e.get_right())));break;default:h.set_x(h.get_x()+e.get_left()),h.set_width(Math.max(1,h.get_width()-e.get_left())),h.set_width(Math.max(1,h.get_width()-e.get_right()))}switch(d){case lt.Annotations.Core.AnnVerticalAlignment.center:h.set_y((c.get_top()+c.get_bottom()-b.get_height())/2);h.get_y()<=f.get_y()+e.get_top()&&(h.set_y(f.get_y()+e.get_top()),g.set_y(g.get_y()+
e.get_top()));f.get_bottom()-e.get_bottom()<=g.get_bottom()&&(b=g.get_bottom()-(f.get_bottom()-e.get_bottom()),h.set_height(Math.max(1,h.get_height()-b)),h.get_height()||h.set_height(1));break;case lt.Annotations.Core.AnnVerticalAlignment.bottom:h.set_y(c.get_bottom()-b.get_height()-e.get_bottom());h.get_y()<=f.get_y()+e.get_top()&&(h.set_y(f.get_y()+e.get_top()),g.set_y(g.get_y()+e.get_top()));f.get_bottom()-e.get_bottom()<=g.get_bottom()&&(b=g.get_bottom()-(f.get_bottom()-e.get_bottom()),h.set_height(Math.max(1,
h.get_height()-b)),h.get_height()||h.set_height(1));break;default:h.set_y(h.get_top()+e.get_top()),g.set_y(g.get_y()+e.get_top()),f.get_bottom()-e.get_bottom()<=g.get_bottom()&&(b=g.get_bottom()-(f.get_bottom()-e.get_bottom()),h.set_height(Math.max(1,h.get_height()-b)),h.get_height()||h.set_height(1))}return h};lt.Annotations.Rendering.AnnTextObjectRenderer.prototype={_flipReverseText$2:!1,get_flipReverseText:function(){return this._flipReverseText$2},set_flipReverseText:function(b){return this._flipReverseText$2=
b},_fixedPadding$2:!0,get_fixedPadding:function(){return this._fixedPadding$2},set_fixedPadding:function(b){return this._fixedPadding$2=b},getTextSize:function(b,c){var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine),d=0;a.get_context().save();lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFont(a.get_context(),c);null!=a&&null!=a.get_context()&&(null!=c&&c.get_isDirty()&&(c.set_fontHeight(parseInt(lt.Annotations.Rendering.AnnHtml5RenderingEngine.measureTextHeight(a.get_context(),
c))),c.set_isDirty(!1)),d=c.get_fontHeight());var e=a.get_context().measureText(b).width;a.get_context().restore();return lt.LeadSizeD.create(e,d)},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(c,lt.Annotations.Core.AnnTextObject);if(!(null==a||!a.get_rect().get_width()&&!a.get_rect().get_height())){lt.Annotations.Rendering.AnnTextObjectRenderer.callBaseMethod(this,
"render",[b,c]);var d=a.get_text();if(!String.isNullOrEmpty(d)){var e=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=e&&null!=e.get_context()){e.get_context().save();var f=b.get_transform().clone(),g=b.get_rotateTransform().clone();g.get_isIdentity()||b.updateTransform(b.get_transformWithoutRotate());var h=new lt.Annotations.Core.AnnRectangleObject;h.get_points().clear();for(var i=ss.IEnumerator.getEnumerator(this.getRenderPoints(b,a));i.moveNext();){var j=
i.current;h.get_points().add(j)}var k=h.get_angle(),l=lt.LeadPointD.create(h.get_bounds().get_left()+h.get_bounds().get_width()/2,h.get_bounds().get_top()+h.get_bounds().get_height()/2),l=b.pointFromContainerCoordinates(l,a.get_fixedStateOperations()),m=lt.Annotations.Rendering.AnnTextObjectRenderer._getTextRotation$2(a.get_textRotate(),l),h=h.get_rect(),h=b.rectFromContainerCoordinates(h,a.get_fixedStateOperations()),h=m.transformRect(h),i=0;if(a.get_supportsFont()&&null!=a.get_font()){var j=b.fontFromContainerCoordinates(a.get_font(),
a.get_fixedStateOperations()),n=b.strokeFromContainerCoordinates(a.get_stroke(),a.get_fixedStateOperations());null!=n&&(i=Math.max(1,n.get_strokeThickness().get_value()),n.get_strokeAlignment()===lt.Annotations.Core.AnnStrokeAlignment.inset?h.inflate(-i,-i):h.inflate(-i/2,-i/2));var n=a.get_isFlipped()?-1:1,p=a.get_isReversed()?-1:1,m=lt.LeadMatrix.multiply(m,g);m.translatePrepend(l.get_x(),l.get_y());this.get_flipReverseText()&&(0>p||0>n)&&m.scalePrepend(p,n);lt.Annotations.Core.AnnDouble.isNaN(k)||
m.rotatePrepend(k*lt.Annotations.Core.Utils.isFlipedReveresd(b));m.translatePrepend(-l.get_x(),-l.get_y());e.get_context().transform(m.get_m11(),m.get_m12(),m.get_m21(),m.get_m22(),m.get_offsetX(),m.get_offsetY());e.get_context().clip();if(!h.get_isEmpty()&&(g=a.get_padding().clone(),this._fixedPadding$2||(g.set_left(b.lengthFromContainerCoordinates(lt.LeadLengthD.create(g.get_left()),a.get_fixedStateOperations())),g.set_right(b.lengthFromContainerCoordinates(lt.LeadLengthD.create(g.get_right()),
a.get_fixedStateOperations())),g.set_top(b.lengthFromContainerCoordinates(lt.LeadLengthD.create(g.get_top()),a.get_fixedStateOperations())),g.set_bottom(b.lengthFromContainerCoordinates(lt.LeadLengthD.create(g.get_bottom()),a.get_fixedStateOperations()))),null!=a.get_textForeground()&&null!=d))if(l=d.replaceAll("\r",""),0<l.length)if(k=null,a.get_wordWrap()?(l=this.getTextSize(a.get_text(),j,h.get_size()),k=lt.Annotations.Rendering.AnnTextObjectRenderer._alignRect$2(l,h,a.get_horizontalAlignment(),
a.get_verticalAlignment(),g,h,h),k=this._wrapText$2(d,k,j,e,a,b)):k=l.split("\n"),d=k.length,Type.canCast(a,lt.Annotations.Core.AnnTextRollupObject)&&!Type.safeCast(a,lt.Annotations.Core.AnnTextRollupObject).get_expanded()&&1<d&&(k[0]+=" ...",d=1),null!=k&&0<d){for(p=n=m=0;p<d;++p)l=lt.LeadSizeD.create(0,0),l.set_width(this._getTextWidth$2(k[p],j,e)),l.set_height(1.5*j.get_fontSize()),n+=l.get_height();var q=parseInt(h.get_top());a.get_verticalAlignment()===lt.Annotations.Core.AnnVerticalAlignment.center?
q+=(h.get_height()-n)/2:a.get_verticalAlignment()===lt.Annotations.Core.AnnVerticalAlignment.bottom&&(q+=h.get_height()-n);q<h.get_top()&&(q=parseInt(h.get_top()));for(var t=0,p=0;p<d;++p){l=lt.LeadSizeD.create(0,0);l.set_width(this._getTextWidth$2(k[p],j,e));l.set_height(1.5*j.get_fontSize());var t=Math.max(t,l.get_width()),o=lt.LeadRectD.create(h.get_left(),q,h.get_width(),l.get_height()),s=lt.LeadRectD.create(h.get_left(),h.get_top()+m,l.get_width(),l.get_height()),o=lt.Annotations.Rendering.AnnTextObjectRenderer._alignRect$2(l,
o,a.get_horizontalAlignment(),a.get_verticalAlignment(),g,h,s);0<p&&o.set_y(o.get_y()+m);s=b.rectFromContainerCoordinates(a.get_bounds(),lt.Annotations.Core.AnnFixedStateOperations.none);if(null!=a.get_textBackground()){var r=a.get_textBackground().clone(),u=o.get_height();1===u&&(u=0);var v=Math.min(o.get_width(),l.get_width());1===v&&(v=0);lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(e.get_context(),r,a.get_opacity(),s);e.get_context().fillRect(o.get_left(),o.get_top(),
v,u)}j.set_isDirty(!0);lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFont(e.get_context(),j);e.get_context().textBaseline="top";r=a.get_textForeground().clone();lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(e.get_context(),r,a.get_opacity(),s);this._drawText$2(e.get_context(),k[p],o);(j.get_textDecoration()&lt.Annotations.Core.AnnTextDecorations.strikethrough)===lt.Annotations.Core.AnnTextDecorations.strikethrough&&this._drawTextDecoration$2(e.get_context(),k[p],o.get_left(),
o.get_bottom(),r.get_color(),a.get_font().get_fontSize(),a.get_horizontalAlignment(),a.get_font(),lt.Annotations.Core.AnnTextDecorations.strikethrough);(j.get_textDecoration()&lt.Annotations.Core.AnnTextDecorations.underline)===lt.Annotations.Core.AnnTextDecorations.underline&&this._drawTextDecoration$2(e.get_context(),k[p],o.get_left(),o.get_bottom(),r.get_color(),a.get_font().get_fontSize(),a.get_horizontalAlignment(),a.get_font(),lt.Annotations.Core.AnnTextDecorations.underline);(j.get_textDecoration()&
lt.Annotations.Core.AnnTextDecorations.baseline)===lt.Annotations.Core.AnnTextDecorations.baseline&&this._drawTextDecoration$2(e.get_context(),k[p],o.get_left(),o.get_bottom(),r.get_color(),a.get_font().get_fontSize(),a.get_horizontalAlignment(),a.get_font(),lt.Annotations.Core.AnnTextDecorations.baseline);(j.get_textDecoration()&lt.Annotations.Core.AnnTextDecorations.overLine)===lt.Annotations.Core.AnnTextDecorations.overLine&&this._drawTextDecoration$2(e.get_context(),k[p],o.get_left(),o.get_bottom(),
r.get_color(),a.get_font().get_fontSize(),a.get_horizontalAlignment(),a.get_font(),lt.Annotations.Core.AnnTextDecorations.overLine);m+=l.get_height()}a.get_font().set_isDirty(j.get_isDirty());a.set_textSize(b.sizeToContainerCoordinates(lt.LeadSizeD.create(t+i+2,n+i)))}}e.get_context().restore();b.updateTransform(f)}}}},_drawText$2:function(b,c,a){String.isNullOrEmpty(c)||(b.save(),b.beginPath(),b.rect(a.get_x(),a.get_y(),a.get_width(),a.get_height()),b.clip(),b.fillText(c,a.get_left(),a.get_top()),
b.closePath(),b.restore())},_drawTextDecoration$2:function(b,c,a,d,e,f,g,h,i){h=parseInt(lt.Annotations.Rendering.AnnHtml5RenderingEngine.measureTextHeight(b,h));c=b.measureText(c).width;g=0;i===lt.Annotations.Core.AnnTextDecorations.strikethrough?g=d-h/2:i===lt.Annotations.Core.AnnTextDecorations.underline?g=d-1:i===lt.Annotations.Core.AnnTextDecorations.baseline?g=d-h/4:i===lt.Annotations.Core.AnnTextDecorations.overLine&&(g=d-f/15-h);d=0;i=g;f/=15;1>f&&(f=1);b.beginPath();d=a+c;b.strokeStyle=e;
b.lineWidth=f;b.moveTo(a,g);b.lineTo(d,i);b.stroke()},_getTextWidth$2:function(b,c,a){var a=Type.safeCast(a,lt.Annotations.Rendering.AnnHtml5RenderingEngine),d=0;null!=a&&(a.get_context().save(),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFont(a.get_context(),c),d=parseInt(a.get_context().measureText(b).width),a.get_context().restore());return d},_wrapLines$2:function(b,c,a,d,e,f,g){var h=c.get_width(),b=b.split(" "),i=b.length;if(!(0>=i)){for(var j=b.clone(),k=0;k<j.length;k++)j[k]+=" ";
var l=Array(i);l[0]=this._myGetTextWidth$2(b[0],c,f,d,g);for(k=1;k<i;++k)l[k]=l[k-1]+this._myGetTextWidth$2(j[k],c,f,d,g);k=0;for(j="";k<i&&h>=l[k];)j+=b[k]+" ",k++;if(String.isNullOrEmpty(j)){this._wrapWords$2(b[k],c,a,d,e,f,g);h="";for(k+=1;k<i;++k)h+=b[k]+" ";h&&(h=h.remove(h.length-1));this._wrapLines$2(h,c,a,d,e,f,g)}else if(e.add(j),k<i){for(h="";k<i;++k)h+=b[k]+" ";h=h.remove(h.length-1);this._wrapLines$2(h,c,a,d,e,f,g)}}},_wrapWords$2:function(b,c,a,d,e,f,g){for(var h=1,i=b.length,j="",k=
0;k<i;++k){j=b.substring(0,h);h++;var l=this._myGetTextWidth$2(j,c,f,d,g),m=j.length-1;if(l>c.get_width()+0.5&&0<m){j=j.substring(0,j.length-1);break}}String.isNullOrEmpty(j)||(e.add(j),h=j.length,i!==h&&this._wrapWords$2(b.substring(h,i),c,a,d,e,f,g))},_myGetTextWidth$2:function(b,c,a,d,e){if(String.isNullOrEmpty(b))return 0;var f=new lt.Annotations.Core.AnnContainerMapper(e.get_sourceDpiX(),e.get_sourceDpiY(),e.get_sourceDpiX(),e.get_sourceDpiY());f.updateTransform(lt.LeadMatrix.get_identity());
f.set_fontRelativeToImageDpi(e.get_fontRelativeToImageDpi());f=f.fontFromContainerCoordinates(a.get_font(),a.get_fixedStateOperations());b=this._getTextWidth$2(b,f,d);c=lt.LeadRectD.create(c.get_x(),c.get_y(),b,c.get_height());b=e.get_transform().clone();d=(a.get_fixedStateOperations()&lt.Annotations.Core.AnnFixedStateOperations.fontSize)===lt.Annotations.Core.AnnFixedStateOperations.fontSize;if((a.get_fixedStateOperations()&lt.Annotations.Core.AnnFixedStateOperations.zooming)===lt.Annotations.Core.AnnFixedStateOperations.zooming||
d)b=lt.LeadMatrix.get_identity();d?b.scale(e.get_burnScaleFactor(),e.get_burnScaleFactor()):b.scale(e.get_targetDpiX()/e.get_sourceDpiX(),e.get_targetDpiY()/e.get_sourceDpiY());a=b.transformRect(c);e=Math.abs(this._getRotationAngle(e.get_transform()));return 90===e||270===e?a.get_height():a.get_width()},_wrapText$2:function(b,c,a,d,e,f){for(var g=[],h=b.split("\n"),i=[],b=0;b<h.length;++b)i.add(h[b]);h=i.length;for(b=0;b<h;++b){var j=i[b],k=this._myGetTextWidth$2(j,c,e,d,f),k=lt.Annotations.Core.Utils.precisionFormat(2,
k),l=lt.Annotations.Core.Utils.precisionFormat(2,c.get_width());c.set_width(parseFloat(l));k=parseFloat(k);k<=c.get_width()?g.add(j):(k=[],this._wrapLines$2(j,c,a,d,k,e,f)," "===k[k.length-1]&&k.removeAt(k.length-1),g.addRange(k))}c=g.length;a=null;if(0<c){a=Array(c);for(b=0;b<c;++b)a[b]=g[b]}return a}};Object.defineProperty(lt.Annotations.Rendering.AnnTextObjectRenderer.prototype,"flipReverseText",{get:lt.Annotations.Rendering.AnnTextObjectRenderer.prototype.get_flipReverseText,set:lt.Annotations.Rendering.AnnTextObjectRenderer.prototype.set_flipReverseText,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnTextObjectRenderer.prototype,"fixedPadding",{get:lt.Annotations.Rendering.AnnTextObjectRenderer.prototype.get_fixedPadding,set:lt.Annotations.Rendering.AnnTextObjectRenderer.prototype.set_fixedPadding,enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnTextPointerObjectRenderer=function(){lt.Annotations.Rendering.AnnTextPointerObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnTextPointerObjectRenderer.prototype=
{render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");lt.Annotations.Rendering.AnnTextPointerObjectRenderer.callBaseMethod(this,"render",[b,c]);var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=a&&null!=a.get_context()){a.get_context().save();var d=Type.safeCast(c,lt.Annotations.Core.AnnTextPointerObject);if(null!=d){var e=
d.get_pointerPosition(),f=c.get_points(),g=d.getPointerPoints();d.get_showArrow()?3<f.get_count()&&!lt.LeadPointD.equals(f.get_item(0),e)&&!lt.LeadPointD.equals(f.get_item(2),e)&&(e=Type.safeCast(a.get_renderers()[lt.Annotations.Core.AnnObject.pointerObjectId],lt.Annotations.Rendering.AnnPointerObjectRenderer),e.initialize(a),null!=e&&(f=new lt.Annotations.Core.AnnPointerObject,f.get_points().add(g[1]),f.get_points().add(g[0]),f.set_stroke(d.get_stroke().clone()),f.set_pointerPosition(lt.Annotations.Core.AnnPointerPosition.end),
e.render(b,f))):(g=b.pointsFromContainerCoordinates(g,d.get_fixedStateOperations()),a.get_context().beginPath(),a.get_context().moveTo(g[0].get_x(),g[0].get_y()),a.get_context().lineTo(g[1].get_x(),g[1].get_y()),a.get_context().closePath(),d.get_supportsStroke()&&null!=d.get_stroke()&&(g=b.strokeFromContainerCoordinates(d.get_stroke(),d.get_fixedStateOperations()),lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity(a.get_context(),g,d.get_opacity()),a.get_context().stroke()))}a.get_context().restore()}}};
lt.Annotations.Rendering.AnnTextRedactionObjectRenderer=function(){lt.Annotations.Rendering.AnnTextRedactionObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnTextRedactionObjectRenderer.prototype={renderShape:function(b,c,a,d){if(!d.get_isEmpty()&&!(null==c||null==b||null==a)){var e=Type.safeCast(c,lt.Annotations.Core.AnnTextRedactionObject);null!=e&&(a.beginPath(),a.rect(d.get_x(),d.get_y(),d.get_width(),d.get_height()),b=b.rectFromContainerCoordinates(c.get_bounds(),lt.Annotations.Core.AnnFixedStateOperations.none),
lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(a,e.get_fill().clone(),e.get_opacity(),b),a.fill(),a.closePath())}}};lt.Annotations.Rendering.AnnTextReviewObjectRenderer=function(){lt.Annotations.Rendering.AnnTextReviewObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnTextReviewObjectRenderer._getRectangles$1=function(b,c){var a=Type.safeCast(c,lt.Annotations.Core.AnnTextReviewObject),d=a.get_points().toArray();if(!d.length)return null;for(var d=b.pointsFromContainerCoordinates(d,
a.get_fixedStateOperations()),a=d.length/2,e=Array(a),f=0,g=0;g<a;g++){var h=2*g,i=d[h+0],h=d[h+1];e[f]=lt.LeadRectD.fromLTRB(i.get_x()-1,i.get_y()-1,h.get_x()+1,h.get_y()+1);f++}return e};lt.Annotations.Rendering.AnnTextReviewObjectRenderer.prototype={render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);
if(!(null==a||null==a.get_context())){var d=lt.Annotations.Rendering.AnnTextReviewObjectRenderer._getRectangles$1(b,c);if(null!=d)for(d=ss.IEnumerator.getEnumerator(d);d.moveNext();){var e=d.current;this.renderShape(b,Type.safeCast(c,lt.Annotations.Core.AnnTextReviewObject),a.get_context(),e)}}},renderSelection:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),
lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(!(null==a||null==a.get_context())){var d=Type.safeCast(c,lt.Annotations.Core.AnnTextReviewObject),e=lt.Annotations.Rendering.AnnTextReviewObjectRenderer._getRectangles$1(b,c);if(null!=e){a.get_context();d=b.strokeFromContainerCoordinates(d.get_selectionStroke(),d.get_fixedStateOperations()).clone();for(e=ss.IEnumerator.getEnumerator(e);e.moveNext();){var f=e.current;a.get_context().beginPath();a.get_context().rect(f.get_x(),f.get_y(),f.get_width(),
f.get_height());lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity(a.get_context(),d,0.5);a.get_context().stroke();a.get_context().closePath();a.get_context().beginPath();a.get_context().rect(f.get_x(),f.get_y(),f.get_width(),f.get_height());f=lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("white"),lt.LeadLengthD.create(d.get_strokeThickness().get_value()-2));lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStrokeWithOpacity(a.get_context(),
f,0.5);a.get_context().stroke();a.get_context().closePath()}}}},renderContent:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=a&&null!=a.get_context()){var d=c.get_bounds(),e=this.get_renderingEngine().get_resources();if(null!=e){var f=e.get_images()[c.get_contentPicture()],
d=lt.LeadRectD.create(d.get_x(),d.get_y(),120,120),d=b.rectFromContainerCoordinates(d,c.get_fixedStateOperations());null!=f?a.drawPicture(f,d,c):(f=c.get_contentPicture(),-1<f&&f<e.get_images().length&&a.drawPicture(e.get_images()[f],d,c))}}}};lt.Annotations.Rendering.AnnTextHiliteObjectRenderer=function(){lt.Annotations.Rendering.AnnTextHiliteObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnTextHiliteObjectRenderer.prototype={_drawRoundEdges$2:function(b,c,a){lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawEllipse(b,
lt.LeadRectD.create(c.get_x()+c.get_width()-a,c.get_y(),2*a,c.get_height()));lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawEllipse(b,lt.LeadRectD.create(c.get_x()-a,c.get_y(),2*a,c.get_height()))},renderShape:function(b,c,a,d){if(!d.get_isEmpty()&&!(null==c||null==b||null==a)){var e=Type.safeCast(c,lt.Annotations.Core.AnnTextHiliteObject);if(null!=e){var f=this._saveContext(),g=b.rectToContainerCoordinates(d),d=b.get_transform().clone(),h=b.get_rotateTransform().clone();h.get_isIdentity()||
b.updateTransform(b.get_transformWithoutRotate());g=b.rectFromContainerCoordinates(g,lt.Annotations.Core.AnnFixedStateOperations.none);h.get_isIdentity()||this._multiplyTransform(h);a.beginPath();a.rect(g.get_x(),g.get_y(),g.get_width(),g.get_height());g=b.rectFromContainerCoordinates(e.get_bounds(),lt.Annotations.Core.AnnFixedStateOperations.none);h=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);Type.canCast(c.get_fill(),lt.Annotations.Core.AnnHatchBrush)?
this.renderHatchBrushFill(h,b,e):(lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(a,e.get_fill().clone(),e.get_opacity(),g),a.fill());a.closePath();b.updateTransform(d);this._restoreContext(f)}}}};lt.Annotations.Rendering.AnnTextRollupObjectRenderer=function(){lt.Annotations.Rendering.AnnTextRollupObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnTextRollupObjectRenderer.prototype={getRenderPoints:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");
null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=lt.Annotations.Rendering.AnnTextRollupObjectRenderer.callBaseMethod(this,"getRenderPoints",[b,c]),d=Type.safeCast(c,lt.Annotations.Core.AnnTextRollupObject);if(null!=d&&!d.get_expanded()){var e=lt.Annotations.Core.Utils.distance(a[1],a[2]);null!=d.get_font()&&(e=b.fontFromContainerCoordinates(d.get_font(),d.get_fixedStateOperations()),d=lt.Annotations.Rendering.AnnHtml5RenderingEngine.getTextSize("gM",e,d.get_bounds().get_size()),
d=b.sizeToContainerCoordinates(d),e=d.get_height());d=lt.Annotations.Core.Utils.getUnitVector(a[1],a[2]);a[2]=lt.Annotations.Core.Utils.transformPoint(d,lt.LeadLengthD.create(e),a[1]);d=lt.Annotations.Core.Utils.getUnitVector(a[0],a[3]);a[3]=lt.Annotations.Core.Utils.transformPoint(d,lt.LeadLengthD.create(e),a[0])}return a}};lt.Annotations.Rendering.AnnTextStrikeoutObjectRenderer=function(){lt.Annotations.Rendering.AnnTextStrikeoutObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnTextStrikeoutObjectRenderer.prototype=
{_thickness$2:0.15,get_thickness:function(){return this._thickness$2},set_thickness:function(b){if(0>b||1<b)throw new lt.ArgumentOutOfRangeException("Thickness",b,"Must be a value between 0 and 1");return this._thickness$2=b},_position$2:0.5,get_position:function(){return this._position$2},set_position:function(b){if(0>b||1<b)throw new lt.ArgumentOutOfRangeException("Position",b,"Must be a value between 0 and 1");return this._position$2=b},renderShape:function(b,c,a,d){if(!d.get_isEmpty()&&!(null==
c||null==b||null==a)){var e=Type.safeCast(c,lt.Annotations.Core.AnnTextStrikeoutObject);if(null!=e){var f=lt.LeadRectD.get_empty(),f=this._getRotationAngle(b.get_transform());if(90===Math.abs(f))var f=this.get_thickness()?Math.max(d.get_width()*this.get_thickness(),1):1,g=d.get_width()*this.get_position()-f/2+d.get_x(),f=lt.LeadRectD.create(g,d.get_y(),f,d.get_height());else f=this.get_thickness()?Math.max(d.get_height()*this.get_thickness(),1):1,g=d.get_height()*this.get_position()-f/2+d.get_top(),
f=lt.LeadRectD.create(d.get_x(),g,d.get_width(),f);a.beginPath();a.rect(f.get_x(),f.get_y(),f.get_width(),f.get_height());d=b.rectFromContainerCoordinates(e.get_bounds(),lt.Annotations.Core.AnnFixedStateOperations.none);f=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);Type.canCast(c.get_fill(),lt.Annotations.Core.AnnHatchBrush)?this.renderHatchBrushFill(f,b,e):(lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(a,e.get_fill().clone(),
e.get_opacity(),d),a.fill());a.closePath()}}}};Object.defineProperty(lt.Annotations.Rendering.AnnTextStrikeoutObjectRenderer.prototype,"thickness",{get:lt.Annotations.Rendering.AnnTextStrikeoutObjectRenderer.prototype.get_thickness,set:lt.Annotations.Rendering.AnnTextStrikeoutObjectRenderer.prototype.set_thickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnTextStrikeoutObjectRenderer.prototype,"position",{get:lt.Annotations.Rendering.AnnTextStrikeoutObjectRenderer.prototype.get_position,
set:lt.Annotations.Rendering.AnnTextStrikeoutObjectRenderer.prototype.set_position,enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnTextUnderlineObjectRenderer=function(){lt.Annotations.Rendering.AnnTextUnderlineObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnTextUnderlineObjectRenderer.prototype={_thickness$2:0.15,get_thickness:function(){return this._thickness$2},set_thickness:function(b){if(0>b||1<b)throw new lt.ArgumentOutOfRangeException("Thickness",b,"Must be a value between 0 and 1");
return this._thickness$2=b},_position$2:0.85,get_position:function(){return this._position$2},set_position:function(b){if(0>b||1<b)throw new lt.ArgumentOutOfRangeException("Position",b,"Must be a value between 0 and 1");return this._position$2=b},renderShape:function(b,c,a,d){if(!d.get_isEmpty()&&!(null==c||null==b||null==a)){var e=Type.safeCast(c,lt.Annotations.Core.AnnTextUnderlineObject);if(null!=e){var f=lt.LeadRectD.get_empty(),f=this._getRotationAngle(b.get_transform());if(90===Math.abs(f)){var g;
g=this.get_thickness()?Math.max(d.get_width()*this.get_thickness(),1):1;var h=0,h=-90===f?d.get_right()-(d.get_width()*this.get_position()+g/2):d.get_width()*this.get_position()-g/2+d.get_x(),f=lt.LeadRectD.create(h,d.get_y(),g,d.get_height())}else g=this.get_thickness()?Math.max(d.get_height()*this.get_thickness(),1):1,h=0,h=180===f?d.get_bottom()-(d.get_height()*this.get_position()+g/2):d.get_height()*this.get_position()-g/2+d.get_top(),f=lt.LeadRectD.create(d.get_x(),h,d.get_width(),g);a.beginPath();
a.rect(f.get_x(),f.get_y(),f.get_width(),f.get_height());d=b.rectFromContainerCoordinates(e.get_bounds(),lt.Annotations.Core.AnnFixedStateOperations.none);f=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);Type.canCast(c.get_fill(),lt.Annotations.Core.AnnHatchBrush)?this.renderHatchBrushFill(f,b,e):(lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFillOpacityAndBounds(a,e.get_fill().clone(),e.get_opacity(),d),a.fill());a.closePath()}}}};Object.defineProperty(lt.Annotations.Rendering.AnnTextUnderlineObjectRenderer.prototype,
"thickness",{get:lt.Annotations.Rendering.AnnTextUnderlineObjectRenderer.prototype.get_thickness,set:lt.Annotations.Rendering.AnnTextUnderlineObjectRenderer.prototype.set_thickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnTextUnderlineObjectRenderer.prototype,"position",{get:lt.Annotations.Rendering.AnnTextUnderlineObjectRenderer.prototype.get_position,set:lt.Annotations.Rendering.AnnTextUnderlineObjectRenderer.prototype.set_position,enumerable:!0,configurable:!0});
lt.Annotations.Rendering.AnnThumbStyle=function(){this._size=lt.LeadSizeD.create(0,0);this._size=lt.LeadSizeD.create(0,0);this._fill=lt.Annotations.Core.AnnSolidColorBrush.create("white");this._stroke=lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("black"),lt.LeadLengthD.create(1));this._isVisible=!0};lt.Annotations.Rendering.AnnThumbStyle.prototype={_renderer:null,get_renderer:function(){return this._renderer},set_renderer:function(b){return this._renderer=b},
clone:function(){var b=this.create();b._size=this._size.clone();b._fill=null!=this._fill?this._fill.clone():null;b._stroke=null!=this._stroke?this._stroke.clone():null;b._isVisible=this._isVisible;return b},get_size:function(){return this._size.clone()},set_size:function(b){null==b&&(b=lt.LeadSizeD.create(0,0));this._size=b.clone();return b},_fill:null,get_fill:function(){return this._fill},set_fill:function(b){return this._fill=b},_stroke:null,get_stroke:function(){return this._stroke},set_stroke:function(b){return this._stroke=
b},_isVisible:!1,get_isVisible:function(){return this._isVisible},set_isVisible:function(b){return this._isVisible=b},_mySizeFromContainerCoordinates:function(b,c){var a=1/720;return lt.LeadSizeD.create(b.get_width()*a*c.get_deviceDpiX(),b.get_height()*a*c.get_deviceDpiY())},renderHitTest:function(b,c,a,d){if(!this.get_isVisible())return!1;var e=lt.LeadRectD.get_empty(),c=d.pointFromContainerCoordinates(c,lt.Annotations.Core.AnnFixedStateOperations.none),b=d.pointFromContainerCoordinates(b,lt.Annotations.Core.AnnFixedStateOperations.none),
e=this._mySizeFromContainerCoordinates(this.get_size(),d),e=lt.LeadRectD.create(b.get_x()-e.get_width()/2,b.get_y()-e.get_height()/2,e.get_width(),e.get_height()),a=d.lengthFromContainerCoordinates(lt.LeadLengthD.create(a),lt.Annotations.Core.AnnFixedStateOperations.none);e.inflate(a,a);return e.containsPoint(c)},hitTest:function(b,c,a){if(!this.get_isVisible())return!1;var d=lt.LeadRectD.get_empty();null!=this._renderer?(d=this._renderer.get_renderingEngine().get_container().get_mapper(),c=d.pointFromContainerCoordinates(c,
lt.Annotations.Core.AnnFixedStateOperations.none),b=d.pointFromContainerCoordinates(b,lt.Annotations.Core.AnnFixedStateOperations.none),d=this._mySizeFromContainerCoordinates(this.get_size(),d),d=lt.LeadRectD.create(b.get_x()-d.get_width()/2,b.get_y()-d.get_height()/2,d.get_width(),d.get_height())):d=lt.LeadRectD.create(b.get_x()-this.get_size().get_width()/2,b.get_y()-this.get_size().get_height()/2,this.get_size().get_width(),this.get_size().get_height());d.inflate(a,a);return d.containsPoint(c)},
render:function(b,c,a,d){null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("renderer");if(this.get_isVisible()&&b.get_renderingEngine().get_stateless()){b=Type.safeCast(b.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=b&&null!=b.get_context()&&(b.get_context().save(),b.get_context().beginPath(),a=c.pointFromContainerCoordinates(a,d),c=this._mySizeFromContainerCoordinates(this.get_size(),
c),c=lt.LeadRectD.create(a.get_x()-c.get_width()/2,a.get_y()-c.get_height()/2,c.get_width(),c.get_height()),this.addPath(b.get_context(),c),b.get_context().closePath(),null!=this.get_fill()&&(lt.Annotations.Rendering.AnnHtml5RenderingEngine.setFill(b.get_context(),this.get_fill()),b.get_context().fill()),null!=this.get_stroke()))lt.Annotations.Rendering.AnnHtml5RenderingEngine.setStroke(b.get_context(),this.get_stroke()),b.get_context().stroke();b.get_context().restore()}}};Object.defineProperty(lt.Annotations.Rendering.AnnThumbStyle.prototype,
"renderer",{get:lt.Annotations.Rendering.AnnThumbStyle.prototype.get_renderer,set:lt.Annotations.Rendering.AnnThumbStyle.prototype.set_renderer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnThumbStyle.prototype,"size",{get:lt.Annotations.Rendering.AnnThumbStyle.prototype.get_size,set:lt.Annotations.Rendering.AnnThumbStyle.prototype.set_size,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnThumbStyle.prototype,"fill",{get:lt.Annotations.Rendering.AnnThumbStyle.prototype.get_fill,
set:lt.Annotations.Rendering.AnnThumbStyle.prototype.set_fill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnThumbStyle.prototype,"stroke",{get:lt.Annotations.Rendering.AnnThumbStyle.prototype.get_stroke,set:lt.Annotations.Rendering.AnnThumbStyle.prototype.set_stroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnThumbStyle.prototype,"isVisible",{get:lt.Annotations.Rendering.AnnThumbStyle.prototype.get_isVisible,set:lt.Annotations.Rendering.AnnThumbStyle.prototype.set_isVisible,
enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnRectangleThumbStyle=function(){lt.Annotations.Rendering.AnnRectangleThumbStyle.initializeBase(this)};lt.Annotations.Rendering.AnnRectangleThumbStyle.prototype={create:function(){return new lt.Annotations.Rendering.AnnRectangleThumbStyle},addPath:function(b,c){null!=b&&b.rect(c.get_x(),c.get_y(),c.get_width(),c.get_height())}};lt.Annotations.Rendering.AnnEllipseThumbStyle=function(){lt.Annotations.Rendering.AnnEllipseThumbStyle.initializeBase(this)};
lt.Annotations.Rendering.AnnEllipseThumbStyle.prototype={create:function(){return new lt.Annotations.Rendering.AnnEllipseThumbStyle},addPath:function(b,c){null!=b&&lt.Annotations.Rendering.AnnHtml5RenderingEngine.drawEllipse(b,c)}};lt.Annotations.Rendering.AnnEncryptObjectRenderer=function(){lt.Annotations.Rendering.AnnEncryptObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnEncryptObjectRenderer.prototype={render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");
null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=a&&null!=a.get_context()&&a.get_container().get_userMode()!==lt.Annotations.Core.AnnUserMode.run){var d=Type.safeCast(c,lt.Annotations.Core.AnnEncryptObject);if(null!=d){var e=b.get_transform().clone(),f=b.get_rotateTransform().clone();f.get_isIdentity()||b.updateTransform(b.get_transformWithoutRotate());var g=lt.LeadPointD.create(d.get_bounds().get_left()+
d.get_bounds().get_width()/2,d.get_bounds().get_top()+d.get_bounds().get_height()/2),g=b.pointFromContainerCoordinates(g,d.get_fixedStateOperations()),h=this._saveContext(),i=d.get_rect(),i=b.rectFromContainerCoordinates(i,d.get_fixedStateOperations());f.translatePrepend(g.get_x(),g.get_y());var j=lt.Annotations.Core.Utils.isFlipedReveresd(b)*Math.abs(d.get_angle()),k=d.get_isFlipped()?-1:1,l=d.get_isReversed()?-1:1;(0>l||0>k)&&f.scalePrepend(l,k);!lt.Annotations.Core.AnnDouble.isNaN(d.get_angle())&&
j&&f.rotatePrepend(j*l*k);f.translatePrepend(-g.get_x(),-g.get_y());this._multiplyTransform(f);d.get_encryptor()?null!=d.get_primaryPicture()?a.drawPicture(d.get_primaryPicture(),i,c):(f=this.get_renderingEngine().get_resources(),null!=f&&-1<d.get_defaultPrimaryPicture()&&d.get_defaultPrimaryPicture()<f.get_images().length&&a.drawPicture(f.get_images()[d.get_defaultPrimaryPicture()],i,c)):null!=d.get_secondaryPicture()?a.drawPicture(d.get_secondaryPicture(),i,c):(f=this.get_renderingEngine().get_resources(),
null!=f&&-1<d.get_defaultSecondaryPicture()&&d.get_defaultSecondaryPicture()<f.get_images().length&&a.drawPicture(f.get_images()[d.get_defaultSecondaryPicture()],i,c));this._restoreContext(h);b.updateTransform(e)}}}};lt.Annotations.Rendering.AnnMediaObjectRenderer=function(){lt.Annotations.Rendering.AnnMediaObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnMediaObjectRenderer.prototype={get_showAtRunMode:function(){return!0}};Object.defineProperty(lt.Annotations.Rendering.AnnMediaObjectRenderer.prototype,
"showAtRunMode",{get:lt.Annotations.Rendering.AnnMediaObjectRenderer.prototype.get_showAtRunMode,enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnSvgCrossProductObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgCrossProductObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgCrossProductObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgCrossProductObjectRenderer.callBaseMethod(this,"createObject",[b]);var c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b.get_stateId()),
a=lt.Annotations.Rendering._annSvgHelpers.createPolyline();a.id=lt.Annotations.Rendering._annSvgHelpers.getSecondPolylineId(b.get_stateId());lt.Annotations.Rendering._annSvgHelpers.appendElement(c,a)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);null!=a&&lt.Annotations.Rendering._annSvgHelpers.removeElement(a,lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getSecondPolylineId(c)))}lt.Annotations.Rendering.AnnSvgCrossProductObjectRenderer.callBaseMethod(this,
"removeObject",[b])},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(c,lt.Annotations.Core.AnnCrossProductObject);if(null!=a){var d,e=new lt.Annotations.Core.AnnPolyRulerObject;e.set_stateId(c.get_stateId());var f=lt.Annotations.Rendering._annSvgHelpers.getElementById(this.get_tickmarksId());e.set_showGauge(a.get_showGauge());e.set_showTickMarks(a.get_showTickMarks());
e.set_tickMarksStroke(a.get_tickMarksStroke());e.set_stroke(a.get_stroke());e.set_measurementUnit(a.get_measurementUnit());e.get_unitsAbbreviation()[e.get_measurementUnit()]=a.get_unitsAbbreviation()[e.get_measurementUnit()];d=a.get_labels().RulerLength;e.get_labels().RulerLength=d;var g=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getLabelsId(c.get_stateId())),h=lt.Annotations.Rendering._annSvgHelpers.createText();String.isNullOrEmpty(d.get_stateId())&&
d.set_stateId(String.format("{0}.Label.{1}",c.get_stateId(),"RulerLength"));h.id=d.get_stateId();g.appendChild(h);e.set_fixedStateOperations(c.get_fixedStateOperations());e.set_gaugeLength(a.get_gaugeLength());e.set_tickMarksLength(a.get_tickMarksLength());e.get_points().clear();e.get_points().add(a.get_firstStartPoint());e.get_points().add(a.get_firstEndPoint());lt.Annotations.Rendering.AnnSvgCrossProductObjectRenderer.callBaseMethod(this,"setActivePolyLineID",[lt.Annotations.Rendering._annSvgHelpers.getPolylineId(c.get_stateId())]);
lt.Annotations.Rendering.AnnSvgCrossProductObjectRenderer.callBaseMethod(this,"render",[b,e]);var i=new lt.Annotations.Core.AnnPolyRulerObject,j=f.getAttribute("d");i.set_stateId(c.get_stateId());i.set_showGauge(a.get_showGauge());i.set_showTickMarks(a.get_showTickMarks());i.set_tickMarksStroke(a.get_tickMarksStroke());i.set_stroke(a.get_stroke());i.set_measurementUnit(a.get_measurementUnit());i.get_unitsAbbreviation()[e.get_measurementUnit()]=a.get_unitsAbbreviation()[e.get_measurementUnit()];i.set_precision(a.get_precision());
i.set_fixedStateOperations(c.get_fixedStateOperations());i.set_gaugeLength(a.get_gaugeLength());i.set_tickMarksLength(a.get_tickMarksLength());i.set_internalThumbLocations(c.get_internalThumbLocations());i.set_isSelected(c.get_isSelected());i.set_internalRotateCenterLocation(c.get_internalRotateCenterLocation());i.set_internalRotateGripperLocation(c.get_internalRotateGripperLocation());d=a.get_labels().SecondaryRulerLength;i.get_labels().RulerLength=d;h=lt.Annotations.Rendering._annSvgHelpers.createText();
String.isNullOrEmpty(d.get_stateId())&&d.set_stateId(String.format("{0}.Label.{1}",c.get_stateId(),"SecondaryRulerLength"));h.id=d.get_stateId();g.appendChild(h);i.get_points().clear();i.get_points().add(a.get_secondStartPoint());i.get_points().add(a.get_secondEndPoint());lt.Annotations.Rendering.AnnSvgCrossProductObjectRenderer.callBaseMethod(this,"setActivePolyLineID",[lt.Annotations.Rendering._annSvgHelpers.getSecondPolylineId(c.get_stateId())]);lt.Annotations.Rendering.AnnSvgCrossProductObjectRenderer.callBaseMethod(this,
"render",[b,i]);a=f.getAttribute("d");f.setAttribute("d",j+a)}}};lt.Annotations.Rendering.AnnSvgCurveObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgCurveObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgCurveObjectRenderer.prototype={render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");lt.Annotations.Rendering.AnnSvgCurveObjectRenderer.callBaseMethod(this,
"render",[b,c]);var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a&&!a.get_stateless()&&(a=Type.safeCast(c,lt.Annotations.Core.AnnCurveObject),null!=a)){var d=b.pointsFromContainerCoordinates(c.get_points().toArray(),a.get_fixedStateOperations()),e=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getPolylineId(c.get_stateId()));2<d.length?lt.Annotations.Rendering._svgDrawingHelper.drawCurve(e,d,a.get_tension(),
a.get_isClosed()):2===d.length&&lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(e,d,!1);lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(e,a.get_stroke(),a.get_supportsStroke());lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(e,a.get_fill(),a.get_supportsFill())}}};lt.Annotations.Rendering.AnnSvgEllipseObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgEllipseObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgEllipseObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgEllipseObjectRenderer.callBaseMethod(this,
"createObject",[b]);var c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b.get_stateId()),a=lt.Annotations.Rendering._annSvgHelpers.createEllipse();a.id=lt.Annotations.Rendering._annSvgHelpers.getEllipseId(b.get_stateId());lt.Annotations.Rendering._annSvgHelpers.appendElement(c,a)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);null!=a&&a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getEllipseId(c)))}lt.Annotations.Rendering.AnnSvgEllipseObjectRenderer.callBaseMethod(this,
"removeObject",[b])},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");if(!this.get_renderingEngine().get_stateless()){lt.Annotations.Rendering.AnnSvgEllipseObjectRenderer.callBaseMethod(this,"render",[b,c]);var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getEllipseId(c.get_stateId()));null!=a&&lt.Annotations.Rendering._svgDrawingHelper.drawEllipse(a,
b,c)}}};lt.Annotations.Rendering.AnnSvgEncryptObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgEncryptObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgEncryptObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgEncryptObjectRenderer.callBaseMethod(this,"createObject",[b]);var c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b.get_stateId()),a=lt.Annotations.Rendering._annSvgHelpers.createImage();a.id=lt.Annotations.Rendering._annSvgHelpers.getImageId(b.get_stateId());
lt.Annotations.Rendering._annSvgHelpers.appendElement(c,a)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);null!=a&&a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(c)))}lt.Annotations.Rendering.AnnSvgEncryptObjectRenderer.callBaseMethod(this,"removeObject",[b])},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");
null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a&&!a.get_stateless()){a=Type.safeCast(c,lt.Annotations.Core.AnnEncryptObject);if(null!=a){var d=lt.LeadPointD.create(a.get_bounds().get_left()+a.get_bounds().get_width()/2,a.get_bounds().get_top()+a.get_bounds().get_height()/2),d=b.pointFromContainerCoordinates(d,a.get_fixedStateOperations()),e=new lt.LeadMatrix,f=
lt.LeadPointD.create(parseInt(d.get_x()),parseInt(d.get_y())),d=b.rectFromContainerCoordinates(a.get_rect(),a.get_fixedStateOperations());lt.Annotations.Core.AnnDouble.isNaN(a.get_angle())||e.rotateAt(a.get_angle(),f.get_x(),f.get_y());var f=c.get_stateId(),g=lt.Annotations.Rendering._annSvgHelpers.getElementById(f);lt.Annotations.Rendering._annSvgHelpers.setTransformAttribute(g,e);e=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(f));a.get_encryptor()?
null!=a.get_primaryPicture()?lt.Annotations.Rendering._svgDrawingHelper.drawPicture(e,a.get_primaryPicture(),d,c,b):(f=this.get_renderingEngine().get_resources(),null!=f&&-1<a.get_defaultPrimaryPicture()&&a.get_defaultPrimaryPicture()<f.get_images().length&&lt.Annotations.Rendering._svgDrawingHelper.drawPicture(e,f.get_images()[a.get_defaultPrimaryPicture()],d,c,b)):null!=a.get_secondaryPicture()?lt.Annotations.Rendering._svgDrawingHelper.drawPicture(e,a.get_secondaryPicture(),d,c,b):(f=this.get_renderingEngine().get_resources(),
null!=f&&-1<a.get_defaultSecondaryPicture()&&a.get_defaultSecondaryPicture()<f.get_images().length&&lt.Annotations.Rendering._svgDrawingHelper.drawPicture(e,f.get_images()[a.get_defaultSecondaryPicture()],d,c,b))}lt.Annotations.Rendering.AnnSvgEncryptObjectRenderer.callBaseMethod(this,"render",[b,c])}}};lt.Annotations.Rendering.AnnSvgFreehandHotspotObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgFreehandHotspotObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgFreehandHotspotObjectRenderer.prototype=
{createObject:function(b){lt.Annotations.Rendering.AnnSvgFreehandHotspotObjectRenderer.callBaseMethod(this,"createObject",[b]);var b=b.get_stateId(),c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b),a=lt.Annotations.Rendering._annSvgHelpers.createImage();a.id=lt.Annotations.Rendering._annSvgHelpers.getImageId(b);lt.Annotations.Rendering._annSvgHelpers.appendElement(c,a)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);
null!=a&&a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(c)))}lt.Annotations.Rendering.AnnSvgFreehandHotspotObjectRenderer.callBaseMethod(this,"removeObject",[b])},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);
if(null!=a&&!a.get_stateless()){var d=Type.safeCast(c,lt.Annotations.Core.AnnFreehandHotspotObject);if(null!=d&&a.get_container().get_userMode()===lt.Annotations.Core.AnnUserMode.design){var a=b.rectFromContainerCoordinates(d.get_bounds(),d.get_fixedStateOperations()),e=this.beginClipPath();lt.Annotations.Rendering.AnnSvgFreehandHotspotObjectRenderer.callBaseMethod(this,"render",[b,c]);var f=c.get_stateId();b.pointsFromContainerCoordinates(c.get_points().toArray(),d.get_fixedStateOperations());var g=
lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(f)),h=lt.Annotations.Rendering._annSvgHelpers.getClipPathId(c.get_stateId()),h=lt.Annotations.Rendering._annSvgHelpers.getPolylineId(h);lt.Annotations.Rendering._svgDrawingHelper.drawPolyline(lt.Annotations.Rendering._annSvgHelpers.getElementById(h),b,c);lt.Annotations.Rendering._annSvgHelpers.setClipPathAttribute(g,lt.Annotations.Rendering._annSvgHelpers.getClipPathId(f));null!=d.get_picture()?
lt.Annotations.Rendering._svgDrawingHelper.drawPicture(g,d.get_picture(),a,c,b):(f=this.get_renderingEngine().get_resources(),null!=f&&-1<d.get_defaultPicture()&&d.get_defaultPicture()<f.get_images().length&&lt.Annotations.Rendering._svgDrawingHelper.drawPicture(g,f.get_images()[d.get_defaultPicture()],a,c,b));this.endClipPath(e)}}}};lt.Annotations.Rendering.AnnSvgHiliteObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgHiliteObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgHiliteObjectRenderer.prototype=
{render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");if(!this.get_renderingEngine().get_stateless()){lt.Annotations.Rendering.AnnSvgHiliteObjectRenderer.callBaseMethod(this,"render",[b,c]);var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c.get_stateId()),a=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(a.id));
null!=a&&lt.Annotations.Rendering._svgDrawingHelper.drawHilite(a,b,c)}}};lt.Annotations.Rendering.AnnSvgHotspotObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgHotspotObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgHotspotObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgHotspotObjectRenderer.callBaseMethod(this,"createObject",[b]);var b=b.get_stateId(),c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b),a=lt.Annotations.Rendering._annSvgHelpers.createImage();
a.id=lt.Annotations.Rendering._annSvgHelpers.getImageId(b);lt.Annotations.Rendering._annSvgHelpers.appendElement(c,a)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);null!=a&&a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(c)))}lt.Annotations.Rendering.AnnSvgHotspotObjectRenderer.callBaseMethod(this,"removeObject",[b])},get_showAtRunMode:function(){var b=
this.get_renderingEngine();return null!=b?b.get_container().get_userMode()===lt.Annotations.Core.AnnUserMode.design:!1},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a&&!a.get_stateless()){a=Type.safeCast(c,lt.Annotations.Core.AnnHotspotObject);if(null!=a&&this.get_showAtRunMode()){var d=
lt.LeadPointD.create(a.get_bounds().get_left()+a.get_bounds().get_width()/2,a.get_bounds().get_top()+a.get_bounds().get_height()/2),d=b.pointFromContainerCoordinates(d,a.get_fixedStateOperations()),e=new lt.LeadMatrix,f=lt.LeadPointD.create(parseInt(d.get_x()),parseInt(d.get_y())),d=b.rectFromContainerCoordinates(a.get_rect(),a.get_fixedStateOperations()),g=1;a.get_isFlipped()&&(g=-1);var h=1;a.get_isReversed()&&(h=-1);e.translate(-f.get_x(),-f.get_y());var i=Math.abs(a.get_angle());0>h*g&&(0>h&&
(i-=180),e.scale(h,g));lt.Annotations.Core.AnnDouble.isNaN(a.get_angle())||e.rotate(i);g=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(c.get_stateId()));e.translate(f.get_x(),f.get_y());f=lt.Annotations.Rendering._annSvgHelpers.getElementById(c.get_stateId());lt.Annotations.Rendering._annSvgHelpers.setTransformAttribute(f,e);null!=a.get_picture()?lt.Annotations.Rendering._svgDrawingHelper.drawPicture(g,a.get_picture(),d,c,b):(e=this.get_renderingEngine().get_resources(),
null!=e&&-1<a.get_defaultPicture()&&a.get_defaultPicture()<e.get_images().length&&lt.Annotations.Rendering._svgDrawingHelper.drawPicture(g,e.get_images()[a.get_defaultPicture()],d,c,b))}lt.Annotations.Rendering.AnnSvgHotspotObjectRenderer.callBaseMethod(this,"render",[b,a])}}};Object.defineProperty(lt.Annotations.Rendering.AnnSvgHotspotObjectRenderer.prototype,"showAtRunMode",{get:lt.Annotations.Rendering.AnnSvgHotspotObjectRenderer.prototype.get_showAtRunMode,enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnSvgMediaObjectRenderer=
function(){lt.Annotations.Rendering.AnnSvgMediaObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgMediaObjectRenderer.prototype={get_showAtRunMode:function(){return!0}};Object.defineProperty(lt.Annotations.Rendering.AnnSvgMediaObjectRenderer.prototype,"showAtRunMode",{get:lt.Annotations.Rendering.AnnSvgMediaObjectRenderer.prototype.get_showAtRunMode,enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnSvgNoteObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgNoteObjectRenderer.initializeBase(this)};
lt.Annotations.Rendering.AnnSvgNoteObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgNoteObjectRenderer.callBaseMethod(this,"createObject",[b]);var c=b.get_stateId(),b=lt.Annotations.Rendering._annSvgHelpers.getElementById(c),a=lt.Annotations.Rendering._annSvgHelpers.getRectId(c),d=lt.Annotations.Rendering._annSvgHelpers.createPath();d.id=lt.Annotations.Rendering._annSvgHelpers.getShadowId(c);c=lt.Annotations.Rendering._annSvgHelpers.getElementById(a);b.insertBefore(d,
c)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);null!=a&&lt.Annotations.Rendering._annSvgHelpers.removeElement(a,lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getShadowId(c)))}lt.Annotations.Rendering.AnnSvgNoteObjectRenderer.callBaseMethod(this,"removeObject",[b])},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");
null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a&&!a.get_stateless()){var d=Type.safeCast(c,lt.Annotations.Core.AnnNoteObject),e=lt.LeadPointD.get_empty();if(null!=d){var a=this.getRenderPoints(b,d),a=b.pointsFromContainerCoordinates(a,d.get_fixedStateOperations()),f=[a[1],a[2],a[3]],g=lt.Annotations.Core.Utils.getUnitVectorPerpendicular(f[0],f[1]),h=lt.Annotations.Core.Utils.getUnitVector(f[0],
f[1]),a=[lt.LeadPointD.get_empty(),lt.LeadPointD.get_empty(),lt.LeadPointD.get_empty(),lt.LeadPointD.get_empty(),lt.LeadPointD.get_empty(),lt.LeadPointD.get_empty(),lt.LeadPointD.get_empty()],d=lt.LeadLengthD.create(b.lengthFromContainerCoordinates(lt.LeadLengthD.create(d.get_shadowBorderWidth().get_value()),lt.Annotations.Core.AnnFixedStateOperations.lengthValue|lt.Annotations.Core.AnnFixedStateOperations.zooming)),e=c.get_bounds();if(d.get_value()<e.get_width()&&d.get_value()<e.get_height()&&(a[0]=
lt.Annotations.Core.Utils.transformPoint(h,d,f[0]),a[1]=lt.Annotations.Core.Utils.transformPoint(g,d,a[0]),e=lt.Annotations.Core.Utils.transformPoint(h,d,f[1]),a[2]=lt.Annotations.Core.Utils.transformPoint(g,d,e),e=lt.Annotations.Core.Utils.transformPoint(g,d,f[2]),a[3]=lt.Annotations.Core.Utils.transformPoint(h,d,e),a[4]=e,a[5]=f[1],a[6]=a[0],f=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getShadowId(c.get_stateId())),null!=f)){g=String.format("M{0} {1}",
a[0].get_x(),a[0].get_y());for(h=1;h<a.length;h++)g+=String.format("L{0} {1} ",a[h].get_x(),a[h].get_y());lt.Annotations.Rendering._annSvgHelpers.setPathAttribute(f,g);lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(f,lt.Annotations.Core.AnnSolidColorBrush.create("#7F7F7F"),!0)}}}lt.Annotations.Rendering.AnnSvgNoteObjectRenderer.callBaseMethod(this,"render",[b,c])}};lt.Annotations.Rendering.AnnSvgObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgObjectRenderer.initializeBase(this)};
lt.Annotations.Rendering.AnnSvgObjectRenderer.prototype={createElement:function(){return lt.Annotations.Rendering._annSvgHelpers.createGroup()},removeElementById:function(b){var c=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine),c=String.format("Annotation_Svg_{0}",c.get_element().id);lt.Annotations.Rendering._annSvgHelpers.getElementById(c).removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(b))},createObject:function(b){var c=Type.safeCast(this.get_renderingEngine(),
lt.Annotations.Rendering.AnnSvgRenderingEngine);b.set_stateId(String.format("{0}.Object{1}",c.get_element().id,lt.Annotations.Rendering.AnnSvgObjectRenderer._count$1++));var a=this.createElement();a.id=b.get_stateId();b=String.format("Annotation_Svg_{0}",c.get_element().id);b=lt.Annotations.Rendering._annSvgHelpers.getElementById(b);lt.Annotations.Rendering._annSvgHelpers.appendElement(b,a);b=lt.Annotations.Rendering._annSvgHelpers.createClipPath();b.id=lt.Annotations.Rendering._annSvgHelpers.getClipPathId(a.id);
a.appendChild(b)},addObject:function(b){this.createObject(b);var b=b.get_stateId(),c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b),a=lt.Annotations.Rendering._annSvgHelpers.createImage();a.id=lt.Annotations.Rendering._annSvgHelpers.getLockId(b);var d=lt.Annotations.Rendering._annSvgHelpers.createGroup();d.id=lt.Annotations.Rendering._annSvgHelpers.getLabelsId(b);c.appendChild(d);c.appendChild(a)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(b.get_stateId());
null!=a&&(a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getLabelsId(c))),a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getLockId(c))),a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getClipPathId(c))),this.removeElementById(b.get_stateId()));b.set_stateId("")}},render:function(b,c){var a=Type.safeCast(this.get_renderingEngine(),
lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a){var d=String.format("Annotation_Svg_{0}",a.get_element().id),a=lt.Annotations.Rendering._annSvgHelpers.getElementById(d),d=lt.Annotations.Rendering._annSvgHelpers.getElementById(d+"AnnThumbGroup");null!=d&&lt.Annotations.Rendering._annSvgHelpers.removeElement(a,d);d=lt.Annotations.Rendering._annSvgHelpers.createGroup();d.id=a.id+"AnnThumbGroup";a.appendChild(d)}if(null!=c.get_labels()&&0<Object.getKeyCount(c.get_labels()))for(a=ss.IEnumerator.getEnumerator(Object.keys(c.get_labels()));a.moveNext();){var d=
a.current,e=c.get_labels()[d];if("AnnObjectName"===d){var f=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getLabelsId(c.get_stateId())),g=lt.Annotations.Rendering._annSvgHelpers.getElementById(e.get_stateId());null==g&&(g=lt.Annotations.Rendering._annSvgHelpers.createText(),String.isNullOrEmpty(e.get_stateId())&&e.set_stateId(String.format("{0}.Label.{1}",c.get_stateId(),d)),g.id=e.get_stateId(),null!=f&&f.appendChild(g));e.set_originalPosition(lt.LeadPointD.create(c.get_bounds().get_x(),
c.get_bounds().get_y()));null!=this.get_labelRenderer()&&(this.get_labelRenderer().set_offsetHeight(!0),this.get_labelRenderer().renderLabel(b,e,c.get_fixedStateOperations()))}}if(c.get_id()===lt.Annotations.Core.AnnObject.selectObjectId)if(a=Type.safeCast(c,lt.Annotations.Core.AnnSelectionObject).get_selectedObjects(),1===a.get_count())a=a.get_item(0),a.get_canRotate()&&this.renderRotatePointThumbs(b,a.get_internalRotateCenterLocation(),a.get_internalRotateGripperLocation(),a.get_fixedStateOperations()),
this.renderThumbs(b,a.get_internalThumbLocations(),a.get_fixedStateOperations());else{if(0<a.get_count()){for(a=ss.IEnumerator.getEnumerator(a);a.moveNext();)d=a.current,e=this.get_renderingEngine().get_renderers()[d.get_id()],null!=e&&(e.initialize(this.get_renderingEngine()),e.render(b,d));c.get_canRotate()&&this.renderRotatePointThumbs(b,c.get_internalRotateCenterLocation(),c.get_internalRotateGripperLocation(),c.get_fixedStateOperations());this.renderThumbs(b,c.get_internalThumbLocations(),c.get_fixedStateOperations())}}else c.get_isSelected()&&
(c.get_canRotate()&&this.renderRotatePointThumbs(b,c.get_internalRotateCenterLocation(),c.get_internalRotateGripperLocation(),c.get_fixedStateOperations()),this.renderThumbs(b,c.get_internalThumbLocations(),c.get_fixedStateOperations()),c.get_supportsSelectionStroke()&&this.renderSelection(b,c));this.renderLocked(b,c,c.get_fixedStateOperations())},renderLocked:function(b,c){var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a&&!a.get_stateless()){var d=
lt.LeadPointD.create(c.get_bounds().get_left(),c.get_bounds().get_top()),d=b.pointFromContainerCoordinates(d,c.get_fixedStateOperations()),a=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getLockId(c.get_stateId()));if(null!=a)if(c.get_isLocked()){lt.Annotations.Rendering._annSvgHelpers.setVisibleAttribute(a,!0);var e=this.get_renderingEngine().get_resources();if(null!=e){var f=e.get_images()[c.get_lockPicture()],d=lt.LeadRectD.create(d.get_x(),d.get_y(),
32,32);null!=f?lt.Annotations.Rendering._svgDrawingHelper.drawPicture(a,f,d,c,b):-1<c.get_lockPicture()&&c.get_lockPicture()<e.get_images().length&&lt.Annotations.Rendering._svgDrawingHelper.drawPicture(a,e.get_images()[c.get_lockPicture()],d,c,b)}}else lt.Annotations.Rendering._annSvgHelpers.setVisibleAttribute(a,!1)}}};lt.Annotations.Rendering.AnnSvgPointerObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgPointerObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgPointerObjectRenderer.prototype=
{createObject:function(b){lt.Annotations.Rendering.AnnSvgPointerObjectRenderer.callBaseMethod(this,"createObject",[b]);var b=b.get_stateId(),c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b),a=lt.Annotations.Rendering._annSvgHelpers.createPolyline();a.id=lt.Annotations.Rendering._annSvgHelpers.getArrowId(b);lt.Annotations.Rendering._annSvgHelpers.appendElement(c,a)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);
null!=a&&a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getArrowId(c)))}lt.Annotations.Rendering.AnnSvgPointerObjectRenderer.callBaseMethod(this,"removeObject",[b])},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);
if(null!=a&&!a.get_stateless()&&(lt.Annotations.Rendering.AnnSvgPointerObjectRenderer.callBaseMethod(this,"render",[b,c]),a=Type.safeCast(c,lt.Annotations.Core.AnnPointerObject),null!=a)){var d=a.getArrowPoints(),e=b.lengthFromContainerCoordinates(a.get_arrowLength(),a.get_fixedStateOperations()|lt.Annotations.Core.AnnFixedStateOperations.zooming|lt.Annotations.Core.AnnFixedStateOperations.lengthValue),f=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getArrowId(c.get_stateId()));
if(null!=d&&3<=d.length){d[1]=b.pointFromContainerCoordinates(d[1],a.get_fixedStateOperations());for(var g=0;2>g;g++){d[2*g]=b.pointFromContainerCoordinates(d[2*g],a.get_fixedStateOperations());var h=lt.Annotations.Core.Utils.getUnitVector(d[1],d[2*g]);d[2*g]=lt.Annotations.Core.Utils.transformPoint(h,lt.LeadLengthD.create(e),d[1])}lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(f,d,!1);lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(f,a.get_stroke(),a.get_supportsStroke());
lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(f,null,a.get_supportsFill())}}}};lt.Annotations.Rendering.AnnSvgPointObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgPointObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgPointObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgPointObjectRenderer.callBaseMethod(this,"createObject",[b]);var b=b.get_stateId(),c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b),a=lt.Annotations.Rendering._annSvgHelpers.createImage();
a.id=lt.Annotations.Rendering._annSvgHelpers.getImageId(b);var d=lt.Annotations.Rendering._annSvgHelpers.createEllipse();d.id=lt.Annotations.Rendering._annSvgHelpers.getEllipseId(b);lt.Annotations.Rendering._annSvgHelpers.appendElement(c,a);lt.Annotations.Rendering._annSvgHelpers.appendElement(c,d)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);null!=a&&(a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getEllipseId(c))),
a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(c))))}lt.Annotations.Rendering.AnnSvgPointObjectRenderer.callBaseMethod(this,"removeObject",[b])},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a&&
!a.get_stateless()){a=Type.safeCast(c,lt.Annotations.Core.AnnPointObject);if(null!=a){var d=b.rectFromContainerCoordinates(c.get_bounds(),a.get_fixedStateOperations()),e=c.get_stateId(),f=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(e)),e=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getEllipseId(e));a.get_showPicture()?(lt.Annotations.Rendering._annSvgHelpers.setVisibleAttribute(f,!0),lt.Annotations.Rendering._annSvgHelpers.setVisibleAttribute(e,
!1),null!=a.get_picture()?lt.Annotations.Rendering._svgDrawingHelper.drawPicture(f,a.get_picture(),d,c,b):(e=this.get_renderingEngine().get_resources(),null!=e&&-1<a.get_defaultPicture()&&a.get_defaultPicture()<e.get_images().length&&(a.set_picture(e.get_images()[a.get_defaultPicture()]),d=b.rectFromContainerCoordinates(c.get_bounds(),a.get_fixedStateOperations()),lt.Annotations.Rendering._svgDrawingHelper.drawPicture(f,e.get_images()[a.get_defaultPicture()],d,c,b)))):(lt.Annotations.Rendering._annSvgHelpers.setVisibleAttribute(f,
!1),lt.Annotations.Rendering._annSvgHelpers.setVisibleAttribute(e,!0),lt.Annotations.Rendering._annSvgHelpers.setEllipseAttribute(e,d),lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(e,a.get_fill(),a.get_supportsFill()),null!=a.get_stroke()&&lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(e,a.get_stroke(),a.get_supportsStroke()))}lt.Annotations.Rendering.AnnSvgPointObjectRenderer.callBaseMethod(this,"render",[b,c])}}};lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer=function(){this._activeId$2=
"";lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer.prototype={setActivePolyLineID:function(b){this._activeId$2=b},createObject:function(b){lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer.callBaseMethod(this,"createObject",[b]);var c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b.get_stateId()),a=lt.Annotations.Rendering._annSvgHelpers.createPolyline(),d=lt.Annotations.Rendering._annSvgHelpers.getPolylineId(b.get_stateId());
a.id=d;d=lt.Annotations.Rendering._annSvgHelpers.createPolyline();b=lt.Annotations.Rendering._annSvgHelpers.getClipPathId(b.get_stateId());d.id=lt.Annotations.Rendering._annSvgHelpers.getPolylineId(b);lt.Annotations.Rendering._annSvgHelpers.getElementById(b).appendChild(d);this.setActivePolyLineID("");c.appendChild(a)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getClipPathId(b.get_stateId());if(!String.isNullOrEmpty(a)){var d=
lt.Annotations.Rendering._annSvgHelpers.getElementById(a);null!=d&&lt.Annotations.Rendering._annSvgHelpers.removeElement(d,lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getPolylineId(a)))}a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);null!=a&&lt.Annotations.Rendering._annSvgHelpers.removeElement(a,lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getPolylineId(c)))}lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer.callBaseMethod(this,
"removeObject",[b])},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a){var d=c.get_stateId(),e=c.get_stateId(),f=lt.Annotations.Rendering._annSvgHelpers.getElementById(d);null!=f&&((!d.startsWith(a.get_element().id)&&!a.get_element().contains(f)&&(e=c.get_stateId(),
c.set_stateId("")),a.get_element().contains(f))?(String.isNullOrEmpty(this._activeId$2)&&(this._activeId$2=lt.Annotations.Rendering._annSvgHelpers.getPolylineId(d)),a=lt.Annotations.Rendering._annSvgHelpers.getElementById(this._activeId$2),this.get_clipPath()&&(d=lt.Annotations.Rendering._annSvgHelpers.getClipPathId(d),lt.Annotations.Rendering._svgDrawingHelper.drawPolyline(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getPolylineId(d)),b,c)),lt.Annotations.Rendering._svgDrawingHelper.drawPolyline(a,
b,c)):(this.addObject(c),this.render(b,c),c.set_stateId(e)));lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer.callBaseMethod(this,"render",[b,c]);this._activeId$2=""}}};lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer=function(){this._tickmarksId$3="";lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer.prototype={get_tickmarksId:function(){return this._tickmarksId$3},set_tickmarksId:function(b){return this._tickmarksId$3=
b},drawTickMarks:function(b,c,a,d,e,f,g){f=lt.Annotations.Rendering._annSvgHelpers.getElementById(this._tickmarksId$3);if(null!=f){var h=f.getAttribute("d"),b=lt.Annotations.Core.RulerHelper.getTickMarks(b,c,a,lt.LeadLengthD.create(d.get_value()),e,g);if(null!=b)for(c=0;c<b.length;c+=2)h+=String.format("M{0} {1} L{2} {3} ",b[c].get_x(),b[c].get_y(),b[c+1].get_x(),b[c+1].get_y());lt.Annotations.Rendering._annSvgHelpers.setPathAttribute(f,h)}},drawGauge:function(b,c,a,d,e,f){if(!(c.get_x()===a.get_x()&&
c.get_y()===a.get_y())){var g=lt.Annotations.Rendering._annSvgHelpers.getElementById(this._tickmarksId$3);null!=g&&(b=lt.Annotations.Core.RulerHelper.getGaugePoints(b,c,a,d,f),null!=b&&(c=g.getAttribute("d"),c+=String.format("M{0} {1} L{2} {3} ",b[0].get_x(),b[0].get_y(),b[1].get_x(),b[1].get_y()),c+=String.format("M{0} {1} L{2} {3}",b[2].get_x(),b[2].get_y(),b[3].get_x(),b[3].get_y()),lt.Annotations.Rendering._annSvgHelpers.setPathAttribute(g,c),lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(g,
e,!0)))}},drawLengthText:function(b,c,a){null!=this.get_labelRenderer()&&this.get_labelRenderer().renderLabel(b,c,a)},get__canDrawLength:function(){return!0},addObject:function(b){lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer.callBaseMethod(this,"addObject",[b]);var b=b.get_stateId(),b=lt.Annotations.Rendering._annSvgHelpers.getElementById(b),c=lt.Annotations.Rendering._annSvgHelpers.createPath();this._tickmarksId$3=String.format("{0}.{1}",b.id,"tickmarks");c.id=this._tickmarksId$3;lt.Annotations.Rendering._annSvgHelpers.appendElement(b,
c)},removeObject:function(b){var c=b.get_stateId();String.isNullOrEmpty(c)||(c=lt.Annotations.Rendering._annSvgHelpers.getElementById(c),null!=c&&c.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(this._tickmarksId$3)));lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer.callBaseMethod(this,"removeObject",[b])},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");
lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer.callBaseMethod(this,"render",[b,c]);var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a&&!a.get_stateless()&&(a=Type.safeCast(c,lt.Annotations.Core.AnnPolyRulerObject),null!=a)){var d=lt.Annotations.Rendering._annSvgHelpers.getElementById(this._tickmarksId$3);if(null!=d&&null!=a.get_tickMarksStroke()){var e=a.get_tickMarksStroke();null==e&&(e=a.get_stroke());lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(d,
e,!0);lt.Annotations.Rendering._annSvgHelpers.setPathAttribute(d,"")}for(d=0;d<c.get_points().get_count()-1;++d){var e=c.get_points().get_item(d),f=c.get_points().get_item(d+1);a.get_supportsStroke()&&null!=a.get_stroke()&&(a.get_showGauge()&&this.drawGauge(b,e,f,a.get_gaugeLength(),a.get_stroke(),a.get_fixedStateOperations()),a.get_showTickMarks()&&null!=a.get_tickMarksStroke()&&this.drawTickMarks(b,e,f,a.get_tickMarksLength(),a.get_measurementUnit(),a.get_tickMarksStroke(),a.get_fixedStateOperations()))}if(Object.keyExists(a.get_labels(),
"RulerLength")&&(d=a.get_labels().RulerLength,null!=d&&(e=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getLabelsId(c.get_stateId())),null!=e&&(f=lt.Annotations.Rendering._annSvgHelpers.createText(),String.isNullOrEmpty(d.get_stateId())&&d.set_stateId(String.format("{0}.Label.{1}",c.get_stateId(),"RulerLength")),f.id=d.get_stateId(),e.appendChild(f)),1<a.get_points().get_count()))){e=lt.Annotations.Core.Utils.getUnitVector(a.get_points().get_item(0),
a.get_points().get_item(1));f=a.get_points().get_item(a.get_points().get_count()-1);0>e.get_x()&&(e=lt.Annotations.Core.Utils.getUnitVector(a.get_points().get_item(1),a.get_points().get_item(0)),f=a.get_points().get_item(0));if(a.get_measurementUnit()===lt.Annotations.Core.AnnUnit.pixel){a.set_measurementUnit(lt.Annotations.Core.AnnUnit.unit);var g=a.getRulerLength(b.get_calibrationScale());a.set_measurementUnit(lt.Annotations.Core.AnnUnit.pixel);g=b.lengthFromContainerCoordinates(g,lt.Annotations.Core.AnnFixedStateOperations.scrolling|
lt.Annotations.Core.AnnFixedStateOperations.zooming);d.set_text(String.format("{0} {1}",lt.Annotations.Core.Utils.precisionFormat(a.get_precision(),g),a.get_unitsAbbreviation()[lt.Annotations.Core.AnnUnit.pixel]))}else d.set_text(a.getRulerLengthAsString(b.get_calibrationScale()));d.set_originalPosition(lt.Annotations.Core.Utils.transformPoint(e,b.lengthToContainerCoordinates(d.get_font().get_fontHeight()),f));this.drawLengthText(b,d,a.get_fixedStateOperations())}}}};Object.defineProperty(lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer.prototype,
"tickmarksId",{get:lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer.prototype.get_tickmarksId,set:lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer.prototype.set_tickmarksId,enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer._getAngle$4=function(b,c,a,d){b-=c;a?180<Math.abs(b)&&(b=0<b?b-360:b+360):180>Math.abs(b)&&
(b=0<b?b-360:b+360);return d===lt.Annotations.Core.AnnAngularUnit.radian?lt.Annotations.Core.Utils.degreesToRadian(b):b};lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer.prototype={_curveId$4:null,createObject:function(b){lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer.callBaseMethod(this,"createObject",[b]);b=lt.Annotations.Rendering._annSvgHelpers.getElementById(b.get_stateId());this._curveId$4=String.format("{0}.{1}",b.id,"curve");var c=lt.Annotations.Rendering._annSvgHelpers.createPath();
c.id=this._curveId$4;lt.Annotations.Rendering._annSvgHelpers.appendElement(b,c)},removeObject:function(b){var c=b.get_stateId();String.isNullOrEmpty(c)||(c=lt.Annotations.Rendering._annSvgHelpers.getElementById(c),null!=c&&c.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(this._curveId$4)));lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer.callBaseMethod(this,"removeObject",[b])},getAngleText:function(b,c,a,d){null==d&&lt.Annotations.Core.ExceptionHelper.argumentNullException("unitsAbbreviation");
return String.format("{0} {1}",lt.Annotations.Core.Utils.precisionFormat(c,b),d[a])},_getTextPart$4:function(b,c,a,d,e,f,g){var h=b.get_y()-a.get_y(),a=b.get_x()-a.get_x(),i=b.get_y()-c.get_y(),b=b.get_x()-c.get_x(),c=1,g=lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer._getAngle$4(d,e,f,g);0>=i&&0>=b&&0>=h&&0>=a?c=2:0<=i&&0<=b&&0<=h&&0<=a?c=4:0>=i&&0<=b&&0>=h&&0<=a?c=1:0<=i&&0>=b&&0<=h&&0>=a?c=3:0<=i&&0<=b&&0>=h&&0<=a||0<=h&&0<=a&&0>=i&&0<=b?(f=d,g=e,d>e?f=360-f:g=360-g,c=0<=i&&0<=b&&0>=h&&
0<=a?f<g?1:4:f<g?4:1):0<=i&&0<=b&&0>=h&&0>=a||0<=h&&0<=a&&0>=i&&0>=b?c=0<=i&&0<=b&&0>=h&&0>=a?0>g?f?3:1:f?1:3:0>g?f?1:3:f?3:1:0<=i&&0>=b&&0>=h&&0<=a||0<=h&&0>=a&&0>=i&&0<=b?c=0<=i&&0>=b&&0>=h&&0<=a?0>g?f?2:4:f?4:2:0>g?f?4:2:f?2:4:0<=i&&0<=b&&0<=h&&0>=a||0<=h&&0<=a&&0<=i&&0>=b?(f=d,g=e,d>e?f=180-f:g=180-g,c=0<=i&&0<=b&&0<=h&&0>=a?f<g?4:3:f<g?3:4):0<=i&&0>=b&&0>=h&&0>=a||0<=h&&0>=a&&0>=i&&0>=b?(f=d,g=e,d>e?(f=270-f,g-=90):(g=270-g,f-=90),c=0<=i&&0>=b&&0>=h&&0>=a?f<g?3:2:f<g?2:3):0>=i&&0>=b&&0>=h&&0<=
a||0>=h&&0>=a&&0>=i&&0<=b?(f=d,g=e,d>e?(f=360-f,g-=180):(g=360-g,f-=180),c=0>=i&&0>=b&&0>=h&&0<=a?f<g?2:1:f<g?1:2):c=1;return c},getPoint:function(b,c,a,d,e,f,g,h,i){c=this._getTextPart$4(a,c,d,e,f,g,i);a=6;g||(a=h);return 1===c?lt.LeadPointD.create(a,-(b.get_height()+a)):2===c?lt.LeadPointD.create(-b.get_width()-a,-(b.get_height()+a)):4===c?lt.LeadPointD.create(a,a):lt.LeadPointD.create(-b.get_width()-a,a)},_polarToCartesian$4:function(b,c,a){var d=lt.LeadPointD.create(0,0),a=lt.Annotations.Core.Utils.degreesToRadian(a);
d.set_x(b.get_x()+c*Math.cos(a));d.set_y(b.get_y()+c*Math.sin(a));return d},drawArc:function(b,c,a,d,e,f,g){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");var h=lt.Annotations.Rendering._annSvgHelpers.getElementById(this._curveId$4);null!=h&&(b=b.lengthFromContainerCoordinates(e,g),e=this._polarToCartesian$4(c,b,a),c=this._polarToCartesian$4(c,b,a+d),d=String.format("M{0} {1} A{2} {2} 0 {3} {4} {5} {6}",e.get_x(),e.get_y(),b,180<Math.abs(d)?1:0,0>d?0:1,c.get_x(),c.get_y()),
lt.Annotations.Rendering._annSvgHelpers.setPathAttribute(h,d),lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(h,f,!0),lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(h,null,!1))},drawAngleText:function(b,c,a){null!=this.get_labelRenderer()&&this.get_labelRenderer().renderLabel(b,c,a)},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer.callBaseMethod(this,
"render",[b,c]);var a=Type.safeCast(c,lt.Annotations.Core.AnnProtractorObject);if(null!=a){var d=a.get_points().toArray(),d=b.pointsFromContainerCoordinates(d,a.get_fixedStateOperations()),e=lt.Annotations.Core.Utils.findAngle(d[0],d[1]),f=lt.Annotations.Core.Utils.findAngle(d[2],d[1]),g=0,h=0,i=a.get_acute();if(0.2<Math.abs(e-f)||!i)g=e-180,h=-lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer._getAngle$4(e,f,i,lt.Annotations.Core.AnnAngularUnit.degree);f&&a.get_supportsStroke()&&null!=a.get_stroke()&&
(lt.Annotations.Core.Utils.distance(a.get_firstPoint(),a.get_centerPoint()),this.drawArc(b,d[1],g,h,a.get_arcRadius(),a.get_stroke(),a.get_fixedStateOperations()|lt.Annotations.Core.AnnFixedStateOperations.zooming|lt.Annotations.Core.AnnFixedStateOperations.lengthValue));g="AngleText";if(Object.keyExists(a.get_labels(),g)&&(d=a.get_labels()[g],null!=d)){var h=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getLabelsId(c.get_stateId())),j=lt.Annotations.Rendering._annSvgHelpers.createText();
String.isNullOrEmpty(d.get_stateId())&&d.set_stateId(String.format("{0}.Label.{1}",c.get_stateId(),g));j.id=d.get_stateId();h.appendChild(j);g=Math.abs(lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer._getAngle$4(e,f,a.get_acute(),a.get_angularUnit()));lt.Annotations.Core.AnnDouble.isNaN(g)||(d.set_text(this.getAngleText(g,a.get_anglePrecision(),a.get_angularUnit(),a.get_angularUnitsAbbreviation())),g=lt.Annotations.Rendering.AnnHtml5RenderingEngine.getTextSize(d.get_text(),d.get_font(),lt.LeadSizeD.get_empty()),
h=b.pointToContainerCoordinates(lt.LeadPointD.create(0,0)),d.set_originalPosition(a.get_centerPoint()),e=this.getPoint(g,b.pointFromContainerCoordinates(a.get_firstPoint(),a.get_fixedStateOperations()),b.pointFromContainerCoordinates(a.get_centerPoint(),a.get_fixedStateOperations()),b.pointFromContainerCoordinates(a.get_secondPoint(),a.get_fixedStateOperations()),e,f,i,b.lengthFromContainerCoordinates(a.get_arcRadius(),lt.Annotations.Core.AnnFixedStateOperations.lengthValue),a.get_angularUnit()),
e=lt.LeadPointD.create(e.get_x(),e.get_y()+g.get_height()),e=b.pointToContainerCoordinates(e),e=lt.LeadPointD.create(e.get_x()-h.get_x(),e.get_y()-h.get_y()),d.set_originalPosition(lt.LeadPointD.create(a.get_centerPoint().get_x()+e.get_x(),a.get_centerPoint().get_y()+e.get_y())),this.drawAngleText(b,d,a.get_fixedStateOperations()))}g="FirstRulerLength";if(Object.keyExists(a.get_labels(),g)&&(d=a.get_labels()[g],null!=d&&(h=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getLabelsId(c.get_stateId())),
j=lt.Annotations.Rendering._annSvgHelpers.createText(),String.isNullOrEmpty(d.get_stateId())&&d.set_stateId(String.format("{0}.Label.{1}",c.get_stateId(),g)),j.id=d.get_stateId(),h.appendChild(j),e=a.getRulerLengthFromPoints(a.get_centerPoint(),a.get_firstPoint(),b.get_calibrationScale()),!lt.Annotations.Core.AnnDouble.isNaN(e.get_value())))){d.set_text(a.getRulerLengthAsStringFromPoints(a.get_centerPoint(),a.get_firstPoint(),b.get_calibrationScale()));e=a.get_firstPoint().clone();if(e.get_x()<a.get_centerPoint().get_x()||
e.get_y()<a.get_centerPoint().get_y())g=lt.Annotations.Rendering.AnnHtml5RenderingEngine.getTextSize(d.get_text(),d.get_font(),lt.LeadSizeD.get_empty()),e.get_y()<a.get_centerPoint().get_y()&&e.set_y(e.get_y()-720*g.get_height()/b.get_targetDpiX()),e.get_x()<a.get_centerPoint().get_x()&&e.set_x(e.get_x()-720*g.get_width()/b.get_targetDpiX());d.set_originalPosition(e.clone());this.drawLengthText(b,d,a.get_fixedStateOperations())}g="SecondRulerLength";if(Object.keyExists(a.get_labels(),g)&&f&&(d=a.get_labels()[g],
null!=d&&(h=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getLabelsId(c.get_stateId())),j=lt.Annotations.Rendering._annSvgHelpers.createText(),String.isNullOrEmpty(d.get_stateId())&&d.set_stateId(String.format("{0}.Label.{1}",c.get_stateId(),g)),j.id=d.get_stateId(),h.appendChild(j),e=a.getRulerLengthFromPoints(a.get_centerPoint(),a.get_secondPoint(),b.get_calibrationScale()),!lt.Annotations.Core.AnnDouble.isNaN(e.get_value())))){d.set_text(a.getRulerLengthAsStringFromPoints(a.get_centerPoint(),
a.get_secondPoint(),b.get_calibrationScale()));e=a.get_secondPoint().clone();if(e.get_x()<a.get_centerPoint().get_x()||e.get_y()<a.get_centerPoint().get_y())g=lt.Annotations.Rendering.AnnHtml5RenderingEngine.getTextSize(d.get_text(),d.get_font(),lt.LeadSizeD.get_empty()),e.get_y()<a.get_centerPoint().get_y()&&e.set_y(e.get_y()-720*g.get_height()/b.get_targetDpiX()),e.get_x()<a.get_centerPoint().get_x()&&e.set_x(e.get_x()-720*g.get_width()/b.get_targetDpiX());d.set_originalPosition(e.clone());this.drawLengthText(b,
d,a.get_fixedStateOperations())}}}};lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer.callBaseMethod(this,"createObject",[b]);var b=lt.Annotations.Rendering._annSvgHelpers.getElementById(b.get_stateId()),c=lt.Annotations.Rendering._annSvgHelpers.createPolyline();
c.id=lt.Annotations.Rendering._annSvgHelpers.getRectId(b.id);b.appendChild(c)},removeObject:function(b){var c=b.get_stateId();String.isNullOrEmpty(c)||(c=lt.Annotations.Rendering._annSvgHelpers.getElementById(c),null!=c&&lt.Annotations.Rendering._annSvgHelpers.removeElement(c,lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(c.id))));lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer.callBaseMethod(this,"removeObject",[b])},render:function(b,
c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a){var d=c.get_stateId(),e=c.get_stateId(),f=lt.Annotations.Rendering._annSvgHelpers.getElementById(c.get_stateId());null!=f&&((!d.startsWith(a.get_element().id)&&!a.get_element().contains(f)&&(e=c.get_stateId(),c.set_stateId("")),a.get_element().contains(f))?
(a=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(f.id)),d=Type.safeCast(c,lt.Annotations.Core.AnnRectangleObject),e=this.getRenderPoints(b,c),e=b.pointsFromContainerCoordinates(e,d.get_fixedStateOperations()),1<e.length&&(lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(a,e,!0),lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(a,d.get_fill(),d.get_supportsFill()),lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(a,
d.get_stroke(),d.get_supportsStroke()))):(this.addObject(c),this.render(b,c),c.set_stateId(e)));lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer.callBaseMethod(this,"render",[b,c])}}};lt.Annotations.Rendering.AnnSvgRubberStampObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgRubberStampObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgRubberStampObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgRubberStampObjectRenderer.callBaseMethod(this,
"createObject",[b]);var b=b.get_stateId(),c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b),a=lt.Annotations.Rendering._annSvgHelpers.createImage();a.id=lt.Annotations.Rendering._annSvgHelpers.getImageId(b);lt.Annotations.Rendering._annSvgHelpers.appendElement(c,a)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);null!=a&&a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(c)))}lt.Annotations.Rendering.AnnSvgRubberStampObjectRenderer.callBaseMethod(this,
"removeObject",[b])},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a&&!a.get_stateless()){var d=Type.safeCast(c,lt.Annotations.Core.AnnRubberStampObject);if(null!=d){var e=lt.LeadPointD.create(d.get_bounds().get_left()+d.get_bounds().get_width()/2,d.get_bounds().get_top()+
d.get_bounds().get_height()/2),e=b.pointFromContainerCoordinates(e,d.get_fixedStateOperations()),f=new lt.LeadMatrix,g=lt.LeadPointD.create(parseInt(e.get_x()),parseInt(e.get_y())),e=b.rectFromContainerCoordinates(d.get_rect(),d.get_fixedStateOperations()),h=1;d.get_isFlipped()&&(h=-1);var i=1;d.get_isReversed()&&(i=-1);f.translate(-g.get_x(),-g.get_y());var j=Math.abs(d.get_angle());0>i*h&&(0>i&&(j-=180),f.scale(i,h));lt.Annotations.Core.AnnDouble.isNaN(d.get_angle())||f.rotate(j);h=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(c.get_stateId()));
f.translate(g.get_x(),g.get_y());lt.Annotations.Rendering._annSvgHelpers.setTransformAttribute(h,f);a=a.get_resources();null!=a&&lt.Annotations.Rendering._svgDrawingHelper.drawPicture(h,a.get_rubberStamps()[d.get_rubberStampType()],e,c,b)}lt.Annotations.Rendering.AnnSvgRubberStampObjectRenderer.callBaseMethod(this,"render",[b,c])}}};lt.Annotations.Rendering.AnnSvgStampObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgStampObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgStampObjectRenderer.prototype=
{createObject:function(b){lt.Annotations.Rendering.AnnSvgStampObjectRenderer.callBaseMethod(this,"createObject",[b]);var b=b.get_stateId(),c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b),a=lt.Annotations.Rendering._annSvgHelpers.createImage();a.id=lt.Annotations.Rendering._annSvgHelpers.getImageId(b);lt.Annotations.Rendering._annSvgHelpers.appendElement(c,a)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);
null!=a&&a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(c)))}lt.Annotations.Rendering.AnnSvgStampObjectRenderer.callBaseMethod(this,"removeObject",[b])},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=
a&&!a.get_stateless()){var a=Type.safeCast(c,lt.Annotations.Core.AnnStampObject),d=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(c.get_stateId()));if(null!=a){if(null!=a.get_picture()&&null!=a.get_picture().get_source()){var e=lt.LeadPointD.create(a.get_bounds().get_left()+a.get_bounds().get_width()/2,a.get_bounds().get_top()+a.get_bounds().get_height()/2),e=b.pointFromContainerCoordinates(e,a.get_fixedStateOperations()),f=new lt.LeadMatrix,
e=lt.LeadPointD.create(parseInt(e.get_x()),parseInt(e.get_y())),g=b.rectFromContainerCoordinates(a.get_rect(),a.get_fixedStateOperations());if(!lt.Annotations.Core.AnnDouble.isNaN(a.get_angle())){var h=lt.Annotations.Rendering._annSvgHelpers.getElementById(c.get_stateId());f.rotateAt(a.get_angle(),e.get_x(),e.get_y());lt.Annotations.Rendering._annSvgHelpers.setTransformAttribute(h,f)}lt.Annotations.Rendering._annSvgHelpers.setVisibleAttribute(d,!0);lt.Annotations.Rendering._svgDrawingHelper.drawPicture(d,
a.get_picture(),g,c,b)}else lt.Annotations.Rendering._annSvgHelpers.setVisibleAttribute(d,!1);lt.Annotations.Rendering.AnnSvgStampObjectRenderer.callBaseMethod(this,"render",[b,c])}}}};lt.Annotations.Rendering.AnnSvgStickyNoteObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgStickyNoteObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgStickyNoteObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgStickyNoteObjectRenderer.callBaseMethod(this,"createObject",
[b]);var c=b.get_stateId(),b=lt.Annotations.Rendering._annSvgHelpers.getElementById(c),a=lt.Annotations.Rendering._annSvgHelpers.createImage();a.id=lt.Annotations.Rendering._annSvgHelpers.getImageId(c);lt.Annotations.Rendering._annSvgHelpers.appendElement(b,a);c=lt.Annotations.Rendering._annSvgHelpers.createGroup();c.id=lt.Annotations.Rendering._annSvgHelpers.getRectId(b.id)+"SelectionGroup";b.appendChild(c);a=lt.Annotations.Rendering._annSvgHelpers.createPolyline();a.id=lt.Annotations.Rendering._annSvgHelpers.getRectId(b.id)+
"OuterSelection";c.appendChild(a);a=lt.Annotations.Rendering._annSvgHelpers.createPolyline();a.id=lt.Annotations.Rendering._annSvgHelpers.getRectId(b.id)+"InnerSelection";c.appendChild(a)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);null!=a&&a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(c)))}lt.Annotations.Rendering.AnnSvgStickyNoteObjectRenderer.callBaseMethod(this,
"removeObject",[b])},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a&&!a.get_stateless()){a=Type.safeCast(c,lt.Annotations.Core.AnnStickyNoteObject);if(null!=a){var d=b.rectFromContainerCoordinates(c.get_bounds(),a.get_fixedStateOperations()),e=c.get_stateId(),e=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getImageId(e));
lt.Annotations.Rendering._annSvgHelpers.setVisibleAttribute(e,!0);if(null!=a.get_picture())lt.Annotations.Rendering._svgDrawingHelper.drawPicture(e,a.get_picture(),d,c,b);else{var f=this.get_renderingEngine().get_resources();null!=f&&-1<a.get_defaultPicture()&&a.get_defaultPicture()<f.get_images().length&&(a.set_picture(f.get_images()[a.get_defaultPicture()]),d=b.rectFromContainerCoordinates(c.get_bounds(),a.get_fixedStateOperations()),lt.Annotations.Rendering._svgDrawingHelper.drawPicture(e,f.get_images()[a.get_defaultPicture()],
d,c,b))}}a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c.get_stateId());a=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(a.id)+"SelectionGroup");null!=a&&(c.get_isSelected()?lt.Annotations.Rendering._annSvgHelpers.setVisibleAttribute(a,!0):lt.Annotations.Rendering._annSvgHelpers.setVisibleAttribute(a,!1));lt.Annotations.Rendering.AnnSvgStickyNoteObjectRenderer.callBaseMethod(this,"render",[b,c])}},renderSelection:function(b,c){null==
b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a){var d=Type.safeCast(c,lt.Annotations.Core.AnnStickyNoteObject);c.get_stateId();if(null!=a){var e=d.get_stateId();d.get_stateId();var f=lt.Annotations.Rendering._annSvgHelpers.getElementById(d.get_stateId());if(null!=f&&(!e.startsWith(a.get_element().id)&&
!a.get_element().contains(f)&&(d.get_stateId(),d.set_stateId("")),e=b.rectFromContainerCoordinates(c.get_bounds(),d.get_fixedStateOperations()),a=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(f.id)+"OuterSelection"),f=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(f.id)+"InnerSelection"),e=[e.get_topLeft(),e.get_topRight(),e.get_bottomRight(),e.get_bottomLeft()],1<e.length)){var g=
b.strokeFromContainerCoordinates(d.get_selectionStroke(),d.get_fixedStateOperations()).clone();lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(a,e,!0);lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(a,lt.Annotations.Core.AnnSolidColorBrush.create("transparent"),d.get_supportsFill());lt.Annotations.Rendering._annSvgHelpers.setStrokeOpacityAttribute(a,0.5);lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(a,g,d.get_supportsSelectionStroke());a=lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("white"),
lt.LeadLengthD.create(g.get_strokeThickness().get_value()-2));lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(f,e,!0);lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(f,lt.Annotations.Core.AnnSolidColorBrush.create("transparent"),d.get_supportsFill());lt.Annotations.Rendering._annSvgHelpers.setStrokeOpacityAttribute(f,0.5);lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(f,a,d.get_supportsSelectionStroke())}}}}};lt.Annotations.Rendering.AnnSvgTextObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgTextObjectRenderer.initializeBase(this)};
lt.Annotations.Rendering.AnnSvgTextObjectRenderer._getTextRotation$3=function(b,c){var a=lt.LeadMatrix.get_identity();switch(b){case lt.Annotations.Core.AnnTextRotate.rotate90:a.rotateAt(-90,c.get_x(),c.get_y());break;case lt.Annotations.Core.AnnTextRotate.rotate180:a.rotateAt(-180,c.get_x(),c.get_y());break;case lt.Annotations.Core.AnnTextRotate.rotate270:a.rotateAt(90,c.get_x(),c.get_y())}return a};lt.Annotations.Rendering.AnnSvgTextObjectRenderer._alignRect$3=function(b,c,a,d,e){var f=c.clone();
switch(a){case lt.Annotations.Core.AnnHorizontalAlignment.center:f.set_x(Math.max(c.get_left(),c.get_left()+(c.get_width()-b.get_width())/2));break;case lt.Annotations.Core.AnnHorizontalAlignment.right:f.set_x(c.get_right()-b.get_width()-e.get_right());break;default:f.set_x(c.get_left()+e.get_left())}switch(d){case lt.Annotations.Core.AnnVerticalAlignment.center:f.set_y((c.get_top()+c.get_bottom()-b.get_height())/2);break;case lt.Annotations.Core.AnnVerticalAlignment.bottom:f.set_y(c.get_bottom()-
b.get_height()-e.get_bottom());break;default:f.set_y(c.get_top()+e.get_top())}return f};lt.Annotations.Rendering.AnnSvgTextObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgTextObjectRenderer.callBaseMethod(this,"createObject",[b]);var c=b.get_stateId(),a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c),d=lt.Annotations.Rendering._annSvgHelpers.createPolyline(),b=lt.Annotations.Rendering._annSvgHelpers.getClipPathId(b.get_stateId());d.id=lt.Annotations.Rendering._annSvgHelpers.getPolylineId(b);
lt.Annotations.Rendering._annSvgHelpers.getElementById(b).appendChild(d);d=lt.Annotations.Rendering._annSvgHelpers.createText();d.id=lt.Annotations.Rendering._annSvgHelpers.getTextId(c);lt.Annotations.Rendering._annSvgHelpers.appendElement(a,d)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getClipPathId(c);if(!String.isNullOrEmpty(a)){var d=lt.Annotations.Rendering._annSvgHelpers.getElementById(a);null!=d&&d.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getPolylineId(a)));
a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);null!=a&&a.removeChild(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getTextId(c)))}}lt.Annotations.Rendering.AnnSvgTextObjectRenderer.callBaseMethod(this,"removeObject",[b])},_flipReverseText$3:!1,get_flipReverseText:function(){return this._flipReverseText$3},set_flipReverseText:function(b){return this._flipReverseText$3=b},getTextSize:function(b,c,a){return lt.Annotations.Rendering.AnnHtml5RenderingEngine.getTextSize(b,
c,a)},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");if(!this.get_renderingEngine().get_stateless()){lt.Annotations.Rendering.AnnSvgTextObjectRenderer.callBaseMethod(this,"render",[b,c]);var a=Type.safeCast(c,lt.Annotations.Core.AnnTextObject),d=c.get_stateId();if(null!=a&&null!=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine)){var e=
lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getTextId(d));if(null!=e)if(String.isNullOrEmpty(a.get_text()))for(;0<e.childNodes.length;)e.removeChild(e.firstChild);else{lt.Annotations.Rendering._annSvgHelpers.setClipPathAttribute(e,lt.Annotations.Rendering._annSvgHelpers.getClipPathId(c.get_stateId()));if(null!=e.childNodes&&0<e.childNodes.length){var f=e.childNodes.length;if(0<f)for(var g=0;g<f;++g)e.removeChild(e.childNodes[0])}c.get_points();d=
lt.Annotations.Rendering._annSvgHelpers.getClipPathId(d);lt.Annotations.Rendering._svgDrawingHelper.drawRect(lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getPolylineId(d)),b,a);d=new lt.Annotations.Core.AnnRectangleObject;d.get_points().clear();for(f=ss.IEnumerator.getEnumerator(this.getRenderPoints(b,a));f.moveNext();)g=f.current,d.get_points().add(g);g=d.get_angle();180===g&&(g=0);var h=lt.LeadPointD.create(d.get_bounds().get_left()+d.get_bounds().get_width()/
2,d.get_bounds().get_top()+d.get_bounds().get_height()/2),h=b.pointFromContainerCoordinates(h,a.get_fixedStateOperations()),i=lt.Annotations.Rendering.AnnSvgTextObjectRenderer._getTextRotation$3(a.get_textRotate(),h),d=d.get_rect().clone(),g=g+b.normalizeRectangle(d,a.get_fixedStateOperations()),d=i.transformRect(d);if(a.get_supportsFont()&&null!=a.get_font()){f=b.fontFromContainerCoordinates(a.get_font(),a.get_fixedStateOperations());null!=c.get_stroke()&&1<c.get_stroke().get_strokeThickness().get_value()&&
d.inflate(-c.get_stroke().get_strokeThickness().get_value()/2,-c.get_stroke().get_strokeThickness().get_value()/2);if(!lt.Annotations.Core.AnnDouble.isNaN(g)){var j=b.get_transform(),k=parseInt(j.get_m11()/Math.abs(j.get_m11())),j=parseInt(j.get_m22()/Math.abs(j.get_m22())),h=lt.LeadPointD.create(parseInt(h.get_x()),parseInt(h.get_y()));i.rotateAt(g*k*j,h.get_x(),h.get_y());lt.Annotations.Rendering._annSvgHelpers.setTransformAttribute(e,i)}if(!d.get_isEmpty()&&null!=a.get_textForeground()&&null!=
a.get_text()&&(lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(e,a.get_textForeground(),!0),g=a.get_text().replaceAll("\r",""),0<g.length)){i=g.split("\n");h=i.length;Type.canCast(a,lt.Annotations.Core.AnnTextRollupObject)&&!Type.safeCast(a,lt.Annotations.Core.AnnTextRollupObject).get_expanded()&&1<h&&(i[0]+=" ...",h=1);if(null!=i&&0<h){for(var l=0,j=lt.LeadSizeD.create(0,0),j=this.getTextSize(i[0],f,d.get_size()),l=l+j.get_height(),k=parseInt(d.get_top()+j.get_height()),g=1;g<h;++g)j=this.getTextSize(i[g],
f,d.get_size()),l+=j.get_height();a.get_verticalAlignment()===lt.Annotations.Core.AnnVerticalAlignment.center?k+=(d.get_height()-l)/2:a.get_verticalAlignment()===lt.Annotations.Core.AnnVerticalAlignment.bottom&&(k+=d.get_height()-l);for(g=0;g<h;++g)j=this.getTextSize(i[g],f,d.get_size()),l=lt.LeadRectD.create(d.get_left(),k,d.get_width(),j.get_height()),j=lt.Annotations.Rendering.AnnSvgTextObjectRenderer._alignRect$3(j,l,a.get_horizontalAlignment(),a.get_verticalAlignment(),a.get_padding()),f.set_fontSize(parseInt(f.get_fontSize())),
l=lt.Annotations.Rendering._annSvgHelpers.createTSpan(i[g],j.get_x(),j.get_y()),e.appendChild(l),k+=parseInt(j.get_height())}a.get_font().set_fontHeight(f.get_fontHeight());a.get_font().set_isDirty(f.get_isDirty())}lt.Annotations.Rendering._annSvgHelpers.setFontAttribute(e,f)}}}}}};Object.defineProperty(lt.Annotations.Rendering.AnnSvgTextObjectRenderer.prototype,"flipReverseText",{get:lt.Annotations.Rendering.AnnSvgTextObjectRenderer.prototype.get_flipReverseText,set:lt.Annotations.Rendering.AnnSvgTextObjectRenderer.prototype.set_flipReverseText,
enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnSvgTextPointerObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgTextPointerObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgTextPointerObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgTextPointerObjectRenderer.callBaseMethod(this,"createObject",[b]);var b=b.get_stateId(),c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b),a=lt.Annotations.Rendering._annSvgHelpers.createPath();
a.id=lt.Annotations.Rendering._annSvgHelpers.getPointerId(b);c.appendChild(a)},removeObject:function(b){var c=b.get_stateId();if(!String.isNullOrEmpty(c)){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c);null!=a&&lt.Annotations.Rendering._annSvgHelpers.removeElement(a,lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getPointerId(c)))}lt.Annotations.Rendering.AnnSvgTextPointerObjectRenderer.callBaseMethod(this,"removeObject",[b])},render:function(b,
c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");lt.Annotations.Rendering.AnnSvgTextPointerObjectRenderer.callBaseMethod(this,"render",[b,c]);var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a&&!a.get_stateless()&&(a=Type.safeCast(c,lt.Annotations.Core.AnnTextPointerObject),null!=a)){for(var d=[a.get_pointerPosition(),c.get_points().get_item(0)],
e=lt.Annotations.Core.Utils.distance(c.get_points().get_item(0),d[0]),f=1;f<c.get_points().get_count();++f){var g=lt.Annotations.Core.Utils.distance(c.get_points().get_item(f),d[0]);g<e&&(e=g,d[1]=c.get_points().get_item(f))}d=b.pointsFromContainerCoordinates(d,a.get_fixedStateOperations());e=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getPointerId(c.get_stateId()));null!=e&&(d=String.format("M{0} {1} L{2} {3}",d[0].get_x(),d[0].get_y(),d[1].get_x(),
d[1].get_y()),lt.Annotations.Rendering._annSvgHelpers.setPathAttribute(e,d),null!=a.get_stroke()&&lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(e,a.get_stroke(),a.get_supportsStroke()))}}};lt.Annotations.Rendering.AnnSvgTextRedactionObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgTextRedactionObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgTextRedactionObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgTextRedactionObjectRenderer.callBaseMethod(this,
"createObject",[b]);for(var c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b.get_stateId()),b=b.get_points().get_count()/2,a=0;a<b;a++){var d=lt.Annotations.Rendering._annSvgHelpers.createPolyline();d.id=lt.Annotations.Rendering._annSvgHelpers.getRectId(c.id)+a.toString();c.appendChild(d)}},renderShape:function(b,c,a){var d=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=d){var e=c.get_stateId();c.get_stateId();b=lt.Annotations.Rendering._annSvgHelpers.getElementById(c.get_stateId());
if(null!=b){!e.startsWith(d.get_element().id)&&!d.get_element().contains(b)&&(c.get_stateId(),c.set_stateId(""));for(d=0;d<a.length;d++){var f=a[d],e=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(b.id)+d.toString()),f=[f.get_topLeft(),f.get_topRight(),f.get_bottomRight(),f.get_bottomLeft()];1<f.length&&(lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(e,f,!0),lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(e,c.get_fill(),
c.get_supportsFill()))}}}}};lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer._getRectangles$2=function(b,c){var a=Type.safeCast(c,lt.Annotations.Core.AnnTextReviewObject),d=a.get_points().toArray();if(!d.length)return null;for(var d=b.pointsFromContainerCoordinates(d,a.get_fixedStateOperations()),a=d.length/2,e=Array(a),f=0,g=0;g<a;g++){var h=2*g,
i=d[h+0],h=d[h+1];e[f]=lt.LeadRectD.fromLTRB(i.get_x()-1,i.get_y()-1,h.get_x()+1,h.get_y()+1);f++}return e};lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer.callBaseMethod(this,"createObject",[b]);var c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b.get_stateId()),b=b.get_points().get_count()/2,a=lt.Annotations.Rendering._annSvgHelpers.createGroup();a.id=lt.Annotations.Rendering._annSvgHelpers.getRectId(c.id)+
"SelectionGroup";c.appendChild(a);for(var d=0;d<b;d++){var e=lt.Annotations.Rendering._annSvgHelpers.createPolyline();e.id=lt.Annotations.Rendering._annSvgHelpers.getRectId(c.id)+"OuterSelection"+d.toString();a.appendChild(e);e=lt.Annotations.Rendering._annSvgHelpers.createPolyline();e.id=lt.Annotations.Rendering._annSvgHelpers.getRectId(c.id)+"InnerSelection"+d.toString();a.appendChild(e)}},render:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&
lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");if(null!=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine)){var a=lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer._getRectangles$2(b,c);null!=a&&0<a.length&&(this.createObject(c),this.renderShape(b,Type.safeCast(c,lt.Annotations.Core.AnnTextReviewObject),a));if(!c.get_isSelected()){var a=lt.Annotations.Rendering._annSvgHelpers.getElementById(c.get_stateId()),d=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(a.id)+
"SelectionGroup");null!=d&&a.removeChild(d)}lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer.callBaseMethod(this,"render",[b,c])}},renderSelection:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");var a=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=a){var d=Type.safeCast(c,lt.Annotations.Core.AnnTextReviewObject),e=lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer._getRectangles$2(b,
c);if(null!=e&&0<e.length&&null!=a){var f=d.get_stateId();d.get_stateId();var g=lt.Annotations.Rendering._annSvgHelpers.getElementById(d.get_stateId());if(null!=g){!f.startsWith(a.get_element().id)&&!a.get_element().contains(g)&&(d.get_stateId(),d.set_stateId(""));for(a=0;a<e.length;a++){var h=e[a],i=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(g.id)+"OuterSelection"+a.toString()),f=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(g.id)+
"InnerSelection"+a.toString()),h=[h.get_topLeft(),h.get_topRight(),h.get_bottomRight(),h.get_bottomLeft()];if(1<h.length){var j=b.strokeFromContainerCoordinates(d.get_selectionStroke(),d.get_fixedStateOperations()).clone();lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(i,h,!0);lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(i,lt.Annotations.Core.AnnSolidColorBrush.create("transparent"),d.get_supportsFill());lt.Annotations.Rendering._annSvgHelpers.setStrokeOpacityAttribute(i,0.5);
lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(i,j,d.get_supportsSelectionStroke());i=lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("white"),lt.LeadLengthD.create(j.get_strokeThickness().get_value()-2));lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(f,h,!0);lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(f,lt.Annotations.Core.AnnSolidColorBrush.create("transparent"),d.get_supportsFill());lt.Annotations.Rendering._annSvgHelpers.setStrokeOpacityAttribute(f,
0.5);lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(f,i,d.get_supportsSelectionStroke())}}}}}}};lt.Annotations.Rendering.AnnSvgTextRollupObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgTextRollupObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgTextRollupObjectRenderer.prototype={getRenderPoints:function(b,c){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("annObject");
var a=lt.Annotations.Rendering.AnnSvgTextRollupObjectRenderer.callBaseMethod(this,"getRenderPoints",[b,c]),d=Type.safeCast(c,lt.Annotations.Core.AnnTextRollupObject);if(null!=d&&!d.get_expanded()){var e=lt.Annotations.Core.Utils.distance(a[1],a[2]);null!=d.get_font()&&(e=this.getTextSize("gM",d.get_font(),d.get_bounds().get_size()),e=b.sizeToContainerCoordinates(e),e=e.get_height());d=lt.Annotations.Core.Utils.getUnitVector(a[1],a[2]);a[2]=lt.Annotations.Core.Utils.transformPoint(d,lt.LeadLengthD.create(e),
a[1]);d=lt.Annotations.Core.Utils.getUnitVector(a[0],a[3]);a[3]=lt.Annotations.Core.Utils.transformPoint(d,lt.LeadLengthD.create(e),a[0])}return a}};lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer.prototype={_thickness$3:0.15,get_thickness:function(){return this._thickness$3},set_thickness:function(b){if(0>b||1<b)throw new lt.ArgumentOutOfRangeException("Thickness",
b,"Must be a value between 0 and 1");return this._thickness$3=b},_position$3:0.85,get_position:function(){return this._position$3},set_position:function(b){if(0>b||1<b)throw new lt.ArgumentOutOfRangeException("Position",b,"Must be a value between 0 and 1");return this._position$3=b},createObject:function(b){lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer.callBaseMethod(this,"createObject",[b]);for(var c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b.get_stateId()),b=b.get_points().get_count()/
2,a=0;a<b;a++){var d=lt.Annotations.Rendering._annSvgHelpers.createPolyline();d.id=lt.Annotations.Rendering._annSvgHelpers.getRectId(c.id)+a.toString();c.appendChild(d)}},renderShape:function(b,c,a){if(!(null==c||null==b)&&null!=Type.safeCast(c,lt.Annotations.Core.AnnTextUnderlineObject)){var d=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=d){var e=c.get_stateId();c.get_stateId();var f=lt.Annotations.Rendering._annSvgHelpers.getElementById(c.get_stateId());
if(null!=f){!e.startsWith(d.get_element().id)&&!d.get_element().contains(f)&&(c.get_stateId(),c.set_stateId(""));b=this._getRotationAngle(b.get_transform());for(d=0;d<a.length;d++){var e=a[d],g=lt.LeadRectD.get_empty();if(90===Math.abs(b))var g=this.get_thickness()?Math.max(e.get_width()*this.get_thickness(),1):1,h=0,h=-90===b?e.get_right()-(e.get_width()*this.get_position()+g/2):e.get_width()*this.get_position()-g/2+e.get_x(),g=lt.LeadRectD.create(h,e.get_y(),g,e.get_height());else g=this.get_thickness()?
Math.max(e.get_height()*this.get_thickness(),1):1,h=0,h=180===b?e.get_bottom()-(e.get_height()*this.get_position()+g/2):e.get_height()*this.get_position()-g/2+e.get_top(),g=lt.LeadRectD.create(e.get_x(),h,e.get_width(),g);e=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(f.id)+d.toString());g=[g.get_topLeft(),g.get_topRight(),g.get_bottomRight(),g.get_bottomLeft()];1<g.length&&(lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(e,g,
!0),lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(e,c.get_fill(),c.get_supportsFill()))}}}}}};Object.defineProperty(lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer.prototype,"thickness",{get:lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer.prototype.get_thickness,set:lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer.prototype.set_thickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer.prototype,
"position",{get:lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer.prototype.get_position,set:lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer.prototype.set_position,enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnSvgThumbStyle=function(){this._size=lt.LeadSizeD.create(0,0);this._size=lt.LeadSizeD.create(0,0);this._fill=lt.Annotations.Core.AnnSolidColorBrush.create("white");this._stroke=lt.Annotations.Core.AnnStroke.create(lt.Annotations.Core.AnnSolidColorBrush.create("black"),
lt.LeadLengthD.create(1));this._isVisible=!0};lt.Annotations.Rendering.AnnSvgThumbStyle.prototype={_renderer:null,get_renderer:function(){return this._renderer},set_renderer:function(b){return this._renderer=b},clone:function(){var b=this.create();b._size=this._size.clone();b._fill=null!=this._fill?this._fill.clone():null;b._stroke=null!=this._stroke?this._stroke.clone():null;b._isVisible=this._isVisible;return b},get_size:function(){return this._size.clone()},set_size:function(b){null==b&&(b=lt.LeadSizeD.create(0,
0));this._size=b.clone();return b},_fill:null,get_fill:function(){return this._fill},set_fill:function(b){return this._fill=b},_stroke:null,get_stroke:function(){return this._stroke},set_stroke:function(b){return this._stroke=b},_isVisible:!1,get_isVisible:function(){return this._isVisible},set_isVisible:function(b){return this._isVisible=b},renderHitTest:function(b,c,a,d){if(!this.get_isVisible())return!1;var e=lt.LeadRectD.get_empty(),c=d.pointFromContainerCoordinates(c,lt.Annotations.Core.AnnFixedStateOperations.none),
b=d.pointFromContainerCoordinates(b,lt.Annotations.Core.AnnFixedStateOperations.none),e=d.sizeFromContainerCoordinates(this.get_size()),e=lt.LeadRectD.create(b.get_x()-e.get_width()/2,b.get_y()-e.get_height()/2,e.get_width(),e.get_height()),a=d.lengthFromContainerCoordinates(lt.LeadLengthD.create(a),lt.Annotations.Core.AnnFixedStateOperations.none);e.inflate(a,a);return e.containsPoint(c)},hitTest:function(b,c,a){if(!this.get_isVisible())return!1;var d=lt.LeadRectD.get_empty();null!=this._renderer?
(d=this._renderer.get_renderingEngine().get_container().get_mapper(),c=d.pointFromContainerCoordinates(c,lt.Annotations.Core.AnnFixedStateOperations.none),b=d.pointFromContainerCoordinates(b,lt.Annotations.Core.AnnFixedStateOperations.none),d=d.sizeFromContainerCoordinates(this.get_size()),d=lt.LeadRectD.create(b.get_x()-d.get_width()/2,b.get_y()-d.get_height()/2,d.get_width(),d.get_height())):d=lt.LeadRectD.create(b.get_x()-this.get_size().get_width()/2,b.get_y()-this.get_size().get_height()/2,this.get_size().get_width(),
this.get_size().get_height());d.inflate(a,a);return d.containsPoint(c)},render:function(b,c,a,d){null==c&&lt.Annotations.Core.ExceptionHelper.argumentNullException("mapper");null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("renderer");this.get_isVisible()&&!b.get_renderingEngine().get_stateless()&&(a=c.pointFromContainerCoordinates(a,d),c=c.sizeFromContainerCoordinates(this.get_size()),c=lt.LeadRectD.create(a.get_x()-c.get_width()/2,a.get_y()-c.get_height()/2,c.get_width(),c.get_height()),
b=String.format("Annotation_Svg_{0}",b.get_renderingEngine().get_element().id),this.addPath(lt.Annotations.Rendering._annSvgHelpers.getElementById(b+"AnnThumbGroup"),c))}};Object.defineProperty(lt.Annotations.Rendering.AnnSvgThumbStyle.prototype,"renderer",{get:lt.Annotations.Rendering.AnnSvgThumbStyle.prototype.get_renderer,set:lt.Annotations.Rendering.AnnSvgThumbStyle.prototype.set_renderer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnSvgThumbStyle.prototype,
"size",{get:lt.Annotations.Rendering.AnnSvgThumbStyle.prototype.get_size,set:lt.Annotations.Rendering.AnnSvgThumbStyle.prototype.set_size,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnSvgThumbStyle.prototype,"fill",{get:lt.Annotations.Rendering.AnnSvgThumbStyle.prototype.get_fill,set:lt.Annotations.Rendering.AnnSvgThumbStyle.prototype.set_fill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnSvgThumbStyle.prototype,"stroke",{get:lt.Annotations.Rendering.AnnSvgThumbStyle.prototype.get_stroke,
set:lt.Annotations.Rendering.AnnSvgThumbStyle.prototype.set_stroke,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnSvgThumbStyle.prototype,"isVisible",{get:lt.Annotations.Rendering.AnnSvgThumbStyle.prototype.get_isVisible,set:lt.Annotations.Rendering.AnnSvgThumbStyle.prototype.set_isVisible,enumerable:!0,configurable:!0});lt.Annotations.Rendering.AnnSvgRectangleThumbStyle=function(){lt.Annotations.Rendering.AnnSvgRectangleThumbStyle.initializeBase(this)};lt.Annotations.Rendering.AnnSvgRectangleThumbStyle.prototype=
{create:function(){return new lt.Annotations.Rendering.AnnSvgRectangleThumbStyle},addPath:function(b,c){if(null!=b){var a=lt.Annotations.Rendering._annSvgHelpers.createRect();lt.Annotations.Rendering._annSvgHelpers.setRectAttribute(a,c);b.appendChild(a);lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(a,this.get_fill(),!0);lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(a,this.get_stroke(),!0)}}};lt.Annotations.Rendering.AnnSvgEllipseThumbStyle=function(){lt.Annotations.Rendering.AnnSvgEllipseThumbStyle.initializeBase(this)};
lt.Annotations.Rendering.AnnSvgEllipseThumbStyle.prototype={create:function(){return new lt.Annotations.Rendering.AnnSvgEllipseThumbStyle},addPath:function(b,c){if(null!=b){var a=lt.Annotations.Rendering._annSvgHelpers.createEllipse();lt.Annotations.Rendering._annSvgHelpers.setEllipseAttribute(a,c);lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(a,this.get_fill(),!0);lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(a,this.get_stroke(),!0);b.appendChild(a)}}};lt.Annotations.Rendering.AnnSvgTextHiliteObjectRenderer=
function(){lt.Annotations.Rendering.AnnSvgTextHiliteObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgTextHiliteObjectRenderer.prototype={createObject:function(b){lt.Annotations.Rendering.AnnSvgTextHiliteObjectRenderer.callBaseMethod(this,"createObject",[b]);for(var c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b.get_stateId()),b=b.get_points().get_count()/2,a=0;a<b;a++){var d=lt.Annotations.Rendering._annSvgHelpers.createPolyline();d.id=lt.Annotations.Rendering._annSvgHelpers.getRectId(c.id)+
a.toString();c.appendChild(d)}},renderShape:function(b,c,a){var d=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);if(null!=d){var e=c.get_stateId();c.get_stateId();b=lt.Annotations.Rendering._annSvgHelpers.getElementById(c.get_stateId());if(null!=b){!e.startsWith(d.get_element().id)&&!d.get_element().contains(b)&&(c.get_stateId(),c.set_stateId(""));for(d=0;d<a.length;d++){var f=a[d],e=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(b.id)+
d.toString()),f=[f.get_topLeft(),f.get_topRight(),f.get_bottomRight(),f.get_bottomLeft()];1<f.length&&(lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(e,f,!0),lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(e,c.get_fill(),c.get_supportsFill()),lt.Annotations.Rendering._annSvgHelpers.setFillOpacityAttribute(e,0.5))}}}}};lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer=function(){lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer.initializeBase(this)};lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer.prototype=
{_thickness$3:0.15,get_thickness:function(){return this._thickness$3},set_thickness:function(b){if(0>b||1<b)throw new lt.ArgumentOutOfRangeException("Thickness",b,"Must be a value between 0 and 1");return this._thickness$3=b},_position$3:0.5,get_position:function(){return this._position$3},set_position:function(b){if(0>b||1<b)throw new lt.ArgumentOutOfRangeException("Position",b,"Must be a value between 0 and 1");return this._position$3=b},createObject:function(b){lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer.callBaseMethod(this,
"createObject",[b]);for(var c=lt.Annotations.Rendering._annSvgHelpers.getElementById(b.get_stateId()),b=b.get_points().get_count()/2,a=0;a<b;a++){var d=lt.Annotations.Rendering._annSvgHelpers.createPolyline();d.id=lt.Annotations.Rendering._annSvgHelpers.getRectId(c.id)+a.toString();c.appendChild(d)}},renderShape:function(b,c,a){if(!(null==c||null==b)&&null!=Type.safeCast(c,lt.Annotations.Core.AnnTextStrikeoutObject)){var d=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnSvgRenderingEngine);
if(null!=d){var e=c.get_stateId();c.get_stateId();var f=lt.Annotations.Rendering._annSvgHelpers.getElementById(c.get_stateId());if(null!=f){!e.startsWith(d.get_element().id)&&!d.get_element().contains(f)&&(c.get_stateId(),c.set_stateId(""));b=this._getRotationAngle(b.get_transform());for(d=0;d<a.length;d++){var e=a[d],g=lt.LeadRectD.get_empty();if(90===Math.abs(b))var g=this.get_thickness()?Math.max(e.get_width()*this.get_thickness(),1):1,h=e.get_width()*this.get_position()-g/2+e.get_x(),g=lt.LeadRectD.create(h,
e.get_y(),g,e.get_height());else g=this.get_thickness()?Math.max(e.get_height()*this.get_thickness(),1):1,h=e.get_height()*this.get_position()-g/2+e.get_top(),g=lt.LeadRectD.create(e.get_x(),h,e.get_width(),g);e=lt.Annotations.Rendering._annSvgHelpers.getElementById(lt.Annotations.Rendering._annSvgHelpers.getRectId(f.id)+d.toString());g=[g.get_topLeft(),g.get_topRight(),g.get_bottomRight(),g.get_bottomLeft()];1<g.length&&(lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(e,g,!0),lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(e,
c.get_fill(),c.get_supportsFill()))}}}}}};Object.defineProperty(lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer.prototype,"thickness",{get:lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer.prototype.get_thickness,set:lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer.prototype.set_thickness,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer.prototype,"position",{get:lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer.prototype.get_position,
set:lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer.prototype.set_position,enumerable:!0,configurable:!0});lt.Annotations.Rendering._svgDrawingHelper=function(){};lt.Annotations.Rendering._svgDrawingHelper.drawCurve=function(b,c,a,d){c=d?lt.Annotations.Core.Utils.splineClosedCurve(c,a):lt.Annotations.Core.Utils.splineCurve(c,a);lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(b,c,!1)};lt.Annotations.Rendering._svgDrawingHelper.drawClosedCurve=function(){};lt.Annotations.Rendering._svgDrawingHelper.drawEllipse=
function(b,c,a){a=Type.safeCast(a,lt.Annotations.Core.AnnEllipseObject);if(null!=a){var d=lt.LeadPointD.create(a.get_bounds().get_left()+a.get_bounds().get_width()/2,a.get_bounds().get_top()+a.get_bounds().get_height()/2),d=c.pointFromContainerCoordinates(d,a.get_fixedStateOperations()),e=new lt.LeadMatrix,d=lt.LeadPointD.create(parseInt(d.get_x()),parseInt(d.get_y())),f=a.get_rect().clone();if(c=a.get_angle()+c.normalizeRectangle(f,a.get_fixedStateOperations()))e.rotateAt(c,d.get_x(),d.get_y()),
lt.Annotations.Rendering._annSvgHelpers.setTransformAttribute(b,e);lt.Annotations.Rendering._annSvgHelpers.setEllipseAttribute(b,f);lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(b,a.get_fill(),a.get_supportsFill());lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(b,a.get_stroke(),a.get_supportsStroke())}};lt.Annotations.Rendering._svgDrawingHelper.drawPolyline=function(b,c,a){var d=Type.safeCast(a,lt.Annotations.Core.AnnPolylineObject),c=c.pointsFromContainerCoordinates(a.get_points().toArray(),
d.get_fixedStateOperations());1<c.length&&(lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(b,c,d.get_isClosed()),lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(b,d.get_fill(),d.get_supportsFill()),lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(b,d.get_stroke(),d.get_supportsStroke()))};lt.Annotations.Rendering._svgDrawingHelper.drawPicture=function(b,c,a,d,e){if(null!=c&&(d=c.get_source(),!String.isNullOrEmpty(d))){var f;null!=c.get_internalData()?f=c.get_internalData():
(f=new Image,c.set_internalData(f));f.src=d;d=lt.LeadRectD.create(0,0,f.naturalWidth,f.naturalHeight);d=e.rectToContainerCoordinates(d);c.set_width(d.get_width());c.set_height(d.get_height());lt.Annotations.Rendering._annSvgHelpers.setRectAttribute(b,a);lt.Annotations.Rendering._annSvgHelpers.setPreserveAspectRatioAttribute(b,"none");lt.Annotations.Rendering._annSvgHelpers.setSourceAttribute(b,c.get_source());c.set_isLoaded(!0)}};lt.Annotations.Rendering._svgDrawingHelper.drawHilite=function(b,c,
a){var d=Type.safeCast(a,lt.Annotations.Core.AnnHiliteObject),c=c.pointsFromContainerCoordinates(a.get_points().toArray(),d.get_fixedStateOperations());1<c.length&&(lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(b,c,!0),c=d.get_hiliteColor(),c=lt.Annotations.Core.AnnSolidColorBrush.create(c),lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(b,c,d.get_supportsFill()),lt.Annotations.Rendering._annSvgHelpers.setFillOpacityAttribute(b,0.5),lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(b,
d.get_stroke(),d.get_supportsStroke()))};lt.Annotations.Rendering._svgDrawingHelper.drawRect=function(b,c,a){var d=Type.safeCast(a,lt.Annotations.Core.AnnRectangleObject),c=c.pointsFromContainerCoordinates(a.get_points().toArray(),d.get_fixedStateOperations());1<c.length&&(lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute(b,c,!0),lt.Annotations.Rendering._annSvgHelpers.setFillAttribute(b,d.get_fill(),d.get_supportsFill()),lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute(b,d.get_stroke(),
d.get_supportsStroke()))};lt.Annotations.Rendering._annSvgHelpers=function(){};lt.Annotations.Rendering._annSvgHelpers.createElementNS=function(b,c){return document.createElementNS(b,c)};lt.Annotations.Rendering._annSvgHelpers.appendElement=function(b,c){b.appendChild(c)};lt.Annotations.Rendering._annSvgHelpers.removeElement=function(b,c){b.removeChild(c)};lt.Annotations.Rendering._annSvgHelpers.getElementById=function(b){return document.getElementById(b)};lt.Annotations.Rendering._annSvgHelpers.createRoot=
function(){return lt.Annotations.Rendering._annSvgHelpers.createElementNS("http://www.w3.org/2000/svg","svg")};lt.Annotations.Rendering._annSvgHelpers.createRect=function(){return lt.Annotations.Rendering._annSvgHelpers.createElementNS("http://www.w3.org/2000/svg","rect")};lt.Annotations.Rendering._annSvgHelpers.createClipPath=function(){return lt.Annotations.Rendering._annSvgHelpers.createElementNS("http://www.w3.org/2000/svg","clipPath")};lt.Annotations.Rendering._annSvgHelpers.createImage=function(){return lt.Annotations.Rendering._annSvgHelpers.createElementNS("http://www.w3.org/2000/svg",
"image")};lt.Annotations.Rendering._annSvgHelpers.createTSpan=function(b,c,a){var d=lt.Annotations.Rendering._annSvgHelpers.createElementNS("http://www.w3.org/2000/svg","tspan");d.setAttribute("x",c);d.setAttribute("y",a);d.appendChild(document.createTextNode(b));return d};lt.Annotations.Rendering._annSvgHelpers.createGroup=function(){return lt.Annotations.Rendering._annSvgHelpers.createElementNS("http://www.w3.org/2000/svg","g")};lt.Annotations.Rendering._annSvgHelpers.createEllipse=function(){return lt.Annotations.Rendering._annSvgHelpers.createElementNS("http://www.w3.org/2000/svg",
"ellipse")};lt.Annotations.Rendering._annSvgHelpers.createText=function(){return lt.Annotations.Rendering._annSvgHelpers.createElementNS("http://www.w3.org/2000/svg","text")};lt.Annotations.Rendering._annSvgHelpers.createPolyline=function(){return lt.Annotations.Rendering._annSvgHelpers.createElementNS("http://www.w3.org/2000/svg","polyline")};lt.Annotations.Rendering._annSvgHelpers.createPath=function(){return lt.Annotations.Rendering._annSvgHelpers.createElementNS("http://www.w3.org/2000/svg","path")};
lt.Annotations.Rendering._annSvgHelpers.setTransformAttribute=function(b,c){b.setAttribute("transform",String.format("matrix({0}, {1}, {2}, {3}, {4}, {5})",c.get_m11(),c.get_m12(),c.get_m21(),c.get_m22(),c.get_offsetX(),c.get_offsetY()))};lt.Annotations.Rendering._annSvgHelpers.setFillAttribute=function(b,c,a){c=Type.safeCast(c,lt.Annotations.Core.AnnSolidColorBrush);null!=c&&a?lt.Annotations.Core.Utils.compare(c.get_color(),"transparent",!0)?b.setAttribute("fill","none"):b.setAttribute("fill",c.get_color()):
b.setAttribute("fill","none")};lt.Annotations.Rendering._annSvgHelpers.setVisibleAttribute=function(b,c){var a="visible";c||(a="hidden");b.setAttribute("visibility",a)};lt.Annotations.Rendering._annSvgHelpers.setPathAttribute=function(b,c){b.setAttribute("d",c)};lt.Annotations.Rendering._annSvgHelpers.setFillOpacityAttribute=function(b,c){b.setAttribute("fill-opacity",c)};lt.Annotations.Rendering._annSvgHelpers.setStrokeOpacityAttribute=function(b,c){b.setAttribute("stroke-opacity",c)};lt.Annotations.Rendering._annSvgHelpers.setStrokeAttribute=
function(b,c,a){if(null!=c){var d=Type.safeCast(c.get_stroke(),lt.Annotations.Core.AnnSolidColorBrush);null!=d&&a?(b.setAttribute("stroke",d.get_color()),b.setAttribute("stroke-width",c.get_strokeThickness().get_value())):b.setAttribute("stroke","none");switch(c.get_strokeEndLineCap()){case lt.Annotations.Core.AnnStrokeLineCap.square:a="square";break;case lt.Annotations.Core.AnnStrokeLineCap.round:a="round";break;default:a="flat"}d="";c=c.get_strokeDashArray();if(null!=c&&0<c.length){for(var e=0;e<
c.length-1;++e)d+=c[e].toString()+",";d+=c[c.length-1].toString()+",";b.setAttribute("stroke-dasharray",d)}b.setAttribute("stroke-linecap",a)}};lt.Annotations.Rendering._annSvgHelpers.setPointsAttribute=function(b,c,a){var d="";if(1<c.length){for(var d=String.format("{0}, {1}",c[0].get_x(),c[0].get_y()),e=1;e<c.length;e++)d+=String.format(" {0}, {1}",c[e].get_x(),c[e].get_y());a&&(d+=String.format(" {0}, {1}",c[0].get_x(),c[0].get_y()))}b.setAttribute("points",d)};lt.Annotations.Rendering._annSvgHelpers.setEllipseAttribute=
function(b,c){var a=c.get_width()/2,d=c.get_height()/2,e=c.get_left()+a,f=c.get_top()+d;b.setAttribute("cx",e);b.setAttribute("cy",f);b.setAttribute("rx",a);b.setAttribute("ry",d)};lt.Annotations.Rendering._annSvgHelpers.setBaselineAttribute=function(b,c){b.setAttribute("alignment-baseline",c)};lt.Annotations.Rendering._annSvgHelpers.setRectAttribute=function(b,c){b.setAttribute("x",String.format("{0}px",c.get_left()));b.setAttribute("y",String.format("{0}px",c.get_top()));b.setAttribute("width",
String.format("{0}px",c.get_width()));b.setAttribute("height",String.format("{0}px",c.get_height()))};lt.Annotations.Rendering._annSvgHelpers.setPreserveAspectRatioAttribute=function(b,c){b.setAttribute("preserveAspectRatio",c)};lt.Annotations.Rendering._annSvgHelpers.setSourceAttribute=function(b,c){b.setAttributeNS("http://www.w3.org/1999/xlink","href",c)};lt.Annotations.Rendering._annSvgHelpers.setClipPathAttribute=function(b,c){var a=String.format("url(#{0})",c);b.setAttribute("clip-path",a)};
lt.Annotations.Rendering._annSvgHelpers.setFontAttribute=function(b,c){b.setAttribute("font-size",c.get_fontSize()+"pt");b.setAttribute("font-family",c.get_fontFamilyName());var a="",d="";switch(c.get_fontWeight()){case lt.Annotations.Core.AnnFontWeight.bold:case lt.Annotations.Core.AnnFontWeight.extraBold:case lt.Annotations.Core.AnnFontWeight.semiBold:d="bold";break;default:d=""}switch(c.get_fontStyle()){case lt.Annotations.Core.AnnFontStyle.oblique:a="Oblique";break;case lt.Annotations.Core.AnnFontStyle.italic:a=
"italic";break;default:a="normal"}b.setAttribute("font-weight",d);b.setAttribute("font-style",a)};lt.Annotations.Rendering._annSvgHelpers.getLockId=function(b){return String.format("{0}.{1}",b,"lock")};lt.Annotations.Rendering._annSvgHelpers.getLabelsId=function(b){return String.format("{0}.{1}",b,"labels")};lt.Annotations.Rendering._annSvgHelpers.getClipPathId=function(b){return String.format("{0}.{1}",b,"clipPath")};lt.Annotations.Rendering._annSvgHelpers.getImageId=function(b){return String.format("{0}.{1}",
b,"image")};lt.Annotations.Rendering._annSvgHelpers.getPolylineId=function(b){return String.format("{0}.{1}",b,"polyline")};lt.Annotations.Rendering._annSvgHelpers.getSecondPolylineId=function(b){return String.format("{0}.{1}",b,"secondPolyline")};lt.Annotations.Rendering._annSvgHelpers.getEllipseId=function(b){return String.format("{0}.{1}",b,"ellipse")};lt.Annotations.Rendering._annSvgHelpers.getGroupId=function(b){return String.format("{0}.{1}",b,"group")};lt.Annotations.Rendering._annSvgHelpers.getShadowId=
function(b){return String.format("{0}.{1}",b,"shadow")};lt.Annotations.Rendering._annSvgHelpers.getArrowId=function(b){return String.format("{0}.{1}",b,"arrow")};lt.Annotations.Rendering._annSvgHelpers.getRectId=function(b){return String.format("{0}.{1}",b,"rectangle")};lt.Annotations.Rendering._annSvgHelpers.getTextId=function(b){return String.format("{0}.{1}",b,"text")};lt.Annotations.Rendering._annSvgHelpers.getPointerId=function(b){return String.format("{0}.{1}",b,"pointer")};lt.Annotations.Rendering._lT_VersionNumber.registerClass("lt.Annotations.Rendering._lT_VersionNumber");
lt.Annotations.Rendering.AnnHtml5RenderingEngine.registerClass("lt.Annotations.Rendering.AnnHtml5RenderingEngine",lt.Annotations.Core.AnnRenderingEngine);lt.Annotations.Rendering.AnnSvgRenderingEngine.registerClass("lt.Annotations.Rendering.AnnSvgRenderingEngine",lt.Annotations.Core.AnnRenderingEngine);lt.Annotations.Rendering._colorUtil.registerClass("lt.Annotations.Rendering._colorUtil");lt.Annotations.Rendering.AnnObjectRenderer.registerClass("lt.Annotations.Rendering.AnnObjectRenderer",null,lt.Annotations.Core.IAnnObjectRenderer);
lt.Annotations.Rendering.AnnPolylineObjectRenderer.registerClass("lt.Annotations.Rendering.AnnPolylineObjectRenderer",lt.Annotations.Rendering.AnnObjectRenderer);lt.Annotations.Rendering.AnnPolyRulerObjectRenderer.registerClass("lt.Annotations.Rendering.AnnPolyRulerObjectRenderer",lt.Annotations.Rendering.AnnPolylineObjectRenderer);lt.Annotations.Rendering.AnnCrossProductObjectRenderer.registerClass("lt.Annotations.Rendering.AnnCrossProductObjectRenderer",lt.Annotations.Rendering.AnnPolyRulerObjectRenderer);
lt.Annotations.Rendering.AnnCurveObjectRenderer.registerClass("lt.Annotations.Rendering.AnnCurveObjectRenderer",lt.Annotations.Rendering.AnnPolylineObjectRenderer);lt.Annotations.Rendering.AnnEllipseObjectRenderer.registerClass("lt.Annotations.Rendering.AnnEllipseObjectRenderer",lt.Annotations.Rendering.AnnObjectRenderer);lt.Annotations.Rendering.AnnFreehandHotspotObjectRenderer.registerClass("lt.Annotations.Rendering.AnnFreehandHotspotObjectRenderer",lt.Annotations.Rendering.AnnPolylineObjectRenderer);
lt.Annotations.Rendering.AnnRectangleObjectRenderer.registerClass("lt.Annotations.Rendering.AnnRectangleObjectRenderer",lt.Annotations.Rendering.AnnObjectRenderer);lt.Annotations.Rendering.AnnHiliteObjectRenderer.registerClass("lt.Annotations.Rendering.AnnHiliteObjectRenderer",lt.Annotations.Rendering.AnnRectangleObjectRenderer);lt.Annotations.Rendering.AnnHotspotObjectRenderer.registerClass("lt.Annotations.Rendering.AnnHotspotObjectRenderer",lt.Annotations.Rendering.AnnRectangleObjectRenderer);lt.Annotations.Rendering.AnnImageObjectRenderer.registerClass("lt.Annotations.Rendering.AnnImageObjectRenderer",
lt.Annotations.Rendering.AnnRectangleObjectRenderer);lt.Annotations.Rendering.AnnLabelRenderer.registerClass("lt.Annotations.Rendering.AnnLabelRenderer",null,lt.Annotations.Core.IAnnLabelRenderer);lt.Annotations.Rendering.AnnTextObjectRenderer.registerClass("lt.Annotations.Rendering.AnnTextObjectRenderer",lt.Annotations.Rendering.AnnRectangleObjectRenderer);lt.Annotations.Rendering.AnnNoteObjectRenderer.registerClass("lt.Annotations.Rendering.AnnNoteObjectRenderer",lt.Annotations.Rendering.AnnTextObjectRenderer);
lt.Annotations.Rendering.AnnPointerObjectRenderer.registerClass("lt.Annotations.Rendering.AnnPointerObjectRenderer",lt.Annotations.Rendering.AnnPolylineObjectRenderer);lt.Annotations.Rendering.AnnPointObjectRenderer.registerClass("lt.Annotations.Rendering.AnnPointObjectRenderer",lt.Annotations.Rendering.AnnObjectRenderer);lt.Annotations.Rendering.AnnProtractorObjectRenderer.registerClass("lt.Annotations.Rendering.AnnProtractorObjectRenderer",lt.Annotations.Rendering.AnnPolyRulerObjectRenderer);lt.Annotations.Rendering.AnnRubberStampObjectRenderer.registerClass("lt.Annotations.Rendering.AnnRubberStampObjectRenderer",
lt.Annotations.Rendering.AnnRectangleObjectRenderer);lt.Annotations.Rendering.AnnStampObjectRenderer.registerClass("lt.Annotations.Rendering.AnnStampObjectRenderer",lt.Annotations.Rendering.AnnTextObjectRenderer);lt.Annotations.Rendering.AnnStickyNoteObjectRenderer.registerClass("lt.Annotations.Rendering.AnnStickyNoteObjectRenderer",lt.Annotations.Rendering.AnnObjectRenderer);lt.Annotations.Rendering.AnnTextPointerObjectRenderer.registerClass("lt.Annotations.Rendering.AnnTextPointerObjectRenderer",
lt.Annotations.Rendering.AnnTextObjectRenderer);lt.Annotations.Rendering.AnnTextReviewObjectRenderer.registerClass("lt.Annotations.Rendering.AnnTextReviewObjectRenderer",lt.Annotations.Rendering.AnnObjectRenderer);lt.Annotations.Rendering.AnnTextRedactionObjectRenderer.registerClass("lt.Annotations.Rendering.AnnTextRedactionObjectRenderer",lt.Annotations.Rendering.AnnTextReviewObjectRenderer);lt.Annotations.Rendering.AnnTextHiliteObjectRenderer.registerClass("lt.Annotations.Rendering.AnnTextHiliteObjectRenderer",
lt.Annotations.Rendering.AnnTextReviewObjectRenderer);lt.Annotations.Rendering.AnnTextRollupObjectRenderer.registerClass("lt.Annotations.Rendering.AnnTextRollupObjectRenderer",lt.Annotations.Rendering.AnnNoteObjectRenderer);lt.Annotations.Rendering.AnnTextStrikeoutObjectRenderer.registerClass("lt.Annotations.Rendering.AnnTextStrikeoutObjectRenderer",lt.Annotations.Rendering.AnnTextReviewObjectRenderer);lt.Annotations.Rendering.AnnTextUnderlineObjectRenderer.registerClass("lt.Annotations.Rendering.AnnTextUnderlineObjectRenderer",
lt.Annotations.Rendering.AnnTextReviewObjectRenderer);lt.Annotations.Rendering.AnnThumbStyle.registerClass("lt.Annotations.Rendering.AnnThumbStyle",null,lt.Annotations.Core.IAnnThumbStyle);lt.Annotations.Rendering.AnnRectangleThumbStyle.registerClass("lt.Annotations.Rendering.AnnRectangleThumbStyle",lt.Annotations.Rendering.AnnThumbStyle);lt.Annotations.Rendering.AnnEllipseThumbStyle.registerClass("lt.Annotations.Rendering.AnnEllipseThumbStyle",lt.Annotations.Rendering.AnnThumbStyle);lt.Annotations.Rendering.AnnEncryptObjectRenderer.registerClass("lt.Annotations.Rendering.AnnEncryptObjectRenderer",
lt.Annotations.Rendering.AnnRectangleObjectRenderer);lt.Annotations.Rendering.AnnMediaObjectRenderer.registerClass("lt.Annotations.Rendering.AnnMediaObjectRenderer",lt.Annotations.Rendering.AnnHotspotObjectRenderer);lt.Annotations.Rendering.AnnSvgObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgObjectRenderer",lt.Annotations.Rendering.AnnObjectRenderer);lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer",lt.Annotations.Rendering.AnnSvgObjectRenderer);
lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer",lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer);lt.Annotations.Rendering.AnnSvgCrossProductObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgCrossProductObjectRenderer",lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer);lt.Annotations.Rendering.AnnSvgCurveObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgCurveObjectRenderer",lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer);
lt.Annotations.Rendering.AnnSvgEllipseObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgEllipseObjectRenderer",lt.Annotations.Rendering.AnnSvgObjectRenderer);lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer",lt.Annotations.Rendering.AnnSvgObjectRenderer);lt.Annotations.Rendering.AnnSvgEncryptObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgEncryptObjectRenderer",lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer);
lt.Annotations.Rendering.AnnSvgFreehandHotspotObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgFreehandHotspotObjectRenderer",lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer);lt.Annotations.Rendering.AnnSvgHiliteObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgHiliteObjectRenderer",lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer);lt.Annotations.Rendering.AnnSvgHotspotObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgHotspotObjectRenderer",lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer);
lt.Annotations.Rendering.AnnSvgMediaObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgMediaObjectRenderer",lt.Annotations.Rendering.AnnSvgHotspotObjectRenderer);lt.Annotations.Rendering.AnnSvgTextObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgTextObjectRenderer",lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer);lt.Annotations.Rendering.AnnSvgNoteObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgNoteObjectRenderer",lt.Annotations.Rendering.AnnSvgTextObjectRenderer);
lt.Annotations.Rendering.AnnSvgPointerObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgPointerObjectRenderer",lt.Annotations.Rendering.AnnSvgPolylineObjectRenderer);lt.Annotations.Rendering.AnnSvgPointObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgPointObjectRenderer",lt.Annotations.Rendering.AnnSvgObjectRenderer);lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgProtractorObjectRenderer",lt.Annotations.Rendering.AnnSvgPolyRulerObjectRenderer);
lt.Annotations.Rendering.AnnSvgRubberStampObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgRubberStampObjectRenderer",lt.Annotations.Rendering.AnnSvgRectangleObjectRenderer);lt.Annotations.Rendering.AnnSvgStampObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgStampObjectRenderer",lt.Annotations.Rendering.AnnSvgTextObjectRenderer);lt.Annotations.Rendering.AnnSvgStickyNoteObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgStickyNoteObjectRenderer",lt.Annotations.Rendering.AnnSvgObjectRenderer);
lt.Annotations.Rendering.AnnSvgTextPointerObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgTextPointerObjectRenderer",lt.Annotations.Rendering.AnnSvgTextObjectRenderer);lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer",lt.Annotations.Rendering.AnnSvgObjectRenderer);lt.Annotations.Rendering.AnnSvgTextRedactionObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgTextRedactionObjectRenderer",lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer);
lt.Annotations.Rendering.AnnSvgTextRollupObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgTextRollupObjectRenderer",lt.Annotations.Rendering.AnnSvgNoteObjectRenderer);lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgTextUnderlineObjectRenderer",lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer);lt.Annotations.Rendering.AnnSvgThumbStyle.registerClass("lt.Annotations.Rendering.AnnSvgThumbStyle",null,lt.Annotations.Core.IAnnThumbStyle);
lt.Annotations.Rendering.AnnSvgRectangleThumbStyle.registerClass("lt.Annotations.Rendering.AnnSvgRectangleThumbStyle",lt.Annotations.Rendering.AnnSvgThumbStyle);lt.Annotations.Rendering.AnnSvgEllipseThumbStyle.registerClass("lt.Annotations.Rendering.AnnSvgEllipseThumbStyle",lt.Annotations.Rendering.AnnSvgThumbStyle);lt.Annotations.Rendering.AnnSvgTextHiliteObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgTextHiliteObjectRenderer",lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer);
lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer.registerClass("lt.Annotations.Rendering.AnnSvgTextStrikeoutObjectRenderer",lt.Annotations.Rendering.AnnSvgTextReviewObjectRenderer);lt.Annotations.Rendering._svgDrawingHelper.registerClass("lt.Annotations.Rendering._svgDrawingHelper");lt.Annotations.Rendering._annSvgHelpers.registerClass("lt.Annotations.Rendering._annSvgHelpers");lt.Annotations.Rendering._lT_VersionNumber.l_VER_PRODUCT="LEADTOOLS\u00ae for JavaScript";lt.Annotations.Rendering._lT_VersionNumber.l_VER_COMPANYNAME_STR=
"LEAD Technologies, Inc.";lt.Annotations.Rendering._lT_VersionNumber.l_VER_LEGALTRADEMARKS_STR="LEADTOOLS\u00ae is a trademark of LEAD Technologies, Inc.";lt.Annotations.Rendering._lT_VersionNumber.l_VER_LEGALCOPYRIGHT_STR="\u00a9 1991-2017 LEAD Technologies, Inc.";lt.Annotations.Rendering._lT_VersionNumber.l_VER_DLLEXT=".dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_EXEEXT=".exe";lt.Annotations.Rendering._lT_VersionNumber.l_VER_PLATFORM="";lt.Annotations.Rendering._lT_VersionNumber.l_VER_PLATFORM_FOR=
"";lt.Annotations.Rendering._lT_VersionNumber.l_VER_PRODUCTNAME_STR="LEADTOOLS\u00ae for JavaScript";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_XXX="Leadtools.Xxx.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_XXX="LEADTOOLS Xxx";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_KERNEL="lt.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_KERNEL="Leadtools";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS=
"lt.Controls.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS="Controls";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS_UI="lt.Documents.UI.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS_UI="Documents User Interface";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS_MEDICAL="lt.Controls.Medical.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS_MEDICAL=
"Medical Controls";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS="lt.Documents.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS="Documents";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_CORE="lt.Annotations.Core.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_CORE="Annotations Core";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_AUTOMATION=
"lt.Annotations.Automation.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_AUTOMATION="Annotations Automation";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DESIGNERS="lt.Annotations.Designers.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DESIGNERS="Annotations Designers";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_RENDERING="lt.Annotations.Rendering.dll";
lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_RENDERING="Annotations Rendering";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CCOW="Leadtools.Ccow.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CCOW="Leadtools CCOW Library";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DOCUMENTS="Leadtools.Annotations.Documents.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DOCUMENTS=
"Annotations Documents";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_LEGACY="Leadtools.Annotations.Legacy.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_LEGACY="Annotations Legacy";lt.Annotations.Rendering._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_JAVASCRIPT="Leadtools.Annotations.JavaScript.dll";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_JAVASCRIPT="JavaScripot Annotations";
lt.Annotations.Rendering._lT_VersionNumber.l_VER_PRODUCTVERSION_DOT_STR="19.0.0.0";lt.Annotations.Rendering._lT_VersionNumber.l_VER_FILEVERSION_DOT_STR="19.0.0.61";lt.Annotations.Rendering._colorUtil._colorNamesToRGB=null;lt.Annotations.Rendering._colorUtil._colorNamesToRGB={aliceblue:"rgb(240,248,255)",antiquewhite:"rgb(250,235,215)",aqua:"rgb(0,255,255)",aquamarine:"rgb(127,255,212)",azure:"rgb(240,255,255)",beige:"rgb(245,245,220)",bisque:"rgb(255,228,196)",black:"rgb(0,0,0)",blanchedalmond:"rgb(255,235,205)",
blue:"rgb(0,0,255)",blueviolet:"rgb(138,43,226)",brown:"rgb(165,42,42)",burlywood:"rgb(222,184,135)",cadetblue:"rgb(95,158,160)",chartreuse:"rgb(127,255,0)",chocolate:"rgb(210,105,30)",coral:"rgb(255,127,80)",cornflowerblue:"rgb(100,149,237)",cornsilk:"rgb(255,248,220)",crimson:"rgb(220,20,60)",cyan:"rgb(0,255,255)",darkblue:"rgb(0,0,139)",darkcyan:"rgb(0,139,139)",darkgoldenrod:"rgb(184,134,11)",darkgray:"rgb(169,169,169)",darkgreen:"rgb(0,100,0)",darkkhaki:"rgb(189,183,107)",darkmagenta:"rgb(139,0,139)",
darkolivegreen:"rgb(85,107,47)",darkorange:"rgb(255,140,0)",darkorchid:"rgb(153,50,204)",darkred:"rgb(139,0,0)",darksalmon:"rgb(233,150,122)",darkseagreen:"rgb(143,188,143)",darkslateblue:"rgb(72,61,139)",darkslategray:"rgb(47,79,79)",darkturquoise:"rgb(0,206,209)",darkviolet:"rgb(148,0,211)",deeppink:"rgb(255,20,147)",deepskyblue:"rgb(0,191,255)",dimgray:"rgb(105,105,105)",dodgerblue:"rgb(30,144,255)",firebrick:"rgb(178,34,34)",floralwhite:"rgb(255,250,240)",forestgreen:"rgb(34,139,34)",fuchsia:"rgb(255,0,255)",
gainsboro:"rgb(220,220,220)",ghostwhite:"rgb(248,248,255)",gold:"rgb(255,215,0)",goldenrod:"rgb(218,165,32)",gray:"rgb(128,128,128)",green:"rgb(0,128,0)",greenyellow:"rgb(173,255,47)",honeydew:"rgb(240,255,240)",hotpink:"rgb(255,105,180)",indianred:"rgb(205,92,92)",indigo:"rgb(75,0,130)",ivory:"rgb(255,255,240)",khaki:"rgb(240,230,140)",lavender:"rgb(230,230,250)",lavenderblush:"rgb(255,240,245)",lawngreen:"rgb(124,252,0)",lemonchiffon:"rgb(255,250,205)",lightblue:"rgb(173,216,230)",lightcoral:"rgb(240,128,128)",
lightcyan:"rgb(224,255,255)",lightgoldenrodyellow:"rgb(250,250,210)",lightgrey:"rgb(211,211,211)",lightgreen:"rgb(144,238,144)",lightpink:"rgb(255,182,193)",lightsalmon:"rgb(255,160,122)",lightseagreen:"rgb(32,178,170)",lightskyblue:"rgb(135,206,250)",lightslategray:"rgb(119,136,153)",lightsteelblue:"rgb(176,196,222)",lightyellow:"rgb(255,255,224)",lime:"rgb(0,255,0)",limegreen:"rgb(50,205,50)",linen:"rgb(250,240,230)",magenta:"rgb(255,0,255)",maroon:"rgb(128,0,0)",mediumaquamarine:"rgb(102,205,170)",
mediumblue:"rgb(0,0,205)",mediumorchid:"rgb(186,85,211)",mediumpurple:"rgb(147,112,219)",mediumseagreen:"rgb(60,179,113)",mediumslateblue:"rgb(123,104,238)",mediumspringgreen:"rgb(0,250,154)",mediumturquoise:"rgb(72,209,204)",mediumvioletred:"rgb(199,21,133)",midnightblue:"rgb(25,25,112)",mintcream:"rgb(245,255,250)",mistyrose:"rgb(255,228,225)",moccasin:"rgb(255,228,181)",navajowhite:"rgb(255,222,173)",navy:"rgb(0,0,128)",oldlace:"rgb(253,245,230)",olive:"rgb(128,128,0)",olivedrab:"rgb(107,142,35)",
orange:"rgb(255,165,0)",orangered:"rgb(255,69,0)",orchid:"rgb(218,112,214)",palegoldenrod:"rgb(238,232,170)",palegreen:"rgb(152,251,152)",paleturquoise:"rgb(175,238,238)",palevioletred:"rgb(219,112,147)",papayawhip:"rgb(255,239,213)",peachpuff:"rgb(255,218,185)",peru:"rgb(205,133,63)",pink:"rgb(255,192,203)",plum:"rgb(221,160,221)",powderblue:"rgb(176,224,230)",purple:"rgb(128,0,128)",red:"rgb(255,0,0)",rosybrown:"rgb(188,143,143)",royalblue:"rgb(65,105,225)",saddlebrown:"rgb(139,69,19)",salmon:"rgb(250,128,114)",
sandybrown:"rgb(244,164,96)",seagreen:"rgb(46,139,87)",seashell:"rgb(255,245,238)",sienna:"rgb(160,82,45)",silver:"rgb(192,192,192)",skyblue:"rgb(135,206,235)",slateblue:"rgb(106,90,205)",slategray:"rgb(112,128,144)",snow:"rgb(255,250,250)",springgreen:"rgb(0,255,127)",steelblue:"rgb(70,130,180)",tan:"rgb(210,180,140)",teal:"rgb(0,128,128)",thistle:"rgb(216,191,216)",tomato:"rgb(255,99,71)",turquoise:"rgb(64,224,208)",violet:"rgb(238,130,238)",wheat:"rgb(245,222,179)",white:"rgb(255,255,255)",whitesmoke:"rgb(245,245,245)",
yellow:"rgb(255,255,0)",yellowgreen:"rgb(154,205,50)"};lt.Annotations.Rendering.AnnSvgObjectRenderer._count$1=0;lt.Annotations.Rendering._annSvgHelpers.svgNameSpace="http://www.w3.org/2000/svg"})();

/**************************************************
LEADTOOLS (C) 1991-2017 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Annotations.Automation.js
// Version:19.0.0.15
(function(){Type.registerNamespace("lt.Annotations.Automation");window.lt.Annotations.Automation._lT_VersionNumber=function(){};lt.Annotations.Automation._leadRectDExtensions=function(){};lt.Annotations.Automation._leadRectDExtensions.inflate=function(a,b,c){a.inflate(b,c);return a};lt.Annotations.Automation._leadRectDExtensions.intersectRects=function(a,b){return lt.LeadRectD.intersectRects(a,b)};lt.Annotations.Automation._leadRectDExtensions.intersectsWith=function(a,b){var c=!1;return c=a.intersectsWith(b)};
lt.Annotations.Automation._leadRectDExtensions.create=function(a,b,c,d){return lt.LeadRectD.create(a,b,c,d)};lt.Annotations.Automation._leadRectDExtensions.unionRects=function(a,b){return lt.LeadRectD.unionRects(a,b)};lt.Annotations.Automation._leadRectDExtensions.unionPoint=function(a,b){return lt.Annotations.Automation._leadRectDExtensions.unionRects(a,lt.LeadRectD.create(b.get_x(),b.get_y(),0,0))};lt.Annotations.Automation._leadRectDExtensions.clone=function(a){return a.clone()};lt.Annotations.Automation._leadRectDExtensions.isEmpty=
function(a){return a.get_isEmpty()};lt.Annotations.Automation._leadRectDExtensions.fromLTRB=function(a,b,c,d){return lt.LeadRectD.fromLTRB(a,b,c,d)};lt.Annotations.Automation._leadRectDExtensions.get_empty=function(){return lt.LeadRectD.get_empty()};lt.Annotations.Automation._leadRectDExtensions.containsRect=function(a,b){return a.containsRect(b)};lt.Annotations.Automation._leadRectDExtensions.containsPoint=function(a,b){return a.containsPoint(b)};lt.Annotations.Automation._leadRectDExtensions.topLeft=
function(a){return a.get_topLeft()};lt.Annotations.Automation._leadRectDExtensions.topRight=function(a){return a.get_topRight()};lt.Annotations.Automation._leadRectDExtensions.bottomLeft=function(a){return a.get_bottomLeft()};lt.Annotations.Automation._leadRectDExtensions.bottomRight=function(a){return a.get_bottomRight()};lt.Annotations.Automation._leadRectDExtensions.top=function(a){return a.get_top()};lt.Annotations.Automation._leadRectDExtensions.left=function(a){return a.get_left()};lt.Annotations.Automation._leadRectDExtensions.bottom=
function(a){return a.get_bottom()};lt.Annotations.Automation._leadRectDExtensions.right=function(a){return a.get_right()};lt.Annotations.Automation._leadRectDExtensions.equals=function(a,b){return a===b};lt.Annotations.Automation._leadPointDExtensions=function(){};lt.Annotations.Automation._leadPointDExtensions.create=function(a,b){return lt.LeadPointD.create(a,b)};lt.Annotations.Automation._leadPointDExtensions.isEqual=function(a,b){return a===b};lt.Annotations.Automation._leadPointDExtensions.clone=
function(a){return a.clone()};lt.Annotations.Automation._leadPointDExtensions.get_empty=function(){return lt.LeadPointD.get_empty()};lt.Annotations.Automation._leadPointDExtensions.isEmpty=function(a){return a.get_isEmpty()};lt.Annotations.Automation._leadLengthDExtensions=function(){};lt.Annotations.Automation._leadLengthDExtensions.isEqual=function(a,b){return a===b};lt.Annotations.Automation._leadLengthDExtensions.create=function(a){return lt.LeadLengthD.create(a)};lt.Annotations.Automation._leadLengthDExtensions.clone=
function(a){return a.clone()};lt.Annotations.Automation._leadSizeDExtensions=function(){};lt.Annotations.Automation._leadSizeDExtensions.create=function(a,b){return lt.LeadSizeD.create(a,b)};lt.Annotations.Automation._leadSizeDExtensions.clone=function(a){return a.clone()};lt.Annotations.Automation._leadSizeDExtensions.get_empty=function(){return lt.LeadSizeD.get_empty()};lt.Annotations.Automation._leadSizeDExtensions.isEmpty=function(a){return a.get_isEmpty()};lt.Annotations.Automation.AnnDesignerType=
function(){};lt.Annotations.Automation.AnnDesignerType.prototype={none:0,draw:1,run:2,edit:3};lt.Annotations.Automation.AnnDesignerType.registerEnum("lt.Annotations.Automation.AnnDesignerType",!1);lt.Annotations.Automation.AnnDragDropOperation=function(){};lt.Annotations.Automation.AnnDragDropOperation.prototype={enter:0,leave:1,over:2,drop:3};lt.Annotations.Automation.AnnDragDropOperation.registerEnum("lt.Annotations.Automation.AnnDragDropOperation",!1);lt.Annotations.Automation.AnnObjectChangedType=
function(){};lt.Annotations.Automation.AnnObjectChangedType.prototype={none:0,bringToFront:1,sendToBack:2,deleted:3,lock:4,unlock:5,paste:6,flip:7,realizeRedaction:8,restoreRedaction:9,applyEncryptor:10,applyDecryptor:11,name:12,hyperlink:13,text:14,picture:15,pictures:16,ruler:17,stroke:18,fill:19,font:20,encrypt:21,polygon:22,curve:23,protractor:24,rubberStamp:25,point:26,audio:27,thumbs:28,hilite:29,designerDraw:30,designerEdit:31,resetRotatePoints:32,fixed:33,added:34,modified:35,metadata:36};
lt.Annotations.Automation.AnnObjectChangedType.registerEnum("lt.Annotations.Automation.AnnObjectChangedType",!1);lt.Annotations.Automation.IAnnPackage=function(){};lt.Annotations.Automation.IAnnPackage.prototype={get_author:null,get_description:null,get_friendlyName:null,getAutomationObjects:null};lt.Annotations.Automation.IAnnPackage.registerInterface("lt.Annotations.Automation.IAnnPackage");lt.Annotations.Automation.AnnAutomationUndoRedoObject=function(){};lt.Annotations.Automation.AnnAutomationUndoRedoObject.prototype=
{_undoRedo:null,get__undoRedo:function(){return this._undoRedo},set__undoRedo:function(a){return this._undoRedo=a}};lt.Annotations.Automation.AnnAutomation=function(a,b){this._containers=new lt.Annotations.Core.AnnContainerCollection;this._defaultCurrentObjectId=lt.Annotations.Core.AnnObject.selectObjectId;this._editObjectOriginalBounds=lt.Annotations.Automation._leadRectDExtensions.get_empty();null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("automationManager");null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("automationControl");
this._init(a,b)};lt.Annotations.Automation.AnnAutomation._reverseObjects=function(a){for(var b=0,c=a.get_count()-1;b<c;b++,c--){var d=a.get_item(b);a.set_item(b,a.get_item(c));a.set_item(c,d)}};lt.Annotations.Automation.AnnAutomation._isUserInRole=function(a,b,c){var d=!1;null!=c&&(c=c.get_groupsRoles(),null!=c?null!=c.get_groupUsers()&&0<Object.getKeyCount(c.get_groupUsers())?(a===lt.Annotations.Core.AnnOperationType.createObjects&&String.isNullOrEmpty(b.get_userId())&&b.set_userId(c.get_currentUser()),
d=c.isCurrentUserInRole(new lt.Annotations.Core.AnnOperationInfoEventArgs(a,b))):d=!1:d=!0);return d};lt.Annotations.Automation.AnnAutomation.prototype={_automationManager:null,_activeContainer:null,_drawDesigner:null,_editDesigner:null,_runDesigner:null,_designer:null,_undoRedo:null,_selecting:!1,_active:!1,_annObjectToolTip:null,_canUpdateObjectLabel:!1,_enableDragDrop:!1,get_enableDragDrop:function(){return this._enableDragDrop},set_enableDragDrop:function(a){return this._enableDragDrop=a},_automationGetContainersCallback:function(){return this._containers},
get_containers:function(){return this._containers},_undoRedos:null,_automationControl:null,add_objectModified:function(a){this.__objectModified=ss.Delegate.combine(this.__objectModified,a)},remove_objectModified:function(a){this.__objectModified=ss.Delegate.remove(this.__objectModified,a)},__objectModified_handler_get:function(){null==this.__objectModified_handler&&(this.__objectModified_handler=ss.EventHandler.create(this,this.add_objectModified,this.remove_objectModified));return this.__objectModified_handler},
__objectModified:null,__objectModified_handler:null,add_dragDrop:function(a){this.__dragDrop=ss.Delegate.combine(this.__dragDrop,a)},remove_dragDrop:function(a){this.__dragDrop=ss.Delegate.remove(this.__dragDrop,a)},__dragDrop_handler_get:function(){null==this.__dragDrop_handler&&(this.__dragDrop_handler=ss.EventHandler.create(this,this.add_dragDrop,this.remove_dragDrop));return this.__dragDrop_handler},__dragDrop:null,__dragDrop_handler:null,onDragDrop:function(a){null!=this.__dragDrop&&this.__dragDrop(this,
a)},_callDragDrop:function(a){var b=lt.Annotations.Automation.AnnDragDropEventArgs.create(a.get_annObject(),a.get_sourceContainer(),a.get_targetContainer(),a.get_operation(),a.get_operationContainer());this.onDragDrop(b);a.set_allowed(b.get_allowed())},add_lockObject:function(a){this.__lockObject=ss.Delegate.combine(this.__lockObject,a)},remove_lockObject:function(a){this.__lockObject=ss.Delegate.remove(this.__lockObject,a)},__lockObject_handler_get:function(){null==this.__lockObject_handler&&(this.__lockObject_handler=
ss.EventHandler.create(this,this.add_lockObject,this.remove_lockObject));return this.__lockObject_handler},__lockObject:null,__lockObject_handler:null,add_unlockObject:function(a){this.__unlockObject=ss.Delegate.combine(this.__unlockObject,a)},remove_unlockObject:function(a){this.__unlockObject=ss.Delegate.remove(this.__unlockObject,a)},__unlockObject_handler_get:function(){null==this.__unlockObject_handler&&(this.__unlockObject_handler=ss.EventHandler.create(this,this.add_unlockObject,this.remove_unlockObject));
return this.__unlockObject_handler},__unlockObject:null,__unlockObject_handler:null,add_editText:function(a){this.__editText=ss.Delegate.combine(this.__editText,a)},remove_editText:function(a){this.__editText=ss.Delegate.remove(this.__editText,a)},__editText_handler_get:function(){null==this.__editText_handler&&(this.__editText_handler=ss.EventHandler.create(this,this.add_editText,this.remove_editText));return this.__editText_handler},__editText:null,__editText_handler:null,add_editContent:function(a){this.__editContent=
ss.Delegate.combine(this.__editContent,a)},remove_editContent:function(a){this.__editContent=ss.Delegate.remove(this.__editContent,a)},__editContent_handler_get:function(){null==this.__editContent_handler&&(this.__editContent_handler=ss.EventHandler.create(this,this.add_editContent,this.remove_editContent));return this.__editContent_handler},__editContent:null,__editContent_handler:null,add_undoRedoChanged:function(a){this.__undoRedoChanged=ss.Delegate.combine(this.__undoRedoChanged,a)},remove_undoRedoChanged:function(a){this.__undoRedoChanged=
ss.Delegate.remove(this.__undoRedoChanged,a)},__undoRedoChanged_handler_get:function(){null==this.__undoRedoChanged_handler&&(this.__undoRedoChanged_handler=ss.EventHandler.create(this,this.add_undoRedoChanged,this.remove_undoRedoChanged));return this.__undoRedoChanged_handler},__undoRedoChanged:null,__undoRedoChanged_handler:null,add_draw:function(a){this.__draw=ss.Delegate.combine(this.__draw,a)},remove_draw:function(a){this.__draw=ss.Delegate.remove(this.__draw,a)},__draw_handler_get:function(){null==
this.__draw_handler&&(this.__draw_handler=ss.EventHandler.create(this,this.add_draw,this.remove_draw));return this.__draw_handler},__draw:null,__draw_handler:null,add_edit:function(a){this.__edit=ss.Delegate.combine(this.__edit,a)},remove_edit:function(a){this.__edit=ss.Delegate.remove(this.__edit,a)},__edit_handler_get:function(){null==this.__edit_handler&&(this.__edit_handler=ss.EventHandler.create(this,this.add_edit,this.remove_edit));return this.__edit_handler},__edit:null,__edit_handler:null,
add_run:function(a){this.__run=ss.Delegate.combine(this.__run,a)},remove_run:function(a){this.__run=ss.Delegate.remove(this.__run,a)},__run_handler_get:function(){null==this.__run_handler&&(this.__run_handler=ss.EventHandler.create(this,this.add_run,this.remove_run));return this.__run_handler},__run:null,__run_handler:null,add_selectedObjectsChanged:function(a){this.__selectedObjectsChanged=ss.Delegate.combine(this.__selectedObjectsChanged,a)},remove_selectedObjectsChanged:function(a){this.__selectedObjectsChanged=
ss.Delegate.remove(this.__selectedObjectsChanged,a)},__selectedObjectsChanged_handler_get:function(){null==this.__selectedObjectsChanged_handler&&(this.__selectedObjectsChanged_handler=ss.EventHandler.create(this,this.add_selectedObjectsChanged,this.remove_selectedObjectsChanged));return this.__selectedObjectsChanged_handler},__selectedObjectsChanged:null,__selectedObjectsChanged_handler:null,add_onShowContextMenu:function(a){this.__onShowContextMenu=ss.Delegate.combine(this.__onShowContextMenu,a)},
remove_onShowContextMenu:function(a){this.__onShowContextMenu=ss.Delegate.remove(this.__onShowContextMenu,a)},__onShowContextMenu_handler_get:function(){null==this.__onShowContextMenu_handler&&(this.__onShowContextMenu_handler=ss.EventHandler.create(this,this.add_onShowContextMenu,this.remove_onShowContextMenu));return this.__onShowContextMenu_handler},__onShowContextMenu:null,__onShowContextMenu_handler:null,add_onShowObjectProperties:function(a){this.__onShowObjectProperties=ss.Delegate.combine(this.__onShowObjectProperties,
a)},remove_onShowObjectProperties:function(a){this.__onShowObjectProperties=ss.Delegate.remove(this.__onShowObjectProperties,a)},__onShowObjectProperties_handler_get:function(){null==this.__onShowObjectProperties_handler&&(this.__onShowObjectProperties_handler=ss.EventHandler.create(this,this.add_onShowObjectProperties,this.remove_onShowObjectProperties));return this.__onShowObjectProperties_handler},__onShowObjectProperties:null,__onShowObjectProperties_handler:null,add_setCursor:function(a){this.__setCursor=
ss.Delegate.combine(this.__setCursor,a)},remove_setCursor:function(a){this.__setCursor=ss.Delegate.remove(this.__setCursor,a)},__setCursor_handler_get:function(){null==this.__setCursor_handler&&(this.__setCursor_handler=ss.EventHandler.create(this,this.add_setCursor,this.remove_setCursor));return this.__setCursor_handler},__setCursor:null,__setCursor_handler:null,add_restoreCursor:function(a){this.__restoreCursor=ss.Delegate.combine(this.__restoreCursor,a)},remove_restoreCursor:function(a){this.__restoreCursor=
ss.Delegate.remove(this.__restoreCursor,a)},__restoreCursor_handler_get:function(){null==this.__restoreCursor_handler&&(this.__restoreCursor_handler=ss.EventHandler.create(this,this.add_restoreCursor,this.remove_restoreCursor));return this.__restoreCursor_handler},__restoreCursor:null,__restoreCursor_handler:null,add_toolTip:function(a){this.__toolTip=ss.Delegate.combine(this.__toolTip,a)},remove_toolTip:function(a){this.__toolTip=ss.Delegate.remove(this.__toolTip,a)},__toolTip_handler_get:function(){null==
this.__toolTip_handler&&(this.__toolTip_handler=ss.EventHandler.create(this,this.add_toolTip,this.remove_toolTip));return this.__toolTip_handler},__toolTip:null,__toolTip_handler:null,_setAutomationObject:function(a,b){null!=a&&a.get_automationObject()!==b&&a.set_automationObject(b)},_setAutomationContainerIndex:function(a,b){null!=a&&a.set_automationContainerIndex(b)},_init:function(a,b){this._automationManager=a;lt.Annotations.Core.Utils.setCheckModifierCallback(lt.Annotations.Automation.AnnAutomationManager.get_platformCallbacks().get_checkModifier());
this._resetObjectIncrementLabel();if(null!=b){this._automationControl=b;this._setAutomationObject(b,this);var c=new lt.Annotations.Core.AnnContainer;c.set_groupsRoles(this.get_manager().get_groupsRoles());this._automationControl=null;this._automationManager.get_automations().add(this);this._setContainerResources(c,this.get_manager().get_resources());this._undoRedos=[];this._undoRedos.add(new lt.Annotations.Automation._undoRedo(10));this._undoRedo=this._undoRedos[0];this._updateContainerMapperAndSize(!0);
this._activeContainer=c;this._doAttach(b);this._containers.add_collectionChanged(ss.Delegate.create(this,this._containers_CollectionChanged));this._containers.add(c);this._activeContainer.set_offset(lt.Annotations.Core.Utils.getAutomationOffset(b,this._activeContainer));this._activeContainer.set_userMode(a.get_userMode());this._automationControl_AutomationTransformChanged(this,lt.LeadEventArgs.Empty)}},_resetObjectIncrementLabel:function(){if(null!=this._automationManager)for(var a=ss.IEnumerator.getEnumerator(this._automationManager.get_objects());a.moveNext();)a.current.set_nextNumber(1)},
_setContainerResources:function(){},_updateContainersCounter:0,beginUpdateContainers:function(){this._updateContainersCounter++},endUpdateContainers:function(){if(!this._updateContainersCounter)throw new lt.InvalidOperationException("'EndUpdateContainers' called without a matching 'BeginUpdateContainers'");this._updateContainersCounter--;this._updateContainersCounter||this._automationControl_AutomationTransformChanged(this,lt.LeadEventArgs.Empty)},_containers_CollectionChanged:function(a,b){if(b.get_action()===
lt.Annotations.Core.AnnNotifyCollectionChangedAction.add){var c=Type.safeCast(b.get_newItems()[0],lt.Annotations.Core.AnnContainer);null!=c&&c.get_userMode()!==this.get_manager().get_userMode()&&c.set_userMode(this.get_manager().get_userMode());this._undoRedos.insert(this._containers.indexOf(c),new lt.Annotations.Automation._undoRedo(10));this._setContainerResources(c,this.get_manager().get_resources());c.set_groupsRoles(this.get_manager().get_groupsRoles());c.get_mapper().set_fontRelativeToImageDpi(this.get_manager().get_fontRelativeToImageDpi());
c.add_objectRemoved(ss.Delegate.create(this,this._activeContainer_ObjectRemoved));c.add_objectAdded(ss.Delegate.create(this,this._activeContainer_ObjectAdded));null==this._activeContainer&&this._setActiveContainer(c);this._updateContainersCounter||(this._updateContainerMapperAndSize(!1),this._updateContainerInvalidRect(c),this._automationControl_AutomationTransformChanged(this,lt.LeadEventArgs.Empty))}b.get_action()===lt.Annotations.Core.AnnNotifyCollectionChangedAction.remove&&(c=Type.safeCast(b.get_newItems()[0],
lt.Annotations.Core.AnnContainer),c.remove_objectRemoved(ss.Delegate.create(this,this._activeContainer_ObjectRemoved)),c.remove_objectAdded(ss.Delegate.create(this,this._activeContainer_ObjectAdded)),this._setContainerResources(c,null),this._undoRedos.removeAt(b.get_oldStartingIndex()),c===this._activeContainer&&(0<this._containers.get_count()?this._setActiveContainer(this._containers.get_item(0)):this._setActiveContainer(null)),this._updateContainersCounter||this._automationControl_AutomationTransformChanged(this,
lt.LeadEventArgs.Empty));b.get_action()===lt.Annotations.Core.AnnNotifyCollectionChangedAction.reset&&(this._undoRedos.clear(),this._setActiveContainer(null),this._updateContainersCounter||this._automationControl_AutomationTransformChanged(this,lt.LeadEventArgs.Empty))},hitTestContainer:function(a,b){if(null!=this._activeContainer){var c=this.getContainerInvalidRect(this._activeContainer,b);if(!lt.Annotations.Automation._leadRectDExtensions.isEmpty(c)&&lt.Annotations.Automation._leadRectDExtensions.containsPoint(c,
a))return this._activeContainer}for(var d=ss.IEnumerator.getEnumerator(this._containers);d.moveNext();){var e=d.current;if(e!==this._activeContainer&&e.get_isVisible()&&e.get_isEnabled()&&(c=this.getContainerInvalidRect(e,b),!lt.Annotations.Automation._leadRectDExtensions.isEmpty(c)&&lt.Annotations.Automation._leadRectDExtensions.containsPoint(c,a)))return e}return null},_updateContainerMapperAndSize:function(a){if(!(null==this._automationControl||null==this._activeContainer)){for(var b=this._containers.get_count(),
c=this._automationControl.get_automationUseDpi(),d=0;d<b;d++){this._setAutomationContainerIndex(this._automationControl,d);var e=this._containers.get_item(d),f=lt.Annotations.Core.Utils.getAutomationSize(this._automationControl,e),g=this._automationControl.get_automationXResolution(),h=this._automationControl.get_automationYResolution(),i,j;c?(i=this._automationControl.get_automationDpiX(),j=this._automationControl.get_automationDpiY()):(i=g,j=h);e.get_mapper().mapResolutions(g,h,i,j);a&&(lt.Annotations.Automation._leadSizeDExtensions.isEmpty(f)||
!f.get_width()||f.get_height())}this._setAutomationContainerIndex(this._automationControl,-1)}},attachContainer:function(a,b){null!=this._automationControl&&this.detach();this._containers.clear();null==a&&(a=new lt.Annotations.Core.AnnContainer);this._containers.add(a);this._setActiveContainer(a);this._activeContainer.set_userMode(this._automationManager.get_userMode());this._activeContainer.set_offset(lt.Annotations.Core.Utils.getAutomationOffset(this._automationControl,this._activeContainer));this._updateContainerMapperAndSize(!0);
this._undoRedo=null!=b?b.get__undoRedo():new lt.Annotations.Automation._undoRedo(10);this._doAttach(this._automationControl)},getUndoRedoObject:function(){var a=new lt.Annotations.Automation.AnnAutomationUndoRedoObject;a.set__undoRedo(this._undoRedo);return a},get_automationControl:function(){return this._automationControl},invalidate:function(a){if(null!=this._automationControl){this._automationControl.automationInvalidate(a);var b=Type.safeCast(this.get_currentDesigner(),lt.Annotations.Designers.AnnEditDesigner);
null!=b&&b.invalidate(a)}},getObjectInvalidateRect:function(a){return this._getObjectWithContainerInvalidateRect(this.get_container(),a)},_getObjectWithContainerInvalidateRect:function(a,b){var c=lt.Annotations.Automation._leadRectDExtensions.get_empty();if(null==a)return c;if(null!=this._automationControl&&null!=b){var d=null,e=this._getRenderingEngine();null!=e&&(e=e.get_renderers(),null!=e&&Object.keyExists(e,b.get_id())&&(d=e[b.get_id()]));null!=d&&(c=b.getInvalidateRect(a.get_mapper(),d))}return c},
_getRenderingEngine:function(){var a=this.get_manager().get_renderingEngine();return null!=a?a:this._automationControl.get_renderingEngine()},invalidateObject:function(a){var b=this._getRenderingEngine();if(b.get_stateless())b=Type.safeCast(this.get_currentDesigner(),lt.Annotations.Designers.AnnEditDesigner),null!=b?b.get_targetObject()===a&&b.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty()):(a=this.getObjectInvalidateRect(a),lt.Annotations.Automation._leadRectDExtensions.isEmpty(a)||
this._automationControl.automationInvalidate(a));else{var b=b.get_renderers()[a.get_id()],c=this.get_container();null!=c&&b.render(c.get_mapper(),a)}},invalidateContainer:function(a){null==a&&(a=this.get_container());null!=a&&a.get_isVisible()&&(a=this.getContainerInvalidRect(a,!0),lt.Annotations.Automation._leadRectDExtensions.isEmpty(a)||this.invalidate(a))},attach:function(a){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("automationControl");this._doAttach(a)},detach:function(){this._internalDetach(!0)},
_doAttach:function(a){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("automationControl");null!=this._automationControl&&this._internalDetach(!1);this._automationControl=a;null!=this._automationControl&&(this._setAutomationObject(this._automationControl,this),lt.Annotations.Core.Utils.setRenderingEngine(this._automationControl,this._getRenderingEngine()));this._updateContainerMapperAndSize(!0);this._activeContainer.add_objectAdded(ss.Delegate.create(this,this._activeContainer_ObjectAdded));
this._activeContainer.add_objectRemoved(ss.Delegate.create(this,this._activeContainer_ObjectRemoved));this._automationControl.set_automationGetContainersCallback(ss.Delegate.create(this,this._automationGetContainersCallback));this._automationControl.automationAttach(this._activeContainer);this._automationControl.add_automationSizeChanged(ss.Delegate.create(this,this._automationControl_AutomationSizeChanged));this._automationControl.add_automationTransformChanged(ss.Delegate.create(this,this._automationControl_AutomationTransformChanged));
this._automationControl.add_automationUseDpiChanged(ss.Delegate.create(this,this._automationControl_AutomationUseDpiChanged));this._automationControl.add_automationPointerDown(ss.Delegate.create(this,this._automationControl_AutomationPointerDown));this._automationControl.add_automationPointerMove(ss.Delegate.create(this,this._automationControl_AutomationOnPointerMove));this._automationControl.add_automationPointerUp(ss.Delegate.create(this,this._automationControl_AutomationOnPointerUp));this._automationControl.add_automationDoubleClick(ss.Delegate.create(this,
this._automationControl_AutomationDoubleClick));this._automationControl.add_automationLostFocus(ss.Delegate.create(this,this._automationControl_AutomationLostFocus));this._addObject(this._activeContainer.get_selectionObject());null!=this._activeContainer&&this._activeContainer.get_mapper().updateTransform(this._automationControl.get_automationTransform())},get_activeContainer:function(){return this._activeContainer},set_activeContainer:function(a){null==a&&(0<this._containers.get_count()&&lt.Annotations.Core.ExceptionHelper.argumentNullException("ActiveContainer"),
this._activeContainer=null);this._setActiveContainer(a);return a},add_activeContainerChanged:function(a){this.__activeContainerChanged=ss.Delegate.combine(this.__activeContainerChanged,a)},remove_activeContainerChanged:function(a){this.__activeContainerChanged=ss.Delegate.remove(this.__activeContainerChanged,a)},__activeContainerChanged_handler_get:function(){null==this.__activeContainerChanged_handler&&(this.__activeContainerChanged_handler=ss.EventHandler.create(this,this.add_activeContainerChanged,
this.remove_activeContainerChanged));return this.__activeContainerChanged_handler},__activeContainerChanged:null,__activeContainerChanged_handler:null,_setActiveContainer:function(a){null!=a&&!this._containers.contains(a)&&lt.Annotations.Core.ExceptionHelper.invalidOperationException("Container is not added to this automation");this._activeContainer!==a&&(this._activeContainer=a,null!=this._activeContainer&&null!=this._automationControl&&(a=null,null!=this._drawDesigner&&(a=this._drawDesigner),this.cancel(),
null!=a&&this._startDrawing(a.get_targetObject().get_id()),this._automationControl.automationAttach(this._activeContainer),this._automationControl.automationInvalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty())),this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty()),null!=this.__activeContainerChanged&&this.__activeContainerChanged(this,lt.LeadEventArgs.Empty))},_addObject:function(a){this._internalOnObjectModified2(a,34);null!=this._activeContainer.get_activeLayer()&&
(a.set_layer(this._activeContainer.get_activeLayer()),null!=this._activeContainer.get_activeLayer()&&(this._activeContainer.get_activeLayer().get_children().contains(a)||this._activeContainer.get_activeLayer().get_children().add(a)));var b=this._getRenderingEngine();null!=b&&!b.get_stateless()&&(b=b.get_renderers()[a.get_id()],null!=b&&b.addObject(a))},_deleteObject:function(a){this._internalOnObjectModified2(a,3);null!=a.get_layer()&&(a.get_layer().get_children().remove(a),a.set_layer(null));var b=
this._getRenderingEngine();null!=b&&!b.get_stateless()&&(b=this._getRenderingEngine().get_renderers()[a.get_id()],null!=b&&b.removeObject(a))},_activeContainer_ObjectAdded:function(a,b){this._addObject(b.get_object());this.get_manager().get_restrictDesigners()&&this._restrictObjectToContainer(b.get_object(),a,null)},_activeContainer_ObjectRemoved:function(a,b){this._deleteObject(b.get_object())},_detachViewer:function(){this._internalDetach(!0)},_internalDetach:function(a){null!=this._automationControl&&
(a&&this.cancel(),null!=this._activeContainer&&(this._activeContainer.remove_objectAdded(ss.Delegate.create(this,this._activeContainer_ObjectAdded)),this._activeContainer.remove_objectRemoved(ss.Delegate.create(this,this._activeContainer_ObjectRemoved))),this._automationControl.remove_automationSizeChanged(ss.Delegate.create(this,this._automationControl_AutomationSizeChanged)),this._automationControl.remove_automationTransformChanged(ss.Delegate.create(this,this._automationControl_AutomationTransformChanged)),
this._automationControl.remove_automationUseDpiChanged(ss.Delegate.create(this,this._automationControl_AutomationUseDpiChanged)),this._automationControl.remove_automationPointerDown(ss.Delegate.create(this,this._automationControl_AutomationPointerDown)),this._automationControl.remove_automationPointerMove(ss.Delegate.create(this,this._automationControl_AutomationOnPointerMove)),this._automationControl.remove_automationPointerUp(ss.Delegate.create(this,this._automationControl_AutomationOnPointerUp)),
this._automationControl.remove_automationDoubleClick(ss.Delegate.create(this,this._automationControl_AutomationDoubleClick)),this._automationControl.remove_automationLostFocus(ss.Delegate.create(this,this._automationControl_AutomationLostFocus)))},_automationControl_AutomationSizeChanged:function(){null!=this._activeContainer&&this._updateContainerMapperAndSize(!0)},_automationControl_AutomationTransformChanged:function(){for(var a=this._containers.get_count(),b=0;b<a;b++){this._setAutomationContainerIndex(this._automationControl,
b);var c=this._containers.get_item(b);c.get_mapper().set_scrollOffset(this._automationControl.get_automationScrollOffset());c.get_mapper().updateTransform(this._automationControl.get_automationTransform());this._updateContainerInvalidRect(c);var d=this._getRotationAngle(c.get_mapper().get_transform()),e=new lt.LeadMatrix;if(d&&!lt.Annotations.Core.AnnDouble.isNaN(d)){e.rotate(-d);d=e.clone();d.invert();var f=c.get_mapper().get_transform().clone(),f=lt.LeadMatrix.multiply(f,d);c.get_mapper().set_rotateTransform(e);
c.get_mapper().set_transformWithoutRotate(f)}else c.get_mapper().set_rotateTransform(lt.LeadMatrix.get_identity()),c.get_mapper().set_transformWithoutRotate(c.get_mapper().get_transform().clone())}this._setAutomationContainerIndex(this._automationControl,-1);if(null!=this._designer&&null!=this._lastPointerEventArgs)this.onAutomationPointerMove(this._lastPointerEventArgs)},_getRotationAngle:function(a){return 180*Math.atan2(a.get_m21(),a.get_m11())/Math.PI},_automationControl_AutomationUseDpiChanged:function(){this._updateContainerMapperAndSize(!1)},
get_defaultCurrentObjectId:function(){return this._defaultCurrentObjectId},set_defaultCurrentObjectId:function(a){return this._defaultCurrentObjectId=a},getDefaultCurrentObjectId:function(){return this.get_defaultCurrentObjectId()},get__checkSelectionKey:function(){return this.get_manager().get_forceSelectionModifierKey()&&!lt.Annotations.Core.Utils.checkModifierKey(this.get_manager().get_selectionModifierKey())},get__checkMultiSelectModifierKey:function(){return lt.Annotations.Core.Utils.checkModifierKey(this.get_manager().get_multiSelectModifierKey())},
get__deselectOnDown:function(){return this.get_manager().get_deselectOnDown()},_lastPointerEventArgs:null,_drawEditMode:!1,onAutomationPointerDown:function(a){this._drawEditMode=!1;this._lastPointerEventArgs=null!=a?a.clone():null;if(!(this.get_manager().get_userMode()===lt.Annotations.Core.AnnUserMode.render||null==this._automationControl||!this._automationControl.get_automationEnabled()||!this.get_active())){var b=a.get_location(),c=this.hitTestContainer(b,!0);null!=c&&c!==this._activeContainer&&
c.get_isEnabled()&&this._setActiveContainer(c);if(null!=this.get_container()){a.set_isHandled(!1);b=this._activeContainer.get_mapper().pointToContainerCoordinates(b);c=lt.Annotations.Core.AnnPointerEventArgs.create(a.get_button(),b);this._undoRedo=this._undoRedos[this._containers.indexOf(this._activeContainer)];var d=this._activeContainer.hitTestPoint(b);if(null!=d&&!d.length)for(var e=ss.IEnumerator.getEnumerator(this._containers);e.moveNext();){var f=e.current;if(f!==this._activeContainer&&f.get_isEnabled()){var g=
f.get_mapper().pointToContainerCoordinates(a.get_location()),d=f.hitTestPoint(g);if(null!=d&&d.length){b=g;c=lt.Annotations.Core.AnnPointerEventArgs.create(a.get_button(),b);this._setActiveContainer(f);break}}}e=this.get_container();if(this._isVisibleEnabledContainer(e)){var h=g=f=!1;if(!this.get__endEditDesignerBeforeDraw()&&null!=this._editDesigner){if(null!=d&&0<d.length)h=!0,1===d.length&&null!=this._drawDesigner&&d[0]===this._drawDesigner.get_targetObject()&&(h=!1);else{var i=this._editDesigner.get_targetObject(),
j=this._editDesigner.getRenderer(),k=lt.Annotations.Core.Utils.fixPoint(b,e.get_mapper(),i.get_fixedStateOperations());this._editDesigner.get_useRotateThumbs()&&(null!=j.get_rotateCenterThumbStyle()&&j.get_rotateCenterThumbStyle().renderHitTest(i.get_internalRotateCenterLocation(),k,0,e.get_mapper())?f=!0:null!=j.get_rotateGripperThumbStyle()&&j.get_rotateGripperThumbStyle().renderHitTest(i.get_internalRotateGripperLocation(),k,0,e.get_mapper())&&(g=!0))}this._drawEditMode=h||f||g}if(!this._drawEditMode&&
null!=this._drawDesigner)(f=!0,this._drawDesigner.get_isTargetObjectAdded()||(g=this.getContainerInvalidRect(e,!1),lt.Annotations.Automation._leadRectDExtensions.containsPoint(g,a.get_location())||(f=!1)),f)?(f=this.get_manager().get_currentObjectId(),g=this.get_manager().findObjectById(f),h=this._drawDesigner.get_targetObject(),f!==lt.Annotations.Core.AnnObject.selectObjectId&&null!=h&&this._updateObjectLabel(g,h),a.set_isHandled(this._drawDesigner.onPointerDown(e,c.clone()))):a.set_isHandled(!0);
else if(null!=this._editDesigner){this._drawEditMode&&(this._designer=this._editDesigner);if(null!=d&&0<d.length)if(this._editDesigner.get_targetObject()===d[d.length-1])if(c.get_button()===lt.Annotations.Core.AnnMouseButton.left){if(a.set_isHandled(this._editDesigner.onPointerDown(e,c.clone())),g=Type.safeCast(this._editDesigner.get_targetObject(),lt.Annotations.Core.AnnSelectionObject),null!=g&&1<g.get_selectedObjects().get_count()){h=null;for(i=ss.IEnumerator.getEnumerator(g.get_selectedObjects());i.moveNext();)f=
i.current,f.set_isAlignmentTarget(!1),f.hitTest(b,10)&&(h=f);this.get_manager().get_enableObjectsAlignment()&&(null!=h&&g.set_alignmentTarget(h),null!=g.get_alignmentTarget()&&g.get_alignmentTarget().set_isAlignmentTarget(!0));this._automationManager.get__isMultiSelectionEnabled()&&this.get__checkMultiSelectModifierKey()&&this._automationManager.get_enableDeselectObject()&&(g.get_selectedObjects().remove(h),1===g.get_selectedObjects().get_count()&&(f=g.get_selectedObjects().get_item(0),g.set_isSelected(!1),
this._startEditing(f,!1,!0,f),null!=this._editDesigner&&!this.get_manager().get_enableThumbsSelection()&&this._editDesigner.set_ignoreHitTestThumbs(!0)))}}else c.get_button()===lt.Annotations.Core.AnnMouseButton.right&&a.set_isHandled(this._doShowObjectContextMenu());else{if(a.set_isHandled(this._editDesigner.hitTestThumbs(b)),a.get_isHandled()&&a.set_isHandled(this._editDesigner.onPointerDown(e,c.clone())),!a.get_isHandled()&&(f=d[d.length-1],this._automationManager.get__isMultiSelectionEnabled()&&
this.get__checkMultiSelectModifierKey()?(g=this._editDesigner.get_targetObject(),Type.canCast(g,lt.Annotations.Core.AnnSelectionObject)||(this._endEditDesigner(!0),this._designer=null,e.get_selectionObject().get_selectedObjects().add(g)),e.get_selectionObject().get_selectedObjects().add(f),this._startEditing(e.get_selectionObject(),!1,!0,f)):(this._endEditDesigner(!0),this._startEditing(f,!1,!0,f)),null!=this._editDesigner&&!this.get_manager().get_enableThumbsSelection()&&this._editDesigner.set_ignoreHitTestThumbs(!0),
null!=this._editDesigner))c.get_button()===lt.Annotations.Core.AnnMouseButton.left?a.set_isHandled(this._editDesigner.onPointerDown(e,c.clone())):(a.set_isHandled(!0),this.showObjectContextMenu())}else a.set_isHandled(this._editDesigner.hitTestThumbs(b)),a.get_isHandled()&&a.set_isHandled(this._editDesigner.onPointerDown(e,c.clone()));a.get_isHandled()||(f=this.get__deselectOnDown(),!f&&this.get_manager().get_currentObjectId()===lt.Annotations.Core.AnnObject.selectObjectId&&!this.get__checkSelectionKey()&&
Type.canCast(this._designer,lt.Annotations.Designers.AnnSelectionEditDesigner)&&(f=!0),f&&this._endEditDesigner(!0))}else null==this._editDesigner&&this.get_manager().get_userMode()===lt.Annotations.Core.AnnUserMode.design&&null!=d&&0<d.length&&(f=d[d.length-1],this._startEditing(f,!1,!0,f),null!=this._editDesigner&&!this.get_manager().get_enableThumbsSelection()&&this._editDesigner.set_ignoreHitTestThumbs(!0),null!=this._editDesigner&&c.get_button()===lt.Annotations.Core.AnnMouseButton.left&&(c.set_location(this._activeContainer.get_mapper().pointToContainerCoordinates(a.get_location())),
a.set_isHandled(this._editDesigner.onPointerDown(e,c.clone())),a.get_isHandled()&&null!=this._editDesigner.get_targetObject()&&this._fireSetCursor(this._editDesigner.get_targetObject().get_id(),3,-1,!1,!1,this._lastPointerEventArgs,null)));if(null!=d&&!d.length&&null==this._drawDesigner&&(null==this._editDesigner||!this.get__deselectOnDown())&&!a.get_isHandled()&&this.get_manager().get_userMode()===lt.Annotations.Core.AnnUserMode.design&&c.get_button()===lt.Annotations.Core.AnnMouseButton.left)null==
this._editDesigner&&e.get_selectionObject().get_selectedObjects().clear(),this.get_manager().get_currentObjectId()!==lt.Annotations.Core.AnnObject.selectObjectId&&this.get_manager().set_currentObjectId(this.getDefaultCurrentObjectId()),this.get_manager().get_currentObjectId()===lt.Annotations.Core.AnnObject.selectObjectId&&this.get__checkSelectionKey()||this.get__checkMultiSelectModifierKey()||this._startDrawing(this.get_manager().get_currentObjectId()),null!=this._drawDesigner&&(this._drawDesigner.onPointerDown(e,
c.clone()),this._selecting=!0,a.set_isHandled(!0));!a.get_isHandled()&&this.get_manager().get_userMode()===lt.Annotations.Core.AnnUserMode.run?c.get_button()===lt.Annotations.Core.AnnMouseButton.left&&(b=e.hitTestPoint(b),d=null,0<b.length&&(d=b[b.length-1]),null!=d&&!d.get_isLocked()&&(this._startRunning(d),null!=this._runDesigner&&a.set_isHandled(this._runDesigner.onPointerDown(e,c.clone())))):this.get_manager().get_userMode()===lt.Annotations.Core.AnnUserMode.design&&(a.get_isHandled()||(d=b,g=
Type.safeCast(this._designer,lt.Annotations.Designers.AnnEditDesigner),b=e.hitTestPoint(d),f=null,null!=b&&0<b.length?f=b[b.length-1]:null!=g&&c.get_button()===lt.Annotations.Core.AnnMouseButton.right&&g.hitTestThumbs(d)&&(b[b.length-1]=this._editDesigner.get_targetObject()),c.get_button()===lt.Annotations.Core.AnnMouseButton.right&&null!=this._drawDesigner&&(this._endDrawDesigner(!1,!1),this.get_manager().get_currentObjectId()!==lt.Annotations.Core.AnnObject.selectObjectId&&this.get_manager().set_currentObjectId(lt.Annotations.Core.AnnObject.selectObjectId)),
null!=f&&null!=g&&c.get_button()===lt.Annotations.Core.AnnMouseButton.right&&g.get_targetObject()===f&&a.set_isHandled(this._doShowObjectContextMenu()),a.get_isHandled()),!a.get_isHandled()&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)&&this.get__deselectOnDown()&&a.set_isHandled(this._endEditDesigner(!0)),!a.get_isHandled()&&c.get_button()===lt.Annotations.Core.AnnMouseButton.right&&a.set_isHandled(this._doShowContextMenu()))}}}},_isPointerDownHandled:!1,_automationControl_AutomationPointerDown:function(a,
b){this.onAutomationPointerDown(b);this._isPointerDownHandled=b.get_isHandled()},onAutomationPointerUp:function(a){if(a.get_button()!==lt.Annotations.Core.AnnMouseButton.none){this._canUpdateObjectLabel=!1;if(!this.get__deselectOnDown()&&!this._isPointerDownHandled&&null!=this._activeContainer){var b=this._activeContainer.get_mapper().pointToContainerCoordinates(a.get_location()),c=this._activeContainer.hitTestPoint(b);null!=c&&!c.length&&this._endEditDesigner(!0)}this._lastPointerEventArgs=null!=
a?a.clone():null;if(!(this.get_manager().get_userMode()===lt.Annotations.Core.AnnUserMode.render||null==this._automationControl||!this._automationControl.get_automationEnabled()||!this.get_active()))if(c=this.get_container(),this._isVisibleEnabledContainer(c))a.set_isHandled(!1),null!=this._designer&&(b=this._activeContainer.get_mapper().pointToContainerCoordinates(a.get_location()),b=lt.Annotations.Core.AnnPointerEventArgs.create(a.get_button(),b),a.set_isHandled(this._designer.onPointerUp(c,b)),
this.get_manager().get_enableObjectsAlignment()&&null!=this._designer&&(c=Type.safeCast(this._designer.get_targetObject(),lt.Annotations.Core.AnnSelectionObject),null!=c&&1<c.get_selectedObjects().get_count()&&null==c.get_alignmentTarget()&&(c.set_alignmentTarget(c.get_selectedObjects().get_item(c.get_selectedObjects().get_count()-1)),c.get_alignmentTarget().set_isAlignmentTarget(!0),this.invalidateObject(c)))),null!=this._drawDesigner&&!a.get_isHandled()&&(this.get__endEditDesignerBeforeDraw()?this._endDrawDesigner(!0,
!1):this._startDrawing(this.get_manager().get_currentObjectId()),this.get_manager().get_editObjectAfterDraw()||this._startDrawing(this.get_manager().get_currentObjectId())),!a.get_isHandled()&&this.get_manager().get_userMode()===lt.Annotations.Core.AnnUserMode.design&&this._selecting&&a.set_isHandled(this._cancelSelecting())}},resolveObject:function(){var a;if(null!=this.get_currentEditObject()){for(var b=null,c=this.get_currentEditObject().get_bounds(),d=ss.IEnumerator.getEnumerator(this._containers);d.moveNext();){var e=
d.current;a=e.get_offset();var f=e.get_size();a=lt.Annotations.Automation._leadRectDExtensions.create(a.get_x(),a.get_y(),f.get_width(),f.get_height());if(lt.Annotations.Automation._leadRectDExtensions.containsRect(a,c)){b=e;break}}null!=b&&b!==this._activeContainer&&(this._activeContainer.get_children().remove(this.get_currentEditObject()),b.get_children().add(this.get_currentEditObject()),this.get_currentEditObject().get_labels().AnnObjectName.set_isVisible(!0),this.get_currentEditObject().get_labels().AnnObjectName.set_text(String.format("Object has been moved from Container {0} to Container {1}",
this._activeContainer.get_pageNumber().toString(),b.get_pageNumber().toString())))}},_automationControl_AutomationOnPointerUp:function(a,b){this.onAutomationPointerUp(b)},_automationControl_AutomationOnPointerMove:function(a,b){this.onAutomationPointerMove(b)},onAutomationPointerMove:function(a){this._lastPointerEventArgs=null!=a?a.clone():null;if(this.get_manager().get_userMode()!==lt.Annotations.Core.AnnUserMode.render){var b=!1,c=null!=this.__setCursor&&null!=this.__restoreCursor,d=this.get_manager().get_enableToolTip()&&
null!=this.__toolTip,e=lt.Annotations.Automation._leadPointDExtensions.clone(a.get_location()),f=null,g=this.get_container();this._updateContainerInvalidRect(g);if(null!=g&&(c||d)){var h=g.get_mapper().pointToContainerCoordinates(e);null!=this.get_currentDesigner()&&Type.canCast(this.get_currentDesigner(),lt.Annotations.Designers.AnnCrossProductEditDesigner)?Type.safeCast(this.get_currentDesigner(),lt.Annotations.Designers.AnnCrossProductEditDesigner).get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.none&&
(f=g.hitTestPoint(h)):null!=g&&(f=g.hitTestPoint(h))}null!=this._activeContainer&&(e=this._activeContainer.get_mapper().pointToContainerCoordinates(e));h=lt.Annotations.Core.AnnPointerEventArgs.create(a.get_button(),e);if(null!=g){if(g.get_userMode()===lt.Annotations.Core.AnnUserMode.run)null!=f&&0<f.length&&(this._fireSetCursor(f[f.length-1].get_id(),2,-1,!1,!1,this._lastPointerEventArgs,null),b=!0);else if(null!=this._designer){a.set_isHandled(this._designer.onPointerMove(g,h.clone()));if(!c)return;
h=a=!1;if(this.get_manager().get_userMode()===lt.Annotations.Core.AnnUserMode.design){var i=Type.safeCast(this._designer,lt.Annotations.Designers.AnnEditDesigner);if(!this.get__endEditDesignerBeforeDraw()&&null!=this._editDesigner&&null!=this._drawDesigner)if(null!=f&&0<f.length)i=this._editDesigner;else{var j=this._editDesigner.get_targetObject(),k=this._editDesigner.getRenderer(),l=lt.Annotations.Core.Utils.fixPoint(e,g.get_mapper(),j.get_fixedStateOperations()),m=0;if(this._editDesigner.get_useRotateThumbs())if(a=
null!=k.get_rotateCenterThumbStyle()&&k.get_rotateCenterThumbStyle().renderHitTest(j.get_internalRotateCenterLocation(),l,m,g.get_mapper()))i=this._editDesigner;else if(h=null!=k.get_rotateGripperThumbStyle()&&k.get_rotateGripperThumbStyle().renderHitTest(j.get_internalRotateGripperLocation(),l,m,g.get_mapper()))i=this._editDesigner}if(null!=i&&i.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.none){var j=i.get_targetObject(),k=i.getRenderer(),o=i.getThumbLocations();if(null!=k){l=
lt.Annotations.Core.Utils.fixPoint(e,g.get_mapper(),j.get_fixedStateOperations());m=0;if(null!=o&&i.get_showThumbs())for(var e=k.get_locationsThumbStyle(),n=0;n<o.length;++n)if(e.renderHitTest(o[n],l,m,g.get_mapper())){this._fireSetCursor(j.get_id(),3,n,!1,!1,this._lastPointerEventArgs,null);b=!0;break}if(i.get_useRotateThumbs()&&!b)if(null!=k.get_rotateCenterThumbStyle()&&(a||k.get_rotateCenterThumbStyle().renderHitTest(j.get_internalRotateCenterLocation(),l,m,g.get_mapper())))this._fireSetCursor(j.get_id(),
3,-1,!0,!1,this._lastPointerEventArgs,null),b=!0;else if(null!=k.get_rotateGripperThumbStyle()&&(h||k.get_rotateGripperThumbStyle().renderHitTest(j.get_internalRotateGripperLocation(),l,m,g.get_mapper())))this._fireSetCursor(j.get_id(),3,-1,!1,!0,this._lastPointerEventArgs,null),b=!0}!b&&null!=f&&0<f.length&&(this._fireSetCursor(j.get_id(),3,-1,!1,!1,this._lastPointerEventArgs,null),b=!0)}else b=Type.safeCast(this._designer,lt.Annotations.Designers.AnnDrawDesigner),null!=b&&null!=b.get_targetObject()&&
this._fireSetCursor(b.get_finalTargetObject().get_id(),1,-1,!1,!1,this._lastPointerEventArgs,null),b=!0}}else c&&null!=f&&0<f.length&&(this._fireSetCursor(f[f.length-1].get_id(),0,-1,!1,!1,this._lastPointerEventArgs,null),b=!0);d&&(null!=f&&0<f.length?(d=f[f.length-1],d!==this._annObjectToolTip&&null!=this._designer&&!Type.canCast(this._designer,lt.Annotations.Designers.AnnDrawDesigner)&&(this._fireSetToolTip(d),this._annObjectToolTip=d)):(this._fireSetToolTip(null),this._annObjectToolTip=null));
!b&&c&&this._fireRestoreCursor()}}},_automationControl_AutomationDoubleClick:function(a,b){if(!(this.get_manager().get_userMode()===lt.Annotations.Core.AnnUserMode.render||null==this._automationControl||!this._automationControl.get_automationEnabled())){var c=this.get_container();this._isVisibleEnabledContainer(c)&&null!=this._designer&&b.set_isHandled(this._designer.onPointerDoubleClick(c,b.clone()))}},_automationControl_AutomationLostFocus:function(){null!=this._drawDesigner&&this.get_manager().get_endDrawWhenLostFocus()&&
!this._ignoreLostFocus&&(this._drawDesigner.cancel(),this._endDrawDesigner(!0,!1),this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty()))},get__endEditDesignerBeforeDraw:function(){return this.get_manager().get_endEditDesignerBeforeDraw()},_currentObjectChanged:function(){var a=this.get_container();if(null!=a&&a.get_isEnabled()){var a=!1,b=this.get_manager().get_currentObjectId()===lt.Annotations.Core.AnnObject.selectObjectId;if(b){var c=this.get_manager().findObjectById(lt.Annotations.Core.AnnObject.selectObjectId);
null!=c&&null==c.get_drawDesignerType()&&!this.get__deselectOnDown()&&null!=this._editDesigner?a=!0:this.get__checkSelectionKey()&&(a=!0)}this.get__endEditDesignerBeforeDraw()&&this._active&&this.get_manager().get_cancelInactiveDesigners()&&!a&&this.cancel();b||this._startDrawing(this.get_manager().get_currentObjectId())}},_updateObjectLabel:function(a,b){if(this._canUpdateObjectLabel){var c=a.get_labelTemplate();if(!String.isNullOrEmpty(c)&&Object.keyExists(b.get_labels(),"AnnObjectName")){var d=
b.get_labels().AnnObjectName,e=a.get_nextNumber();-1!==c.indexOf("##")?(d.set_text(c.replaceAll("##",e.toString())),a.set_nextNumber(a.get_nextNumber()+1)):d.set_text(c);d.set_isVisible(!0)}}},_startDrawing:function(a){this._drawEditMode&&(this._defaultCurrentObjectId=a);var b=this.get_manager().findObjectById(a),c=this.get_container();if(null!=c&&c.get_isVisible()&&c.get_isEnabled()&&null!=b&&null!=b.get_drawDesignerType()){this._canUpdateObjectLabel=!0;var d=c.get_selectionObject();a!==lt.Annotations.Core.AnnObject.selectObjectId&&
(d=Type.safeCast(b.get_objectTemplate().clone(),lt.Annotations.Core.AnnObject),d.setId(a));lt.Annotations.Automation.AnnAutomation._isUserInRole(lt.Annotations.Core.AnnOperationType.createObjects,d,this.get_container())&&(a=new lt.Annotations.Core.AnnObjectCollection,a.add(d),this._internalOnBeforeObjectChanged(a,30)&&(Type.canCast(d,lt.Annotations.Core.AnnSelectionObject)||this.beginUndo(),a=b.get_drawDesignerType(),this._drawDesigner=Type.safeCast(new a(this._automationControl,c,d),lt.Annotations.Designers.AnnDrawDesigner),
this._drawDesigner.set_snapToGridOptions(this.get_manager().get_snapToGridOptions()),this._drawDesigner.set_extendedModeModifierKey(this.get_manager().get_extendedModeModifierKey()),this._designer=this._drawDesigner,this._drawDesigner.set_restrictDesigners(this.get_manager().get_restrictDesigners()),this._drawDesigner.add_draw(ss.Delegate.create(this,this._drawDesigner_Draw)),this._fireSetCursor(b.get_id(),1,-1,!1,!1,null,null),this._drawDesigner.start(),this.onCurrentDesignerChanged(lt.LeadEventArgs.Empty)))}},
_fireSetCursor:function(a,b,c,d,e,f,g){null!=this.__setCursor&&this.__setCursor(this,new lt.Annotations.Automation.AnnCursorEventArgs(a,b,c,d,e,f,g))},_fireSetToolTip:function(a){null!=this.__toolTip&&this.__toolTip(this,null!=a?lt.Annotations.Core.AnnToolTipEventArgs.create(a,a.get_bounds()):lt.Annotations.Core.AnnToolTipEventArgs.create(null,lt.Annotations.Automation._leadRectDExtensions.get_empty()))},add_currentDesignerChanged:function(a){this.__currentDesignerChanged=ss.Delegate.combine(this.__currentDesignerChanged,
a)},remove_currentDesignerChanged:function(a){this.__currentDesignerChanged=ss.Delegate.remove(this.__currentDesignerChanged,a)},__currentDesignerChanged_handler_get:function(){null==this.__currentDesignerChanged_handler&&(this.__currentDesignerChanged_handler=ss.EventHandler.create(this,this.add_currentDesignerChanged,this.remove_currentDesignerChanged));return this.__currentDesignerChanged_handler},__currentDesignerChanged:null,__currentDesignerChanged_handler:null,onCurrentDesignerChanged:function(a){null!=
this.__currentDesignerChanged&&this.__currentDesignerChanged(this,a)},_startEditing:function(a,b,c){var d=this.get_container();if(this._isVisibleEnabledContainer(d)&&lt.Annotations.Automation.AnnAutomation._isUserInRole(lt.Annotations.Core.AnnOperationType.editObjects,a,this.get_container())&&d.get_userMode()===lt.Annotations.Core.AnnUserMode.design){b&&(null==this._designer||Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner));null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)&&
!Type.canCast(this._designer,lt.Annotations.Designers.AnnSelectionEditDesigner)&&(this._endEditDesigner(c),this.get_manager().get_currentObjectId()!==lt.Annotations.Core.AnnObject.selectObjectId&&this.get_manager().set_currentObjectId(lt.Annotations.Core.AnnObject.selectObjectId));b=this.get_manager().findObject(a);c=d.get_selectionObject();if(a!==c&&(c.get_selectedObjects().clear(),c.set_isSelected(!1),c.set_rect(lt.Annotations.Automation._leadRectDExtensions.get_empty()),c.adjustBounds(),!String.isNullOrEmpty(a.get_groupName()))){for(b=
ss.IEnumerator.getEnumerator(d.get_children());b.moveNext();){var e=b.current;lt.Annotations.Core.Utils.compare(a.get_groupName(),e.get_groupName(),!0)&&c.get_selectedObjects().add(e)}c.adjustBounds();b=this.get_manager().findObjectById(c.get_id());a=d.get_selectionObject()}null!=b&&null!=b.get_editDesignerType()&&(c=b.get_editDesignerType(),this._editDesigner=Type.safeCast(new c(this._automationControl,d,a),lt.Annotations.Designers.AnnEditDesigner),this._editDesigner.add_editContent(ss.Delegate.create(this,
this._editDesigner_EditContent)),a=Type.safeCast(this._editDesigner,lt.Annotations.Designers.AnnPolylineEditDesigner),null!=a&&a.set_thumbsGap(this.get_manager().get_thumbsGap()),a=Type.safeCast(this._editDesigner,lt.Annotations.Designers.AnnTextEditDesigner),null!=a&&a.add_editText(ss.Delegate.create(this,this._textEditDesigner_EditText)),this._editDesigner.set_showThumbs(this.get_manager().get_showThumbs()),this._editDesigner.set_restrictDesigners(this.get_manager().get_restrictDesigners()),this._editDesigner.set_snapToGridOptions(this.get_manager().get_snapToGridOptions()),
this._editDesigner.set_thumbsHitTestBuffer(this.get_manager().get_thumbsHitTestBuffer()),this._editDesigner.set_rotateModifierKey(this.get_manager().get_rotateModifierKey()),this._editDesigner.set_maintainAspectRatio(this.get_manager().get_maintainAspectRatio()),this._editDesigner.set_useRotateThumbs(b.get_useRotateThumbs()),this._editDesigner.get_useRotateThumbs(),this._editDesigner.start(),this._designer=this._editDesigner,this.onCurrentDesignerChanged(lt.LeadEventArgs.Empty),null!=this.__selectedObjectsChanged&&
this.__selectedObjectsChanged(this,lt.LeadEventArgs.Empty),null!=this._editDesigner&&this._editDesigner.add_edit(ss.Delegate.create(this,this._editDesigner_Edit)))}},_onEditContent:function(a,b){null!=this.__editContent&&(this.__editContent(a,b),b.get_cancel()||(this._internalOnObjectModified2(b.get_targetObject(),36),this._internalOnAfterObjectChanged2(b.get_targetObject(),36)))},_editDesigner_EditContent:function(a,b){this._onEditContent(a,b)},_onEditText:function(a,b){null!=this.__editText&&(this.__editText(a,
b),b.get_cancel()||(this._internalOnObjectModified2(b.get_textObject(),14),this._internalOnAfterObjectChanged2(b.get_textObject(),14)))},_textEditDesigner_EditText:function(a,b){this._onEditText(a,b)},_endEditDesigner:function(a){if(null==this._editDesigner)return!1;this._editDesigner.get_hasStarted()&&(this._internalOnObjectModified2(this._editDesigner.get_targetObject(),35),this._editDesigner.remove_editContent(ss.Delegate.create(this,this._editDesigner_EditContent)),this._editDesigner.end(),a&&
this.cancelUndo());a=Type.safeCast(this._editDesigner,lt.Annotations.Designers.AnnTextEditDesigner);null!=a&&a.remove_editText(ss.Delegate.create(this,this._textEditDesigner_EditText));this._editDesigner.remove_edit(ss.Delegate.create(this,this._editDesigner_Edit));this._designer=this._editDesigner=null;this._fireRestoreCursor();this.onCurrentDesignerChanged(lt.LeadEventArgs.Empty);null!=this.__selectedObjectsChanged&&this.__selectedObjectsChanged(this,lt.LeadEventArgs.Empty);return!0},_ignoreLostFocus:!1,
_endDrawDesigner:function(a,b){if(null!=this._drawDesigner){this._drawDesigner.remove_draw(ss.Delegate.create(this,this._drawDesigner_Draw));if(this._drawDesigner.get_hasStarted()){this._drawDesigner.end();var c=this._drawDesigner.get_finalTargetObject();if(!b&&null!=this._activeContainer&&c.get_id()!==lt.Annotations.Core.AnnObject.selectObjectId&&0<c.get_points().get_count()){this._ignoreLostFocus=!0;Type.canCast(this._designer,lt.Annotations.Designers.AnnDrawDesigner)&&(this._designer=null);this.get_manager().get_editContentAfterDraw()&&
c.get_supportsContent()&&this._onEditContent(this._drawDesigner,lt.Annotations.Core.AnnEditContentEventArgs.create(c,this._activeContainer.get_mapper().rectFromContainerCoordinates(c.get_bounds(),c.get_fixedStateOperations())));if(this.get_manager().get_editTextAfterDraw()){var d=Type.safeCast(c,lt.Annotations.Core.AnnTextObject);null!=d&&d.get_id()!==lt.Annotations.Core.AnnObject.stampObjectId&&this._onEditText(this._drawDesigner,lt.Annotations.Core.AnnEditTextEventArgs.create(d,this._activeContainer.get_mapper().rectFromContainerCoordinates(c.get_bounds(),
c.get_fixedStateOperations())))}this._ignoreLostFocus=!1}}this._drawDesigner=null;Type.canCast(this._designer,lt.Annotations.Designers.AnnDrawDesigner)&&(this._designer=null);this._fireRestoreCursor()}},_cancelSelecting:function(){var a=this.get_container();return null!=a&&null!=a.get_selectionObject()&&0<a.get_selectionObject().get_selectedObjects().get_count()?(this._selecting=!1,!0):!1},_editDesigner_Edit:function(a,b){if(b.get_operationStatus()===lt.Annotations.Core.AnnDesignerOperationStatus.start){if(!this._internalOnBeforeObjectChanged2(b.get_object(),
31)){b.set_cancel(!0);return}this._editObjectOriginalBounds=b.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.move&&null!=this._editDesigner&&null!=this._editDesigner.get_targetObject()?this._editDesigner.get_targetObject().get_bounds():lt.Annotations.Automation._leadRectDExtensions.get_empty();this.beginUndo()}else if(b.get_operationStatus()===lt.Annotations.Core.AnnDesignerOperationStatus.working)b.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.move&&null!=this._editDesigner&&
null!=this._editDesigner.get_targetObject()&&this._doDragDrop(a,b,2);else if(b.get_operationStatus()===lt.Annotations.Core.AnnDesignerOperationStatus.end){var c=!0;b.get_operation()===lt.Annotations.Core.AnnEditDesignerOperation.move&&(c=this._doDragDrop(a,b,3));if(c)this.endUndo();else if(this.cancelUndo(),null!=this._editDesigner&&null!=this._editDesigner.get_targetObject()&&!lt.Annotations.Automation._leadRectDExtensions.isEmpty(this._editObjectOriginalBounds)){var d=this._editDesigner.get_targetObject().get_bounds(),
e=this._editObjectOriginalBounds.get_x()-d.get_x(),d=this._editObjectOriginalBounds.get_y()-d.get_y();(!lt.LeadDoubleTools.isZero(e)||!lt.LeadDoubleTools.isZero(d))&&this._editDesigner.callMove(e,d)}this.get_manager().get_restrictDesigners()&&this._restrictObjectToContainer(b.get_object(),this._activeContainer,this._editDesigner);this._dragDropEventArgs=null;c&&null!=this._editDesigner&&this._editDesigner.get_isModified()&&this._internalOnAfterObjectChanged2(b.get_object(),31)}null!=this.__edit&&
this.__edit(a,b)},_restrictObjectToContainer:function(a,b,c){if(null!=a){var b=b.get_mapper().rectToContainerCoordinates(this.getContainerInvalidRect(b,!1)),d=a.get_bounds();if(!lt.Annotations.Automation._leadRectDExtensions.containsRect(b,d)){var e=0,f=0;lt.Annotations.Automation._leadRectDExtensions.right(d)>lt.Annotations.Automation._leadRectDExtensions.right(b)?e=lt.Annotations.Automation._leadRectDExtensions.right(b)-lt.Annotations.Automation._leadRectDExtensions.right(d):lt.Annotations.Automation._leadRectDExtensions.left(d)<
lt.Annotations.Automation._leadRectDExtensions.left(b)&&(e=lt.Annotations.Automation._leadRectDExtensions.left(b)-lt.Annotations.Automation._leadRectDExtensions.left(d));lt.Annotations.Automation._leadRectDExtensions.top(d)<lt.Annotations.Automation._leadRectDExtensions.top(b)?f=lt.Annotations.Automation._leadRectDExtensions.top(b)-lt.Annotations.Automation._leadRectDExtensions.top(d):lt.Annotations.Automation._leadRectDExtensions.bottom(d)>lt.Annotations.Automation._leadRectDExtensions.bottom(b)&&
(f=lt.Annotations.Automation._leadRectDExtensions.bottom(b)-lt.Annotations.Automation._leadRectDExtensions.bottom(d));if(!lt.LeadDoubleTools.isZero(e)||!lt.LeadDoubleTools.isZero(f))null!=c?c.callMove(e,f):a.translate(e,f);this.invalidateObject(a)}}},_dragDropEventArgs:null,_doDragDrop:function(a,b,c){if(!this.get_enableDragDrop()||b.get_operation()!==lt.Annotations.Core.AnnEditDesignerOperation.move||null==this._lastPointerEventArgs)return!0;var a=Type.safeCast(a,lt.Annotations.Designers.AnnEditDesigner),
b=a.get_targetObject(),d=null;if(null==this._dragDropEventArgs){if(3===c)return!0;for(var e=ss.IEnumerator.getEnumerator(this._containers);e.moveNext();){var f=e.current;if(f.get_children().contains(b)||f.get_selectionObject()===b){d=f;break}}if(null==d)return!0}else d=this._dragDropEventArgs.get_sourceContainer();var g=lt.Annotations.Automation._leadPointDExtensions.clone(this._lastPointerEventArgs.get_location()),e=this.hitTestContainer(g,!1);if(e===d&&null==this._dragDropEventArgs)return!0;null!=
e&&!e.get_isEnabled()&&(e=null);if(null==e&&null!=d){for(var h=null,i=-1,j=d.get_mapper().rectFromContainerCoordinates(b.get_bounds(),lt.Annotations.Core.AnnFixedStateOperations.none),k=ss.IEnumerator.getEnumerator(this._containers);k.moveNext();)if(f=k.current,f.get_isEnabled()&&f.get_isVisible()&&this.get_manager().get_enablePartialDrop()){var l=this.getContainerInvalidRect(f,!1),l=lt.Annotations.Automation._leadRectDExtensions.intersectRects(l,j);lt.Annotations.Automation._leadRectDExtensions.isEmpty(l)||
(l=l.get_width()*l.get_height(),l>i&&(h=f,i=l))}null!=h&&(e=h)}if(null==this._dragDropEventArgs){if(2!==c)return!0;this._dragDropEventArgs=lt.Annotations.Automation.AnnDragDropEventArgs.create(b,d,d,1,d)}this._dragDropEventArgs.get_targetContainer()!==e&&(this._dragDropEventArgs._setTargetContainer(e),this._dragDropEventArgs._setOperation(1),this._dragDropEventArgs._setOperationContainer(this._dragDropEventArgs.get_operationContainer()),null==e&&this._dragDropEventArgs._setCanDrop(!1),this._callDragDrop(this._dragDropEventArgs),
this._dragDropEventArgs._setOperation(0),this._dragDropEventArgs._setOperationContainer(this._dragDropEventArgs.get_targetContainer()),this._callDragDrop(this._dragDropEventArgs),this._fireSetCursor(b.get_id(),3,-1,!1,!1,this._lastPointerEventArgs,this._dragDropEventArgs));this._dragDropEventArgs._setOperation(c);f=!1;h=!0;if(2!==c||this._dragDropEventArgs.get_sourceContainer()!==this._dragDropEventArgs.get_targetContainer())null!=d&&null!=e&&(this.get_manager().get_enablePartialDrop()||(l=this.getContainerInvalidRect(e,
!1),c=d.get_mapper().rectFromContainerCoordinates(b.get_bounds(),lt.Annotations.Core.AnnFixedStateOperations.none),lt.Annotations.Automation._leadRectDExtensions.containsRect(l,c)||(h=!1)),this._dragDropEventArgs._setCanDrop(h)),this._callDragDrop(this._dragDropEventArgs),f=this._dragDropEventArgs.get_allowed()&&this._dragDropEventArgs.get_canDrop(),this._fireSetCursor(b.get_id(),3,-1,!1,!1,this._lastPointerEventArgs,this._dragDropEventArgs);3===this._dragDropEventArgs.get_operation()&&this._fireRestoreCursor();
if(f&&3===this._dragDropEventArgs.get_operation()&&null!=e){c=d.get_mapper().pointToContainerCoordinates(g);g=e.get_mapper().pointToContainerCoordinates(g);if(!h)return!1;j=Type.safeCast(b,lt.Annotations.Core.AnnSelectionObject);h=null;i=new lt.Annotations.Core.AnnObjectCollection;if(null!=j){h=new lt.Annotations.Core.AnnObjectCollection;for(j=ss.IEnumerator.getEnumerator(j.get_selectedObjects());j.moveNext();)k=j.current,d.get_children().remove(k),!lt.Annotations.Automation._leadPointDExtensions.isEmpty(c)&&
!lt.Annotations.Automation._leadPointDExtensions.isEmpty(g)&&k.translate(g.get_x()-c.get_x(),g.get_y()-c.get_y()),this.get_manager().get_restrictDesigners()&&this._restrictObjectToContainer(k,e,this._editDesigner),e.get_children().add(k),h.add(k),i.add(k)}else d.get_children().remove(b),!lt.Annotations.Automation._leadPointDExtensions.isEmpty(c)&&!lt.Annotations.Automation._leadPointDExtensions.isEmpty(g)&&b.translate(g.get_x()-c.get_x(),g.get_y()-c.get_y()),e.get_children().add(b),i.add(b);null!=
a&&(0<i.get_count()&&this.invokeAfterObjectChanged(i,3),this._setActiveContainer(e),0<i.get_count()&&this.invokeAfterObjectChanged(i,34),null!=h?this.selectObjects(h):this._startEditing(b,!1,!0,null))}return f},_drawDesigner_Draw:function(a,b){switch(b.get_operationStatus()){case lt.Annotations.Core.AnnDesignerOperationStatus.end:this.endUndo();this._internalOnAfterObjectChanged2(b.get_object(),30);var c=null!=this.get_currentDesigner()?this.get_currentDesigner().get_targetObject():null;this._endDrawDesigner(!0,
!1);if(null!=c){var d=Type.safeCast(c,lt.Annotations.Core.AnnSelectionObject);null!=d?null!=d&&1<d.get_selectedObjects().get_count()?this._startEditing(c,!1,!0,null):1===d.get_selectedObjects().get_count()&&this._startEditing(d.get_selectedObjects().get_item(0),!1,!0,null):this.get_manager().get_editObjectAfterDraw()?this._drawEditMode?this._startDrawing(this.get_manager().get_currentObjectId()):(this.get_manager().set_currentObjectId(lt.Annotations.Core.AnnObject.selectObjectId),null!=this._editDesigner&&
null!=this._editDesigner.get_targetObject()&&this._editDesigner.end(),this._startEditing(c,!1,!0,null)):this._startDrawing(this.get_manager().get_currentObjectId())}break;case lt.Annotations.Core.AnnDesignerOperationStatus.canceled:this.cancelUndo(),this._endDrawDesigner(!0,!0),this.get_manager().get_editObjectAfterDraw()&&this.get_manager().set_currentObjectId(lt.Annotations.Core.AnnObject.selectObjectId)}null!=this.__draw&&this.__draw(a,b)},get_active:function(){return null==this.get_container()?
!1:this._active},set_active:function(a){if(null!=this.get_container()){if(a!==this.get_active())if(a){for(var b=ss.IEnumerator.getEnumerator(this.get_manager().get_automations());b.moveNext();){var c=b.current;c!==this&&c.get_active()&&(c.set_active(!1),this.get_manager().get_cancelInactiveDesigners()&&c.detach())}null!=this._automationControl&&!this.get_active()&&(this._active=!0,this.attach(this._automationControl),this._automationControl.automationAttach(this._activeContainer))}else{this._active=
!1;this.get_manager().get_cancelInactiveDesigners()&&(null!=this._drawDesigner&&this._endDrawDesigner(!1,!1),null!=this._editDesigner&&this._endEditDesigner(!0),null!=this._runDesigner&&this._endRunDesigner(!0),this._selecting&&this._cancelSelecting(),null!=this._automationControl&&this._automationControl.automationDetach());for(var b=!0,d=ss.IEnumerator.getEnumerator(this.get_manager().get_automations());d.moveNext();)if(c=d.current,c!==this&&c.get_active()){b=!1;break}b&&this._fireRestoreCursor()}return a}},
_fireRestoreCursor:function(){null!=this.get_container()&&null!=this.__restoreCursor&&this.__restoreCursor(this,lt.LeadEventArgs.Empty)},cancel:function(){this._internalEndDesigner(!0)},beginUndo:function(){if(null!=this.get_container())for(var a=ss.IEnumerator.getEnumerator(this._containers);a.moveNext();){var b=a.current;this._undoRedos[this._containers.indexOf(b)].prepare(b.get_children(),this.get_currentEditObject())}},onUndoRedoChanged:function(a){null!=this.__undoRedoChanged&&this.__undoRedoChanged(this,
a)},add_afterUndoRedo:function(a){this.__afterUndoRedo=ss.Delegate.combine(this.__afterUndoRedo,a)},remove_afterUndoRedo:function(a){this.__afterUndoRedo=ss.Delegate.remove(this.__afterUndoRedo,a)},__afterUndoRedo_handler_get:function(){null==this.__afterUndoRedo_handler&&(this.__afterUndoRedo_handler=ss.EventHandler.create(this,this.add_afterUndoRedo,this.remove_afterUndoRedo));return this.__afterUndoRedo_handler},__afterUndoRedo:null,__afterUndoRedo_handler:null,onAfterUndoRedo:function(a){null!=
this.__afterUndoRedo&&this.__afterUndoRedo(this,a)},endUndo:function(){if(null!=this.get_container()){for(var a=ss.IEnumerator.getEnumerator(this._containers);a.moveNext();)this._undoRedos[this._containers.indexOf(a.current)].commit();this.onUndoRedoChanged(lt.LeadEventArgs.Empty)}},cancelUndo:function(){if(null!=this.get_container()){for(var a=ss.IEnumerator.getEnumerator(this._containers);a.moveNext();)this._undoRedos[this._containers.indexOf(a.current)].cancel();this.onUndoRedoChanged(lt.LeadEventArgs.Empty)}},
undo:function(){if(this._isVisibleEnabledContainer(this.get_container())){var a=this.get_currentEditObject();null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)&&this._endEditDesigner(!0);for(var b=ss.IEnumerator.getEnumerator(this._containers);b.moveNext();){var c=b.current;this._isVisibleEnabledContainer(c)&&(c.get_children().add_collectionChanged(ss.Delegate.create(this,this._children_CollectionChanged)),null!=c.get_activeLayer()&&c.get_activeLayer().get_children().clear(),
a=this._undoRedos[this._containers.indexOf(c)].undo(c.get_children(),a),c.get_children().remove_collectionChanged(ss.Delegate.create(this,this._children_CollectionChanged)),this._updateContainerInvalidRect(c))}this.onUndoRedoChanged(lt.LeadEventArgs.Empty);this.onAfterUndoRedo(lt.LeadEventArgs.Empty);this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty())}},_children_CollectionChanged:function(a,b){b.get_action()===lt.Annotations.Core.AnnNotifyCollectionChangedAction.add&&this._addObject(Type.safeCast(b.get_newItems()[0],
lt.Annotations.Core.AnnObject));b.get_action()===lt.Annotations.Core.AnnNotifyCollectionChangedAction.remove&&this._deleteObject(Type.safeCast(b.get_newItems()[0],lt.Annotations.Core.AnnObject));if(b.get_action()===lt.Annotations.Core.AnnNotifyCollectionChangedAction.reset)for(var c=ss.IEnumerator.getEnumerator(b.get_newItems());c.moveNext();)this._deleteObject(c.current)},redo:function(){if(this._isVisibleEnabledContainer(this.get_container())){var a=this.get_currentEditObject();null!=this._designer&&
Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)&&this._endEditDesigner(!0);for(var b=ss.IEnumerator.getEnumerator(this._containers);b.moveNext();){var c=b.current;null!=c.get_activeLayer()&&c.get_activeLayer().get_children().clear();c.get_selectionObject().get_selectedObjects().clear();c.get_children().add_collectionChanged(ss.Delegate.create(this,this._children_CollectionChanged));a=this._undoRedos[this._containers.indexOf(c)].redo(c.get_children(),a);c.get_children().remove_collectionChanged(ss.Delegate.create(this,
this._children_CollectionChanged));null!=a&&this._startEditing(a,!1,!0,null);this._updateContainerInvalidRect(c)}this.onUndoRedoChanged(lt.LeadEventArgs.Empty);this.onAfterUndoRedo(lt.LeadEventArgs.Empty);this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty())}},_deleteGroupObjects:function(a,b){for(;0<b.get_selectedObjects().get_count();){var c=b.get_selectedObjects().get_item(0),d=Type.safeCast(c,lt.Annotations.Core.AnnSelectionObject);null!=d&&this._deleteGroupObjects(a,d);
b.get_selectedObjects().remove(c);c.get_isLocked()&&a.get_children().add(c)}},_internalOnBeforeObjectChanged:function(a,b){if(null!=this.get_container()&&null!=a&&0<a.get_count()){var c=new lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs(a,b,null);this.onBeforeObjectChanged(c);return!c.get_cancel()}return!0},_internalOnBeforeObjectChanged2:function(a,b){if(null!=a){var c=new lt.Annotations.Core.AnnObjectCollection;c.add(a);return this._internalOnBeforeObjectChanged(c,b)}return!0},onObjectModified:function(a){null!=
this.__objectModified&&this.__objectModified(this.get_container(),a)},invokeObjectModified:function(a,b){if(null!=a&&0<a.get_count())this.onObjectModified(new lt.Annotations.Automation.AnnObjectModifiedEventArgs(a,b))},_internalOnObjectModified2:function(a,b){if(null!=a){var c=new lt.Annotations.Core.AnnObjectCollection;c.add(a);this.invokeObjectModified(c,b)}},invokeAfterObjectChanged:function(a,b){this._doInvokeAfterObjectChanged(a,b)},_doInvokeAfterObjectChanged:function(a,b){if(null!=this.get_container()&&
null!=a&&0<a.get_count()){this._checkRestrictObjectsIntoContainer(a,b);(34===b||30===b)&&this.invokeObjectModified(a,34);var c=new lt.Annotations.Automation.AnnAfterObjectChangedEventArgs(a,b,this._designer);this.onAfterObjectChanged(c);return!c.get_cancel()}return!0},_internalOnAfterObjectChanged2:function(a,b){if(null!=a){var c=new lt.Annotations.Core.AnnObjectCollection;c.add(a);return this._doInvokeAfterObjectChanged(c,b)}return!0},add_beforeObjectChanged:function(a){this.__beforeObjectChanged=
ss.Delegate.combine(this.__beforeObjectChanged,a)},remove_beforeObjectChanged:function(a){this.__beforeObjectChanged=ss.Delegate.remove(this.__beforeObjectChanged,a)},__beforeObjectChanged_handler_get:function(){null==this.__beforeObjectChanged_handler&&(this.__beforeObjectChanged_handler=ss.EventHandler.create(this,this.add_beforeObjectChanged,this.remove_beforeObjectChanged));return this.__beforeObjectChanged_handler},__beforeObjectChanged:null,__beforeObjectChanged_handler:null,add_afterObjectChanged:function(a){this.__afterObjectChanged=
ss.Delegate.combine(this.__afterObjectChanged,a)},remove_afterObjectChanged:function(a){this.__afterObjectChanged=ss.Delegate.remove(this.__afterObjectChanged,a)},__afterObjectChanged_handler_get:function(){null==this.__afterObjectChanged_handler&&(this.__afterObjectChanged_handler=ss.EventHandler.create(this,this.add_afterObjectChanged,this.remove_afterObjectChanged));return this.__afterObjectChanged_handler},__afterObjectChanged:null,__afterObjectChanged_handler:null,onBeforeObjectChanged:function(a){null!=
this.__beforeObjectChanged&&this.__beforeObjectChanged(this,a)},onAfterObjectChanged:function(a){null!=this.__afterObjectChanged&&this.__afterObjectChanged(this,a);this._updateContainerInvalidRect(this._activeContainer)},_updateContainerInvalidRect:function(a){if(null!=a){for(var b=lt.Annotations.Automation._leadRectDExtensions.get_empty(),c=ss.IEnumerator.getEnumerator(a.get_children());c.moveNext();){var d=c.current;d.get_isVisible()&&(d=this._getObjectWithContainerInvalidateRect(a,d),b=lt.Annotations.Automation._leadRectDExtensions.unionRects(b,
d))}a.set_totalObjectsInvalidRect(b)}},getContainerInvalidRect:function(a,b){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("container");if(!a.get_isVisible()||lt.Annotations.Automation._leadSizeDExtensions.isEmpty(a.get_size()))return lt.Annotations.Automation._leadRectDExtensions.get_empty();var c=lt.Annotations.Automation._leadRectDExtensions.create(0,0,a.get_size().get_width(),a.get_size().get_height()),d=[lt.Annotations.Automation._leadRectDExtensions.topLeft(c),lt.Annotations.Automation._leadRectDExtensions.topRight(c),
lt.Annotations.Automation._leadRectDExtensions.bottomRight(c),lt.Annotations.Automation._leadRectDExtensions.bottomLeft(c)],c=a.get_mapper().rectFromContainerCoordinates(c,lt.Annotations.Core.AnnFixedStateOperations.none);if(!a.get_mapper().get_rotateTransform().get_isIdentity()){d=a.get_mapper().pointsFromContainerCoordinates(d,lt.Annotations.Core.AnnFixedStateOperations.none);for(d=ss.IEnumerator.getEnumerator(d);d.moveNext();){var e=d.current;lt.Annotations.Automation._leadRectDExtensions.containsPoint(c,
e)||(c=lt.Annotations.Automation._leadRectDExtensions.unionPoint(c,e))}}null!=a.get_stroke()&&(d=a.get_mapper().strokeFromContainerCoordinates(a.get_stroke(),lt.Annotations.Core.AnnFixedStateOperations.strokeWidth).get_strokeThickness().get_value()/2,c=lt.Annotations.Automation._leadRectDExtensions.inflate(c,d,d));b&&(d=lt.Annotations.Automation._leadRectDExtensions.clone(a.get_totalObjectsInvalidRect()),c=lt.Annotations.Automation._leadRectDExtensions.unionRects(d,c));return c},_startRunning:function(a){var b=
this.get_container();if(this._isVisibleEnabledContainer(b)){var c=this.get_manager().findObject(a);null!=c&&null!=c.get_runDesignerType()&&(c=c.get_runDesignerType(),this._runDesigner=Type.safeCast(new c(this._automationControl,b,a),lt.Annotations.Designers.AnnRunDesigner),this._runDesigner.set_snapToGridOptions(this.get_manager().get_snapToGridOptions()),this._runDesigner.start(),this._designer=this._runDesigner,this.onCurrentDesignerChanged(lt.LeadEventArgs.Empty),this._runDesigner.set_restrictDesigners(this.get_manager().get_restrictDesigners()),
this._runDesigner.add_run(ss.Delegate.create(this,this._runDesigner_Run)))}},_runDesigner_Run:function(a,b){null!=this.__run&&this.__run(a,b);switch(b.get_operationStatus()){case lt.Annotations.Core.AnnDesignerOperationStatus.end:case lt.Annotations.Core.AnnDesignerOperationStatus.canceled:this._endRunDesigner(!1)}},_endRunDesigner:function(a){null!=this._runDesigner&&(a&&this._runDesigner.cancel(),this._runDesigner.remove_run(ss.Delegate.create(this,this._runDesigner_Run)),this._runDesigner.end(),
this._designer=this._runDesigner=null,this.onCurrentDesignerChanged(lt.LeadEventArgs.Empty))},lock:function(){if(null!=this.get_container()&&this.get_canLock()&&null!=this.__lockObject){this.beginUndo();var a=this.get_currentEditObject();if(null!=a){var b=lt.Annotations.Core.AnnLockObjectEventArgs.create(a);this.__lockObject(this,b);if(b.get_cancel()){this.cancelUndo();return}a.lock(b.get_password());this._internalOnAfterObjectChanged2(a,4)}this.endUndo();this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty())}},
_isDesignModeContainer:function(a){return!(null==a||!a.get_isEnabled()||!a.get_isVisible()||a.get_userMode()!==lt.Annotations.Core.AnnUserMode.design)},_isVisibleEnabledContainer:function(a){return!(null==a||!a.get_isVisible()||!a.get_isEnabled())},get_canUnlock:function(){var a=this.get_container();if(!this._isDesignModeContainer(a))return!1;if(null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner))if(this._editDesigner.get_targetObject()===a.get_selectionObject())for(a=
ss.IEnumerator.getEnumerator(a.get_selectionObject().get_selectedObjects());a.moveNext();){var b=a.current;if(b.get_isLocked())return lt.Annotations.Automation.AnnAutomation._isUserInRole(lt.Annotations.Core.AnnOperationType.unlockObjects,b,this.get_container())}else return this._editDesigner.get_targetObject().get_isLocked()&&lt.Annotations.Automation.AnnAutomation._isUserInRole(lt.Annotations.Core.AnnOperationType.unlockObjects,this._editDesigner.get_targetObject(),this.get_container());return!1},
unlock:function(){if(null!=this.get_container()&&this.get_canUnlock()&&null!=this.__unlockObject){this.beginUndo();var a=this.get_currentEditObject();if(null!=a){var b=lt.Annotations.Core.AnnLockObjectEventArgs.create(a);this.__unlockObject(this,b);if(b.get_cancel()){this.cancelUndo();return}a.unlock(b.get_password());this._internalOnAfterObjectChanged2(a,5);this.invalidateObject(a)}this.endUndo()}},get_manager:function(){return this._automationManager},get_container:function(){return this._activeContainer},
get_currentDesigner:function(){return null==this.get_container()?null:this._designer},get_currentEditObject:function(){var a=Type.safeCast(this._designer,lt.Annotations.Designers.AnnEditDesigner);return null!=this.get_container()&&null!=a&&(this.get_container().get_children().contains(a.get_targetObject())||Type.canCast(a,lt.Annotations.Designers.AnnSelectionEditDesigner))?a.get_targetObject():null},get_canUndo:function(){return!this._isDesignModeContainer(this.get_container())?!1:this._undoRedo.get_canUndo()},
get_canRedo:function(){return!this._isDesignModeContainer(this.get_container())?!1:this._undoRedo.get_canRedo()},get_undoCapacity:function(){return this._undoRedo.get_capacity()},set_undoCapacity:function(a){0>a&&lt.Annotations.Core.ExceptionHelper.invalidOperationException("Undo capacity must be a value greater than or equal to 0");this._undoRedo.set_capacity(a);this.onUndoRedoChanged(lt.LeadEventArgs.Empty);return a},get_canLock:function(){var a=this.get_container();if(!this._isDesignModeContainer(a))return!1;
if(null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner))if(this._editDesigner.get_targetObject()===a.get_selectionObject())for(a=ss.IEnumerator.getEnumerator(a.get_selectionObject().get_selectedObjects());a.moveNext();){var b=a.current;if(!b.get_isLocked())return lt.Annotations.Automation.AnnAutomation._isUserInRole(lt.Annotations.Core.AnnOperationType.lockObjects,b,this.get_container())}else return!this._editDesigner.get_targetObject().get_isLocked()&&lt.Annotations.Automation.AnnAutomation._isUserInRole(lt.Annotations.Core.AnnOperationType.lockObjects,
this._editDesigner.get_targetObject(),this.get_container());return!1},get_canRealizeRedaction:function(){if(!this._isDesignModeContainer(this.get_container())||null==this._automationControl||!lt.Annotations.Core.Utils.dataProviderCanReadWrite(this._automationControl))return!1;if(null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)&&Type.canCast(this._editDesigner.get_targetObject(),lt.Annotations.Core.AnnRedactionObject)){var a=Type.safeCast(this._editDesigner.get_targetObject(),
lt.Annotations.Core.AnnRedactionObject);if(null!=a)return!a.get_canRestore()&&!a.get_isLocked()&&lt.Annotations.Automation.AnnAutomation._isUserInRole(lt.Annotations.Core.AnnOperationType.realizeRedact,a,this.get_container())}return!1},realizeRedaction:function(){null!=this.get_container()&&this.get_canRealizeRedaction()&&(this._internalRealizeRedaction(this._editDesigner.get_targetObject(),!0),this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty()))},_internalRealizeRedaction:function(a,
b){var c=lt.Annotations.Automation._leadRectDExtensions.get_empty(),c=null,d=new lt.Annotations.Core.AnnObjectCollection;d.add(a);(b?this._internalOnBeforeObjectChanged(d,8):1)&&(c=Type.safeCast(a,lt.Annotations.Core.AnnRedactionObject));c=lt.Annotations.Core.Utils.realizeRedactWinforms(this._automationControl,this._activeContainer,c);null!=this.get_manager().get_redactionRealizePassword()&&this.get_manager().get_redactionRealizePassword().length&&a.lock(this.get_manager().get_redactionRealizePassword());
b&&this.invokeAfterObjectChanged(d,8);return c},get_canRestoreRedaction:function(){if(!this._isDesignModeContainer(this.get_container())||null==this._automationControl||!lt.Annotations.Core.Utils.dataProviderCanReadWrite(this._automationControl))return!1;if(null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)&&Type.canCast(this._editDesigner.get_targetObject(),lt.Annotations.Core.AnnRedactionObject)){var a=Type.safeCast(this._editDesigner.get_targetObject(),
lt.Annotations.Core.AnnRedactionObject);return a.get_canRestore()&&lt.Annotations.Automation.AnnAutomation._isUserInRole(lt.Annotations.Core.AnnOperationType.restoreRedact,a,this.get_container())}return!1},restoreRedaction:function(){null!=this.get_container()&&this.get_canRestoreRedaction()&&(this._internalRestoreRedaction(this._editDesigner.get_targetObject(),!0),this.invalidateObject(this._editDesigner.get_targetObject()))},_internalRestoreRedaction:function(a,b){var c=lt.Annotations.Automation._leadRectDExtensions.get_empty(),
d=null,e=new lt.Annotations.Core.AnnObjectCollection;e.add(a);(b?this._internalOnBeforeObjectChanged(e,9):1)&&(d=Type.safeCast(a,lt.Annotations.Core.AnnRedactionObject));null!=d&&(c=lt.Annotations.Core.Utils.restoreRedactWinforms(this._automationControl,this.get_container(),d));null!=this.get_manager().get_redactionRealizePassword()&&this.get_manager().get_redactionRealizePassword().length&&d.get_isLocked()&&lt.Annotations.Core.Utils.compare(d.get_password(),this.get_manager().get_redactionRealizePassword(),
!1)&&d.unlock(this.get_manager().get_redactionRealizePassword());b&&this.invokeAfterObjectChanged(e,9);return c},get_canRealizeAllRedactions:function(){var a=this.get_container();if(!this._isDesignModeContainer(a)||null==this._automationControl||!lt.Annotations.Core.Utils.dataProviderCanReadWrite(this._automationControl))return!1;if(0<a.get_children().get_count())for(var b,a=ss.IEnumerator.getEnumerator(a.get_children());a.moveNext();){var c=a.current;b=Type.safeCast(c,lt.Annotations.Core.AnnRedactionObject);
if(null!=b){if(!b.get_canRestore())return!0}else if(b=Type.safeCast(c,lt.Annotations.Core.AnnSelectionObject),null!=b)for(c=ss.IEnumerator.getEnumerator(b.get_selectedObjects());c.moveNext();)if(b=Type.safeCast(c.current,lt.Annotations.Core.AnnRedactionObject),null!=b&&!b.get_canRestore())return!0}return!1},realizeAllRedactions:function(){var a=this.get_container();if(null!=a&&this.get_canRealizeAllRedactions()){for(var b,c=new lt.Annotations.Core.AnnObjectCollection,a=ss.IEnumerator.getEnumerator(a.get_children());a.moveNext();){var d=
a.current;b=Type.safeCast(d,lt.Annotations.Core.AnnRedactionObject);if(null!=b)b.get_canRestore()||c.add(d);else if(d=Type.safeCast(d,lt.Annotations.Core.AnnSelectionObject),null!=d)for(d=ss.IEnumerator.getEnumerator(d.get_selectedObjects());d.moveNext();){var e=d.current;b=Type.safeCast(e,lt.Annotations.Core.AnnRedactionObject);null!=b&&!b.get_canRestore()&&c.add(e)}}a=lt.Annotations.Automation._leadRectDExtensions.get_empty();b=!0;if(this._internalOnBeforeObjectChanged(c,8)){for(e=ss.IEnumerator.getEnumerator(c);e.moveNext();)d=
e.current,d=this._internalRealizeRedaction(d,!1),b?(a=d,b=!1):a=lt.Annotations.Automation._leadRectDExtensions.unionRects(a,d);this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty());this.invokeAfterObjectChanged(c,8)}}},get_canRestoreAllRedactions:function(){var a=this.get_container();if(!this._isDesignModeContainer(a)||null==this._automationControl||!lt.Annotations.Core.Utils.dataProviderCanReadWrite(this._automationControl))return!1;if(0<a.get_children().get_count())for(var b,
a=ss.IEnumerator.getEnumerator(a.get_children());a.moveNext();){var c=a.current;b=Type.safeCast(c,lt.Annotations.Core.AnnRedactionObject);if(null!=b){if(b.get_canRestore())return!0}else if(b=Type.safeCast(c,lt.Annotations.Core.AnnSelectionObject),null!=b)for(c=ss.IEnumerator.getEnumerator(b.get_selectedObjects());c.moveNext();)if(b=Type.safeCast(c.current,lt.Annotations.Core.AnnRedactionObject),null!=b&&b.get_canRestore())return!0}return!1},restoreAllRedactions:function(){var a=this.get_container();
if(null!=a&&this.get_canRestoreAllRedactions()){for(var b=new lt.Annotations.Core.AnnObjectCollection,c,a=ss.IEnumerator.getEnumerator(a.get_children());a.moveNext();){var d=a.current;c=Type.safeCast(d,lt.Annotations.Core.AnnRedactionObject);if(null!=c)c.get_canRestore()&&b.add(d);else if(d=Type.safeCast(d,lt.Annotations.Core.AnnSelectionObject),null!=d)for(d=ss.IEnumerator.getEnumerator(d.get_selectedObjects());d.moveNext();){var e=d.current;c=Type.safeCast(e,lt.Annotations.Core.AnnRedactionObject);
null!=c&&c.get_canRestore()&&b.add(e)}}lt.Annotations.Automation.AnnAutomation._reverseObjects(b);if(this._internalOnBeforeObjectChanged(b,9)){a=lt.Annotations.Automation._leadRectDExtensions.get_empty();c=!0;for(e=ss.IEnumerator.getEnumerator(b);e.moveNext();)d=e.current,d=this._internalRestoreRedaction(d,!1),c?(a=d,c=!1):a=lt.Annotations.Automation._leadRectDExtensions.unionRects(a,d);this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty());this.invokeAfterObjectChanged(b,9)}}},
get_canSelectObjects:function(){var a=this.get_container();return!this._isDesignModeContainer(a)||null==this._automationControl?!1:0<a.get_children().get_count()},selectObject:function(a){if(null!=a){var b=new lt.Annotations.Core.AnnObjectCollection;b.add(a);this.selectObjects(b)}else this.selectObjects(null)},selectObjects:function(a){var b=this.get_container();if(null!=b)if(null==a||!a.get_count())this.cancel(),0<b.get_selectionObject().get_selectedObjects().get_count()&&b.get_selectionObject().get_selectedObjects().clear(),
this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty());else if(this.cancel(),1===a.get_count())a.get_item(0)!==this.get_currentEditObject()&&(this._startEditing(a.get_item(0),!1,!1,a.get_item(0)),this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty()));else{a=a.toArray();b=b.get_selectionObject();b.get_selectedObjects().clear();b.adjustBounds();for(a=ss.IEnumerator.getEnumerator(a);a.moveNext();){var c=a.current;c.get_isVisible()&&b.get_selectedObjects().add(c)}this.get_manager().get_enableObjectsAlignment()&&
1<b.get_selectedObjects().get_count()&&null==b.get_alignmentTarget()&&(b.set_alignmentTarget(b.get_selectedObjects().get_item(b.get_selectedObjects().get_count()-1)),b.get_alignmentTarget().set_isAlignmentTarget(!0));1===b.get_selectedObjects().get_count()?b.get_selectedObjects().get_item(0)!==this.get_currentEditObject()&&this._startEditing(b.get_selectedObjects().get_item(0),!1,!1,b.get_selectedObjects().get_item(0)):this._startEditing(b,!1,!1,null);this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty())}},
_isLocked:function(a){var b=!1;null!=a&&(b=Type.safeCast(a,lt.Annotations.Core.AnnSelectionObject),b=null!=b&&0<b.get_selectedObjects().get_count()?b.get_selectedObjects().get_item(0).get_isLocked():a.get_isLocked());return b},_canEdited:function(a){var b=null,c=Type.safeCast(this._designer,lt.Annotations.Designers.AnnEditDesigner);null!=c&&(b=c.get_targetObject());return(null!=b&&b.get_isSelected()&&!this._isLocked(b)||a===lt.Annotations.Core.AnnOperationType.pasteObjects)&&lt.Annotations.Automation.AnnAutomation._isUserInRole(a,
b,this.get_container())},get_canDeleteObjects:function(){return!this._isDesignModeContainer(this.get_container())?!1:this._canEdited(lt.Annotations.Core.AnnOperationType.deleteObjects)},deleteSelectedObjects:function(){var a=this.get_container();if(null!=a&&this.get_canDeleteObjects()){this.beginUndo();var b=null;null!=this._designer&&(b=this._designer.getRenderer());var c=Type.safeCast(this._designer,lt.Annotations.Designers.AnnEditDesigner).get_targetObject(),d=new lt.Annotations.Core.AnnObjectCollection,
e=Type.safeCast(c,lt.Annotations.Core.AnnSelectionObject);if(null!=e)for(e=ss.IEnumerator.getEnumerator(e.get_selectedObjects());e.moveNext();)c=e.current,c.get_isLocked()||d.add(c);else d.add(c);if(this._internalOnBeforeObjectChanged(d,3)){this._endEditDesigner(!1);this.onCurrentDesignerChanged(lt.LeadEventArgs.Empty);if(0<d.get_count()){e=lt.Annotations.Automation._leadRectDExtensions.get_empty();for(c=0;c<d.get_count();++c){var f=d.get_item(c),e=lt.Annotations.Automation._leadRectDExtensions.unionRects(e,
f.getInvalidateRect(a.get_mapper(),b));Type.canCast(f,lt.Annotations.Core.AnnSelectionObject)&&this._deleteGroupObjects(a,Type.safeCast(f,lt.Annotations.Core.AnnSelectionObject));a.get_children().remove(f);null!=a.get_selectionObject()&&a.get_selectionObject().get_selectedObjects().contains(f)&&a.get_selectionObject().get_selectedObjects().remove(f)}this.invalidate(e)}this.endUndo();this.invokeAfterObjectChanged(d,3)}}},get_canShowProperties:function(){if(!this._isDesignModeContainer(this.get_container()))return!1;
var a=this.get_currentEditObject();return null!=a&&lt.Annotations.Automation.AnnAutomation._isUserInRole(lt.Annotations.Core.AnnOperationType.editObjects,a,this.get_container())},_userModeChanged:function(){if(null!=this.get_container()){this.cancel();for(var a=ss.IEnumerator.getEnumerator(this._containers);a.moveNext();){var b=a.current;if(this.get_manager().get_userMode()===lt.Annotations.Core.AnnUserMode.design&&b.get_isVisible()&&b.get_isEnabled())for(var c=ss.IEnumerator.getEnumerator(b.get_children());c.moveNext();){var d=
c.current;d.get_id()===lt.Annotations.Core.AnnObject.textRollupObjectId&&(d=Type.safeCast(d,lt.Annotations.Core.AnnTextRollupObject),null!=d&&d.set_expanded(!0))}b.set_userMode(this.get_manager().get_userMode())}this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty())}},get_canApplyDecryptor:function(){if(!this._isDesignModeContainer(this.get_container())||null==this._automationControl||!lt.Annotations.Core.Utils.dataProviderCanReadWrite(this._automationControl))return!1;if(null!=
this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)){var a=Type.safeCast(this._editDesigner.get_targetObject(),lt.Annotations.Core.AnnEncryptObject);if(null!=a)return a.get_canDecrypt()&&lt.Annotations.Automation.AnnAutomation._isUserInRole(lt.Annotations.Core.AnnOperationType.decryptObjects,a,this.get_container())}return!1},get_canApplyEncryptor:function(){if(!this._isDesignModeContainer(this.get_container())||null==this._automationControl||!lt.Annotations.Core.Utils.dataProviderCanReadWrite(this._automationControl))return!1;
if(null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)){var a=Type.safeCast(this._editDesigner.get_targetObject(),lt.Annotations.Core.AnnEncryptObject);if(null!=a)return a.get_canEncrypt()&&lt.Annotations.Automation.AnnAutomation._isUserInRole(lt.Annotations.Core.AnnOperationType.restoreRedact,a,this.get_container())}return!1},get_canGroup:function(){var a=this.get_container();if(null==a||a.get_userMode()!==lt.Annotations.Core.AnnUserMode.design)return!1;var a=
a.get_selectionObject().get_selectedObjects(),b=!1;if(null!=a&&1<a.get_count())for(var b=!0,c=0;c<a.get_count();++c)if(!String.isNullOrEmpty(a.get_item(c).get_groupName())){b=!1;break}return b},get_canUngroup:function(){var a=this.get_container();if(null==a||a.get_userMode()!==lt.Annotations.Core.AnnUserMode.design)return!1;var a=a.get_selectionObject().get_selectedObjects(),b=!0;if(null!=a&&1<a.get_count()){var c=a.get_item(0).get_groupName();if(String.isNullOrEmpty(c))b=!1;else for(var d=1;d<a.get_count();++d)lt.Annotations.Core.Utils.compare(a.get_item(d).get_groupName(),
c,!0)||(b=!1)}else b=!1;return b},get_canCopy:function(){return!this._isDesignModeContainer(this.get_container())?!1:this._canEdited(lt.Annotations.Core.AnnOperationType.copyObjects)},get_canPaste:function(){if(!this._isDesignModeContainer(this.get_container()))return!1;var a=lt.Annotations.Automation.AnnAutomationManager.get_platformCallbacks().get_isClipboardDataPresent();return null!=a&&a(this,lt.Annotations.Core.AnnObject.toString())?this._canEdited(lt.Annotations.Core.AnnOperationType.pasteObjects):
!1},get_canBringToFront:function(){var a=this.get_container();if(!this._isDesignModeContainer(a))return!1;var b=!1;if(null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)){var b=this._editDesigner.get_targetObject(),a=a.get_children(),c=b.get_layer();null!=c&&(a=c.get_children());b=1<a.get_count()&&!this._isLocked(b)&&a.indexOf(b)<a.get_count()-1}return b},get_canBringToFirst:function(){var a=this.get_container();if(!this._isDesignModeContainer(a))return!1;var b=
!1;if(null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)){var b=this._editDesigner.get_targetObject(),a=a.get_children(),c=b.get_layer();null!=c&&(a=c.get_children());b=1<a.get_count()&&!this._isLocked(b)&&a.indexOf(b)!==a.get_count()-1}return b},get_canSendToLast:function(){var a=this.get_container();if(!this._isDesignModeContainer(a))return!1;var b=!1;if(null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)){var b=this._editDesigner.get_targetObject(),
a=a.get_children(),c=b.get_layer();null!=c&&(a=c.get_children());b=1<a.get_count()&&!this._isLocked(b)&&!!a.indexOf(b)}return b},get_canSendToBack:function(){var a=this.get_container();if(!this._isDesignModeContainer(a))return!1;var b=!1;if(null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)){var b=this._editDesigner.get_targetObject(),a=a.get_children(),c=b.get_layer();null!=c&&(a=c.get_children());b=1<a.get_count()&&!this._isLocked(b)&&0<a.indexOf(b)}return b},
get_canApplyAllEncryptors:function(){var a=this.get_container();if(!this._isDesignModeContainer(a))return!1;if(0<a.get_children().get_count())for(a=ss.IEnumerator.getEnumerator(a.get_children());a.moveNext();){var b=a.current;if(Type.canCast(b,lt.Annotations.Core.AnnEncryptObject)){if(b.get_canEncrypt())return!0}else if(Type.canCast(b,lt.Annotations.Core.AnnSelectionObject)){b=Type.safeCast(b,lt.Annotations.Core.AnnSelectionObject);for(b=ss.IEnumerator.getEnumerator(b.get_selectedObjects());b.moveNext();){var c=
b.current;if(Type.canCast(c,lt.Annotations.Core.AnnEncryptObject)&&c.get_canEncrypt())return!0}}}return!1},get_canApplyAllDecryptors:function(){var a=this.get_container();if(!this._isDesignModeContainer(a))return!1;if(0<a.get_children().get_count())for(a=ss.IEnumerator.getEnumerator(a.get_children());a.moveNext();){var b=a.current;if(Type.canCast(b,lt.Annotations.Core.AnnEncryptObject)&&b.get_canDecrypt())return!0;if(Type.canCast(b,lt.Annotations.Core.AnnSelectionObject)){b=Type.safeCast(b,lt.Annotations.Core.AnnSelectionObject);
for(b=ss.IEnumerator.getEnumerator(b.get_selectedObjects());b.moveNext();){var c=b.current;if(Type.canCast(c,lt.Annotations.Core.AnnEncryptObject)&&c.get_canDecrypt())return!0}}}return!1},get_canFlip:function(){return!this._isDesignModeContainer(this.get_container())?!1:this.get_canDeleteObjects()&&!Type.canCast(this._editDesigner.get_targetObject(),lt.Annotations.Core.AnnTextPointerObject)},get_canResetRotatePoints:function(){return!this._isDesignModeContainer(this.get_container())?!1:null!=this._designer&&
Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)&&!this._isLocked(this._editDesigner.get_targetObject())&&this._editDesigner.get_targetObject().get_canRotate()&&this._editDesigner.get_useRotateThumbs()},get_canShowObjectProperties:function(){return!this._isDesignModeContainer(this.get_container())?!1:null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)&&!this._isLocked(this._editDesigner.get_targetObject())},applyEncryptor:function(){null!=
this.get_container()&&this.get_canApplyEncryptor()&&this._automationControl.automationInvalidate(this._applyEncrypt(this._editDesigner.get_targetObject(),!0))},_applyEncrypt:function(a,b){var c=lt.Annotations.Automation._leadRectDExtensions.get_empty();if(b?this._internalOnBeforeObjectChanged2(a,10):1){var d=Type.safeCast(a,lt.Annotations.Core.AnnEncryptObject);null!=d&&(lt.Annotations.Core.Utils.applyEncrypt(this._automationControl,this._activeContainer,d),b&&this._internalOnAfterObjectChanged2(a,
10))}return c},applyDecryptor:function(){null!=this.get_container()&&this.get_canApplyDecryptor()&&this._automationControl.automationInvalidate(this._applyEncrypt(this._editDesigner.get_targetObject(),!0))},copy:function(){},paste:function(){this.pasteAt(lt.Annotations.Automation._leadPointDExtensions.get_empty())},pasteStringAt:function(){},_readObjectFromXml:function(a,b){var c=null,d=lt.Annotations.Core.AnnXmlHelper.readStringElement(a,lt.Annotations.Core.AnnXmlHelper.type,b,""),d=d.replaceAll("Leadtools.Annotations",
"lt.Annotations");if(!String.isNullOrEmpty(d))try{c=new (Type.getType(d))(null)}catch(e){if(null!=this.__deserializeObjectError){d=lt.Annotations.Core.AnnSerializeObjectEventArgs.create(d,null,e);this._onDeserializeObjectError(d);if(d.get_skipObject())return null;null!=d.get_annObject()&&(c=d.get_annObject())}}null!=c&&c.deserialize(new lt.Annotations.Core.AnnDeserializeOptions,b,a);return c},pasteAt:function(a){if(null!=this.get_container()&&this.get_canPaste()){var b=lt.Annotations.Automation.AnnAutomationManager.get_platformCallbacks().get_getClipboardData();
null!=b&&b(this,a,lt.Annotations.Core.AnnObject.toString())}},get_canAlign:function(){if(!this.get_manager().get_enableObjectsAlignment()||!this._isDesignModeContainer(this.get_container()))return!1;var a=!1;if(null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)){var b=Type.safeCast(this._editDesigner.get_targetObject(),lt.Annotations.Core.AnnSelectionObject);null!=b&&1<b.get_selectedObjects().get_count()&&null!=b.get_alignmentTarget()&&!this._isLocked(b)&&
(a=!0)}return a},alignLefts:function(){this._doAlign("Left")},alignCenters:function(){this._doAlign("Center")},alignRights:function(){this._doAlign("Right")},alignTops:function(){this._doAlign("Top")},alignMiddles:function(){this._doAlign("Middle")},alignBottoms:function(){this._doAlign("Bottom")},_doAlign:function(a){if(this.get_canAlign()){var b=Type.safeCast(this._editDesigner.get_targetObject(),lt.Annotations.Core.AnnSelectionObject);if(null!=b){for(var c=b.get_alignmentTarget(),d=c.get_bounds(),
e=lt.Annotations.Automation._leadRectDExtensions.get_empty(),f=ss.IEnumerator.getEnumerator(b.get_selectedObjects());f.moveNext();){var g=f.current;if(g!==c&&!this._isLocked(g))switch(e=g.get_bounds(),a){case "Left":g.translate(lt.Annotations.Automation._leadRectDExtensions.left(d)-lt.Annotations.Automation._leadRectDExtensions.left(e),0);break;case "Center":var h=lt.Annotations.Automation._leadRectDExtensions.left(d)+d.get_width()/2,e=lt.Annotations.Automation._leadRectDExtensions.left(e)+e.get_width()/
2;g.translate(h-e,0);break;case "Right":g.translate(lt.Annotations.Automation._leadRectDExtensions.right(d)-lt.Annotations.Automation._leadRectDExtensions.right(e),0);break;case "Top":g.translate(0,lt.Annotations.Automation._leadRectDExtensions.top(d)-lt.Annotations.Automation._leadRectDExtensions.top(e));break;case "Middle":h=lt.Annotations.Automation._leadRectDExtensions.top(d)+d.get_height()/2;e=lt.Annotations.Automation._leadRectDExtensions.top(e)+e.get_height()/2;g.translate(0,h-e);break;case "Bottom":g.translate(0,
lt.Annotations.Automation._leadRectDExtensions.bottom(d)-lt.Annotations.Automation._leadRectDExtensions.bottom(e))}}a=new lt.Annotations.Core.AnnObjectCollection;for(d=ss.IEnumerator.getEnumerator(b.get_selectedObjects());d.moveNext();)a.add(d.current);b.get_selectedObjects().clear();this.selectObjects(a);0<b.get_selectedObjects().get_count()&&b.get_selectedObjects().get_item(b.get_selectedObjects().get_count()-1).set_isAlignmentTarget(!1);b.set_alignmentTarget(c);c.set_isAlignmentTarget(!0);this.invalidateObject(b)}}},
makeSameWidth:function(){this._adjustSize("Width")},makeSameHeight:function(){this._adjustSize("Height")},makeSameSize:function(){this._adjustSize("Both")},_adjustSize:function(a){if(this.get_canAlign()){var b=Type.safeCast(this._editDesigner.get_targetObject(),lt.Annotations.Core.AnnSelectionObject);if(null!=b){for(var c=b.get_alignmentTarget(),d=c.get_bounds(),e=lt.Annotations.Automation._leadRectDExtensions.get_empty(),f=ss.IEnumerator.getEnumerator(b.get_selectedObjects());f.moveNext();){var g=
f.current;if(g!==c&&!(g.get_id()===lt.Annotations.Core.AnnObject.pointObjectId||g.get_id()===lt.Annotations.Core.AnnObject.stickyNoteObjectId)){var e=g.get_bounds(),h=new lt.LeadMatrix,i=lt.Annotations.Automation._leadRectDExtensions.topLeft(e),j=d.get_width()/e.get_width(),e=d.get_height()/e.get_height();switch(a){case "Width":h.scaleAt(j,1,i.get_x(),i.get_y());break;case "Height":h.scaleAt(1,e,i.get_x(),i.get_y());break;case "Both":h.scaleAt(j,e,i.get_x(),i.get_y())}i=g.get_points().toArray();h.transformPoints(i);
for(j=0;j<g.get_points().get_count();++j)g.get_points().set_item(j,i[j]);g=Type.safeCast(g,lt.Annotations.Core.AnnTextPointerObject);null!=g&&g.set_pointerPosition(h.transformPoint(g.get_pointerPosition()))}}a=new lt.Annotations.Core.AnnObjectCollection;for(d=ss.IEnumerator.getEnumerator(b.get_selectedObjects());d.moveNext();)a.add(d.current);b.get_selectedObjects().clear();this.selectObjects(a);0<b.get_selectedObjects().get_count()&&b.get_selectedObjects().get_item(b.get_selectedObjects().get_count()-
1).set_isAlignmentTarget(!1);b.set_alignmentTarget(c);c.set_isAlignmentTarget(!0);this.invalidateObject(b)}}},bringToFront:function(a){var b=this.get_container();if(null!=b&&(this.get_canBringToFront()&&!a||this.get_canBringToFirst()&&a)){var c=Type.safeCast(this._designer,lt.Annotations.Designers.AnnEditDesigner).get_targetObject();this._internalOnBeforeObjectChanged2(c,1)&&(this.beginUndo(),b.get_children().sendToBack(c,a),this.endUndo(),b=c.get_layer(),null!=b&&b.get_children().sendToBack(c,a),
this._automationControl.automationInvalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty()),this._internalOnAfterObjectChanged2(c,1))}},sendToBack:function(a){var b=this.get_container();if(null!=b&&(this.get_canSendToBack()&&!a||this.get_canSendToLast()&&a)){var c=Type.safeCast(this._designer,lt.Annotations.Designers.AnnEditDesigner).get_targetObject();this._internalOnBeforeObjectChanged2(c,2)&&(this.beginUndo(),b.get_children().bringToFront(c,a),this.endUndo(),b=c.get_layer(),null!=
b&&b.get_children().bringToFront(c,a),this._automationControl.automationInvalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty()),this._internalOnAfterObjectChanged2(c,2))}},flip:function(a){if(null!=this.get_container()&&this.get_canFlip()){var b=Type.safeCast(this._designer,lt.Annotations.Designers.AnnEditDesigner),c=b.get_targetObject();if(this._internalOnBeforeObjectChanged2(c,7)){this.beginUndo();var d=lt.Annotations.Automation._leadPointDExtensions.create(c.get_bounds().get_x()+
c.get_bounds().get_width()/2,c.get_bounds().get_y()+c.get_bounds().get_height()/2);c.scale(a?-1:1,a?1:-1,d);this.endUndo();b.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty());this.invalidateObject(c);this._internalOnAfterObjectChanged2(c,7)}}},resetRotatePoints:function(){if(null!=this.get_container()&&this.get_canResetRotatePoints()){this.beginUndo();var a=Type.safeCast(this._designer,lt.Annotations.Designers.AnnEditDesigner),b=a.get_targetObject(),c=b.get_rotateCenter(),d=b.get_rotateGripper();
a.resetRotateThumbs();!lt.Annotations.Automation._leadPointDExtensions.isEqual(c,b.get_rotateCenter())||!lt.Annotations.Automation._leadLengthDExtensions.isEqual(d,b.get_rotateGripper())?(this.endUndo(),this._automationControl.automationInvalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty()),this._internalOnAfterObjectChanged2(b,32)):this.cancelUndo()}},applyAllEncryptors:function(){var a=this.get_container();if(null!=a&&this.get_canApplyAllEncryptors()){for(var b=new lt.Annotations.Core.AnnObjectCollection,
a=ss.IEnumerator.getEnumerator(a.get_children());a.moveNext();){var c=a.current;if(Type.canCast(c,lt.Annotations.Core.AnnEncryptObject)&&c.get_canEncrypt())b.add(c);else if(Type.canCast(c,lt.Annotations.Core.AnnSelectionObject)){c=Type.safeCast(c,lt.Annotations.Core.AnnSelectionObject);for(c=ss.IEnumerator.getEnumerator(c.get_selectedObjects());c.moveNext();){var d=c.current;Type.canCast(d,lt.Annotations.Core.AnnEncryptObject)&&d.get_canEncrypt()&&b.add(d)}}}if(this._internalOnBeforeObjectChanged(b,
10)){for(var a=lt.Annotations.Automation._leadRectDExtensions.get_empty(),d=!0,e=ss.IEnumerator.getEnumerator(b);e.moveNext();)c=e.current,c=this._applyEncrypt(c,!1),d?(a=c,d=!1):a=lt.Annotations.Automation._leadRectDExtensions.unionRects(a,c);this._automationControl.automationInvalidate(a);this.invokeAfterObjectChanged(b,10)}}},applyAllDecryptors:function(){var a=this.get_container();if(null!=a&&this.get_canApplyAllDecryptors()){for(var b=new lt.Annotations.Core.AnnObjectCollection,a=ss.IEnumerator.getEnumerator(a.get_children());a.moveNext();){var c=
a.current;if(Type.canCast(c,lt.Annotations.Core.AnnEncryptObject)&&c.get_canDecrypt())b.add(c);else if(Type.canCast(c,lt.Annotations.Core.AnnSelectionObject)){c=Type.safeCast(c,lt.Annotations.Core.AnnSelectionObject);for(c=ss.IEnumerator.getEnumerator(c.get_selectedObjects());c.moveNext();){var d=c.current;Type.canCast(d,lt.Annotations.Core.AnnEncryptObject)&&d.get_canDecrypt()&&b.add(d)}}}lt.Annotations.Automation.AnnAutomation._reverseObjects(b);if(this._internalOnBeforeObjectChanged(b,11)){for(var a=
lt.Annotations.Automation._leadRectDExtensions.get_empty(),d=!0,e=ss.IEnumerator.getEnumerator(b);e.moveNext();)c=e.current,c=this._applyEncrypt(c,!1),d?(a=c,d=!1):a=lt.Annotations.Automation._leadRectDExtensions.unionRects(a,c);this._automationControl.automationInvalidate(a);this.invokeAfterObjectChanged(b,11)}}},showContextMenu:function(){this._doShowContextMenu()},_doShowContextMenu:function(){return null==this.get_container()||null!=this._drawDesigner?!1:null!=this.__onShowContextMenu?(this.__onShowContextMenu(this,
null),!0):!1},get_canShowObjectContextMenu:function(){return!this._isDesignModeContainer(this.get_container())||null!=this._drawDesigner?!1:null!=this._designer&&Type.canCast(this._designer,lt.Annotations.Designers.AnnEditDesigner)},showObjectContextMenu:function(){this._doShowObjectContextMenu()},_doShowObjectContextMenu:function(){if(null==this.get_container())return!1;if(this.get_canShowObjectContextMenu()&&null!=this.__onShowContextMenu){var a=this.get_manager().findObject(this._editDesigner.get_targetObject());
this.__onShowContextMenu(this,lt.Annotations.Automation.AnnAutomationEventArgs.create(a));return!0}return!1},showObjectProperties:function(){if(this.get_canShowObjectProperties()&&null!=this.__onShowObjectProperties){var a=this.get_manager().findObject(this._editDesigner.get_targetObject()),a=lt.Annotations.Automation.AnnAutomationEventArgs.create(a);this.beginUndo();this.__onShowObjectProperties(this,a);a.get_cancel()||(null!=this._editDesigner.get_targetObject()&&this.invalidateObject(this._editDesigner.get_targetObject()),
this._internalOnObjectModified2(this._editDesigner.get_targetObject(),35),this._internalOnAfterObjectChanged2(this._editDesigner.get_targetObject(),35));this.endUndo()}},get_canSelectNone:function(){var a=this.get_container();return!this._isDesignModeContainer(a)||null==this._automationControl?!1:null!=a.get_selectionObject()&&0<a.get_selectionObject().get_selectedObjects().get_count()?!0:!1},add_deserializeObjectError:function(a){this.__deserializeObjectError=ss.Delegate.combine(this.__deserializeObjectError,
a)},remove_deserializeObjectError:function(a){this.__deserializeObjectError=ss.Delegate.remove(this.__deserializeObjectError,a)},__deserializeObjectError_handler_get:function(){null==this.__deserializeObjectError_handler&&(this.__deserializeObjectError_handler=ss.EventHandler.create(this,this.add_deserializeObjectError,this.remove_deserializeObjectError));return this.__deserializeObjectError_handler},__deserializeObjectError:null,__deserializeObjectError_handler:null,_onDeserializeObjectError:function(a){null!=
this.__deserializeObjectError&&this.__deserializeObjectError(this,a)},addLayer:function(a,b){null==b&&lt.Annotations.Core.ExceptionHelper.argumentNullException("layer");if(null!=a)a.get_layers().add(b);else{var c=this.get_container();null!=c&&c.get_isEnabled()&&c.get_layers().add(b)}},deleteLayer:function(a,b){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("layer");var c=a.get_children(),d=a.get_layers(),e=a.get_parent();if(b){var f=this._activeContainer.get_children();if(null!=
c&&0<c.get_count())for(d=ss.IEnumerator.getEnumerator(c);d.moveNext();)c=d.current,f.contains(c)&&(c.set_layer(null),f.remove(c));c=a.get_layers();if(null!=c&&0<c.get_count())for(c=ss.IEnumerator.getEnumerator(c);c.moveNext();)this.deleteLayer(c.current,b);e.get_layers().remove(a)}else if(null!=e){var g=e.get_children(),f=e.get_layers();if(null!=g&&null!=c&&0<c.get_count()){for(var h=ss.IEnumerator.getEnumerator(c);h.moveNext();)c=h.current,c.set_layer(e),g.contains(c)||g.add(c);for(c=ss.IEnumerator.getEnumerator(d);c.moveNext();)d=
c.current,f.contains(d)||f.add(d)}a.get_children().clear();e.get_layers().remove(a)}else{if(null!=c&&0<c.get_count())for(e=ss.IEnumerator.getEnumerator(c);e.moveNext();)c=e.current,c.set_layer(null);e=this.get_container();null!=e&&e.get_isEnabled()&&e.get_layers().remove(a)}},selectLayer:function(a){var b=this._activeContainer.get_activeLayer();this._activeContainer.set_activeLayer(a);return b},get_canBringLayerToFront:function(){if(!this._isDesignModeContainer(this.get_container()))return!1;var a=
this._activeContainer.get_activeLayer(),b=!1;if(null!=a){a.get_parent();var c=this._getParentLayers(a);null!=c&&(b=1<c.get_count()&&c.indexOf(a)<c.get_count()-1)}return b},get_canBringLayerToFirst:function(){if(!this._isDesignModeContainer(this.get_container()))return!1;var a=this._activeContainer.get_activeLayer(),b=!1;if(null!=a){a.get_parent();var c=this._getParentLayers(a);null!=c&&(b=1<c.get_count()&&c.indexOf(a)!==c.get_count()-1)}return b},get_canSendLayerToBack:function(){if(!this._isDesignModeContainer(this.get_container()))return!1;
var a=this._activeContainer.get_activeLayer(),b=!1;if(null!=a){a.get_parent();var c=this._getParentLayers(a);null!=c&&(b=1<c.get_count()&&0<c.indexOf(a))}return b},_getParentLayers:function(a){var a=a.get_parent(),b=null;return b=null!=a?a.get_layers():this._activeContainer.get_layers()},get_canSendLayerToLast:function(){if(!this._isDesignModeContainer(this.get_container()))return!1;var a=this._activeContainer.get_activeLayer(),b=!1;if(null!=a){var c=this._getParentLayers(a);null!=c&&(b=1<c.get_count()&&
!!c.indexOf(a))}return b},sendLayerToBack:function(a){var b=this._activeContainer.get_activeLayer();if(this.get_canSendLayerToBack()&&!a||this.get_canSendLayerToLast()&&a){var c=this._getParentLayers(b);null!=c&&c.bringToFront(b,a)}},bringLayerToFront:function(a){var b=this._activeContainer.get_activeLayer();if(this.get_canBringLayerToFront()&&!a||this.get_canBringLayerToFirst()&&a){var c=this._getParentLayers(b);null!=c&&c.sendToBack(b,a)}},layerFromSelectedObjects:function(a){var b=this.get_container(),
c=new lt.Annotations.Core.AnnObjectCollection;if(null!=b&&this.get_canDeleteObjects()){this.beginUndo();var d=Type.safeCast(this._designer,lt.Annotations.Designers.AnnEditDesigner).get_targetObject(),e=Type.safeCast(d,lt.Annotations.Core.AnnSelectionObject);if(null!=e)for(d=ss.IEnumerator.getEnumerator(e.get_selectedObjects());d.moveNext();)e=d.current,e.get_isLocked()||c.add(e);else c.add(d);this._endEditDesigner(!1);this.onCurrentDesignerChanged(lt.LeadEventArgs.Empty);if(0<c.get_count())for(e=
0;e<c.get_count();++e)d=c.get_item(e),null!=b.get_selectionObject()&&b.get_selectionObject().get_selectedObjects().contains(d)&&b.get_selectionObject().get_selectedObjects().remove(d);this.endUndo()}a=lt.Annotations.Core.AnnLayer.create(a);for(c=ss.IEnumerator.getEnumerator(c);c.moveNext();)d=c.current,a.get_children().add(d);return a},_internalEndDesigner:function(a){if(null!=this.get_container()){var b=!1;null!=this._drawDesigner&&(a&&this._drawDesigner.cancel(),this._endDrawDesigner(!0,!1),b=!0);
null!=this._editDesigner&&(this._endEditDesigner(!0),b=!0);null!=this._runDesigner&&(this._endRunDesigner(!0),b=!0);this._selecting&&(this._cancelSelecting(),b=!0);b&&this.invalidate(lt.Annotations.Automation._leadRectDExtensions.get_empty())}},endDesigner:function(){this._internalEndDesigner(!1)},_currentRubberStampTypeChanged:function(a){if(null!=this._drawDesigner){var b=this._drawDesigner.get_targetObject();null!=b&&(b=Type.safeCast(b,lt.Annotations.Core.AnnRubberStampObject),null!=b&&b.set_rubberStampType(a))}},
_checkRestrictObjectsIntoContainer:function(){}};Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"enableDragDrop",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_enableDragDrop,set:lt.Annotations.Automation.AnnAutomation.prototype.set_enableDragDrop,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"containers",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_containers,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"objectModified",{get:lt.Annotations.Automation.AnnAutomation.prototype.__objectModified_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"dragDrop",{get:lt.Annotations.Automation.AnnAutomation.prototype.__dragDrop_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"lockObject",{get:lt.Annotations.Automation.AnnAutomation.prototype.__lockObject_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"unlockObject",{get:lt.Annotations.Automation.AnnAutomation.prototype.__unlockObject_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"editText",{get:lt.Annotations.Automation.AnnAutomation.prototype.__editText_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"editContent",
{get:lt.Annotations.Automation.AnnAutomation.prototype.__editContent_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"undoRedoChanged",{get:lt.Annotations.Automation.AnnAutomation.prototype.__undoRedoChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"draw",{get:lt.Annotations.Automation.AnnAutomation.prototype.__draw_handler_get,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"edit",{get:lt.Annotations.Automation.AnnAutomation.prototype.__edit_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"run",{get:lt.Annotations.Automation.AnnAutomation.prototype.__run_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"selectedObjectsChanged",{get:lt.Annotations.Automation.AnnAutomation.prototype.__selectedObjectsChanged_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"onShowContextMenu",{get:lt.Annotations.Automation.AnnAutomation.prototype.__onShowContextMenu_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"onShowObjectProperties",{get:lt.Annotations.Automation.AnnAutomation.prototype.__onShowObjectProperties_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,
"setCursor",{get:lt.Annotations.Automation.AnnAutomation.prototype.__setCursor_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"restoreCursor",{get:lt.Annotations.Automation.AnnAutomation.prototype.__restoreCursor_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"toolTip",{get:lt.Annotations.Automation.AnnAutomation.prototype.__toolTip_handler_get,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"automationControl",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_automationControl,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"activeContainer",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_activeContainer,set:lt.Annotations.Automation.AnnAutomation.prototype.set_activeContainer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,
"activeContainerChanged",{get:lt.Annotations.Automation.AnnAutomation.prototype.__activeContainerChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"defaultCurrentObjectId",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_defaultCurrentObjectId,set:lt.Annotations.Automation.AnnAutomation.prototype.set_defaultCurrentObjectId,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,
"currentDesignerChanged",{get:lt.Annotations.Automation.AnnAutomation.prototype.__currentDesignerChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"active",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_active,set:lt.Annotations.Automation.AnnAutomation.prototype.set_active,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"afterUndoRedo",{get:lt.Annotations.Automation.AnnAutomation.prototype.__afterUndoRedo_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"beforeObjectChanged",{get:lt.Annotations.Automation.AnnAutomation.prototype.__beforeObjectChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"afterObjectChanged",{get:lt.Annotations.Automation.AnnAutomation.prototype.__afterObjectChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,
"canUnlock",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canUnlock,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"manager",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_manager,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"container",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_container,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,
"currentDesigner",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_currentDesigner,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"currentEditObject",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_currentEditObject,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canUndo",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canUndo,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canRedo",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canRedo,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"undoCapacity",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_undoCapacity,set:lt.Annotations.Automation.AnnAutomation.prototype.set_undoCapacity,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,
"canLock",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canLock,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canRealizeRedaction",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canRealizeRedaction,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canRestoreRedaction",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canRestoreRedaction,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canRealizeAllRedactions",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canRealizeAllRedactions,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canRestoreAllRedactions",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canRestoreAllRedactions,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,
"canSelectObjects",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canSelectObjects,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canDeleteObjects",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canDeleteObjects,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canShowProperties",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canShowProperties,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canApplyDecryptor",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canApplyDecryptor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canApplyEncryptor",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canApplyEncryptor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canGroup",
{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canGroup,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canUngroup",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canUngroup,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canCopy",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canCopy,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,
"canPaste",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canPaste,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canBringToFront",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canBringToFront,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canBringToFirst",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canBringToFirst,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canSendToLast",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canSendToLast,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canSendToBack",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canSendToBack,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canApplyAllEncryptors",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canApplyAllEncryptors,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canApplyAllDecryptors",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canApplyAllDecryptors,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canFlip",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canFlip,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canResetRotatePoints",
{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canResetRotatePoints,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canShowObjectProperties",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canShowObjectProperties,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canAlign",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canAlign,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canShowObjectContextMenu",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canShowObjectContextMenu,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canSelectNone",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canSelectNone,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"deserializeObjectError",
{get:lt.Annotations.Automation.AnnAutomation.prototype.__deserializeObjectError_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canBringLayerToFront",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canBringLayerToFront,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canBringLayerToFirst",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canBringLayerToFirst,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canSendLayerToBack",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canSendLayerToBack,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomation.prototype,"canSendLayerToLast",{get:lt.Annotations.Automation.AnnAutomation.prototype.get_canSendLayerToLast,enumerable:!0,configurable:!0});lt.Annotations.Automation.AnnPlatformCallbacks=function(){};lt.Annotations.Automation.AnnPlatformCallbacks.prototype=
{_checkModifier:null,get_checkModifier:function(){return this._checkModifier},set_checkModifier:function(a){return this._checkModifier=a},_getClipboardData:null,get_getClipboardData:function(){return this._getClipboardData},set_getClipboardData:function(a){return this._getClipboardData=a},_setClipboardData:null,get_setClipboardData:function(){return this._setClipboardData},set_setClipboardData:function(a){return this._setClipboardData=a},_isClipboardDataPresent:null,get_isClipboardDataPresent:function(){return this._isClipboardDataPresent},
set_isClipboardDataPresent:function(a){return this._isClipboardDataPresent=a}};Object.defineProperty(lt.Annotations.Automation.AnnPlatformCallbacks.prototype,"checkModifier",{get:lt.Annotations.Automation.AnnPlatformCallbacks.prototype.get_checkModifier,set:lt.Annotations.Automation.AnnPlatformCallbacks.prototype.set_checkModifier,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnPlatformCallbacks.prototype,"getClipboardData",{get:lt.Annotations.Automation.AnnPlatformCallbacks.prototype.get_getClipboardData,
set:lt.Annotations.Automation.AnnPlatformCallbacks.prototype.set_getClipboardData,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnPlatformCallbacks.prototype,"setClipboardData",{get:lt.Annotations.Automation.AnnPlatformCallbacks.prototype.get_setClipboardData,set:lt.Annotations.Automation.AnnPlatformCallbacks.prototype.set_setClipboardData,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnPlatformCallbacks.prototype,"isClipboardDataPresent",
{get:lt.Annotations.Automation.AnnPlatformCallbacks.prototype.get_isClipboardDataPresent,set:lt.Annotations.Automation.AnnPlatformCallbacks.prototype.set_isClipboardDataPresent,enumerable:!0,configurable:!0});lt.Annotations.Automation.AnnAutomationManager=function(){this._currentObjectId=lt.Annotations.Core.AnnObject.none;this._redactionRealizePassword="";this._annHitTestBehavior=lt.Annotations.Core.AnnHitTestBehavior.contains;this._automations=new lt.Annotations.Automation.AnnAutomations;this._automationObjects=
new lt.Annotations.Automation.AnnAutomationObjects;this._userMode=lt.Annotations.Core.AnnUserMode.design;this._thumbsHitTestBuffer=parseInt(720*(2/96));this._selectionModifierKey=lt.Annotations.Core.AnnKeys.shift;this._snapToGridOptions=new lt.Annotations.Core.AnnSnapToGridOptions;this._multiSelectModifierKey=this._extendedModeModifierKey=this._rotateModifierKey=lt.Annotations.Core.AnnKeys.shift};lt.Annotations.Automation.AnnAutomationManager.get_platformCallbacks=function(){return lt.Annotations.Automation.AnnAutomationManager._platformCallbacks};
lt.Annotations.Automation.AnnAutomationManager.create=function(a){var b=new lt.Annotations.Automation.AnnAutomationManager;b.set_renderingEngine(a);return b};lt.Annotations.Automation.AnnAutomationManager.prototype={_editObjectAfterDraw:!0,_cancelInactiveDesigners:!0,_endDrawWhenLostFocus:!0,_maintainAspectRatio:!0,_showThumbs:!0,_enableThumbsSelection:!1,_thumbsGap:0,_currentRubberStampType:0,get_hitTestBehavior:function(){return this._annHitTestBehavior},set_hitTestBehavior:function(a){return this._annHitTestBehavior=
a},get_redactionRealizePassword:function(){return this._redactionRealizePassword},set_redactionRealizePassword:function(a){return this._redactionRealizePassword=a},get_automations:function(){return this._automations},get_objects:function(){return this._automationObjects},get_userMode:function(){return this._userMode},set_userMode:function(a){this._userMode!==a&&(this._userMode=a,this._onUserModeChanged(lt.LeadEventArgs.Empty));return a},get_thumbsHitTestBuffer:function(){return this._thumbsHitTestBuffer},
set_thumbsHitTestBuffer:function(a){return this._thumbsHitTestBuffer=a},_runHitTestBuffer:0,get_runHitTestBuffer:function(){return this._runHitTestBuffer},set_runHitTestBuffer:function(a){return this._runHitTestBuffer=a},get_currentObjectId:function(){return this._currentObjectId},set_currentObjectId:function(a){if(this.get_userMode()===lt.Annotations.Core.AnnUserMode.design&&!lt.Annotations.Automation.AnnAutomationManager._insideCurrentObjectChanged){lt.Annotations.Automation.AnnAutomationManager._insideCurrentObjectChanged=
!0;this._currentObjectId=a;if(this._cancelInactiveDesigners){var b=this.get__activeAutomation();null!=b&&b._currentObjectChanged()}else for(var c=ss.IEnumerator.getEnumerator(this.get_automations());c.moveNext();)b=c.current,null!=b&&b._currentObjectChanged();null!=this.__currentObjectIdChanged&&this.__currentObjectIdChanged(this,lt.LeadEventArgs.Empty);lt.Annotations.Automation.AnnAutomationManager._insideCurrentObjectChanged=!1}return a},get__activeAutomation:function(){for(var a=ss.IEnumerator.getEnumerator(this.get_automations());a.moveNext();){var b=
a.current;if(b.get_active())return b}return null},get_editObjectAfterDraw:function(){return this._editObjectAfterDraw},set_editObjectAfterDraw:function(a){return this._editObjectAfterDraw=a},get_cancelInactiveDesigners:function(){return this._cancelInactiveDesigners},set_cancelInactiveDesigners:function(a){return this._cancelInactiveDesigners=a},get_endDrawWhenLostFocus:function(){return this._endDrawWhenLostFocus},set_endDrawWhenLostFocus:function(a){return this._endDrawWhenLostFocus=a},get_maintainAspectRatio:function(){return this._maintainAspectRatio},
set_maintainAspectRatio:function(a){this._maintainAspectRatio=a;for(var b=ss.IEnumerator.getEnumerator(this.get_automations());b.moveNext();){var c=b.current;c.get_active()&&null!=c.get_currentDesigner()&&Type.canCast(c.get_currentDesigner(),lt.Annotations.Designers.AnnEditDesigner)&&Type.safeCast(c.get_currentDesigner(),lt.Annotations.Designers.AnnEditDesigner).set_maintainAspectRatio(a)}return a},get_showThumbs:function(){return this._showThumbs},set_showThumbs:function(a){this._showThumbs=a;if(null!=
this.get__activeAutomation()){var b=Type.safeCast(this.get__activeAutomation().get_currentDesigner(),lt.Annotations.Designers.AnnEditDesigner);null!=b&&b.set_showThumbs(this._showThumbs)}return a},_restrictDesigners:!1,get_restrictDesigners:function(){return this._restrictDesigners},set_restrictDesigners:function(a){if(this._restrictDesigners!==a&&(this._restrictDesigners=a,null!=this.get__activeAutomation())){var b=this.get__activeAutomation().get_currentDesigner();null!=b&&b.set_restrictDesigners(this._restrictDesigners);
if(this._restrictDesigners)for(b=ss.IEnumerator.getEnumerator(this.get__activeAutomation().get_containers());b.moveNext();){var c=b.current;this.get__activeAutomation()._restrictObjectToContainer(c.get_selectionObject(),c,null);for(var d=ss.IEnumerator.getEnumerator(c.get_children());d.moveNext();){var e=d.current;this.get__activeAutomation()._restrictObjectToContainer(e,c,null)}this.get__activeAutomation().invalidateContainer(c)}}return a},get_enableThumbsSelection:function(){return this._enableThumbsSelection},
set_enableThumbsSelection:function(a){return this._enableThumbsSelection=a},get_thumbsGap:function(){return this._thumbsGap},set_thumbsGap:function(a){0>a&&lt.Annotations.Core.ExceptionHelper.invalidOperationException("Thumbs gap must be value greater than or equal to 0");return this._thumbsGap=a},_editContentAfterDraw:!1,get_editContentAfterDraw:function(){return this._editContentAfterDraw},set_editContentAfterDraw:function(a){return this._editContentAfterDraw=a},_editTextAfterDraw:!1,get_editTextAfterDraw:function(){return this._editTextAfterDraw},
set_editTextAfterDraw:function(a){return this._editTextAfterDraw=a},add_currentObjectIdChanged:function(a){this.__currentObjectIdChanged=ss.Delegate.combine(this.__currentObjectIdChanged,a)},remove_currentObjectIdChanged:function(a){this.__currentObjectIdChanged=ss.Delegate.remove(this.__currentObjectIdChanged,a)},__currentObjectIdChanged_handler_get:function(){null==this.__currentObjectIdChanged_handler&&(this.__currentObjectIdChanged_handler=ss.EventHandler.create(this,this.add_currentObjectIdChanged,
this.remove_currentObjectIdChanged));return this.__currentObjectIdChanged_handler},__currentObjectIdChanged:null,__currentObjectIdChanged_handler:null,createAutomationObject:function(){return new lt.Annotations.Automation.AnnAutomationObject},createSelectAutomationObject:function(){var a=this.createAutomationObject();a.set_id(lt.Annotations.Core.AnnObject.selectObjectId);a.set_name("Select");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnSelectionEditDesigner);
a.set_runDesignerType(null);var b=new lt.Annotations.Core.AnnSelectionObject;a.set_objectTemplate(b);return a},createLineAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnPolylineObject;b.setId(lt.Annotations.Core.AnnObject.lineObjectId);a.set_id(lt.Annotations.Core.AnnObject.lineObjectId);a.set_name("Line");a.set_drawDesignerType(lt.Annotations.Designers.AnnLineDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnPolylineEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);
a.set_objectTemplate(b);return a},createRectangleAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnRectangleObject;a.set_id(lt.Annotations.Core.AnnObject.rectangleObjectId);a.set_name("Rectangle");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnRectangleEditDesigner);a.set_objectTemplate(b);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);return a},createEllipseAutomationObject:function(){var a=
this.createAutomationObject(),b=new lt.Annotations.Core.AnnEllipseObject;a.set_id(lt.Annotations.Core.AnnObject.ellipseObjectId);a.set_name("Ellipse");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnRectangleEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createPolylineAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnPolylineObject;
a.set_id(lt.Annotations.Core.AnnObject.polylineObjectId);a.set_name("Polyline");a.set_drawDesignerType(lt.Annotations.Designers.AnnPolylineDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnPolylineEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createPolygonAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnPolylineObject;b.set_isClosed(!0);a.set_id(lt.Annotations.Core.AnnObject.polygonObjectId);
a.set_name("Polygon");a.set_drawDesignerType(lt.Annotations.Designers.AnnPolylineDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnPolylineEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createCurveAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnCurveObject;a.set_id(lt.Annotations.Core.AnnObject.curveObjectId);a.set_name("Curve");a.set_drawDesignerType(lt.Annotations.Designers.AnnPolylineDrawDesigner);
a.set_editDesignerType(lt.Annotations.Designers.AnnPolylineEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createClosedCurveAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnCurveObject;b.set_isClosed(!0);a.set_id(lt.Annotations.Core.AnnObject.closedCurveObjectId);a.set_name("Closed Curve");a.set_drawDesignerType(lt.Annotations.Designers.AnnPolylineDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnPolylineEditDesigner);
a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createPointerAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnPointerObject;a.set_id(lt.Annotations.Core.AnnObject.pointerObjectId);a.set_name("Pointer");a.set_drawDesignerType(lt.Annotations.Designers.AnnLineDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnPolylineEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);
return a},createFreeHandAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnPolylineObject;b.setId(lt.Annotations.Core.AnnObject.freehandObjectId);a.set_id(lt.Annotations.Core.AnnObject.freehandObjectId);a.set_name("Freehand");a.set_drawDesignerType(lt.Annotations.Designers.AnnFreehandDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnPolylineEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);
return a},createHiliteAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnHiliteObject;a.set_id(lt.Annotations.Core.AnnObject.hiliteObjectId);a.set_name("Hilite");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnRectangleEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createTextAutomationObject:function(){var a=this.createAutomationObject(),
b=new lt.Annotations.Core.AnnTextObject;a.set_id(lt.Annotations.Core.AnnObject.textObjectId);a.set_name("Text");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnTextEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createTextPointerAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnTextPointerObject;a.set_id(lt.Annotations.Core.AnnObject.textPointerObjectId);
a.set_name("Text Pointer");a.set_drawDesignerType(lt.Annotations.Designers.AnnTextPointerDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnTextPointerEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);a.set_useRotateThumbs(!0);return a},createNoteAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnNoteObject;a.set_id(lt.Annotations.Core.AnnObject.noteObjectId);a.set_name("Note");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);
a.set_editDesignerType(lt.Annotations.Designers.AnnTextEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createStampAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnStampObject;a.set_id(lt.Annotations.Core.AnnObject.stampObjectId);a.set_name("Stamp");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnTextEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);
a.set_objectTemplate(b);return a},createRubberStampAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnRubberStampObject;b.set_rubberStampType(lt.Annotations.Core.AnnRubberStampType.stampApproved);a.set_id(lt.Annotations.Core.AnnObject.rubberStampObjectId);a.set_name("Rubber Stamp");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnRectangleEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);
a.set_objectTemplate(b);return a},createHotspotAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnHotspotObject;a.set_id(lt.Annotations.Core.AnnObject.hotspotObjectId);a.set_name("Hotspot");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnRectangleEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createFreehandHotspotAutomationObject:function(){var a=
this.createAutomationObject(),b=new lt.Annotations.Core.AnnFreehandHotspotObject;a.set_id(lt.Annotations.Core.AnnObject.freehandHotspotObjectId);a.set_name("Freehand Hotspot");a.set_drawDesignerType(lt.Annotations.Designers.AnnFreehandDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnPolylineEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createPointAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnPointObject;
a.set_id(lt.Annotations.Core.AnnObject.pointObjectId);a.set_name("Point");a.set_drawDesignerType(lt.Annotations.Designers.AnnPointDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnPointEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);a.set_useRotateThumbs(!1);return a},createRedactionAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnRedactionObject;b.set_fill(lt.Annotations.Core.AnnSolidColorBrush.create("black"));
a.set_id(lt.Annotations.Core.AnnObject.redactionObjectId);a.set_name("Redaction");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnRectangleEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);a.set_useRotateThumbs(!0);return a},createRulerAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnPolyRulerObject;b.setId(lt.Annotations.Core.AnnObject.rulerObjectId);
b.set_showGauge(!0);a.set_id(lt.Annotations.Core.AnnObject.rulerObjectId);a.set_name("Ruler");a.set_drawDesignerType(lt.Annotations.Designers.AnnLineDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnPolylineEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);a.set_useRotateThumbs(!0);return a},createPolyRulerAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnPolyRulerObject;a.set_id(lt.Annotations.Core.AnnObject.polyRulerObjectId);
a.set_name("Poly Ruler");a.set_drawDesignerType(lt.Annotations.Designers.AnnPolylineDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnPolylineEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);a.set_useRotateThumbs(!0);return a},createProtractorAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnProtractorObject;a.set_id(lt.Annotations.Core.AnnObject.protractorObjectId);a.set_name("Protractor");
a.set_drawDesignerType(lt.Annotations.Designers.AnnProtractorDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnPolylineEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);a.set_useRotateThumbs(!0);return a},createCrossProductAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnCrossProductObject;a.set_id(lt.Annotations.Core.AnnObject.crossProductObjectId);a.set_name("Cross Product");a.set_drawDesignerType(lt.Annotations.Designers.AnnCrossProductDrawDesigner);
a.set_editDesignerType(lt.Annotations.Designers.AnnCrossProductEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);a.set_useRotateThumbs(!0);return a},createVideoAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnMediaObject;a.set_id(lt.Annotations.Core.AnnObject.mediaObjectId);a.set_name("Media");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnRectangleEditDesigner);
a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createEncryptAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnEncryptObject;a.set_id(b.get_id());a.set_name(b.get_friendlyName());a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnRectangleEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);
return a},createAudioAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnAudioObject;a.set_id(lt.Annotations.Core.AnnObject.audioObjectId);a.set_name("Audio");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnRectangleEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createTextRollupAutomationObject:function(){var a=this.createAutomationObject(),
b=new lt.Annotations.Core.AnnTextRollupObject;a.set_id(lt.Annotations.Core.AnnObject.textRollupObjectId);a.set_name("Text Rollup");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnTextEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnTextRollupRunDesigner);a.set_objectTemplate(b);return a},createImageAutomationObject:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnImageObject;a.set_id(lt.Annotations.Core.AnnObject.imageObjectId);
a.set_name("Image");a.set_drawDesignerType(lt.Annotations.Designers.AnnRectangleDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnRectangleEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createTextHilite:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnTextHiliteObject;a.set_id(lt.Annotations.Core.AnnObject.textHiliteObjectId);a.set_name("Text hilite");a.set_drawDesignerType(lt.Annotations.Designers.AnnTextReviewDrawDesigner);
a.set_editDesignerType(lt.Annotations.Designers.AnnTextReviewEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createTextStrikeout:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnTextStrikeoutObject;a.set_id(lt.Annotations.Core.AnnObject.textStrikeoutObjectId);a.set_name("Text strikeout");a.set_drawDesignerType(lt.Annotations.Designers.AnnTextReviewDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnTextReviewEditDesigner);
a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createTextUnderline:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnTextUnderlineObject;a.set_id(b.get_id());a.set_name("Text underline");a.set_drawDesignerType(lt.Annotations.Designers.AnnTextReviewDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnTextReviewEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},
createTextRedaction:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnTextRedactionObject;a.set_id(b.get_id());a.set_name("Text redaction");a.set_drawDesignerType(lt.Annotations.Designers.AnnTextReviewDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnTextReviewEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createStickyNote:function(){var a=this.createAutomationObject(),b=new lt.Annotations.Core.AnnStickyNoteObject;
a.set_id(lt.Annotations.Core.AnnObject.stickyNoteObjectId);a.set_name("Sticky Note");a.set_drawDesignerType(lt.Annotations.Designers.AnnStickyNoteDrawDesigner);a.set_editDesignerType(lt.Annotations.Designers.AnnEditDesigner);a.set_runDesignerType(lt.Annotations.Designers.AnnRunDesigner);a.set_objectTemplate(b);return a},createDefaultObjects:function(){this._automationObjects.add(this.createSelectAutomationObject());this._automationObjects.add(this.createLineAutomationObject());this._automationObjects.add(this.createRectangleAutomationObject());
this._automationObjects.add(this.createEllipseAutomationObject());this._automationObjects.add(this.createPolylineAutomationObject());this._automationObjects.add(this.createPolygonAutomationObject());this._automationObjects.add(this.createCurveAutomationObject());this._automationObjects.add(this.createClosedCurveAutomationObject());this._automationObjects.add(this.createPointerAutomationObject());this._automationObjects.add(this.createFreeHandAutomationObject());this._automationObjects.add(this.createHiliteAutomationObject());
this._automationObjects.add(this.createTextAutomationObject());this._automationObjects.add(this.createTextPointerAutomationObject());this._automationObjects.add(this.createNoteAutomationObject());this._automationObjects.add(this.createStampAutomationObject());this._automationObjects.add(this.createRubberStampAutomationObject());this._automationObjects.add(this.createHotspotAutomationObject());this._automationObjects.add(this.createFreehandHotspotAutomationObject());this._automationObjects.add(this.createPointAutomationObject());
this._automationObjects.add(this.createRedactionAutomationObject());this._automationObjects.add(this.createRulerAutomationObject());this._automationObjects.add(this.createPolyRulerAutomationObject());this._automationObjects.add(this.createProtractorAutomationObject());this._automationObjects.add(this.createCrossProductAutomationObject());this._automationObjects.add(this.createTextRollupAutomationObject());this._automationObjects.add(this.createVideoAutomationObject());this._automationObjects.add(this.createAudioAutomationObject());
this._automationObjects.add(this.createEncryptAutomationObject());this._automationObjects.add(this.createImageAutomationObject());this._automationObjects.add(this.createTextHilite());this._automationObjects.add(this.createTextStrikeout());this._automationObjects.add(this.createTextUnderline());this._automationObjects.add(this.createTextRedaction());this._automationObjects.add(this.createStickyNote())},loadPackage:function(a,b){null==a&&lt.Annotations.Core.ExceptionHelper.argumentNullException("pack");
for(var c=ss.IEnumerator.getEnumerator(a.getAutomationObjects());c.moveNext();){var d=c.current;d.set_groupName(b);this._automationObjects.add(d);Object.keyExists(this.get_renderingEngine().get_renderers(),d.get_id())||(this.get_renderingEngine().get_renderers()[d.get_id()]=d.get_renderer())}},findObject:function(a){for(var b=ss.IEnumerator.getEnumerator(this.get_objects());b.moveNext();){var c=b.current;if(c.get_id()===a.get_id())return c}return null},findObjectById:function(a){for(var b=ss.IEnumerator.getEnumerator(this.get_objects());b.moveNext();){var c=
b.current;if(c.get_id()===a)return c}return null},add_userModeChanged:function(a){this.__userModeChanged=ss.Delegate.combine(this.__userModeChanged,a)},remove_userModeChanged:function(a){this.__userModeChanged=ss.Delegate.remove(this.__userModeChanged,a)},__userModeChanged_handler_get:function(){null==this.__userModeChanged_handler&&(this.__userModeChanged_handler=ss.EventHandler.create(this,this.add_userModeChanged,this.remove_userModeChanged));return this.__userModeChanged_handler},__userModeChanged:null,
__userModeChanged_handler:null,_onUserModeChanged:function(a){for(var b=ss.IEnumerator.getEnumerator(this.get_automations());b.moveNext();)b.current._userModeChanged();null!=this.__userModeChanged&&this.__userModeChanged(this,a)},add_currentRubberStampTypeChanged:function(a){this.__currentRubberStampTypeChanged=ss.Delegate.combine(this.__currentRubberStampTypeChanged,a)},remove_currentRubberStampTypeChanged:function(a){this.__currentRubberStampTypeChanged=ss.Delegate.remove(this.__currentRubberStampTypeChanged,
a)},__currentRubberStampTypeChanged_handler_get:function(){null==this.__currentRubberStampTypeChanged_handler&&(this.__currentRubberStampTypeChanged_handler=ss.EventHandler.create(this,this.add_currentRubberStampTypeChanged,this.remove_currentRubberStampTypeChanged));return this.__currentRubberStampTypeChanged_handler},__currentRubberStampTypeChanged:null,__currentRubberStampTypeChanged_handler:null,get_currentRubberStampType:function(){return this._currentRubberStampType},set_currentRubberStampType:function(a){if(a!==
this.get_currentRubberStampType()){this._currentRubberStampType=a;var b=this.findObjectById(lt.Annotations.Core.AnnObject.rubberStampObjectId);null!=b&&(b=Type.safeCast(b.get_objectTemplate(),lt.Annotations.Core.AnnRubberStampObject),null!=b&&b.set_rubberStampType(this.get_currentRubberStampType()));for(b=ss.IEnumerator.getEnumerator(this._automations);b.moveNext();)b.current._currentRubberStampTypeChanged(this._currentRubberStampType)}null!=this.__currentRubberStampTypeChanged&&this.__currentRubberStampTypeChanged(this,
lt.LeadEventArgs.Empty);return a},_enableObjectsAlignment:!1,get_enableObjectsAlignment:function(){return this._enableObjectsAlignment},set_enableObjectsAlignment:function(a){this._enableObjectsAlignment!==a&&(this._enableObjectsAlignment=a,this._onEnableObjectsAlignmentChanged());return a},_usePDFMode:!1,get_usePDFMode:function(){return this._usePDFMode},set_usePDFMode:function(a){this._usePDFMode=a;this._onUsePDFModeChanged();return a},_onUsePDFModeChanged:function(){if(null!=this.get__activeAutomation())for(var a=
ss.IEnumerator.getEnumerator(this.get_objects());a.moveNext();){var b=a.current;if(this._usePDFMode){for(var c=ss.IEnumerator.getEnumerator(this.get__activeAutomation().get_containers());c.moveNext();)for(var d=c.current,e=ss.IEnumerator.getEnumerator(d.get_children());e.moveNext();)d=e.current,d.set_fixedStateOperations(d.get_fixedStateOperations()&~lt.Annotations.Core.AnnFixedStateOperations.strokeWidth),null!=d.get_stroke()&&d.get_stroke().set_strokeAlignment(lt.Annotations.Core.AnnStrokeAlignment.inset);
b.get_objectTemplate().set_fixedStateOperations(b.get_objectTemplate().get_fixedStateOperations()&~lt.Annotations.Core.AnnFixedStateOperations.strokeWidth);null!=b.get_objectTemplate().get_stroke()&&b.get_objectTemplate().get_stroke().set_strokeAlignment(lt.Annotations.Core.AnnStrokeAlignment.inset)}else{for(c=ss.IEnumerator.getEnumerator(this.get__activeAutomation().get_containers());c.moveNext();){d=c.current;for(e=ss.IEnumerator.getEnumerator(d.get_children());e.moveNext();)d=e.current,d.set_fixedStateOperations(d.get_fixedStateOperations()|
lt.Annotations.Core.AnnFixedStateOperations.strokeWidth),null!=d.get_stroke()&&d.get_stroke().set_strokeAlignment(lt.Annotations.Core.AnnStrokeAlignment.center)}b.get_objectTemplate().set_fixedStateOperations(b.get_objectTemplate().get_fixedStateOperations()|lt.Annotations.Core.AnnFixedStateOperations.strokeWidth);null!=b.get_objectTemplate().get_stroke()&&b.get_objectTemplate().get_stroke().set_strokeAlignment(lt.Annotations.Core.AnnStrokeAlignment.center)}}},_fontRelativeToImageDpi:!0,get_fontRelativeToImageDpi:function(){return this._fontRelativeToImageDpi},
set_fontRelativeToImageDpi:function(a){this._fontRelativeToImageDpi=a;this._onFontRelativeToImageDpiChanged();return a},_onFontRelativeToImageDpiChanged:function(){if(null!=this.get__activeAutomation())for(var a=ss.IEnumerator.getEnumerator(this.get__activeAutomation().get_containers());a.moveNext();)a.current.get_mapper().set_fontRelativeToImageDpi(this._fontRelativeToImageDpi)},_onEnableObjectsAlignmentChanged:function(){if(null!=this.get__activeAutomation()){var a=Type.safeCast(this.get__activeAutomation().get_currentEditObject(),
lt.Annotations.Core.AnnSelectionObject);null!=a&&1<a.get_selectedObjects().get_count()&&(this._enableObjectsAlignment?null==a.get_alignmentTarget()&&(a.set_alignmentTarget(a.get_selectedObjects().get_item(a.get_selectedObjects().get_count()-1)),a.get_alignmentTarget().set_isAlignmentTarget(!0)):null!=a.get_alignmentTarget()&&(a.get_alignmentTarget().set_isAlignmentTarget(!1),this.get__activeAutomation().invalidateObject(a.get_alignmentTarget()),a.set_alignmentTarget(null)))}},_rotateModifierKey:0,
get_rotateModifierKey:function(){return this._rotateModifierKey},set_rotateModifierKey:function(a){return this._rotateModifierKey=a},_extendedModeModifierKey:0,get_extendedModeModifierKey:function(){return this._extendedModeModifierKey},set_extendedModeModifierKey:function(a){return this._extendedModeModifierKey=a},_multiSelectModifierKey:0,get_multiSelectModifierKey:function(){return this._multiSelectModifierKey},set_multiSelectModifierKey:function(a){return this._multiSelectModifierKey=a},_enableDeselectObject:!0,
get_enableDeselectObject:function(){return this._enableDeselectObject},set_enableDeselectObject:function(a){return this._enableDeselectObject=a},get__isMultiSelectionEnabled:function(){return null!=this.findObjectById(lt.Annotations.Core.AnnObject.selectObjectId)},_groupsRoles:null,get_groupsRoles:function(){return this._groupsRoles},set_groupsRoles:function(a){return this._groupsRoles=a},_renderingEngine:null,get_renderingEngine:function(){return this._renderingEngine},set_renderingEngine:function(a){this._renderingEngine=
a;for(var b=ss.IEnumerator.getEnumerator(this._automations);b.moveNext();){var c=b.current;null!=c&&null!=c.get_automationControl()&&lt.Annotations.Core.Utils.setRenderingEngine(c.get_automationControl(),a)}null!=this._renderingEngine&&this._renderingEngine.set_snapToGridOptions(this._snapToGridOptions);return a},_enableToolTip:!1,get_enableToolTip:function(){return this._enableToolTip},set_enableToolTip:function(a){return this._enableToolTip=a},_resources:null,get_resources:function(){return this._resources},
set_resources:function(a){this._resources=a;this._onResourcesChanged();return a},_onResourcesChanged:function(){null!=this._renderingEngine&&this._renderingEngine.set_resources(this._resources)},_enablePartialDrop:!0,get_enablePartialDrop:function(){return this._enablePartialDrop},set_enablePartialDrop:function(a){return this._enablePartialDrop=a},_forceSelectionModifierKey:!1,get_forceSelectionModifierKey:function(){return this._forceSelectionModifierKey},set_forceSelectionModifierKey:function(a){return this._forceSelectionModifierKey=
a},get_selectionModifierKey:function(){return this._selectionModifierKey},set_selectionModifierKey:function(a){return this._selectionModifierKey=a},get_snapToGridOptions:function(){return this._snapToGridOptions},set_snapToGridOptions:function(a){this._snapToGridOptions!==a&&(this._snapToGridOptions=a,this._onSnapToGridOptionsChanged());return a},_onSnapToGridOptionsChanged:function(){if(null!=this.get__activeAutomation()){var a=this.get__activeAutomation().get_currentDesigner();null!=a&&a.set_snapToGridOptions(this._snapToGridOptions);
null!=this._renderingEngine&&this._renderingEngine.set_snapToGridOptions(this._snapToGridOptions);for(a=ss.IEnumerator.getEnumerator(this.get__activeAutomation().get_containers());a.moveNext();){var b=a.current;this.get__activeAutomation().invalidateContainer(b)}}},_deselectOnDown:!0,get_deselectOnDown:function(){return this._deselectOnDown},set_deselectOnDown:function(a){return this._deselectOnDown=a},_useRotateThumbs:!0,get_useRotateThumbs:function(){return this._useRotateThumbs},set_useRotateThumbs:function(a){if(this._useRotateThumbs!==
a){this._useRotateThumbs=a;for(var b=ss.IEnumerator.getEnumerator(this._automations);b.moveNext();){var c=Type.safeCast(b.current.get_currentDesigner(),lt.Annotations.Designers.AnnEditDesigner);null!=c&&c.set_useRotateThumbs(this._useRotateThumbs)}for(b=ss.IEnumerator.getEnumerator(this._automationObjects);b.moveNext();)b.current.set_useRotateThumbs(this._useRotateThumbs)}return a},_endEditDesignerBeforeDraw:!0,get_endEditDesignerBeforeDraw:function(){return this._endEditDesignerBeforeDraw},set_endEditDesignerBeforeDraw:function(a){return this._endEditDesignerBeforeDraw=
a}};Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"hitTestBehavior",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_hitTestBehavior,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_hitTestBehavior,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"redactionRealizePassword",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_redactionRealizePassword,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_redactionRealizePassword,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager,"platformCallbacks",{get:lt.Annotations.Automation.AnnAutomationManager.get_platformCallbacks,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"automations",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_automations,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,
"objects",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_objects,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"userMode",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_userMode,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_userMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"thumbsHitTestBuffer",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_thumbsHitTestBuffer,
set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_thumbsHitTestBuffer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"runHitTestBuffer",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_runHitTestBuffer,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_runHitTestBuffer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"currentObjectId",
{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_currentObjectId,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_currentObjectId,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"editObjectAfterDraw",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_editObjectAfterDraw,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_editObjectAfterDraw,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,
"cancelInactiveDesigners",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_cancelInactiveDesigners,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_cancelInactiveDesigners,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"endDrawWhenLostFocus",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_endDrawWhenLostFocus,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_endDrawWhenLostFocus,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"maintainAspectRatio",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_maintainAspectRatio,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_maintainAspectRatio,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"showThumbs",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_showThumbs,
set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_showThumbs,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"restrictDesigners",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_restrictDesigners,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_restrictDesigners,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"enableThumbsSelection",
{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_enableThumbsSelection,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_enableThumbsSelection,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"thumbsGap",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_thumbsGap,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_thumbsGap,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,
"editContentAfterDraw",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_editContentAfterDraw,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_editContentAfterDraw,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"editTextAfterDraw",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_editTextAfterDraw,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_editTextAfterDraw,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"currentObjectIdChanged",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.__currentObjectIdChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"userModeChanged",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.__userModeChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,
"currentRubberStampTypeChanged",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.__currentRubberStampTypeChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"currentRubberStampType",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_currentRubberStampType,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_currentRubberStampType,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,
"enableObjectsAlignment",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_enableObjectsAlignment,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_enableObjectsAlignment,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"usePDFMode",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_usePDFMode,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_usePDFMode,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"fontRelativeToImageDpi",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_fontRelativeToImageDpi,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_fontRelativeToImageDpi,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"rotateModifierKey",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_rotateModifierKey,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_rotateModifierKey,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"extendedModeModifierKey",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_extendedModeModifierKey,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_extendedModeModifierKey,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"multiSelectModifierKey",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_multiSelectModifierKey,
set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_multiSelectModifierKey,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"enableDeselectObject",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_enableDeselectObject,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_enableDeselectObject,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,
"groupsRoles",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_groupsRoles,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_groupsRoles,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"renderingEngine",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_renderingEngine,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_renderingEngine,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,
"enableToolTip",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_enableToolTip,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_enableToolTip,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"resources",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_resources,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_resources,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,
"enablePartialDrop",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_enablePartialDrop,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_enablePartialDrop,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"forceSelectionModifierKey",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_forceSelectionModifierKey,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_forceSelectionModifierKey,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"selectionModifierKey",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_selectionModifierKey,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_selectionModifierKey,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"snapToGridOptions",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_snapToGridOptions,
set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_snapToGridOptions,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"deselectOnDown",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_deselectOnDown,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_deselectOnDown,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"useRotateThumbs",
{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_useRotateThumbs,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_useRotateThumbs,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationManager.prototype,"endEditDesignerBeforeDraw",{get:lt.Annotations.Automation.AnnAutomationManager.prototype.get_endEditDesignerBeforeDraw,set:lt.Annotations.Automation.AnnAutomationManager.prototype.set_endEditDesignerBeforeDraw,enumerable:!0,configurable:!0});
lt.Annotations.Automation.AnnAutomationObject=function(){};lt.Annotations.Automation.AnnAutomationObject.prototype={_groupName:"Main",get_groupName:function(){return this._groupName},set_groupName:function(a){return this._groupName=a},_id:0,_name:null,_objectTemplate:null,_drawDesignerType:null,_editDesignerType:null,_runDesignerType:null,_useRotateThumbs:!0,_renderer:null,_toolBarImage:null,_toolBarToolTipText:null,_drawCursor:null,_contextMenu:null,_labelTemplate:null,_nextNumber:1,get_nextNumber:function(){return this._nextNumber},
set_nextNumber:function(a){return this._nextNumber=a},get_labelTemplate:function(){return this._labelTemplate},set_labelTemplate:function(a){return this._labelTemplate=a},_userData:null,get_userData:function(){return this._userData},set_userData:function(a){return this._userData=a},get_id:function(){return this._id},set_id:function(a){return this._id=a},get_renderer:function(){return this._renderer},set_renderer:function(a){return this._renderer=a},get_name:function(){return this._name},set_name:function(a){return this._name=
a},get_objectTemplate:function(){return this._objectTemplate},set_objectTemplate:function(a){return this._objectTemplate=a},get_drawDesignerType:function(){return this._drawDesignerType},set_drawDesignerType:function(a){return this._drawDesignerType=a},get_editDesignerType:function(){return this._editDesignerType},set_editDesignerType:function(a){return this._editDesignerType=a},get_runDesignerType:function(){return this._runDesignerType},set_runDesignerType:function(a){return this._runDesignerType=
a},get_toolBarImage:function(){return this._toolBarImage},set_toolBarImage:function(a){return this._toolBarImage=a},get_toolBarToolTipText:function(){return this._toolBarToolTipText},set_toolBarToolTipText:function(a){return this._toolBarToolTipText=a},get_drawCursor:function(){return this._drawCursor},set_drawCursor:function(a){return this._drawCursor=a},get_contextMenu:function(){return this._contextMenu},set_contextMenu:function(a){return this._contextMenu=a},get_useRotateThumbs:function(){return this._useRotateThumbs},
set_useRotateThumbs:function(a){return this._useRotateThumbs=a}};Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"groupName",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_groupName,set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_groupName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"nextNumber",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_nextNumber,
set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_nextNumber,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"labelTemplate",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_labelTemplate,set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_labelTemplate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"userData",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_userData,
set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_userData,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"id",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_id,set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"renderer",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_renderer,
set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_renderer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"name",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_name,set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"objectTemplate",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_objectTemplate,
set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_objectTemplate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"drawDesignerType",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_drawDesignerType,set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_drawDesignerType,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"editDesignerType",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_editDesignerType,
set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_editDesignerType,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"runDesignerType",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_runDesignerType,set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_runDesignerType,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"toolBarImage",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_toolBarImage,
set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_toolBarImage,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"toolBarToolTipText",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_toolBarToolTipText,set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_toolBarToolTipText,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"drawCursor",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_drawCursor,
set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_drawCursor,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"contextMenu",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_contextMenu,set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_contextMenu,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObject.prototype,"useRotateThumbs",{get:lt.Annotations.Automation.AnnAutomationObject.prototype.get_useRotateThumbs,
set:lt.Annotations.Automation.AnnAutomationObject.prototype.set_useRotateThumbs,enumerable:!0,configurable:!0});lt.Annotations.Automation._stackEnumerator=function(a){this._stack=a;this._current=this._stack.get__list();this._index=0<this._stack.get_count()?0:-1};lt.Annotations.Automation._stackEnumerator.prototype={_current:null,_index:0,_stack:null,moveNext:function(){if(0>this._index)return this._current=this._stack.get__list(),!1;this._current=this._stack._getElement(this._index);this._index++;
this._index===this._stack.get_count()&&(this._index=-1);return!0},reset:function(){this._index=!this._stack.get_count()?-1:0;this._current=this._stack.get__list()},get_current:function(){if(this._current!==this._stack.get__list())return this._current;this._index||lt.Annotations.Core.ExceptionHelper.invalidOperationException("Stack is empty");lt.Annotations.Core.ExceptionHelper.invalidOperationException("Stack is empty");return null}};lt.Annotations.Automation._limitedStack=function(a){this._list=
[];this.set_capacity(a)};lt.Annotations.Automation._limitedStack.prototype={_capacity:0,get__list:function(){return this._list},clear:function(){this._list.clear()},copyTo:function(){},_getElement:function(a){return this._list[a%this._list.length]},getEnumerator:function(){return new lt.Annotations.Automation._stackEnumerator(this)},pop:function(){this.get_count()||lt.Annotations.Core.ExceptionHelper.invalidOperationException("Stack is empty");var a=this._list[0];this._list.removeAt(0);return a},
push:function(a){this.get_count()===this.get_capacity()&&this._list.removeAt(this.get_count()-1);this._list.insert(0,a)},get_capacity:function(){return this._capacity},set_capacity:function(a){1>a&&lt.Annotations.Core.ExceptionHelper.invalidOperationException("Undo/Redo capacity should be greater than or equal to 1");this._capacity=a;this.clear();return a},get_count:function(){return this._list.length},get_isSynchronized:function(){return!1},get_syncRoot:function(){return this}};lt.Annotations.Automation._node=
function(a){this._container=a};lt.Annotations.Automation._node.prototype={_container:null,dispose:function(){null!=this._container&&(this._container.get_children().clear(),this._container=null)},get_container:function(){return this._container}};lt.Annotations.Automation._undoRedo=function(a){this.set_capacity(a);this._node=null};lt.Annotations.Automation._undoRedo._load=function(a,b){var c=Type.safeCast(b.pop(),lt.Annotations.Automation._node).get_container(),d=null;if(null!=c){a.clear();for(var e=
ss.IEnumerator.getEnumerator(c.get_children());e.moveNext();){var f=e.current.clone();f.get_isSelected()&&(d=f);a.add(f)}c.get_children().clear()}return d};lt.Annotations.Automation._undoRedo._save=function(a,b){for(var c=new lt.Annotations.Core.AnnContainer,d=ss.IEnumerator.getEnumerator(a);d.moveNext();){var e=d.current,f=Type.safeCast(e.get_parent(),lt.Annotations.Core.AnnSelectionObject),g=null,g=null!=f?Type.safeCast(f.get_parent(),lt.Annotations.Core.AnnContainer):Type.safeCast(e.get_parent(),
lt.Annotations.Core.AnnContainer);lt.Annotations.Automation.AnnAutomation._isUserInRole(lt.Annotations.Core.AnnOperationType.renderingObjects,e,Type.safeCast(g,lt.Annotations.Core.AnnContainer))&&c.get_children().add(e);e.set_parent(g);e===b&&String.isNullOrEmpty(e.get_groupName())&&e.set_isSelected(!0)}d=new lt.Annotations.Automation._node(c.clone());c.get_children().clear();return d};lt.Annotations.Automation._undoRedo.prototype={_node:null,_redoStack:null,_undoStack:null,cancel:function(){null!=
this._undoStack&&null!=this._redoStack&&null!=this._node&&(this._node.dispose(),this._node=null)},commit:function(){if(null!=this._undoStack&&null!=this._redoStack&&null!=this._node){this._undoStack.push(this._node);for(this._node=null;0<this._redoStack.get_count();)this._redoStack.pop()}},prepare:function(a,b){null!=this._undoStack&&null!=this._redoStack&&null==this._node&&(this._node=lt.Annotations.Automation._undoRedo._save(a,b))},redo:function(a,b){return this.get_canRedo()?(this._undoStack.push(lt.Annotations.Automation._undoRedo._save(a,
b)),lt.Annotations.Automation._undoRedo._load(a,this._redoStack)):null},undo:function(a,b){return this.get_canUndo()?(this._redoStack.push(lt.Annotations.Automation._undoRedo._save(a,b)),lt.Annotations.Automation._undoRedo._load(a,this._undoStack)):null},get_canRedo:function(){return null!=this._redoStack&&0<this._redoStack.get_count()},get_canUndo:function(){return null!=this._undoStack&&0<this._undoStack.get_count()},get_capacity:function(){return null==this._undoStack?0:this._undoStack.get_capacity()},
set_capacity:function(a){0>a&&lt.Annotations.Core.ExceptionHelper.invalidOperationException("Undo/Redo capacity should be greater than or equal to zero");0<a?(this._undoStack=new lt.Annotations.Automation._limitedStack(a),this._redoStack=new lt.Annotations.Automation._limitedStack(a)):this._redoStack=this._undoStack=null;return a}};lt.Annotations.Automation.AnnAutomationObjects=function(){this._elements=[]};lt.Annotations.Automation.AnnAutomationObjects.prototype={get_count:function(){return this._elements.length},
getEnumerator:function(){return this._elements.getEnumerator()},contains:function(a){return this._elements.contains(a)},removeAt:function(a){this._elements.removeAt(a)},add:function(a){this._elements.add(a)},clear:function(){this._elements.clear()},_copyTo:function(a,b,c){for(var d=0,b=ss.IEnumerator.getEnumerator(b);b.moveNext();)d<c||(a[d]=b.current,d++)},toArray:function(){var a=Array(this._elements.length);this._copyTo(a,this._elements,0);return a},insertItem:function(a,b){this._elements[a]=b;
var c=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(lt.Annotations.Core.AnnNotifyCollectionChangedAction.add);c.get_newItems().add(b);this.onCollectionChanged(c)},move:function(a,b){this.moveItem(a,b)},moveItem:function(a,b){var c=this._elements[a];this._elements.remove(c);this._elements.insert(b,c);this.onCollectionChanged(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(lt.Annotations.Core.AnnNotifyCollectionChangedAction.move))},onCollectionChanged:function(a){null!=
this.__collectionChanged&&this.__collectionChanged(this,a)},removeItem:function(){},setItem:function(){},clearItems:function(){},add_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.combine(this.__collectionChanged,a)},remove_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.remove(this.__collectionChanged,a)},__collectionChanged_handler_get:function(){null==this.__collectionChanged_handler&&(this.__collectionChanged_handler=ss.EventHandler.create(this,this.add_collectionChanged,
this.remove_collectionChanged));return this.__collectionChanged_handler},__collectionChanged:null,__collectionChanged_handler:null,get_item:function(a){return this._elements[a]},set_item:function(a,b){return this._elements[a]=b},item:function(a,b){return void 0===b?this.get_item(a):this.set_item(a,b)}};Object.defineProperty(lt.Annotations.Automation.AnnAutomationObjects.prototype,"count",{get:lt.Annotations.Automation.AnnAutomationObjects.prototype.get_count,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationObjects.prototype,
"collectionChanged",{get:lt.Annotations.Automation.AnnAutomationObjects.prototype.__collectionChanged_handler_get,enumerable:!0,configurable:!0});lt.Annotations.Automation.AnnAutomations=function(){this._elements=[]};lt.Annotations.Automation.AnnAutomations.prototype={get_count:function(){return this._elements.length},getEnumerator:function(){return this._elements.getEnumerator()},contains:function(a){return this._elements.contains(a)},removeAt:function(a){this._elements.removeAt(a)},add:function(a){this._elements.add(a)},
clear:function(){this._elements.clear()},_copyTo:function(a,b,c){for(var d=0,b=ss.IEnumerator.getEnumerator(b);b.moveNext();)d<c||(a[d]=b.current,d++)},toArray:function(){var a=Array(this._elements.length);this._copyTo(a,this._elements,0);return a},insertItem:function(a,b){this._elements[a]=b;var c=lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(lt.Annotations.Core.AnnNotifyCollectionChangedAction.add);c.get_newItems().add(b);this.onCollectionChanged(c)},move:function(a,b){this.moveItem(a,
b)},moveItem:function(a,b){var c=this._elements[a];this._elements.remove(c);this._elements.insert(b,c);this.onCollectionChanged(lt.Annotations.Core.AnnNotifyCollectionChangedEventArgs.create(lt.Annotations.Core.AnnNotifyCollectionChangedAction.move))},onCollectionChanged:function(a){null!=this.__collectionChanged&&this.__collectionChanged(this,a)},removeItem:function(){},setItem:function(){},clearItems:function(){},add_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.combine(this.__collectionChanged,
a)},remove_collectionChanged:function(a){this.__collectionChanged=ss.Delegate.remove(this.__collectionChanged,a)},__collectionChanged_handler_get:function(){null==this.__collectionChanged_handler&&(this.__collectionChanged_handler=ss.EventHandler.create(this,this.add_collectionChanged,this.remove_collectionChanged));return this.__collectionChanged_handler},__collectionChanged:null,__collectionChanged_handler:null,get_item:function(a){return this._elements[a]},set_item:function(a,b){return this._elements[a]=
b},item:function(a,b){return void 0===b?this.get_item(a):this.set_item(a,b)}};Object.defineProperty(lt.Annotations.Automation.AnnAutomations.prototype,"count",{get:lt.Annotations.Automation.AnnAutomations.prototype.get_count,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomations.prototype,"collectionChanged",{get:lt.Annotations.Automation.AnnAutomations.prototype.__collectionChanged_handler_get,enumerable:!0,configurable:!0});lt.Annotations.Automation.AnnAutomationEventArgs=
function(){lt.Annotations.Automation.AnnAutomationEventArgs.initializeBase(this)};lt.Annotations.Automation.AnnAutomationEventArgs.create=function(a){var b=new lt.Annotations.Automation.AnnAutomationEventArgs;b._object$1=a;b._cancel$1=!1;return b};lt.Annotations.Automation.AnnAutomationEventArgs.prototype={_object$1:null,get_object:function(){return this._object$1},_cancel$1:!1,get_cancel:function(){return this._cancel$1},set_cancel:function(a){return this._cancel$1=a}};Object.defineProperty(lt.Annotations.Automation.AnnAutomationEventArgs.prototype,
"object",{get:lt.Annotations.Automation.AnnAutomationEventArgs.prototype.get_object,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAutomationEventArgs.prototype,"cancel",{get:lt.Annotations.Automation.AnnAutomationEventArgs.prototype.get_cancel,set:lt.Annotations.Automation.AnnAutomationEventArgs.prototype.set_cancel,enumerable:!0,configurable:!0});lt.Annotations.Automation.AnnCursorEventArgs=function(a,b,c,d,e,f,g){lt.Annotations.Automation.AnnCursorEventArgs.initializeBase(this);
this._id$1=a;this._designerType$1=b;this._thumbIndex$1=c;this._isRotateCenter$1=d;this._isRotateGripper$1=e;this._pointerEvent$1=null!=f?f.clone():null;this._dragDropEvent$1=g};lt.Annotations.Automation.AnnCursorEventArgs.prototype={_id$1:0,get_id:function(){return this._id$1},_designerType$1:0,get_designerType:function(){return this._designerType$1},_thumbIndex$1:0,get_thumbIndex:function(){return this._thumbIndex$1},_isRotateCenter$1:!1,get_isRotateCenter:function(){return this._isRotateCenter$1},
_isRotateGripper$1:!1,get_isRotateGripper:function(){return this._isRotateGripper$1},_pointerEvent$1:null,get_pointerEvent:function(){return this._pointerEvent$1},_dragDropEvent$1:null,get_dragDropEvent:function(){return this._dragDropEvent$1}};Object.defineProperty(lt.Annotations.Automation.AnnCursorEventArgs.prototype,"id",{get:lt.Annotations.Automation.AnnCursorEventArgs.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnCursorEventArgs.prototype,
"designerType",{get:lt.Annotations.Automation.AnnCursorEventArgs.prototype.get_designerType,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnCursorEventArgs.prototype,"thumbIndex",{get:lt.Annotations.Automation.AnnCursorEventArgs.prototype.get_thumbIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnCursorEventArgs.prototype,"isRotateCenter",{get:lt.Annotations.Automation.AnnCursorEventArgs.prototype.get_isRotateCenter,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnCursorEventArgs.prototype,"isRotateGripper",{get:lt.Annotations.Automation.AnnCursorEventArgs.prototype.get_isRotateGripper,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnCursorEventArgs.prototype,"pointerEvent",{get:lt.Annotations.Automation.AnnCursorEventArgs.prototype.get_pointerEvent,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnCursorEventArgs.prototype,
"dragDropEvent",{get:lt.Annotations.Automation.AnnCursorEventArgs.prototype.get_dragDropEvent,enumerable:!0,configurable:!0});lt.Annotations.Automation.AnnDragDropEventArgs=function(){lt.Annotations.Automation.AnnDragDropEventArgs.initializeBase(this)};lt.Annotations.Automation.AnnDragDropEventArgs.create=function(a,b,c,d,e){var f=new lt.Annotations.Automation.AnnDragDropEventArgs;f._sourceContainer$1=b;f._targetContainer$1=c;f._annObject$1=a;f._operation$1=d;f._operationContainer$1=e;f._allowed$1=
!0;return f};lt.Annotations.Automation.AnnDragDropEventArgs.prototype={_sourceContainer$1:null,get_sourceContainer:function(){return this._sourceContainer$1},_setSourceContainer:function(a){this._sourceContainer$1=a},_targetContainer$1:null,get_targetContainer:function(){return this._targetContainer$1},_setTargetContainer:function(a){this._targetContainer$1=a},_annObject$1:null,get_annObject:function(){return this._annObject$1},_operation$1:0,get_operation:function(){return this._operation$1},_operationContainer$1:null,
get_operationContainer:function(){return this._operationContainer$1},_setOperationContainer:function(a){this._operationContainer$1=a},_setOperation:function(a){this._operation$1=a},_setCanDrop:function(a){this._canDrop$1=a},_allowed$1:!1,get_allowed:function(){return this._allowed$1},set_allowed:function(a){return this._allowed$1=a},_canDrop$1:!0,get_canDrop:function(){return this._canDrop$1}};Object.defineProperty(lt.Annotations.Automation.AnnDragDropEventArgs.prototype,"sourceContainer",{get:lt.Annotations.Automation.AnnDragDropEventArgs.prototype.get_sourceContainer,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnDragDropEventArgs.prototype,"targetContainer",{get:lt.Annotations.Automation.AnnDragDropEventArgs.prototype.get_targetContainer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnDragDropEventArgs.prototype,"annObject",{get:lt.Annotations.Automation.AnnDragDropEventArgs.prototype.get_annObject,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnDragDropEventArgs.prototype,
"operation",{get:lt.Annotations.Automation.AnnDragDropEventArgs.prototype.get_operation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnDragDropEventArgs.prototype,"operationContainer",{get:lt.Annotations.Automation.AnnDragDropEventArgs.prototype.get_operationContainer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnDragDropEventArgs.prototype,"allowed",{get:lt.Annotations.Automation.AnnDragDropEventArgs.prototype.get_allowed,set:lt.Annotations.Automation.AnnDragDropEventArgs.prototype.set_allowed,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnDragDropEventArgs.prototype,"canDrop",{get:lt.Annotations.Automation.AnnDragDropEventArgs.prototype.get_canDrop,enumerable:!0,configurable:!0});lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs=function(a,b,c){lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs.initializeBase(this);this._objects$1=a;this._changeType$1=b;this._designer$1=c;this._cancel$1=!1};lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs.prototype=
{_objects$1:null,_changeType$1:0,_designer$1:null,_cancel$1:!1,get_objects:function(){return this._objects$1},get_changeType:function(){return this._changeType$1},get_designer:function(){return this._designer$1},get_cancel:function(){return this._cancel$1},set_cancel:function(a){return this._cancel$1=a}};Object.defineProperty(lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs.prototype,"objects",{get:lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs.prototype.get_objects,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs.prototype,"changeType",{get:lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs.prototype.get_changeType,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs.prototype,"designer",{get:lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs.prototype.get_designer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs.prototype,
"cancel",{get:lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs.prototype.get_cancel,set:lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs.prototype.set_cancel,enumerable:!0,configurable:!0});lt.Annotations.Automation.AnnAfterObjectChangedEventArgs=function(a,b,c){lt.Annotations.Automation.AnnAfterObjectChangedEventArgs.initializeBase(this);this._objects$1=a;this._changeType$1=b;this._designer$1=c};lt.Annotations.Automation.AnnAfterObjectChangedEventArgs.prototype={_objects$1:null,
_changeType$1:0,_designer$1:null,_cancel$1:!1,get_objects:function(){return this._objects$1},get_changeType:function(){return this._changeType$1},get_designer:function(){return this._designer$1},get_cancel:function(){return this._cancel$1},set_cancel:function(a){return this._cancel$1=a}};Object.defineProperty(lt.Annotations.Automation.AnnAfterObjectChangedEventArgs.prototype,"objects",{get:lt.Annotations.Automation.AnnAfterObjectChangedEventArgs.prototype.get_objects,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Annotations.Automation.AnnAfterObjectChangedEventArgs.prototype,"changeType",{get:lt.Annotations.Automation.AnnAfterObjectChangedEventArgs.prototype.get_changeType,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAfterObjectChangedEventArgs.prototype,"designer",{get:lt.Annotations.Automation.AnnAfterObjectChangedEventArgs.prototype.get_designer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnAfterObjectChangedEventArgs.prototype,
"cancel",{get:lt.Annotations.Automation.AnnAfterObjectChangedEventArgs.prototype.get_cancel,set:lt.Annotations.Automation.AnnAfterObjectChangedEventArgs.prototype.set_cancel,enumerable:!0,configurable:!0});lt.Annotations.Automation.AnnObjectModifiedEventArgs=function(a,b){lt.Annotations.Automation.AnnObjectModifiedEventArgs.initializeBase(this);this._objects$1=a;this._changeType$1=b};lt.Annotations.Automation.AnnObjectModifiedEventArgs.prototype={_objects$1:null,_changeType$1:0,get_objects:function(){return this._objects$1},
get_changeType:function(){return this._changeType$1}};Object.defineProperty(lt.Annotations.Automation.AnnObjectModifiedEventArgs.prototype,"objects",{get:lt.Annotations.Automation.AnnObjectModifiedEventArgs.prototype.get_objects,enumerable:!0,configurable:!0});Object.defineProperty(lt.Annotations.Automation.AnnObjectModifiedEventArgs.prototype,"changeType",{get:lt.Annotations.Automation.AnnObjectModifiedEventArgs.prototype.get_changeType,enumerable:!0,configurable:!0});lt.Annotations.Automation._lT_VersionNumber.registerClass("lt.Annotations.Automation._lT_VersionNumber");
lt.Annotations.Automation._leadRectDExtensions.registerClass("lt.Annotations.Automation._leadRectDExtensions");lt.Annotations.Automation._leadPointDExtensions.registerClass("lt.Annotations.Automation._leadPointDExtensions");lt.Annotations.Automation._leadLengthDExtensions.registerClass("lt.Annotations.Automation._leadLengthDExtensions");lt.Annotations.Automation._leadSizeDExtensions.registerClass("lt.Annotations.Automation._leadSizeDExtensions");lt.Annotations.Automation.AnnAutomationUndoRedoObject.registerClass("lt.Annotations.Automation.AnnAutomationUndoRedoObject");
lt.Annotations.Automation.AnnAutomation.registerClass("lt.Annotations.Automation.AnnAutomation");lt.Annotations.Automation.AnnPlatformCallbacks.registerClass("lt.Annotations.Automation.AnnPlatformCallbacks");lt.Annotations.Automation.AnnAutomationManager.registerClass("lt.Annotations.Automation.AnnAutomationManager");lt.Annotations.Automation.AnnAutomationObject.registerClass("lt.Annotations.Automation.AnnAutomationObject");lt.Annotations.Automation._stackEnumerator.registerClass("lt.Annotations.Automation._stackEnumerator",
null,ss.IEnumerator);lt.Annotations.Automation._limitedStack.registerClass("lt.Annotations.Automation._limitedStack");lt.Annotations.Automation._node.registerClass("lt.Annotations.Automation._node",null,ss.IDisposable);lt.Annotations.Automation._undoRedo.registerClass("lt.Annotations.Automation._undoRedo");lt.Annotations.Automation.AnnAutomationObjects.registerClass("lt.Annotations.Automation.AnnAutomationObjects");lt.Annotations.Automation.AnnAutomations.registerClass("lt.Annotations.Automation.AnnAutomations");
lt.Annotations.Automation.AnnAutomationEventArgs.registerClass("lt.Annotations.Automation.AnnAutomationEventArgs",lt.LeadEventArgs);lt.Annotations.Automation.AnnCursorEventArgs.registerClass("lt.Annotations.Automation.AnnCursorEventArgs",lt.LeadEventArgs);lt.Annotations.Automation.AnnDragDropEventArgs.registerClass("lt.Annotations.Automation.AnnDragDropEventArgs",lt.LeadEventArgs);lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs.registerClass("lt.Annotations.Automation.AnnBeforeObjectChangedEventArgs",
lt.LeadEventArgs);lt.Annotations.Automation.AnnAfterObjectChangedEventArgs.registerClass("lt.Annotations.Automation.AnnAfterObjectChangedEventArgs",lt.LeadEventArgs);lt.Annotations.Automation.AnnObjectModifiedEventArgs.registerClass("lt.Annotations.Automation.AnnObjectModifiedEventArgs",lt.LeadEventArgs);lt.Annotations.Automation._lT_VersionNumber.l_VER_PRODUCT="LEADTOOLS\u00ae for JavaScript";lt.Annotations.Automation._lT_VersionNumber.l_VER_COMPANYNAME_STR="LEAD Technologies, Inc.";lt.Annotations.Automation._lT_VersionNumber.l_VER_LEGALTRADEMARKS_STR=
"LEADTOOLS\u00ae is a trademark of LEAD Technologies, Inc.";lt.Annotations.Automation._lT_VersionNumber.l_VER_LEGALCOPYRIGHT_STR="\u00a9 1991-2017 LEAD Technologies, Inc.";lt.Annotations.Automation._lT_VersionNumber.l_VER_DLLEXT=".dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_EXEEXT=".exe";lt.Annotations.Automation._lT_VersionNumber.l_VER_PLATFORM="";lt.Annotations.Automation._lT_VersionNumber.l_VER_PLATFORM_FOR="";lt.Annotations.Automation._lT_VersionNumber.l_VER_PRODUCTNAME_STR="LEADTOOLS\u00ae for JavaScript";
lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_XXX="Leadtools.Xxx.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_XXX="LEADTOOLS Xxx";lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_KERNEL="lt.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_KERNEL="Leadtools";lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS="lt.Controls.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS=
"Controls";lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS_UI="lt.Documents.UI.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS_UI="Documents User Interface";lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS_MEDICAL="lt.Controls.Medical.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS_MEDICAL="Medical Controls";lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS=
"lt.Documents.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS="Documents";lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_CORE="lt.Annotations.Core.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_CORE="Annotations Core";lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_AUTOMATION="lt.Annotations.Automation.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_AUTOMATION=
"Annotations Automation";lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DESIGNERS="lt.Annotations.Designers.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DESIGNERS="Annotations Designers";lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_RENDERING="lt.Annotations.Rendering.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_RENDERING="Annotations Rendering";
lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CCOW="Leadtools.Ccow.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CCOW="Leadtools CCOW Library";lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DOCUMENTS="Leadtools.Annotations.Documents.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DOCUMENTS="Annotations Documents";lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_LEGACY=
"Leadtools.Annotations.Legacy.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_LEGACY="Annotations Legacy";lt.Annotations.Automation._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_JAVASCRIPT="Leadtools.Annotations.JavaScript.dll";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_JAVASCRIPT="JavaScripot Annotations";lt.Annotations.Automation._lT_VersionNumber.l_VER_PRODUCTVERSION_DOT_STR="19.0.0.0";lt.Annotations.Automation._lT_VersionNumber.l_VER_FILEVERSION_DOT_STR=
"19.0.0.15";lt.Annotations.Automation.AnnAutomationManager._insideCurrentObjectChanged=!1;lt.Annotations.Automation.AnnAutomationManager._platformCallbacks=new lt.Annotations.Automation.AnnPlatformCallbacks})();

/**************************************************
LEADTOOLS (C) 1991-2017 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Documents.js
// Version:19.0.0.12
var __extends=this&&this.__extends||function(d,e){function h(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);d.prototype=null===e?Object.create(e):(h.prototype=e.prototype,new h)},lt;
(function(d){(function(e){(function(h){(function(a){a[a.unknown=0]="unknown";a[a.ean13=1]="ean13";a[a.ean8=2]="ean8";a[a.upca=3]="upca";a[a.upce=4]="upce";a[a.code3Of9=5]="code3Of9";a[a.code128=6]="code128";a[a.codeInterleaved2Of5=7]="codeInterleaved2Of5";a[a.codabar=8]="codabar";a[a.uccean128=9]="uccean128";a[a.code93=10]="code93";a[a.eanext5=11]="eanext5";a[a.eanext2=12]="eanext2";a[a.msi=13]="msi";a[a.code11=14]="code11";a[a.codeStandard2Of5=15]="codeStandard2Of5";a[a.gs1Databar=16]="gs1Databar";
a[a.gs1DatabarLimited=17]="gs1DatabarLimited";a[a.gs1DatabarExpanded=18]="gs1DatabarExpanded";a[a.patchCode=19]="patchCode";a[a.postNet=20]="postNet";a[a.planet=21]="planet";a[a.australianPost4State=22]="australianPost4State";a[a.royalMail4State=23]="royalMail4State";a[a.usps4State=24]="usps4State";a[a.gs1DatabarStacked=25]="gs1DatabarStacked";a[a.gs1DatabarExpandedStacked=26]="gs1DatabarExpandedStacked";a[a.pdf417=27]="pdf417";a[a.microPDF417=28]="microPDF417";a[a.datamatrix=29]="datamatrix";a[a.qr=
30]="qr";a[a.aztec=31]="aztec";a[a.maxi=32]="maxi";a[a.microQR=33]="microQR";a[a.pharmaCode=34]="pharmaCode"})(h.BarcodeSymbology||(h.BarcodeSymbology={}));var c=h.BarcodeSymbology,b=function(){function a(){this._symbology=c.unknown;this._bounds=d.LeadRectD.empty;this._rotationAngle=0;this._data=[];this._value=""}a.fromJson=function(g){if(null==g)return null;var b=new a;return!b.copyFromJson(g)?null:b};a.prototype.copyFromJson=function(a){if(null==a||!e.Internal.PropertyBag.copyMatchingProperties(a,
this,["data"]))return!1;a=a.data;null!=a&&0<a.length&&(this._data=d.LTHelper.base64Decode(a));return!0};Object.defineProperty(a.prototype,"symbology",{get:function(){return this._symbology},set:function(a){this._symbology=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds},set:function(a){this._bounds=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"rotationAngle",{get:function(){return this._rotationAngle},set:function(a){this._rotationAngle=
a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"data",{get:function(){return this._data},set:function(a){this._data=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(a){this._value=a},enumerable:!0,configurable:!0});return a}();h.BarcodeData=b})(e.Barcode||(e.Barcode={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(a){a[a.auto=0]="auto";a[a.disabled=1]="disabled";a[a.always=2]="always"})(d.DocumentConverterSvgImagesRecognitionMode||(d.DocumentConverterSvgImagesRecognitionMode={}));var h=d.DocumentConverterSvgImagesRecognitionMode;(function(a){a[a.none=0]="none";a[a.skip=1]="skip";a[a.skipIgnoreAnnotations=2]="skipIgnoreAnnotations"})(d.DocumentConverterEmptyPageMode||(d.DocumentConverterEmptyPageMode={}));var c=d.DocumentConverterEmptyPageMode;(function(a){a[a.abort=0]="abort";
a[a.resume=1]="resume"})(d.DocumentConverterJobErrorMode||(d.DocumentConverterJobErrorMode={}));var b=d.DocumentConverterJobErrorMode;(function(a){a[a.none=0]="none";a[a.external=1]="external";a[a.overlay=2]="overlay";a[a.embed=3]="embed"})(d.DocumentConverterAnnotationsMode||(d.DocumentConverterAnnotationsMode={}));var a=d.DocumentConverterAnnotationsMode,g=function(){return function(){this.jobErrorMode=b.resume;this.pageNumberingTemplate="##name##_Page(##page##).##extension##";this.enableSvgConversion=
!0;this.svgImagesRecognitionMode=h.auto;this.emptyPageMode=c.none;this.preprocessorInvert=this.preprocessorOrient=this.preprocessorDeskew=!1;this.inputDocumentLastPageNumber=this.inputDocumentFirstPageNumber=0;this.documentFormat=d.Writers.DocumentFormat.user;this.rasterImageFormat=d.RasterImageFormat.unknown;this.rasterImageBitsPerPixel=0;this.jobName=this.documentOptions=null;this.annotationsMode=a.none;this.annotations=this.documentName=null}}();d.DocumentConverterJobData=g})(d.Documents||(d.Documents=
{}))})(lt||(lt={}));(function(d){(function(d){var h=function(){function c(b){this._document=b}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});return c}();d.DocumentBarcodes=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(c){function b(a){c.call(this);this._document=null;this._internalAddCount=0;a&&(this._document=a)}__extends(b,c);b.prototype.dispose=function(){this._document=null};Object.defineProperty(b.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});b.prototype.beginAdd=function(){this._internalAddCount++};b.prototype.endAdd=function(){this._internalAddCount--};b.prototype.insertItem=function(a,g){if(0===this._internalAddCount)throw"This operation is not supported";
if(!g)throw"Item cannot be null";c.prototype.insertItem.call(this,a,g);this._document.documentsAddedRemoved(g,!0)};b.prototype.removeItem=function(a){if(0===this._internalAddCount)throw"This operation is not supported";var g=this.item(a);c.prototype.removeItem.call(this,a);this._document.documentsAddedRemoved(g,!1)};b.prototype.moveItem=function(){throw"This operation is not supported";};b.prototype.setItem=function(){throw"This operation is not supported";};b.prototype.clearItems=function(){throw"This operation is not supported";
};b.prototype.tryAdd=function(a){this.beginAdd();try{for(var g=0;g<this.count;g++)if(this.item(g)===a)return;this.add(a);e.DocumentFactory.incrementDocumentRef(a)}finally{this.endAdd()}};b.prototype.tryRemove=function(a){for(var g=0,b=this._document.pages.count,c=0;c<b&&2>g;c++)this._document.pages.item(c).document===a&&g++;if(1===g){this.beginAdd();try{this.remove(a),0===e.DocumentFactory.decrementDocumentRef(a)&&this.document.autoDisposeDocuments&&a.dispose()}finally{this.endAdd()}}};return b}(d.LeadCollection);
e.DocumentDocuments=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d=d.RasterImageFormat||(d.RasterImageFormat={});d[d.unknown=0]="unknown";d[d.tifJpeg422=24]="tifJpeg422";d[d.ccittGroup4=29]="ccittGroup4";d[d.rasPdfJpeg=150]="rasPdfJpeg";d[d.rasPdfG4=149]="rasPdfG4"})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(){function b(a){this._format=a}Object.defineProperty(b.prototype,"format",{get:function(){return this._format},enumerable:!0,configurable:!0});return b}();d.DocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.rtf);this.textMode=d.DocumentTextMode.auto}__extends(a,b);return a}(d.DocumentOptions);d.RtfDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){(function(a){a[a.ansi=0]="ansi";a[a.unicode=1]="unicode";a[a.unicodeBigEndian=2]="unicodeBigEndian";a[a.utf8=3]="utf8"})(d.TextDocumentType||(d.TextDocumentType={}));var c=d.TextDocumentType,b=function(a){function g(){a.call(this,d.DocumentFormat.text);this.documentType=c.ansi;this.formatted=this.addPageBreak=this.addPageNumber=!1}__extends(g,a);return g}(d.DocumentOptions);d.TextDocumentOptions=b})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||
(lt={}));(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.svg)}__extends(a,b);return a}(d.DocumentOptions);d.SvgDocumentOptions=c;c=function(b){function a(){b.call(this,d.DocumentFormat.emf)}__extends(a,b);return a}(d.DocumentOptions);d.EmfDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.xls)}__extends(a,b);return a}(d.DocumentOptions);d.XlsDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){(function(a){a[a.pdf=0]="pdf";a[a.pdfA=1]="pdfA";a[a.pdf12=2]="pdf12";a[a.pdf13=3]="pdf13";a[a.pdf15=4]="pdf15";a[a.pdf16=5]="pdf16"})(d.PdfDocumentType||(d.PdfDocumentType={}));var c=d.PdfDocumentType;(function(a){a[a.rc40Bit=0]="rc40Bit";a[a.rc128Bit=1]="rc128Bit"})(d.PdfDocumentEncryptionMode||(d.PdfDocumentEncryptionMode={}));var b=d.PdfDocumentEncryptionMode;(function(a){a[a.pageOnly=0]="pageOnly";a[a.fullScreen=3]="fullScreen";a[a.bookmarksAndPage=1]="bookmarksAndPage";
a[a.thumbnailAndPage=2]="thumbnailAndPage";a[a.layerAndPage=4]="layerAndPage";a[a.attachmentsAndPage=5]="attachmentsAndPage"})(d.PdfDocumentPageModeType||(d.PdfDocumentPageModeType={}));var a=d.PdfDocumentPageModeType;(function(a){a[a.singlePageDisplay=0]="singlePageDisplay";a[a.oneColumnDisplay=1]="oneColumnDisplay";a[a.twoColumnLeftDisplay=2]="twoColumnLeftDisplay";a[a.twoColumnRightDisplay=3]="twoColumnRightDisplay";a[a.twoPageLeft=4]="twoPageLeft";a[a.twoPageRight=5]="twoPageRight"})(d.PdfDocumentPageLayoutType||
(d.PdfDocumentPageLayoutType={}));var g=d.PdfDocumentPageLayoutType;(function(a){a[a.defaultType=0]="defaultType";a[a.fitWidth=1]="fitWidth";a[a.fitHeight=2]="fitHeight";a[a.fitWidthBounds=3]="fitWidthBounds";a[a.fitHeightBounds=4]="fitHeightBounds";a[a.fitBounds=5]="fitBounds"})(d.PdfDocumentPageFitType||(d.PdfDocumentPageFitType={}));var n=d.PdfDocumentPageFitType,i=function(i){function e(){i.call(this,d.DocumentFormat.pdf);this.documentType=c.pdf;this.fontEmbedMode=d.DocumentFontEmbedMode.auto;
this.linearized=this.imageOverText=!1;this.author=this.keywords=this.subject=this.title=null;this.isProtected=!1;this.ownerPassword=this.userPassword=null;this.encryptionMode=b.rc128Bit;this.annotationsEnabled=this.editEnabled=this.copyEnabled=this.highQualityPrintEnabled=this.printEnabled=!0;this.assemblyEnabled=!1;this.oneBitImageCompression=d.OneBitImageCompressionType.jbig2;this.coloredImageCompression=d.ColoredImageCompressionType.flateJpeg;this.qualityFactor=80;this.imageOverTextSize=d.DocumentImageOverTextSize.original;
this.imageOverTextMode=d.DocumentImageOverTextMode.strict;this.initialPageNumber=1;this.pageModeType=a.pageOnly;this.pageLayoutType=g.singlePageDisplay;this.pageFitType=n.defaultType;this.zoomPercent=this.yCoordinate=this.xCoordinate=0;this.displayDocTitle=this.centerWindow=this.fitWindow=this.hideWindowUI=this.hideMenubar=this.hideToolbar=!1}__extends(e,i);return e}(d.DocumentOptions);d.PdfDocumentOptions=i})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.xps)}__extends(a,b);return a}(d.DocumentOptions);d.XpsDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.pub)}__extends(a,b);return a}(d.DocumentOptions);d.PubDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.mob)}__extends(a,b);return a}(d.DocumentOptions);d.MobDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.ltd)}__extends(a,b);return a}(d.DocumentOptions);d.LtdDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.html);this.fontEmbedMode=d.DocumentFontEmbedMode.none;this.useBackgroundColor=!1;this.backgroundColor="white"}__extends(a,b);return a}(d.DocumentOptions);d.HtmlDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.docx);this.textMode=d.DocumentTextMode.auto}__extends(a,b);return a}(d.DocumentOptions);d.DocxDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){b.call(this,d.DocumentFormat.doc);this.textMode=d.DocumentTextMode.auto}__extends(a,b);return a}(d.DocumentOptions);d.DocDocumentOptions=c})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){(function(a){a[a.mm10=0]="mm10";a[a.inch1200=1]="inch1200";a[a.dpi=2]="dpi";a[a.pixel=3]="pixel"})(d.AltoXmlMeasurementUnit||(d.AltoXmlMeasurementUnit={}));var c=d.AltoXmlMeasurementUnit,b=function(a){function g(){a.call(this,d.DocumentFormat.altoXml);this.measurementUnit=c.mm10;this.applicationDescription=this.softwareVersion=this.softwareName=this.softwareCreator=this.processingStepSettings=this.processingStepDescription=this.processingAgency=this.processingDateTime=
this.fileName=null;this.firstPhysicalPageNumber=1;this.formatted=!1;this.indentation="\t"}__extends(g,a);return g}(d.DocumentOptions);d.AltoXmlDocumentOptions=b})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function c(b){this._document=b}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"annotationsUri",{get:function(){return this._document.values.annotationsUri},enumerable:!0,configurable:!0});c.createEmptyContainer=function(b){var a=new d.Annotations.Core.AnnContainer;a.size=b.size.clone();b=b.resolution;a.mapper.mapResolutions(b,
b,b,b);return a};c.prototype.getAnnotations=function(b){var a=$.Deferred();if(this.document.isLocal){for(var g=[],n=this.document.pages.count,i=0;i<n;i++)if(b){var p=this.document.pages.item(i),p=c.createEmptyContainer(p);p.pageNumber=i+1;g.push(p)}else g.push(null);return a.resolve(g).promise()}b={url:[e.DocumentFactory.serviceUri,c._controllerName,"GetAnnotations"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:this._document.documentId,pageNumber:0,createEmpty:b,
userData:this._document.serviceUserData})};if(!e.DocumentFactory.doPrepareAjax(this,c._className,"GetAnnotations",b))return a.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(g){var b=g.annotations,c=null;null!=b&&(c=(new d.Annotations.Core.AnnCodecs).loadAll(b));a.resolve(c,"undefined"===typeof g.userData?null:g.userData)}).fail(function(g,b,c){e.DocumentFactory.log(c);a.reject(g,b,c)});return a.promise()};Object.defineProperty(c.prototype,"modifiedContainers",{get:function(){return this._modifiedContainers},
set:function(b){this._modifiedContainers=b},enumerable:!0,configurable:!0});c.prototype.setAnnotations=function(b){var a=[e.DocumentFactory.serviceUri,c._controllerName,"SetAnnotations"].join("/"),g=null;null!=b&&(g=(new d.Annotations.Core.AnnCodecs).saveAll(b,d.Annotations.Core.AnnFormat.annotations));var b={documentId:this._document.documentId,pageNumber:0,annotations:g,userData:this._document.serviceUserData},n=$.Deferred(),a={url:a,type:"POST",contentType:"application/json",data:JSON.stringify(b)};
if(!e.DocumentFactory.doPrepareAjax(this,c._className,"SetAnnotations",a))return n.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){n.resolve("undefined"===typeof a.userData?null:a.userData)}).fail(function(a,g,b){e.DocumentFactory.log(b);n.reject(a,g,b)});return n.promise()};c._className="DocumentAnnotations";c._controllerName="Page";return c}();e.DocumentAnnotations=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){(function(c){c[c.user=-1]="user";c[c.ltd=0]="ltd";c[c.pdf=1]="pdf";c[c.doc=2]="doc";c[c.rtf=3]="rtf";c[c.html=4]="html";c[c.text=5]="text";c[c.emf=6]="emf";c[c.xps=7]="xps";c[c.docx=8]="docx";c[c.xls=9]="xls";c[c.pub=10]="pub";c[c.mob=11]="mob";c[c.svg=12]="svg";c[c.altoXml=13]="altoXml"})(d.DocumentFormat||(d.DocumentFormat={}));(function(c){c[c.none=0]="none";c[c.auto=1]="auto";c[c.force=2]="force";c[c.all=3]="all"})(d.DocumentFontEmbedMode||(d.DocumentFontEmbedMode=
{}));(function(c){c[c.flate=0]="flate";c[c.faxG31D=1]="faxG31D";c[c.faxG32D=2]="faxG32D";c[c.faxG4=3]="faxG4";c[c.lzw=4]="lzw";c[c.jbig2=5]="jbig2"})(d.OneBitImageCompressionType||(d.OneBitImageCompressionType={}));(function(c){c[c.flateJpeg=0]="flateJpeg";c[c.lzwJpeg=1]="lzwJpeg";c[c.flate=2]="flate";c[c.lzw=3]="lzw";c[c.jpeg=4]="jpeg";c[c.flateJpx=5]="flateJpx";c[c.lzwJpx=6]="lzwJpx";c[c.jpx=7]="jpx"})(d.ColoredImageCompressionType||(d.ColoredImageCompressionType={}));(function(c){c[c.original=
0]="original";c[c.half=1]="half";c[c.quarter=2]="quarter"})(d.DocumentImageOverTextSize||(d.DocumentImageOverTextSize={}));(function(c){c[c.none=0]="none";c[c.strict=1]="strict";c[c.relaxed=2]="relaxed"})(d.DocumentImageOverTextMode||(d.DocumentImageOverTextMode={}));(function(c){c[c.auto=0]="auto";c[c.nonFramed=1]="nonFramed";c[c.framed=2]="framed"})(d.DocumentTextMode||(d.DocumentTextMode={}))})(d.Writers||(d.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(c){function b(a){c.call(this);this._document=null;this._internalAddCount=0;a&&(this._document=a)}__extends(b,c);b.prototype.dispose=function(){for(var a=0;a<this.count;a++){var g=this.item(a);g&&g.document===this._document&&g.dispose()}this._document=null};Object.defineProperty(b.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalFirstPageNumber",{get:function(){return this._document.values.originalFirstPageNumber},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalLastPageNumber",{get:function(){return this._document.values.originalLastPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalPageCount",{get:function(){return this._document.values.originalPageCount},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultPageSize",{get:function(){return this._document.values.defaultPageSize},set:function(a){if(a.isEmpty)throw"Size must not be empty";
this._document.values.defaultPageSize=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultResolution",{get:function(){return this._document.values.defaultResolution},set:function(a){if(0>a)throw"Value must be greater than or equal to 0";this._document.values.defaultResolution=a},enumerable:!0,configurable:!0});b.prototype.getTargetPageNumber=function(a,g){if(0>=g||!a||a===this._document)return g;if(a.pages.count<g)return 0;var b=this.indexOf(a.pages.item(g-1));return-1==
b?0:b+1};b.prototype.beginAdd=function(){this._internalAddCount++};b.prototype.endAdd=function(){this._internalAddCount--};b.prototype.createPage=function(a,g){return this._createPage(a,g,-1)};b.prototype._createPage=function(a,g,b){return this._document.createPage(a,g,b)};b.prototype.insertItem=function(a,g){if(null==g)throw"Item cannot be null";0===this._internalAddCount&&this._document.canModify();g.document?this._document.documents.tryAdd(g.document):g.setDocument(this.document,a+1);g.size.isEmpty&&
0===this._internalAddCount&&g.setSize(this.defaultPageSize);c.prototype.insertItem.call(this,a,g);0==this._internalAddCount&&(this._document.cacheStatus=e.DocumentCacheStatus.notSynced)};b.prototype.removeItem=function(a){0===this._internalAddCount&&this._document.canModify();var g=this.item(a);g.document!==this._document?this._document.documents.tryRemove(g.document):g.setDocument(null,0);c.prototype.removeItem.call(this,a);0==this._internalAddCount&&(this._document.cacheStatus=e.DocumentCacheStatus.notSynced)};
b.prototype.setItem=function(a,g){if(null==g)throw"Item cannot be null";0==this._internalAddCount&&this._document.canModify();this[a]!=g&&(this.removeItem(a),this.insertItem(a,g))};b.prototype.moveItem=function(a,g){0==this._internalAddCount&&this._document.canModify();c.prototype.moveItem.call(this,a,g)};b.prototype.clearItems=function(){for(0==this._internalAddCount&&this._document.canModify();0<this.count;)this.removeItem(0)};return b}(d.LeadCollection);e.DocumentPages=h})(d.Documents||(d.Documents=
{}))})(lt||(lt={}));
(function(d){(function(e){(function(e){var c=function(){function b(){this._size=d.LeadSizeD.empty;this._pageNumber=this._resolution=0;this._originalPageNumber=-1;this._hasEmbeddedAnnotations=this._isAnnotationsModified=this._isDeleted=!1;this._documentId=null}b.fromJson=function(a){if(!a)return null;var g=new b;return!g.copyFromJson(a)?null:g};b.prototype.copyFromJson=function(a){return!a||!e.PropertyBag.copyMatchingProperties(a,this,["pageNumber"])?!1:!0};Object.defineProperty(b.prototype,"size",
{get:function(){return this._size.clone()},set:function(a){this._size=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"resolution",{get:function(){return this._resolution},set:function(a){this._resolution=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"pageNumber",{get:function(){return this._pageNumber},set:function(a){this._pageNumber=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalPageNumber",{get:function(){return this._originalPageNumber},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isDeleted",{get:function(){return this._isDeleted},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isAnnotationsModified",{get:function(){return this._isAnnotationsModified},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasEmbeddedAnnotations",{get:function(){return this._hasEmbeddedAnnotations},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"documentId",{get:function(){return this._documentId},
set:function(a){this._documentId=a},enumerable:!0,configurable:!0});return b}();e.DocumentPageValues=c})(e.Internal||(e.Internal={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){var h=function(){function c(){this._bookmarks=[];this._pageLinks=[]}c.prototype.DocumentParseStructureData=function(){};Object.defineProperty(c.prototype,"bookmarks",{get:function(){return this._bookmarks},set:function(b){this._bookmarks=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"pageLinks",{get:function(){return this._pageLinks},set:function(b){this._pageLinks=b},enumerable:!0,configurable:!0});return c}();d.DocumentParseStructureData=h;h=function(){function c(b){this._document=
null;this._bookmarks=[];if(null==b)throw Error("Document cannot be null");this._document=b}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});c.prototype.copyFromJson=function(b,a){var g=this;if(!b&&!a)return!1;b&&0<b.length&&(this._bookmarks=[],b.forEach(function(a){var b=new d.DocumentBookmark;b.copyFromJson(a);g._bookmarks.push(b)}));a&&0<a.length&&a.forEach(function(a,b){var c=
g._document.pages[b];if(!c||!c.copyLinksFromJson(a))return false});return this._document.values.isStructureParsed=!0};Object.defineProperty(c.prototype,"bookmarks",{get:function(){return this._bookmarks},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"parseBookmarks",{get:function(){return this._document.values.parseBookmarks},set:function(b){this._document.values.parseBookmarks=b;this._document.forEachDocument(function(a){a.structure&&(a.structure.parseBookmarks=b)})},enumerable:!0,
configurable:!0});Object.defineProperty(c.prototype,"parsePageLinks",{get:function(){return this._document.values.parsePageLinks},set:function(b){this._document.values.parsePageLinks=b;this._document.forEachDocument(function(a){a.structure&&(a.structure.parsePageLinks=b)})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isParsed",{get:function(){var b=this._document.values.isStructureParsed;if(!b&&this._document.hasDocuments)for(var a=0;a<this._document.documents.count&&!b;a++){var g=
this._document.documents.item(a);g.isStructureSupported&&g.structure.isParsed&&(b=!0)}return b},enumerable:!0,configurable:!0});c.prototype.parse=function(){var b=this,a=$.Deferred();if(this.isParsed)return a.resolve(this._document),a.promise();var g=this._document,g={url:[d.DocumentFactory.serviceUri,c._controllerName,"ParseStructure"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:g.documentId,parseBookmarks:this.parseBookmarks,parsePageLinks:this.parsePageLinks,
userData:this._document.serviceUserData})};if(!d.DocumentFactory.doPrepareAjax(this,c._className,"Parse",g))return a.reject(null,"Canceled","Canceled").promise();$.ajax(g).done(function(g){if(!g.hasOwnProperty("bookmarks")||!g.hasOwnProperty("pageLinks"))return a.reject(null,null,"Invalid object"),a.promise();b.copyFromJson(g.bookmarks,g.pageLinks)?a.resolve(b._document,"undefined"===typeof g.userData?null:g.userData):a.reject(null,null,"Invalid object")}).fail(function(g,b,c){d.DocumentFactory.log(c);
a.reject(g,b,c)});return a.promise()};c._className="DocumentStructure";c._controllerName="Structure";return c}();d.DocumentStructure=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){(function(c){c[c.auto=0]="auto";c[c.svgOnly=1]="svgOnly";c[c.ocrOnly=2]="ocrOnly"})(d.DocumentTextExtractionMode||(d.DocumentTextExtractionMode={}));var h=function(){function c(b){this._document=b}Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});c.fromJson=function(b,a){if(null==b)return null;var g=new c(a);return!g.copyFromJson(b)?null:g};c.prototype.copyFromJson=function(b){return null==b||!d.Internal.PropertyBag.copyMatchingProperties(b,
this,["document","linkPatterns","defLinkPatterns"])?!1:!0};Object.defineProperty(c.prototype,"textExtractionMode",{get:function(){return this._document.values.textExtractionMode},set:function(b){this._document.values.textExtractionMode=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"autoParseLinks",{get:function(){return this._document.values.autoParseLinks},set:function(b){this._document.values.autoParseLinks=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"linkPatterns",
{get:function(){return c._linkPatterns},enumerable:!0,configurable:!0});c.resetLinkPatterns=function(){c._linkPatterns=[];c._linkPatterns.push(RegExp(c._defaultLinkPatterns[0],c._defaultLinkFlags[0]));c._linkPatterns.push(RegExp(c._defaultLinkPatterns[1],c._defaultLinkFlags[1]))};c._defaultLinkPatterns=["((?:[a-z][\\w-]+:(?:/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|ftp\\d{0,3}[.]|mailto\\d{0,3}[@]|[a-z0-9.\\-]+[.][a-z]{2,4}/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))",
"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"];c._defaultLinkFlags=["gi","g"];c._linkPatterns=[RegExp(c._defaultLinkPatterns[0],c._defaultLinkFlags[0]),RegExp(c._defaultLinkPatterns[1],c._defaultLinkFlags[1])];return c}();d.DocumentText=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){(function(h){var c=function(){function b(){this._annotationsUri=null;this._defaultBitsPerPixel=0;this._defaultPageSize=d.LeadSizeD.empty;this._defaultResolution=300;this._documentType=this._name=this._documentId=null;this._fileLength=this._originalPageCount=this._originalLastPageNumber=this._originalFirstPageNumber=0;this._isStructureSupported=this._isStructureParsed=this._isReadOnly=this._isEncrypted=this._isDownloaded=this._isDecrypted=!1;this._password=this._mimeType=
null;this._maximumImagePixelSize=0;this._thumbnailPixelSize=d.LeadSizeD.create(128,128);this._unembedSvgImages=!1;this._cacheUri=this._uri=null;this._isResolutionsSupported=this._isSvgViewingPreferred=this._isSvgSupported=!1;this._textExtractionMode=e.DocumentTextExtractionMode.auto;this._parsePageLinks=this._parseBookmarks=this._autoParseLinks=!0;this._lastCacheSyncTime=new Date}b.fromJson=function(a){if(null==a)return null;var g=new b;return!g.copyFromJson(a)?null:g};b.prototype.copyFromJson=function(a){return null==
a||!h.PropertyBag.copyMatchingProperties(a,this,null)?!1:!0};Object.defineProperty(b.prototype,"annotationsUri",{get:function(){return this._annotationsUri},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultBitsPerPixel",{get:function(){return this._defaultBitsPerPixel},set:function(a){this._defaultBitsPerPixel=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultPageSize",{get:function(){return this._defaultPageSize},set:function(a){this._defaultPageSize=
a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultResolution",{get:function(){return this._defaultResolution},set:function(a){this._defaultResolution=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"documentId",{get:function(){return this._documentId},set:function(a){this._documentId=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"name",{get:function(){return this._name},set:function(a){this._name=a},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"documentType",{get:function(){return this._documentType},set:function(a){this._documentType=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalFirstPageNumber",{get:function(){return this._originalFirstPageNumber},set:function(a){this._originalFirstPageNumber=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalLastPageNumber",{get:function(){return this._originalLastPageNumber},set:function(a){this._originalLastPageNumber=
a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalPageCount",{get:function(){return this._originalPageCount},set:function(a){this._originalPageCount=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"fileLength",{get:function(){return this._fileLength},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isDecrypted",{get:function(){return this._isDecrypted},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isDownloaded",
{get:function(){return this._isDownloaded},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isEncrypted",{get:function(){return this._isEncrypted},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isReadOnly",{get:function(){return this._isReadOnly},set:function(a){this._isReadOnly=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isStructureParsed",{get:function(){return this._isStructureParsed},set:function(a){this._isStructureParsed=a},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"isStructureSupported",{get:function(){return this._isStructureSupported},set:function(a){this._isStructureSupported=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"mimeType",{get:function(){return this._mimeType},set:function(a){this._mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"password",{get:function(){return this._password},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"maximumImagePixelSize",{get:function(){return this._maximumImagePixelSize},set:function(a){this._maximumImagePixelSize=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"thumbnailPixelSize",{get:function(){return this._thumbnailPixelSize},set:function(a){this._thumbnailPixelSize=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"unembedSvgImages",{get:function(){return this._unembedSvgImages},set:function(a){this._unembedSvgImages=a},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cacheUri",{get:function(){return this._cacheUri},set:function(a){this._cacheUri=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSvgSupported",{get:function(){return this._isSvgSupported},set:function(a){this._isSvgSupported=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSvgViewingPreferred",{get:function(){return this._isSvgViewingPreferred},
set:function(a){this._isSvgViewingPreferred=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isResolutionsSupported",{get:function(){return this._isResolutionsSupported},set:function(a){this._isResolutionsSupported=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"textExtractionMode",{get:function(){return this._textExtractionMode},set:function(a){this._textExtractionMode=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"autoParseLinks",
{get:function(){return this._autoParseLinks},set:function(a){this._autoParseLinks=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"parseBookmarks",{get:function(){return this._parseBookmarks},set:function(a){this._parseBookmarks=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"parsePageLinks",{get:function(){return this._parsePageLinks},set:function(a){this._parsePageLinks=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"lastCacheSyncTime",
{get:function(){return this._lastCacheSyncTime},set:function(a){this._lastCacheSyncTime=a},enumerable:!0,configurable:!0});return b}();h.DocumentValues=c})(e.Internal||(e.Internal={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function c(b){this._document=b}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isSvgSupported",{get:function(){var b=this._document.values.isSvgSupported;if(!b&&this._document.hasDocuments)for(var a=0;a<this._document.documents.count&&!b;a++)b=this._document.documents.item(a).images.isSvgSupported;return b},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isSvgViewingPreferred",{get:function(){var b=this._document.values.isSvgViewingPreferred;if(!b&&this._document.hasDocuments)for(var a=0;a<this._document.documents.count&&!b;a++)b=this._document.documents.item(a).images.isSvgViewingPreferred;return b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isResolutionsSupported",{get:function(){var b=this._document.values.isResolutionsSupported;if(!b&&this._document.hasDocuments)for(var a=
0;a<this._document.documents.count&&!b;a++)b=this._document.documents.item(a).images.isResolutionsSupported;return b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"defaultBitsPerPixel",{get:function(){return this._document.defaultBitsPerPixel},set:function(b){switch(b){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 12:case 16:case 24:case 32:case 48:case 64:break;default:throw Error("Invalid bits per pixel value");}this._document.defaultBitsPerPixel=b;this._document.forEachDocument(function(a){a.images.defaultBitsPerPixel=
b})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"maximumImagePixelSize",{get:function(){return this._document.values.maximumImagePixelSize},set:function(b){if(0>b)throw Error("Must have a value equal to or greater than 0");this._document.values.maximumImagePixelSize=b;this._document.forEachDocument(function(a){a.images.maximumImagePixelSize=b})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"thumbnailPixelSize",{get:function(){return this._document.values.thumbnailPixelSize},
set:function(b){if(b.isEmpty||0>b.width||0>b.height)throw Error("Must have width and height values greater than 0");this._document.values.thumbnailPixelSize=b;this._document.forEachDocument(function(a){a.images.thumbnailPixelSize=b})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"unembedSvgImages",{get:function(){return this._document.values.unembedSvgImages},set:function(b){this._document.values.unembedSvgImages=b;this._document.forEachDocument(function(a){a.images.unembedSvgImages=
b})},enumerable:!0,configurable:!0});Object.defineProperty(c,"elementAjaxMethod",{get:function(){return c._elementAjaxMethod},set:function(b){c._elementAjaxMethod=b.toUpperCase()},enumerable:!0,configurable:!0});Object.defineProperty(c,"elementUrlMode",{get:function(){return c._elementUrlMode},set:function(b){c._elementUrlMode=b},enumerable:!0,configurable:!0});c.getImageScale=function(b,a){if(0==a||b.isEmpty||0==b.width||0==b.height)return 1;var g=1;if(b.width>a||b.height>a)g=b.width>b.height?b.width/
a:b.height/a;return g};c.scaleImageSize=function(b,a){return 1==a?b.clone():d.LeadSizeD.create(b.width*a+0.5|0,b.height*a+0.5|0)};c.prototype.getThumbnailsGridUrlParams=function(b,a,g){var c=this._document.images.thumbnailPixelSize;return{documentId:this._document.documentId,firstPageNumber:b,lastPageNumber:a,maximumGridWidth:g,width:c.width,height:c.height,userData:this._document.serviceUserData}};c.prototype.getThumbnailsGrid=function(b,a,g){return this.getThumbnailsGridUrl(b,a,g)};c.prototype.getThumbnailsGridUrl=
function(b,a,g){return e.Internal.ImageRequestHelper.createFullUrl(e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getThumbnailsGridActionName),this.getThumbnailsGridUrlParams(b,a,g))};c.prototype.getThumbnailsGridElement=function(b,a,g,d){var i=$.Deferred(),p=e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getThumbnailsGridActionName),b=this.getThumbnailsGridUrlParams(b,a,g);return e.Internal.ImageRequestHelper.doGenericElementLoad(i,d,p,b,c._className,c._getThumbnailsGridMethodName)};
c._className="DocumentImages";c._controllerName="Images";c._elementAjaxMethod="GET";c._elementUrlMode=d.ImageLoaderUrlMode.imageUrl;c._getThumbnailsGridActionName="GetThumbnailsGrid";c._getThumbnailsGridMethodName="GetThumbnailsGrid";return c}();e.DocumentImages=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function c(){this._pageFitType=e.DocumentPageFitType.none;this._pageNumber=0;this._position=d.LeadPointD.empty;this._zoomPercent=0}c.fromJson=function(b){if(null==b)return null;var a=new e.DocumentLink;return!a.copyFromJson(b)?null:a};c.prototype.copyFromJson=function(b){return null==b||!e.Internal.PropertyBag.copyMatchingProperties(b,this,null)?!1:!0};Object.defineProperty(c.prototype,"pageFitType",{get:function(){return this._pageFitType},set:function(b){this._pageFitType=
b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"pageNumber",{get:function(){return this._pageNumber},set:function(b){this._pageNumber=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"position",{get:function(){return this._position.clone()},set:function(b){this._position=b.clone()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"zoomPercent",{get:function(){return this._zoomPercent},set:function(b){this._zoomPercent=b},enumerable:!0,configurable:!0});
c.prototype.clone=function(){var b=new c;b.pageFitType=this.pageFitType;b.pageNumber=this.pageNumber;b.position=this.position.clone();b.zoomPercent=this.zoomPercent;return b};return c}();e.DocumentLinkTarget=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){(function(b){b[b.value=0]="value";b[b.targetPage=1]="targetPage"})(e.DocumentLinkType||(e.DocumentLinkType={}));var h=e.DocumentLinkType,c=function(){function b(){this._bounds=d.LeadRectD.empty;this._value="";this._linkType=h.value;this._target=new e.DocumentLinkTarget}b.fromJson=function(a){if(null==a)return null;var g=new b;return!g.copyFromJson(a)?null:g};b.prototype.copyFromJson=function(a){return null==a||!e.Internal.PropertyBag.copyMatchingProperties(a,this,null)?!1:
!0};Object.defineProperty(b.prototype,"bounds",{get:function(){return this._bounds},set:function(a){this._bounds=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"linkType",{get:function(){return this._linkType},set:function(a){this._linkType=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"value",{get:function(){return this._value},set:function(a){this._value=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"target",{get:function(){return this._target},
set:function(a){this._target.copyFromJson(a)},enumerable:!0,configurable:!0});return b}();e.DocumentLink=c})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){(function(c){c[c.none=0]="none";c[c.allowPolylineText=1]="allowPolylineText";c[c.dropImages=2]="dropImages";c[c.dropShapes=4]="dropShapes";c[c.dropText=8]="dropText";c[c.forConversion=16]="forConversion";c[c.ignoreXmlParsingErrors=32]="ignoreXmlParsingErrors";c[c.forceRealText=64]="forceRealText";c[c.forceTextPath=1]="forceTextPath"})(e.DocumentGetSvgOptions||(e.DocumentGetSvgOptions={}));var h=function(){function c(){this._values=new e.Internal.DocumentPageValues;this._document=
null;this._links=[];this.customData={}}c.prototype.dispose=function(){this._document=null};c.prototype.setDocument=function(b,a){this._document=b;this._values.documentId=this._document?this._document.documentId:null;this._values.pageNumber=a};c.fromJson=function(b,a,g){if(null==b)return null;a=new c;return!a.copyFromJson(b,g)?null:a};c.prototype.copyFromJson=function(b,a){if(null==b||!b.hasOwnProperty("values")||!this._values.copyFromJson(b.values))return!1;this._values.pageNumber=a;return!0};c.prototype.setSize=
function(b){if(b.isEmpty)throw"size must not be empty";this._values.size=b.clone()};Object.defineProperty(c.prototype,"isLocal",{get:function(){return this._isLocal},set:function(b){this._isLocal=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"size",{get:function(){return this.values.size.clone()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"resolution",{get:function(){return this.values.resolution},set:function(b){this.values.resolution=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"pageNumber",{get:function(){return this.values.pageNumber},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"imageScale",{get:function(){return null==this._document?1:e.DocumentImages.getImageScale(this._document.sizeToPixels(this.values.size),this._document.images.maximumImagePixelSize)},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"originalPageNumber",{get:function(){return this.values.originalPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isDeleted",{get:function(){return this.values.isDeleted},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isAnnotationsModified",{get:function(){return this.values.isAnnotationsModified},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"hasEmbeddedAnnotations",{get:function(){return this.values.hasEmbeddedAnnotations},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0});c.prototype.processPageText=function(b){this._document.text.autoParseLinks&&this.parseAndMergeValueLinks(b)};c.prototype.parseAndMergeValueLinks=function(b){null==b||0==b.characters.length||this.mergeLinks(b.parseLinks(e.DocumentText.linkPatterns))};c.prototype.removeSmallerDuplicate=function(b,a){for(var g=b.length-1;0<=g;g--)a.bounds.containsRect(b[g].bounds)&&
b.splice(g,1)};c.prototype.mergeLinks=function(b){if(!(null==b||0==b.length)){for(var a=0;a<b.length;a++)this.removeSmallerDuplicate(this._links,b[a]);this._links=this._links.concat(b)}};c.prototype.copyLinksFromJson=function(b){var a=[];if(null==b)return!0;for(var g=0;g<b.length;g++){var c=e.DocumentLink.fromJson(b[g]);a.push(c)}this.mergeLinks(a);return!0};c.prototype.getLinks=function(){return this._links};c.prototype.getText=function(b){var a=this,g=$.Deferred();if(this._isLocal)return g.resolve(null).promise();
b={url:[e.DocumentFactory.serviceUri,c._controllerName,"GetText"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:this._document.documentId,pageNumber:this.pageNumber,clip:b,textExtractionMode:this._document.text.textExtractionMode,userData:this._document.serviceUserData})};if(!e.DocumentFactory.doPrepareAjax(this,c._className,"GetText",b))return g.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(b){var c=e.DocumentPageText.fromJson(b.pageText);
a.processPageText(c);g.resolve(c,"undefined"===typeof b.userData?null:b.userData)}).fail(function(a,b,c){e.DocumentFactory.log(c);g.reject(a,b,c)});return g.promise()};c.prototype.getAnnotations=function(b){var a=$.Deferred();if(this.isLocal){var g=null;b&&(g=e.DocumentAnnotations.createEmptyContainer(this),g.pageNumber=this.document.pages.indexOf(this)+1);return a.resolve(g).promise()}if(this._isLocal)return a.resolve(null).promise();b={url:[e.DocumentFactory.serviceUri,c._controllerName,"GetAnnotations"].join("/"),
type:"POST",contentType:"application/json",data:JSON.stringify({documentId:this._document.documentId,pageNumber:this.pageNumber,createEmpty:b,userData:this._document.serviceUserData})};if(!e.DocumentFactory.doPrepareAjax(this,c._className,"GetAnnotations",b))return a.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(g){var b=g.annotations,c=null;null!=b&&(c=(new d.Annotations.Core.AnnCodecs).load(b,0));a.resolve(c,"undefined"===typeof g.userData?null:g.userData)}).fail(function(g,
b,c){e.DocumentFactory.log(c);a.reject(g,b,c)});return a.promise()};c.prototype.setAnnotations=function(b){var a=[e.DocumentFactory.serviceUri,c._controllerName,"SetAnnotations"].join("/"),g=null;null!=b&&(g=(new d.Annotations.Core.AnnCodecs).save(b,d.Annotations.Core.AnnFormat.annotations,null,this.pageNumber));var b={documentId:this._document.documentId,pageNumber:this.pageNumber,annotations:g,userData:this._document.serviceUserData},n=$.Deferred(),a={url:a,type:"POST",contentType:"application/json",
data:JSON.stringify(b)};if(!e.DocumentFactory.doPrepareAjax(this,c._className,"SetAnnotations",a))return n.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){n.resolve("undefined"===typeof a.userData?null:a.userData)}).fail(function(a,g,b){e.DocumentFactory.log(b);n.reject(a,g,b)});return n.promise()};c.prototype.getThumbnailImageUrlParams=function(){var b=this._document.images.thumbnailPixelSize;return{documentId:this._document.documentId,pageNumber:this.pageNumber,width:b.width,
height:b.height,userData:this._document.serviceUserData}};c.prototype.getThumbnailImage=function(){return this.getThumbnailImageUrl()};c.prototype.getThumbnailImageUrl=function(){return this._isLocal?null:e.Internal.ImageRequestHelper.createFullUrl(e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getThumbnailImageActionName),this.getThumbnailImageUrlParams())};c.prototype.getThumbnailImageElement=function(b){var a=$.Deferred();if(this._isLocal)return a.resolve(null).promise();var g=
e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getThumbnailImageActionName),d=this.getThumbnailImageUrlParams();return e.Internal.ImageRequestHelper.doGenericElementLoad(a,b,g,d,c._className,c._getThumbnailImageMethodName)};c.prototype.getImageUrlParams=function(b,a){var g={documentId:this._document.documentId,pageNumber:this.pageNumber,userData:this._document.serviceUserData};-1!==b&&-1!==a&&(g.width=b,g.height=a);return g};c.prototype.getImage=function(){return this.getImageUrl()};
c.prototype.getImageUrl=function(){return this._isLocal?null:e.Internal.ImageRequestHelper.createFullUrl(e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getImageActionName),this.getImageUrlParams(-1,-1))};c.prototype.getImageResized=function(b,a){return this.getImageResizedUrl(b,a)};c.prototype.getImageResizedUrl=function(b,a){return this._isLocal?null:e.Internal.ImageRequestHelper.createFullUrl(e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getImageActionName),
this.getImageUrlParams(b,a))};c.prototype.getImageElement=function(b){return this.internalGetImageElement(c._getImageMethodName,-1,-1,b)};c.prototype.getImageResizedElement=function(b,a,g){return this.internalGetImageElement(c._getImageResizedMethodName,b,a,g)};c.prototype.internalGetImageElement=function(b,a,g,d){var i=$.Deferred();if(this._isLocal)return i.resolve(null).promise();var p=e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getImageActionName),a=this.getImageUrlParams(a,
g);return e.Internal.ImageRequestHelper.doGenericElementLoad(i,d,p,a,c._className,b)};Object.defineProperty(c.prototype,"isSvgSupported",{get:function(){return this._document.images.isSvgSupported},enumerable:!0,configurable:!0});c.prototype.getSvgBackImageUrlParams=function(b){return{documentId:this._document.documentId,pageNumber:this.pageNumber,backColor:b,userData:this._document.serviceUserData}};c.prototype.getSvgBackImage=function(b){return this.getSvgBackImageUrl(b)};c.prototype.getSvgBackImageUrl=
function(b){return this._isLocal?null:e.Internal.ImageRequestHelper.createFullUrl(e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getSvgBackImageActionName),this.getSvgBackImageUrlParams(b))};c.prototype.getSvgBackImageElement=function(b,a){var g=$.Deferred();if(this._isLocal)return g.resolve(null).promise();var d=e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getSvgBackImageActionName),i=this.getSvgBackImageUrlParams(b);return e.Internal.ImageRequestHelper.doGenericElementLoad(g,
a,d,i,c._className,c._getSvgBackImageMethodName)};c.prototype.getSvgUrlParams=function(b){return{documentId:this._document.documentId,pageNumber:this.pageNumber,options:b,unembedImages:this._document.images.unembedSvgImages,userData:this._document.serviceUserData}};c.prototype.getSvg=function(b){return this.getSvgUrl(b)};c.prototype.getSvgUrl=function(b){return this._isLocal?null:e.Internal.ImageRequestHelper.createFullUrl(e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getSvgActionName),
this.getSvgUrlParams(b))};c.prototype.getSvgElement=function(b,a){var g=$.Deferred();if(this._isLocal)return g.resolve(null).promise();var d=e.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getSvgActionName),i=this.getSvgUrlParams(b);return e.Internal.ImageRequestHelper.doGenericElementLoad(g,a,d,i,c._className,c._getSvgMethodName)};c.prototype.readBarcodes=function(b,a,g){var d=[e.DocumentFactory.serviceUri,c._controllerName,"ReadBarcodes"].join("/"),b={documentId:this._document.documentId,
pageNumber:this.pageNumber,bounds:b,maximumBarcodes:a,symbologies:g,userData:this._document.serviceUserData},i=$.Deferred(),d={url:d,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!e.DocumentFactory.doPrepareAjax(this,c._className,"ReadBarcodes",d))return i.reject(null,"Canceled","Canceled").promise();$.ajax(d).done(function(a){var g=a.barcodes.map(function(a){return e.Barcode.BarcodeData.fromJson(a)});i.resolve(g,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,
g,b){e.DocumentFactory.log(b);i.reject(a,g,b)});return i.promise()};c._className="DocumentPage";c._controllerName="Page";c._getThumbnailImageActionName="GetThumbnail";c._getThumbnailImageMethodName="GetThumbnailImage";c._getImageActionName="GetImage";c._getImageMethodName="GetImage";c._getImageResizedActionName="GetImage";c._getImageResizedMethodName="GetImageResized";c._getSvgBackImageActionName="GetSvgBackImage";c._getSvgBackImageMethodName="GetSvgBackImage";c._getSvgActionName="GetSvg";c._getSvgMethodName=
"GetSvg";return c}();e.DocumentPage=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){(function(c){c[c.normal=0]="normal";c[c.bold=1]="bold";c[c.italic=2]="italic";c[c.underline=4]="underline"})(e.DocumentFontStyles||(e.DocumentFontStyles={}));(function(c){c[c.none=0]="none";c[c.fit=1]="fit";c[c.fitAlways=2]="fitAlways";c[c.fitWidth=3]="fitWidth";c[c.fitHeight=4]="fitHeight"})(e.DocumentPageFitType||(e.DocumentPageFitType={}));var h=function(){function c(){this._children=[]}c.fromJson=function(b){if(null==b)return null;var a=new c;return!a.copyFromJson(b)?
null:a};c.prototype.copyFromJson=function(b){if(null==b||!b.hasOwnProperty("fontStyles")||!b.hasOwnProperty("children")||!b.hasOwnProperty("target")||!b.hasOwnProperty("title"))return!1;this.fontStyles=b.fontStyles;this.title=b.title;var a=new e.DocumentLinkTarget,g=b.target;if(!g.hasOwnProperty("pageFitType")||!g.hasOwnProperty("pageNumber")||!g.hasOwnProperty("position")||!g.hasOwnProperty("zoomPercent"))return!1;a.pageFitType=g.pageFitType;a.pageNumber=g.pageNumber;a.position=d.LeadPointD.fromJSON(g.position);
a.zoomPercent=g.zoomPercent;this.target=a;for(a=0;a<b.children.length;a++)this.children.push(c.fromJson(b.children[a]));return!0};c.prototype.clone=function(b){var a=new c;a.fontStyles=this.fontStyles;a.target=this.target.clone();a.title=this.title;if(b)for(b=0;b<this.children.length;b++)a.children.push(this.children[b].clone(!0));return a};Object.defineProperty(c.prototype,"fontStyles",{get:function(){return this._fontStyles},set:function(b){this._fontStyles=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"children",{get:function(){return this._children},set:function(b){this._children=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"target",{get:function(){return this._target},set:function(b){this._target=b.clone()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"title",{get:function(){return this._title},set:function(b){this._title=b},enumerable:!0,configurable:!0});return c}();e.DocumentBookmark=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
if(lt.LTHelper.browser==lt.LTBrowser.internetExplorer&&9>=lt.LTHelper.version)try{$.support.cors=!0}catch(e$$8){lt.LTHelper.logWarning("IE9 does not support AJAX without a special jQuery flag. Please ensure jQuery is properly added to the page.")}
(function(d){(function(e){var h=function(){return function(){this.mimeType=this.documentId=null}}();e.CreateDocumentOptions=h;h=function(){return function(){this.originalPageNumber=this.pageNumber=0;this.size=d.LeadSizeD.empty;this.resolution=0}}();e.DocumentPageDescriptor=h;h=function(){return function(){this.autoSaveToCache=this.autoDeleteFromCache=!0;this.isReadOnly=this.autoDisposeDocuments=!1;this.defaultPageSize=d.LeadSizeD.empty;this.defaultResolution=0;this.defaultBitsPerPixel=24;this.maximumImagePixelSize=
0;this.thumbnailPixelSize=d.LeadSizeD.create(128,128);this.isResolutionsSupported=this.isSvgViewingPreferred=this.isSvgSupported=this.isStructureSupported=this.isStructureParsed=this.unembedSvgImages=!1;this.textExtractionMode=e.DocumentTextExtractionMode.auto;this.parsePageLinks=this.parseBookmarks=this.autoParseLinks=!0}}();e.DocumentDescriptor=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){var h=function(){return function(){this.documentId=null;this.resolution=0;this.annotationsUri=this.password=this.name=null;this.loadEmbeddedAnnotations=!1;this.lastPageNumber=this.firstPageNumber=this.maximumImagePixelSize=0}}();d.LoadDocumentOptions=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function a(){this._bounds=d.LeadRectD.empty;this._spaceWidth=0;this._isRightToLeft=this._isEndOfParagraph=this._isLineBreak=this._isEndOfLine=this._isEndOfWord=!1}Object.defineProperty(a.prototype,"code",{get:function(){return this._code},set:function(a){this._code=a},enumerable:!0,configurable:!0});a.prototype.codeAsString=function(){return String.fromCharCode(this.code)};Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds.clone()},
set:function(a){this._bounds=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"spaceWidth",{get:function(){return this._spaceWidth},set:function(a){this._spaceWidth=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfWord",{get:function(){return this._isEndOfWord},set:function(a){this._isEndOfWord=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfLine",{get:function(){return this._isEndOfLine},set:function(a){this._isEndOfLine=
a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLineBreak",{get:function(){return this._isLineBreak},set:function(a){this._isLineBreak=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfParagraph",{get:function(){return this._isEndOfParagraph},set:function(a){this._isEndOfParagraph=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isRightToLeft",{get:function(){return this._isRightToLeft},set:function(a){this._isRightToLeft=a},
enumerable:!0,configurable:!0});return a}();e.DocumentCharacter=h;var c=function(){function a(){this._value=null;this._bounds=d.LeadRectD.empty}Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(a){this._value=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds},set:function(a){this._bounds=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"firstCharacterIndex",{get:function(){return this._firstCharacterIndex},
set:function(a){this._firstCharacterIndex=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"lastCharacterIndex",{get:function(){return this._lastCharacterIndex},set:function(a){this._lastCharacterIndex=a},enumerable:!0,configurable:!0});return a}();e.DocumentWord=c;var b=function(){function a(a){this._textMap=this._text=this._words=this._characters=null;this._characters=a}a.fromJson=function(b){if(null==b||!b.hasOwnProperty("characters"))return null;var c=new a(null);c._characters=
[];for(var i=0;i<b.characters.length;i++){var e=new h;e.isEndOfWord=b.characters[i].isEndOfWord;e.isEndOfLine=b.characters[i].isEndOfLine;e.isLineBreak=b.characters[i].isLineBreak;e.isRightToLeft=b.characters[i].isRightToLeft;e.code=b.characters[i].code;e.bounds=d.LeadRectD.fromJSON(b.characters[i].bounds);c._characters.push(e)}return c};Object.defineProperty(a.prototype,"characters",{get:function(){return this._characters},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"words",
{get:function(){return this._words},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textMap",{get:function(){return this._textMap},enumerable:!0,configurable:!0});a.prototype.clearBuildData=function(){this._textMap=this._text=this._words=null};a.prototype.buildWords=function(){for(var b=0,n=this._characters.length,i=[],e=!1,k=-1;b<n;){for(var f=d.LeadRectD.empty,j=b,o=!1,
m=!0,l=new h;m&&b<n;)l=this._characters[b],m=l.bounds.clone(),f=f.isEmpty?m.clone():d.LeadRectD.unionRects(f,m),m=b<n&&!l.isEndOfWord&&!l.isEndOfLine,b++,l.isRightToLeft&&(o=!0);for(var m="",q=j;q<b;q++)m+=this._characters[q].code;q=new c;q.value=m;q.bounds=f.clone();q.firstCharacterIndex=j;q.lastCharacterIndex=b-1;o&&(q.value=a.reverse(q.value));e&&o?(k=-1==k?i.length-1:k,i.splice(k,0,q)):(-1!=k&&(this.reverseCharacterPositions(i[k].lastCharacterIndex,i[i.length-1].lastCharacterIndex),k=-1),i.push(q));
e=o&&!l.isEndOfLine}this._words=i};a.reverse=function(a){return a.split("").reverse().join("")};a.prototype.reverseCharacterPositions=function(a,b){var c=this._characters[a],d=this._characters[a];d.isEndOfWord=this._characters[b].isEndOfWord;d.isEndOfLine=this._characters[b].isEndOfLine;d.isLineBreak=this._characters[b].isLineBreak;this._characters[a]=d;d=this._characters[b];d.isEndOfWord=c.isEndOfWord;d.isEndOfLine=c.isEndOfLine;d.isLineBreak=c.isLineBreak;this._characters[b]=d};a.prototype.buildText=
function(){this.doBuildText(!1)};a.prototype.buildTextWithMap=function(){this.doBuildText(!0)};a.prototype.doBuildText=function(a){var b=!1;null===this._words&&null!==this._characters&&(this.buildWords(),b=!0);if(null===this._words||0===this._words.length)this._textMap=null,this._text="",b&&(this._words=null);else{this._textMap=a?[]:null;for(var c="",d=this._words.length,e=0;e<d;){var f=this._words[e];if(null!=f.value&&""!==f.value&&(c+=f.value,a))for(var j=f.firstCharacterIndex;j<=f.lastCharacterIndex;j++)this._textMap.push(j);
j=!1;-1!==f.lastCharacterIndex&&(j=this._characters[f.lastCharacterIndex].isEndOfLine);f=e===d-1;j?(f||(c+="\n"),a&&this._textMap.push(-2)):f||(c+=" ",a&&this._textMap.push(-1));e++}b&&(this._words=null);this._text=c}};a.prototype.removeSmallerDuplicate=function(a,b){for(var c=a.length-1;0<=c;c--)b.bounds.containsRect(a[c].bounds)&&a.splice(c,1)};a.prototype.parseLinks=function(a){var b=[];if(null==a||0===a.length)return b;null==this._textMap&&this.buildTextWithMap();var c=this.text;if(!c||0===c.length)return b;
var d=this.textMap;if(!d||0===d.length)return b;for(var k=0;k<a.length;k++)for(var f=null,j=a[k];null!==(f=j.exec(c));){var o=f.index,m=f.index+f[0].length-1,l=this.characters,q=d.length;if(!(0>o||o>=q||0>m||m>=q)){o=d[o];for(q=d[m];-1===o&&o<q;)o++;if(!(o>q)){m=l[o].bounds;for(o+=1;o<=q;o++)m.union(l[q].bounds);l=new e.DocumentLink;l.linkType=e.DocumentLinkType.value;l.bounds=m;l.value=f[0];this.removeSmallerDuplicate(b,l);b.push(l)}}}return b};a.prototype.clipText=function(b){if(b.isEmpty)return a.fromJson(this);
var c=this._characters;if(null==c)return null;var d=[],e=c.length,k=new h;k.isEndOfWord=!1;k.isEndOfLine=!1;for(var f=-1,j=0;j<e;j++){var o=c[j],m=!1,l=o.code;9==l||160==l||5760==l||6158==l||8192<=l&&8202>=l||8232==l||8233==l||8239==l||8287==l||12288==l?m=!0:b.isEmpty||(m=!b.intersectsWith(o.bounds));if(m){if(o.isEndOfWord&&(k.isEndOfWord=!0),o.isEndOfLine)k.isEndOfLine=!0}else{if(k.isEndOfWord||k.isEndOfLine)-1!=f&&(m=d[f],k.isEndOfWord&&(m.isEndOfWord=!0),k.isEndOfLine&&(m.isEndOfLine=!0),d[f]=
m),k.isEndOfWord=!1,k.isEndOfLine=!1;d.push(o);f++}}return new a(d)};return a}();e.DocumentPageText=b})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function a(){this._length=this._mimeType=this._url=this._name=null}a.fromJson=function(b){if(null==b)return null;var c=new a;return!c.copyFromJson(b)?null:c};a.prototype.copyFromJson=function(a){return null==a?!1:e.Internal.PropertyBag.copyMatchingProperties(a,this,null)};Object.defineProperty(a.prototype,"name",{get:function(){return this._name},set:function(a){this._name=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"url",{get:function(){return this._url},
set:function(a){this._url=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"mimeType",{get:function(){return this._mimeType},set:function(a){this._mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"length",{get:function(){return this._length},set:function(a){this._length=a},enumerable:!0,configurable:!0});return a}();e.ConvertItem=h;var c=function(){function a(){this._archive=new h;this._document=new h;this._annotations=new h}a.fromJson=function(b){if(null==
b)return null;var c=new a;return!c.copyFromJson(b)?null:c};a.prototype.copyFromJson=function(a){return null==a?!1:e.Internal.PropertyBag.copyMatchingProperties(a,this,null)};Object.defineProperty(a.prototype,"archive",{get:function(){return this._archive},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotations",{get:function(){return this._annotations},enumerable:!0,
configurable:!0});return a}();e.DocumentConvertResult=c;var b=function(){function a(){this._isDisposed=this._cacheUriWasOriginallyNull=!1;this._autoDisposeDocuments=!0;this._structure=this._barcodes=this._images=this._annotations=this._documents=this._pages=null;this._values=new e.Internal.DocumentValues;this._text=new e.DocumentText(this);this._cacheStatus=e.DocumentCacheStatus.synced;this._isLocal=!1;this._serviceUserData=null;this._pages=new e.DocumentPages(this);this._documents=new e.DocumentDocuments(this);
this._annotations=new e.DocumentAnnotations(this);this._images=new e.DocumentImages(this);this._barcodes=new e.DocumentBarcodes(this);this._metadata={};this._structure=null}a.fromJson=function(b,c){var d=$.Deferred();if(null==b)return d.resolve(null).promise();var e=new a;e.copyFromJson(b,c).done(function(a){a?d.resolve(e):d.resolve(null)});return d.promise()};a.prototype.copyFromJson=function(a,b){var c=this,d=$.Deferred();if(null==a||!a.hasOwnProperty("values")||!a.hasOwnProperty("pages"))return d.resolve(!1).promise();
var k=this.cacheUri;if(!this._values.copyFromJson(a.values))return d.resolve(!1).promise();this._values.cacheUri?k&&(this.cacheUri=k):(this._cacheUriWasOriginallyNull=!0,this._rebuildCacheUri());if(b){for(var f={},k=this.documentId,j=0;j<a.pages.length;j++){var o=a.pages[j].values.documentId;k.toLowerCase()!==o.toLowerCase()&&void 0===f[o]&&(f[o]=null)}var m=Object.keys(f),l=0,q=m.length,h;if(l<q){var r=function(b){f[m[l]]=b;l++;if(l<q)(h=e.DocumentFactory.tryLoadDocumentFromCache(c,m[l]))?r(h):e.DocumentFactory.loadFromCache(m[l]).done(s).fail(t);
else c.finishCopyFromJson(a,d,f)},s=function(a){r(a)},t=function(){r(null)};(h=e.DocumentFactory.tryLoadDocumentFromCache(this,m[l]))?r(h):e.DocumentFactory.loadFromCache(m[l]).done(s).fail(t)}else this.finishCopyFromJson(a,d,f);return d.promise()}return d.resolve(!0).promise()};a.prototype.finishCopyFromJson=function(a,b,c){var d=this,k=this.documentId;this._pages.beginAdd();for(var f=0;f<a.pages.length;f++){var j=null,o=a.pages[f].values.documentId;if(o)if(k.toLowerCase()===o.toLowerCase())j=e.DocumentPage.fromJson(a.pages[f],
this,f+1);else if(o=c[o]){var m=a.pages[f].values.pageNumber;0<m&&m<=o.pages.count&&(j=o.pages.item(m-1))}j&&this._pages.add(j)}this._pages.endAdd();this._values.isStructureSupported?(this._structure=new e.DocumentStructure(this),this._values.isStructureParsed&&a.hasOwnProperty("structure")&&(c=a.structure,this._structure.copyFromJson(c.bookmarks,c.pageLinks))):this._structure=null;if(a.hasOwnProperty("metadata")){var l=a.metadata;this._metadata={};Object.keys(l).forEach(function(a){d._metadata[a]=
l[a]})}a.hasOwnProperty("text")&&!this._text.copyFromJson(a.text)?b.resolve(!1):b.resolve(!0)};a.rebuildCacheUriValues=function(){if(e.DocumentFactory.documentRefs)for(var a=Object.keys(e.DocumentFactory.documentRefs),b=0;b<a.length;b++){var c=e.DocumentFactory.documentRefs[a[0]];c&&c.document&&c.document._rebuildCacheUri()}};a.prototype._rebuildCacheUri=function(){if(this._cacheUriWasOriginallyNull){var b=[e.DocumentFactory.serviceUri,a._cacheClassName,a._cacheControllerName].join("/");this.cacheUri=
e.Internal.ImageRequestHelper.createFullUrl(b,{documentId:this.documentId,userData:e.DocumentFactory.serviceUserData})}};a.prototype.createDocumentDescriptor=function(){var a=new e.DocumentDescriptor;a.documentId=this._values.documentId;a.name=this._values.name;a.autoDisposeDocuments=this.autoDisposeDocuments;a.isReadOnly=this._values.isReadOnly;a.mimeType=this._values.mimeType;a.defaultPageSize=this._values.defaultPageSize;a.defaultResolution=this._values.defaultResolution;a.defaultBitsPerPixel=
this._values.defaultBitsPerPixel;a.maximumImagePixelSize=this._values.maximumImagePixelSize;a.thumbnailPixelSize=this._values.thumbnailPixelSize;a.unembedSvgImages=this._values.unembedSvgImages;a.documentType=this._values.documentType;a.isStructureParsed=this._values.isStructureParsed;a.isStructureSupported=this._values.isStructureSupported;a.isSvgSupported=this._values.isSvgSupported;a.isSvgViewingPreferred=this._values.isSvgViewingPreferred;a.isResolutionsSupported=this._values.isResolutionsSupported;
a.textExtractionMode=this._values.textExtractionMode;a.autoParseLinks=this._values.autoParseLinks;a.parseBookmarks=this._values.parseBookmarks;a.parsePageLinks=this._values.parsePageLinks;this._metadata&&(a.metadata=JSON.stringify(this._metadata));for(var b=this._pages.count,c=[],d=1;d<=b;d++){var k=this._pages.item(d-1),f=new e.DocumentPageDescriptor;f.documentId=k.values.documentId;f.pageNumber=k.values.pageNumber;f.originalPageNumber=k.values.originalPageNumber;f.size=k.values.size;f.resolution=
k.values.resolution;c.push(f)}a.pages=c;return a};a.create=function(b){if(!b)throw"Options cannot be null";var c=b.documentId?b.documentId:e.Internal.Guid.newGuid(),i=new a;i._values.isSvgSupported=!0;i._values.isSvgViewingPreferred=!0;i._values.isResolutionsSupported=!0;i._values.documentId=c;i._values.mimeType=b.mimeType;i._values.documentType="Virtual";i._values.defaultPageSize=d.LeadSizeD.create(8.5*a.unitsPerInch,11*a.unitsPerInch);i._values.isReadOnly=!1;i.cacheStatus=e.DocumentCacheStatus.notSynced;
i.isLocal=!0;b=e.Internal.Formatting.formatDate(new Date);c=i.metadata;c.Created=b;c.Accessed=b;c.Modified=b;e.DocumentFactory.documentCreated(i);return i};Object.defineProperty(a.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0});a.prototype.dispose=function(){this._dispose(!1)};a.prototype._dispose=function(a){var b=this;this._isDisposed||(this._isDisposed=!0,this._documents&&(this.forEachDocument(function(a){a&&0===e.DocumentFactory.decrementDocumentRef(a)&&
b._autoDisposeDocuments&&a.dispose()}),this._documents.dispose(),this._documents=null),this._pages&&(this._pages.dispose(),this._pages=null),this._annotations&&(this._annotations.dispose(),this._annotations=null),this._images&&(this._images.dispose(),this._images=null),this._barcodes&&(this._barcodes.dispose(),this._barcodes=null),this._structure&&(this._structure.dispose(),this._structure=null),a||e.DocumentFactory.documentDisposed(this))};Object.defineProperty(a.prototype,"autoDisposeDocuments",
{get:function(){return this._autoDisposeDocuments},set:function(a){this._autoDisposeDocuments=a;this.forEachDocument(function(b){b&&(b.autoDisposeDocuments=a)})},enumerable:!0,configurable:!0});a.prototype.canModify=function(){if(this.isReadOnly)throw"Document is read-only";};a.prototype.createPage=function(a,b){if(a.isEmpty)throw"Size must not be empty";if(0>b)throw"Resolution must be a value greater than or equal to 0";var c=new e.DocumentPage;c.setSize(a);c.resolution=b;c.isLocal=!0;return c};
Object.defineProperty(a.prototype,"documentId",{get:function(){return this.values.documentId},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"name",{get:function(){return this.values.name},set:function(a){this.values.name=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"uri",{get:function(){return this.values.uri},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cacheUri",{get:function(){return this.values.cacheUri},set:function(a){this.values.cacheUri=
a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"lastCacheSyncTime",{get:function(){return this._values.lastCacheSyncTime},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cacheStatus",{get:function(){return this._cacheStatus},set:function(a){this._cacheStatus=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDownloaded",{get:function(){return this.values.isDownloaded},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isReadOnly",
{get:function(){return this.values.isReadOnly},set:function(a){this.values.isReadOnly=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLocal",{get:function(){return this._isLocal},set:function(a){this._isLocal=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"mimeType",{get:function(){return this.values.mimeType},set:function(a){this.values.mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"pages",{get:function(){return this._pages},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEncrypted",{get:function(){return this.values.isEncrypted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDecrypted",{get:function(){return this.values.isDecrypted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isStructureSupported",{get:function(){return this.values.isStructureSupported},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"documents",{get:function(){return this._documents},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotations",{get:function(){return this._annotations},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"structure",{get:function(){return this._structure},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"images",{get:function(){return this._images},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"barcodes",{get:function(){return this._barcodes},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"metadata",{get:function(){return this._metadata},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultResolution",{get:function(){return this.values.defaultResolution},enumerable:!0,configurable:!0});Object.defineProperty(a,"unitsPerInch",{get:function(){return 720},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"values",{get:function(){return this._values},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotationsUri",{get:function(){return this.values.annotationsUri},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultBitsPerPixel",{get:function(){return this.values.defaultBitsPerPixel},set:function(a){this.values.defaultBitsPerPixel=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultPageSize",{get:function(){return this.values.defaultPageSize},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"documentType",{get:function(){return this.values.documentType},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"password",{get:function(){return this.values.password},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"serviceUserData",{get:function(){return this._serviceUserData},set:function(a){this._serviceUserData=a},enumerable:!0,configurable:!0});a.prototype.validate=function(){return this.mimeType?{valid:!0,error:""}:{valid:!1,error:"Unrecognized image file format."}};
Object.defineProperty(a.prototype,"hasDocuments",{get:function(){return 0<this._documents.count},enumerable:!0,configurable:!0});a.prototype.forEachDocument=function(a){for(var b=0;b<this._documents.count;b++)a(this._documents.item(b))};a.prototype.documentsAddedRemoved=function(){if(0==this._documents.count)this._values.isSvgSupported=!0,this._values.isSvgViewingPreferred=!0,this._values.isResolutionsSupported=!0,this._values.isStructureSupported=!1;else{var a=!1,b=!1,c=!1,d=!1;this.forEachDocument(function(e){!a&&
e._values.isSvgSupported&&(a=!0);!b&&e._values.isSvgViewingPreferred&&(b=!0);!c&&e._values.isResolutionsSupported&&(c=!0);!d&&e.isStructureSupported&&(d=!0)});this._values.isSvgSupported=a;this._values.isSvgViewingPreferred=b;this._values.isResolutionsSupported=c;this._values.isStructureSupported=d}this.isStructureSupported&&!this.structure&&(this._structure=new e.DocumentStructure(this))};a.prototype.decrypt=function(b){var c=this,d=[e.DocumentFactory.serviceUri,a._controllerName,"Decrypt"].join("/"),
b={documentId:this.documentId,password:b,userData:this.serviceUserData},p=$.Deferred(),d={url:d,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!e.DocumentFactory.doPrepareAjax(this,a._className,"Decrypt",d))return p.reject(null,"Canceled","Canceled").promise();$.ajax(d).done(function(a){c.copyFromJson(a.document,!0).done(function(b){b?p.resolve(c,"undefined"===typeof a.userData?null:a.userData):p.reject(null,null,"Invalid document object")})}).fail(function(a,b,c){e.DocumentFactory.log(c);
p.reject(a,b,c)});return p.promise()};a.prototype.convert=function(b){var d=[e.DocumentFactory.serviceUri,a._controllerName,"Convert"].join("/"),b={documentId:this.documentId,jobData:b,userData:this.serviceUserData},i=$.Deferred(),d={url:d,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!e.DocumentFactory.doPrepareAjax(this,a._className,"Convert",d))return i.reject(null,"Canceled","Canceled").promise();$.ajax(d).done(function(a){var b=c.fromJson(a);i.resolve(b,"undefined"===
typeof a.userData?null:a.userData)}).fail(function(a,b,c){e.DocumentFactory.log(c);i.reject(a,b,c)});return i.promise()};a.documentToPixels=function(b,c){d.LeadDoubleTools.isZero(b)&&(b=96);return Math.floor(c/a.unitsPerInch*b+0.5)};a.pixelsToDocument=function(b,c){d.LeadDoubleTools.isZero(b)&&(b=96);return c*a.unitsPerInch/b};a.prototype.pointToPixels=function(b){if(b.isEmpty)return d.LeadPointD.empty;var c=this.defaultResolution;return d.LeadPointD.create(a.documentToPixels(c,b.x),a.documentToPixels(c,
b.y))};a.prototype.pointToDocument=function(b){var c=this.defaultResolution;return d.LeadPointD.create(a.pixelsToDocument(c,b.x),a.pixelsToDocument(c,b.y))};a.prototype.sizeToPixels=function(b){if(b.isEmpty)return d.LeadSizeD.empty;var c=this.defaultResolution;return d.LeadSizeD.create(a.documentToPixels(c,b.width),a.documentToPixels(c,b.height))};a.prototype.sizeToDocument=function(b){var c=this.defaultResolution;return d.LeadSizeD.create(a.pixelsToDocument(c,b.width),a.pixelsToDocument(c,b.height))};
a.prototype.rectToPixels=function(b){if(b.isEmpty)return d.LeadRectD.empty;var c=this.defaultResolution;return d.LeadRectD.fromLTRB(a.documentToPixels(c,b.left),a.documentToPixels(c,b.top),a.documentToPixels(c,b.right),a.documentToPixels(c,b.bottom))};a.prototype.rectToDocument=function(b){var c=this.defaultResolution;return d.LeadRectD.fromLTRB(a.pixelsToDocument(c,b.left),a.pixelsToDocument(c,b.top),a.pixelsToDocument(c,b.right),a.pixelsToDocument(c,b.bottom))};a._cacheClassName="Cache";a._cacheControllerName=
"GetDocumentData";a._className="Document";a._controllerName="Document";return a}();e.Document=b})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){(function(a){a[a.synced=0]="synced";a[a.notSynced=1]="notSynced"})(e.DocumentCacheStatus||(e.DocumentCacheStatus={}));var h=e.DocumentCacheStatus;(function(a){a[a.created=0]="created";a[a.uploading=1]="uploading";a[a.finished=2]="finished";a[a.error=3]="error";a[a.aborted=4]="aborted"})(e.DocumentUploadProgressState||(e.DocumentUploadProgressState={}));var c=e.DocumentUploadProgressState,b=function(){function a(b,c,d){this._state=b;this._progress=c;this._userData=d}Object.defineProperty(a.prototype,
"state",{get:function(){return this._state},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"progress",{get:function(){return this._progress},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"userData",{get:function(){return this._userData},enumerable:!0,configurable:!0});return a}();e.DocumentUploadProgress=b;(function(a){a[a.unset=0]="unset";a[a.error=1]="error";a[a.ready=2]="ready"})(e.OcrEngineStatus||(e.OcrEngineStatus={}));var a=e.OcrEngineStatus,g=function(){function a(b,
c,d,g,f,e,n){this._message=b;this._time=c;this._isLicenseChecked=d;this._isLicenseExpired=g;this._isCacheAccessible=f;this._kernelType=e;this._ocrEngineStatus=n}Object.defineProperty(a.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"time",{get:function(){return this._time},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLicenseChecked",{get:function(){return this._isLicenseChecked},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"isLicenseExpired",{get:function(){return this._isLicenseExpired},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isCacheAccessible",{get:function(){return this._isCacheAccessible},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"kernelType",{get:function(){return this._kernelType},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"ocrEngineStatus",{get:function(){return this._ocrEngineStatus},enumerable:!0,configurable:!0});
return a}();e.ServiceStatus=g;var n=function(a){function b(c){a.call(this);this._documentId=c}__extends(b,a);Object.defineProperty(b.prototype,"documentId",{get:function(){return this._documentId},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"document",{get:function(){return this._document},set:function(a){this._document=a},enumerable:!0,configurable:!0});return b}(d.LeadEventArgs);e.ResolveDocumentEventArgs=n;var i=function(a){function b(){a.apply(this,arguments)}__extends(b,
a);b.prototype.add=function(b){return a.prototype.add.call(this,b)};b.prototype.remove=function(b){a.prototype.remove.call(this,b)};return b}(d.LeadEvent);e.ResolveDocumentEventType=i;var p=function(){function a(){this._document=null;this._refCount=-1}Object.defineProperty(a.prototype,"document",{get:function(){return this._document},set:function(a){this._document=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"refCount",{get:function(){return this._refCount},set:function(a){this._refCount=
a},enumerable:!0,configurable:!0});return a}();e.DocumentRefInfo=p;i=function(){function f(){}f.create=function(a){return e.Document.create(a)};f.verifyService=function(){var b=[f.serviceUri,"Test/Ping"].join("/"),c={userData:f._serviceUserData},d=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(c)};if(!f.doPrepareAjax(this,f._className,"VerifyService",b))return d.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(b){var c=new g(b.message,new Date(b.time),
b.isLicenseChecked,b.isLicenseExpired,b.isCacheAccessible,b.kernelType,-1<=b.ocrEngineStatus?b.ocrEngineStatus:a.unset);d.resolve(c,"undefined"===typeof b.userData?null:b.userData)}).fail(function(a,b,c){f.log(c);d.reject(a,b,c)});return d.promise()};f.checkLicense=function(){var a=[f.serviceUri,"Test/CheckLicense"].join("/"),b={userData:f._serviceUserData},c=$.Deferred(),a={url:a,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!f.doPrepareAjax(this,f._className,"CheckLicense",
a))return c.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){c.resolve(a.isExpired,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,d){f.log(d);c.reject(a,b,d)});return c.promise()};Object.defineProperty(f,"serviceHost",{get:function(){return f._serviceHost},set:function(a){f._serviceHost=a;f.build()},enumerable:!0,configurable:!0});Object.defineProperty(f,"servicePath",{get:function(){return f._servicePath},set:function(a){f._servicePath=a;f.build()},enumerable:!0,
configurable:!0});Object.defineProperty(f,"serviceApiPath",{get:function(){return f._serviceApiPath},set:function(a){f._serviceApiPath=a;f.build()},enumerable:!0,configurable:!0});Object.defineProperty(f,"serviceUri",{get:function(){null==f._serviceUri&&f.build();return f._serviceUri},enumerable:!0,configurable:!0});Object.defineProperty(f,"serviceUserData",{get:function(){return f._serviceUserData},set:function(a){f._serviceUserData=a},enumerable:!0,configurable:!0});f.build=function(){var a=null,
b=window.location,a=f._serviceHost,c=f._servicePath,d=f._serviceApiPath,a=null==a?b.protocol+"//"+b.host:a;"/"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));null==c?(b=b.pathname,-1<b.indexOf(".")&&(c=b.lastIndexOf("/"),-1<c&&(b=b.substring(0,c))),a+=f.clean(b)):a+=f.clean(c);null!=d&&0<d.length&&(a+=f.clean(d));f._serviceUri=a;e.Document.rebuildCacheUriValues()};f.clean=function(a){var b=a.length;"/"!==a.charAt(0)&&(a="/"+a,b+=1);"/"===a.charAt(b-1)&&(a=a.substring(0,b-1));return a};Object.defineProperty(f,
"logErrors",{get:function(){return f._logErrors},set:function(a){f._logErrors=a},enumerable:!0,configurable:!0});f.log=function(a){f.logErrors&&d.LTHelper.logError(a)};f.isUploadDocumentUri=function(a){if(null==a)return!1;a=a.toLowerCase();return 0==a.indexOf("http://leadcache")||0==a.indexOf("https://leadcache")};Object.defineProperty(f,"loadDocumentFromCache",{get:function(){return f._loadDocumentFromCache},enumerable:!0,configurable:!0});f.tryLoadDocumentFromCache=function(a,b){var c=null;f.loadDocumentFromCache&&
(c=new n(b),f.loadDocumentFromCache.invoke(a,c),c=c.document);return c};f.loadFromCache=function(a){var b=[f.serviceUri,f._controllerName,"LoadFromCache"].join("/"),a={documentId:a,userData:f.serviceUserData},c=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(a)};if(!f.doPrepareAjax(this,f._className,"LoadFromCache",b))return c.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(a){e.Document.fromJson(a.document,!0).done(function(b){b&&(f.documentRefs[b.documentId]?
f.incrementDocumentRef(b):f.documentCreated(b));c.resolve(b,"undefined"===typeof a.userData?null:a.userData)})}).fail(function(a,b,d){f.log(d);c.reject(a,b,d)});return c.promise()};f.loadFromUri=function(a,b){var c=[f.serviceUri,f._controllerName,"LoadFromUri"].join("/");null==b&&(b=new e.LoadDocumentOptions);var d={uri:a,resolution:b.resolution,options:b,userData:f.serviceUserData},g=$.Deferred(),c={url:c,type:"POST",contentType:"application/json",data:JSON.stringify(d)};if(!f.doPrepareAjax(this,
f._className,"LoadFromUri",c))return g.reject(null,"Canceled","Canceled").promise();$.ajax(c).done(function(a){e.Document.fromJson(a.document,!0).done(function(b){b&&f.documentCreated(b);g.resolve(b,"undefined"===typeof a.userData?null:a.userData)})}).fail(function(a,b,c){f.log(c);g.reject(a,b,c)});return g.promise()};f.uploadFile=function(a,g){var e=$.Deferred();if(!d.LTHelper.supportsFileReader)return d.LTHelper.logError("The FileReader API is not supported on this browser - all file manipulation is unavailable."),
e.reject(null,"browsererror","The FileReader API is not supported on this browser - all file manipulation is unavailable."),e.promise({abort:function(){}});var n=null,i=!1,p=!1;f.beginUpload(g).done(function(d){e.notify(new b(c.created,0,null));n=d;d=new FileReader;d.onloadend=function(d){if(2===d.target.readyState){var g=d.target.result,o=0,k=function(d){o+=1048576;if(!i){var r=100*(o/a.size),r=Math.max(0,Math.min(r,100));o<a.size?(e.notify(new b(c.uploading,r,d)),f.uploadDocument(n,g,o,1048576).done(k).fail(h)):
(p=!0,e.notify(new b(c.finished,r,d)),e.resolve(n,d))}},h=function(a,b,c){i||(f.log(c),e.reject(a,b,c))};f.uploadDocument(n,g,o,1048576).done(k).fail(h)}};var g=a.slice(0,a.size);d.readAsArrayBuffer(g)}).fail(function(a,b,c){f.log(c);e.reject(a,b,c)});return e.promise({abort:function(){i=!0;p?f.log("Cannot abort after upload has completed"):(f.abortUploadDocument(n),e.notify(new b(c.aborted,0,null)),e.reject(null,null,null))}})};f.beginUpload=function(a){var b=$.Deferred(),a={url:[f.serviceUri,f._controllerName,
"BeginUpload"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:a||null,userData:f._serviceUserData})};if(!f.doPrepareAjax(this,f._className,"BeginUpload",a))return b.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){b.resolve(a.uploadUri,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,c,d){f.log(d);b.reject(a,c,d)});return b.promise()};f.uploadDocument=function(a,b,c,g){var n=$.Deferred();if(!d.LTHelper.supportsFileReader)return d.LTHelper.logError("The FileReader API is not supported on this browser - all file manipulation is unavailable."),
n.reject(null,"browsererror","The FileReader API is not supported on this browser - all file manipulation is unavailable.").promise();var i=null,i=ArrayBuffer.prototype.slice?b.slice(c,c+g):e.Internal.ArrayBufferSlicer.slice(b,c,c+g),b=d.LTHelper.base64EncodeFromArrayBuffer(i),a={url:[f.serviceUri,f._controllerName,"UploadDocument"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({uri:a,data:b,userData:f._serviceUserData})};if(!f.doPrepareAjax(this,f._className,"UploadDocument",
a))return n.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){n.resolve("undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,c){f.log(c);n.reject(a,b,c)});return n.promise()};f.abortUploadDocument=function(a){var b=[f.serviceUri,f._controllerName,"AbortUploadDocument"].join("/"),a={uri:a,userData:f._serviceUserData},c=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(a)};if(!f.doPrepareAjax(this,f._className,"AbortUploadDocument",
b))return c.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(a){c.resolve("undefined"===typeof a.userData?null:a.userData)});return c.promise()};f.downloadDocument=function(a,b,c,g){var e=[f.serviceUri,f._controllerName,"DownloadDocument"].join("/"),a={documentId:a,uri:b,position:c,dataSize:g,userData:f._serviceUserData},n=$.Deferred(),e={url:e,type:"GET",contentType:"application/json",data:a,headers:{"cache-control":"no-cache"}};if(!f.doPrepareAjax(this,f._className,"DownloadDocument",
e))return n.reject(null,"Canceled","Canceled").promise();$.ajax(e).fail(function(a,b,c){f.log(c);n.reject(a,b,c)}).done(function(a){var b=d.LTHelper.base64DecodeToByteArray(a.data);n.resolve(b,"undefined"===typeof a.userData?null:a.userData)});return n.promise()};f.saveToCache=function(a){var b=$.Deferred();if(a.cacheStatus===h.notSynced){var c=[f.serviceUri,f._controllerName,"SaveToCache"].join("/"),d={descriptor:a.createDocumentDescriptor(),userData:f.serviceUserData},c={url:c,type:"POST",contentType:"application/json",
data:JSON.stringify(d)};if(!f.doPrepareAjax(this,f._className,"SaveToCache",c))return b.reject(null,"Canceled","Canceled").promise();$.ajax(c).done(function(c){e.Document.fromJson(c.document,!1).done(function(d){if(d){a.isLocal=!1;a.values.documentId=d.documentId;a.values.lastCacheSyncTime=d.values.lastCacheSyncTime;a.cacheStatus=h.synced;d._dispose(!0);for(d=0;d<a.pages.count;d++)a.pages.item(d).isLocal=!1;a.annotations.modifiedContainers?a.annotations.setAnnotations(a.annotations.modifiedContainers).always(function(){a.annotations.modifiedContainers=
null;b.resolve("undefined"===typeof c.userData?null:c.userData)}):b.resolve("undefined"===typeof c.userData?null:c.userData)}else b.reject(null,null,"Invalid document object")})}).fail(function(a,c,d){b.reject(a,c,d)});return b.promise()}return a.annotations.modifiedContainers?(a.annotations.setAnnotations(a.annotations.modifiedContainers).always(function(){a.annotations.modifiedContainers=null;b.resolve()}),b.promise()):b.resolve().promise()};f.deleteFromCache=function(a){var b=[f.serviceUri,f._controllerName,
"Delete"].join("/"),a={documentId:a,userData:f._serviceUserData},c=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(a)};if(!f.doPrepareAjax(this,f._className,"DeleteFromCache",b))return c.reject(null,"Canceled","Canceled").promise();$.ajax(b).fail(function(a,b,d){f.log(d);c.reject(a,b,d)}).done(function(a){c.resolve("undefined"===typeof a.userData?null:a.userData)});return c.promise()};Object.defineProperty(f,"prepareAjax",{get:function(){return f._prepareAjax},
enumerable:!0,configurable:!0});f.doPrepareAjax=function(a,b,c,d){b=new k(b,c,d);f._prepareAjax.invoke(a,b);return!b.cancel};Object.defineProperty(f,"documentRefs",{get:function(){return this._documentRefs},enumerable:!0,configurable:!0});f.incrementDocumentRef=function(a){f._checkDocumentRefInput(a);a=f._documentRefs[a.documentId];a.refCount++;return a.refCount};f.decrementDocumentRef=function(a){f._checkDocumentRefInput(a);a=f._documentRefs[a.documentId];if(0>=a.refCount)throw"cannot decrement reference below zero";
a.refCount--;return a.refCount};f.documentCreated=function(a){if(a&&f._documentRefs[a.documentId])throw"document with cacheId already exists";var b=new p;b.document=a;b.refCount=0;f._documentRefs[a.documentId]=b};f.documentDisposed=function(a){f._checkDocumentRefInput(a);0===f._documentRefs[a.documentId].refCount&&(f._documentRefs[a.documentId]=null,delete f._documentRefs[a.documentId])};f._checkDocumentRefInput=function(a){if(!a||!f._documentRefs[a.documentId])throw"document does not exist";};f._className=
"DocumentFactory";f._controllerName="Factory";f._serviceHost=null;f._servicePath=null;f._serviceApiPath=null;f._serviceUri=null;f._serviceUserData=null;f._logErrors=!0;f._loadDocumentFromCache=d.LeadEvent.create(f,"loadDocumentFromCache");f._prepareAjax=d.LeadEvent.create(f,"prepareAjax");f._documentRefs={};return f}();e.DocumentFactory=i;var k=function(a){function b(c,d,g){a.call(this);this._sourceClass=c[0].toUpperCase()+c.substr(1,c.length-1);this._sourceMethod=d[0].toUpperCase()+d.substr(1,d.length-
1);this._settings=g;this._cancel=!1}__extends(b,a);Object.defineProperty(b.prototype,"sourceClass",{get:function(){return this._sourceClass},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"sourceMethod",{get:function(){return this._sourceMethod},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"settings",{get:function(){return this._settings},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cancel",{get:function(){return this._cancel},set:function(a){this._cancel=
a},enumerable:!0,configurable:!0});return b}(d.LeadEventArgs);e.PrepareAjaxEventArgs=k;i=function(a){function b(){a.apply(this,arguments)}__extends(b,a);b.prototype.add=function(b){return a.prototype.add.call(this,b)};b.prototype.remove=function(b){a.prototype.remove.call(this,b)};return b}(d.LeadEvent);e.PrepareAjaxEventType=i})(d.Documents||(d.Documents={}))})(lt||(lt={}));eval("ltDocumentsString = String;");
(function(d){(function(d){var h=function(){return function(){this.documentProxy=null;this.successCallbacks=[];this.failCallbacks=[];this.pagesCount=0;this.pages={}}}(),c=function(){return function(){this.pageProxy=null;this.count=0;this.successCallbacks=[];this.failCallbacks=[];this.isInRemovalQueue=!1}}(),b=function(){return function(){this.id=null;this.pageNumber=0}}(),a=function(){function a(){}Object.defineProperty(a,"removalQueueLimit",{get:function(){return a._removalQueueLimit},set:function(b){a._removalQueueLimit=
b},enumerable:!0,configurable:!0});a.loadPageFromDocument=function(b,c,d,e,f){b?a.loadPage(b.documentId,b.cacheUri,b.password,c,d,e,f):e("document does not exist",c)};a.loadPage=function(b,c,d,e,f,j,h){if(!b||!b.trim().length)j("document does not exist in cache",e);else{var m=a._proxyItems[b];m&&m.documentProxy?(m.successCallbacks=[],m.failCallbacks=[],a.loadPageFromLoadedDocument(b,e,f,j)):a.loadDocumentAsync(b,c,d,function(){a._proxyItems[b]&&a.loadPageFromLoadedDocument(b,e,f,j)},h)}};a.loadPageFromLoadedDocument=
function(b,d,e,k){var f=a._proxyItems[b],j=f.pages[d];if(j&&j.pageProxy){j.count++;var h=j.pageProxy;setTimeout(function(){e(h)},10)}else j?(j.successCallbacks.push(e),j.failCallbacks.push(k)):(j=new c,j.successCallbacks.push(e),j.failCallbacks.push(k),f.pagesCount++,f.pages[d]=j,a.processRemovalQueue(),f.documentProxy.getPage(d).then(function(c){var f=a._proxyItems[b];if(!f)return c.cleanup(),null;f=f.pages[d];if(!f)return c.cleanup(),null;f.pageProxy=c;f.count+=f.successCallbacks.length;for(var e=
0;e<f.successCallbacks.length;e++)(0,f.successCallbacks[e])(c)||f.count--;f.successCallbacks=[];f.failCallbacks=[];a.tryAddToRemovalQueue(f,b,d);return null},function(c){var f=a._proxyItems[b];if(f){var e=f.pages[d];if(e){for(var p=0;p<e.failCallbacks.length;p++)e.failCallbacks[p](c,d);e.successCallbacks=null;e.failCallbacks=null;f.pagesCount--;f.pages[d]=null}}}))};a.getExistingDocument=function(b){return!b||!b.trim().length?null:(b=a._proxyItems[b])&&b.documentProxy?b.documentProxy:null};a.loadDocumentAsync=
function(b,c,d,e,f){var j=a._proxyItems[b];j?(j.successCallbacks.push(e),j.failCallbacks.push(f)):(j=new h,j.successCallbacks.push(e),j.failCallbacks.push(f),a._proxyItems[b]=j,window.PDFJS.getDocument({url:c,password:d}).then(function(c){var d=a._proxyItems[b];if(!d)return c.destroy(),null;d.documentProxy=c;for(c=0;c<d.successCallbacks.length;c++)d.successCallbacks[c]();d.successCallbacks=[];d.failCallbacks=[];return null},function(c){var d=a._proxyItems[b];if(d){for(var f=0;f<d.failCallbacks.length;f++)d.failCallbacks[f](c,
-1);d.successCallbacks=null;d.failCallbacks=null;a._proxyItems[b]=null}}))};a.releasePage=function(b,c){if(b&&b.trim().length){var d=a._proxyItems[b];if(d&&(d=d.pages[c]))d.count--,a.tryAddToRemovalQueue(d,b,c)}};a.tryAddToRemovalQueue=function(c,d,e){if(0===c.count&&!c.isInRemovalQueue){var k=new b;k.id=d;k.pageNumber=e;a._removalQueue.push(k);c.isInRemovalQueue=!0}};a.processRemovalQueue=function(){var b=a._removalQueue;if(b&&b.length){for(var c=[],d=0,e=-1,f=-1,j=b.length-1;0<=j;j--){var h=b[j],
m=a._proxyItems[h.id];if(m){var l=m.pages[h.pageNumber];l?0!==l.count?(l.isInRemovalQueue=!1,b[j]=null):d<a.removalQueueLimit?(d++,-1==f?f=j:e=j):(l.pageProxy&&(l.pageProxy.cleanup(),l.pageProxy=null),l.successCallbacks=null,l.failCallbacks=null,m.pagesCount--,m.pages[h.pageNumber]=null,0===m.pagesCount&&(m.documentProxy&&(m.documentProxy.destroy(),m.documentProxy=null),m.successCallbacks=null,m.failCallbacks=null,a._proxyItems[h.id]=null),b[j]=null):b[j]=null}else b[j]=null}if(-1==e)-1!=f&&c.push(b[f]);
else for(j=e;j<=f;j++)h=b[j],null!=h&&c.push(h);a._removalQueue=c}};a._proxyItems={};a._removalQueue=[];a._removalQueueLimit=10;return a}();d.PDFProxyCache=a})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function b(){}Object.defineProperty(b,"isPDFRenderingSupported",{get:function(){var a=window.PDFJS;if("undefined"===typeof a||!a||!a.getDocument)return!1;switch(d.LTHelper.browser){case d.LTBrowser.chrome:case d.LTBrowser.opera:case d.LTBrowser.firefox:case d.LTBrowser.safari:return!0;case d.LTBrowser.internetExplorer:return 10<=d.LTHelper.version&&d.LTHelper.device===d.LTDevice.desktop;case d.LTBrowser.edge:return d.LTHelper.device===d.LTDevice.desktop;
default:return!1}},enumerable:!0,configurable:!0});b.canRenderPage=function(a){return!!a.document&&!a.isLocal&&"application/pdf"===a.document.mimeType&&!!a.document.cacheUri&&!!a.document.cacheUri.trim().length};b.getDeviceScaling=function(a){return(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)};b.internalDisposeCanvasElement=function(a){a&&(a.parentNode&&a.parentNode.removeChild(a),
a.width=0,a.height=0)};b.disposeCanvasElement=function(a,c){c&&d.LTHelper.browser==d.LTBrowser.firefox?setTimeout(function(){b.internalDisposeCanvasElement(a)},1E3):b.internalDisposeCanvasElement(a)};b.disposeImageElement=function(a){a&&(a.parentNode&&a.parentNode.removeChild(a),a.src=b._smallestPossibleImageSrc)};b.removeTransitions=function(a){if(a){var b=null;void 0!==a.style.transition?b="transition":void 0!==a.style.webkitTransition?b="webkitTransition":void 0!==a.style.msTransition&&(b="msTransition");
a.style[b]="none"}};b._smallestPossibleImageSrc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";return b}();e.PDFRender=h;var c=function(){function b(){var a=this;this._done=null;this._isTaskCancelling=!1;this._task=null;this._promiseSuccess=function(){a._task=null;var b=!1;a._isTaskCancelling&&(a._isTaskCancelling=!1,b=!0);a._done&&a._done(a,b,null);return null};this._promiseFailure=function(b){a._task=null;var c=a._isTaskCancelling=!1,d=null;"cancelled"==b?c=!0:
d=Error(b);a._done&&a._done(a,c,d)}}Object.defineProperty(b.prototype,"done",{get:function(){return this._done},set:function(a){this._done=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isTaskCancelling",{get:function(){return this._isTaskCancelling},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isTaskRunning",{get:function(){return!!this._task},enumerable:!0,configurable:!0});b.prototype.cancel=function(){!this._isTaskCancelling&&this.isTaskRunning&&(this._task.cancel(),
this._isTaskCancelling=!0)};b.prototype.tryRender=function(a,c,d,e,p,k,f){if(this._isTaskCancelling)return!1;if(this.isTaskRunning)return this.cancel(),!1;this._task=b.render(a,c,d,e,p,k,f);this._task.then(this._promiseSuccess,this._promiseFailure);return this.isTaskRunning};b.render=function(a,b,c,d,p,k,f){b._transformMatrix&&(b._transformMatrix=[1,0,0,1,0,0]);e.PDFText.assignDefaultDrawText(b);c=Math.max(c,d)/Math.max(a.view[2]-a.view[0],a.view[3]-a.view[1]);c=a.getViewport(c);c.transform[4]-=p;
c.transform[5]-=k;return a.render({canvasContext:b,transform:1===f?null:[f,0,0,f,0,0],viewport:c})};b.prototype.dispose=function(){this.cancel();this._done=this._task=null};return b}();e.PDFPageRenderer=c;c=function(){function b(a){this._element=null;if(b._useCanvas)this._element=a;else{var c=document.createElement("img");c.src=a.toDataURL("image/png");this._element=c;h.disposeCanvasElement(a,!1)}}Object.defineProperty(b.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0});
b.prototype.dispose=function(a){b._useCanvas?h.disposeCanvasElement(this._element,a):h.disposeImageElement(this._element);this._element=null};b._useCanvas=!(d.LTHelper.browser==d.LTBrowser.safari&&d.LTHelper.OS==d.LTOS.iOS);b._init=void 0;return b}();e.RenderElement=c})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(e){var h=function(){function c(){}c.assignDefaultDrawText=function(b){b.fillText===CanvasRenderingContext2D.prototype.fillText&&(b.fillText=c.default_FillText);b.strokeText===CanvasRenderingContext2D.prototype.strokeText&&(b.strokeText=c.default_StrokeText)};c.getTextForDocumentPage=function(b,a){if(b)if(b.document){var d=b.document;c.getText(d.documentId,d.cacheUri,d.password,b.originalPageNumber,b.size,function(c,d){c&&b.processPageText(c);a(c,d)})}else a(null,Error("page is not a part of a document"));
else a(null,Error("page cannot be null"))};c.getText=function(b,a,d,n,i,p){var k=function(a){p(null,Error(a))};e.PDFProxyCache.loadPage(b,a,d,n,function(a){c._getTextFromPage(a,i,function(a,c){e.PDFProxyCache.releasePage(b,n);p(a,c)});return!0},k,k)};c._getTextFromPage=function(b,a,g){var n=document.createElement("canvas");n.width=1;n.height=1;var i=n.getContext("2d"),p=b.view[2]-b.view[0],k=b.view[3]-b.view[1],f=[],j=new d.TextFontRuler(null);c._attachCustomDrawText(i,f,j);var h=new e.PDFPageRenderer;
h.done=function(b,i,h){j.dispose();b.done=null;e.PDFRender.disposeCanvasElement(n,!1);i||h?g(null,Error(i?"cancelled":h.message)):(i=c._createDocumentPageText(f,d.LeadSizeD.create(p,k),a),g(i,null));b.dispose()};h.tryRender(b,i,p,k,0,0,1)};c._measureText=function(b,a,c,d){if(0<c.font.widths.length){var e=c.font.widths[d.charCodeAt(0)];if(!isNaN(e))return e*=c.fontSize/c.fontSizeScale/1E3}a.font=b.font;return a.measure(d).width};c._attachCustomDrawText=function(b,a,c){var e=this,i=function(b,i,f,h,
o,m,l){isNaN(l)&&l&&h&&h.length&&h.trim().length&&(i=e._measureText(b,c,l,h),f=d.LTHelper.browser===d.LTBrowser.firefox?b.mozCurrentTransform:b._transformMatrix,f=Array.prototype.slice.apply(f),a.push({text:h,x:o,y:m,textWidth:i,spaceWidth:e._measureText(b,c,l," "),contextTransform:f,isRightToLeft:-1===l.fontDirection,fontSize:l.fontSize,fontSizeScale:l.fontSizeScale,fontAscent:l.font.ascent,fontDescent:l.font.descent}))};b.fillText=function(a,b,c,d){i(this,CanvasRenderingContext2D.prototype.fillText,
!1,a,b,c,d)};b.strokeText=function(a,b,c,d){i(this,CanvasRenderingContext2D.prototype.strokeText,!0,a,b,c,d)}};c._createDocumentPageText=function(b,a,c){if(!b||!b.length||a.isEmpty)return null;var n=[],i=d.LeadMatrix.identity,h=d.LeadRectD.create(0,0,0,0),c=c.height/a.height,a=d.LeadMatrix.identity;a.scale(c,c);for(c=0;c<b.length;c++){var k=b[c];if(k){var f=k.text;if(f&&0!==f.trim().length){var i=k.contextTransform,i=d.LeadMatrix.create(i[0],i[1],i[2],i[3],i[4],i[5]),h=k.fontSize/k.fontSizeScale,
j=k.fontAscent,o=k.fontDescent;if(1<j-o)var m=1/(j-o),j=j*m,o=o*m;h=d.LeadRectD.create(k.x,k.y-h*j,k.textWidth,h*(j-o));h=i.transformRect(h);h=a.transformRect(h);i=k.spaceWidth*(h.width/k.textWidth);j=new e.DocumentCharacter;j.code=f;j.bounds=h;j.isRightToLeft=k.isRightToLeft;j.spaceWidth=i;n.push(j)}}}e.Internal.DocumentTextSorter.sortCharacters(n);return new e.DocumentPageText(n)};c.default_FillText=null;c.default_StrokeText=null;c._init=function(){c.default_FillText=function(b,a,c,d){isNaN(d)?
CanvasRenderingContext2D.prototype.fillText.call(this,b,a,c):CanvasRenderingContext2D.prototype.fillText.call(this,b,a,c,d)};c.default_StrokeText=function(b,a,c,d){isNaN(d)?CanvasRenderingContext2D.prototype.strokeText.call(this,b,a,c):CanvasRenderingContext2D.prototype.strokeText.call(this,b,a,c,d)}}();return c}();e.PDFText=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(d){var h=function(){function c(b,a,c,d,e,h,k,f,j){this._message=b;this._detail=a;this._code=c;this._link=d;this._exceptionType=e;this._methodName=h;this._jqXHR=k;this._statusText=f;this._errorThrown=j;this._isAbortError=!k&&"abort"===f&&!j;this._isParseError="parsererror"==f&&!!j;this._isCancelError=!k&&"Canceled"===f&&"Canceled"===j;this._isBrowserError="browsererror"==f&&!!j}Object.defineProperty(c.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"code",{get:function(){return this._code},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"link",{get:function(){return this._link},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"exceptionType",{get:function(){return this._exceptionType},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"methodName",
{get:function(){return this._methodName},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"jqXHR",{get:function(){return this._jqXHR},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"statusText",{get:function(){return this._statusText},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"errorThrown",{get:function(){return this._errorThrown},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isAbortError",{get:function(){return this._isAbortError},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isParseError",{get:function(){return this._isParseError},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isCancelError",{get:function(){return this._isCancelError},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isBrowserError",{get:function(){return this._isBrowserError},enumerable:!0,configurable:!0});c.parseError=function(b,a,g){if(!b&&!a&&!g)return new c(null,null,null,null,null,null,null,
"abort",null);if(!b&&"Canceled"===a&&"Canceled"===g||!b&&"browsererror"===a)return new c(null,null,null,null,null,null,null,a,g);var n=null;try{n=JSON.parse(b.responseText)}catch(i){return d.DocumentFactory.log("Could not parse JSON from Error"),new c(null,null,null,null,null,null,b,a||"parsererror",g?g:"The response error object could not be parsed from JSON.")}return new c(n.message,n.detail,n.code,n.link,n.exceptionType,n.methodName,b,a,g)};return c}();d.ServiceError=h})(d.Documents||(d.Documents=
{}))})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));
(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));
(function(d){(function(e){(function(h){var c=function(){function b(){}b.createFullUrl=function(a,b){var c=a+"?",d=Object.keys(b);d.forEach(function(a,e){c+=a+"="+b[a];e!=d.length-1&&(c+="&")});return c};b.createBaseUrl=function(a,b){return d.Documents.DocumentFactory.serviceUri+"/"+a+"/"+b};b.doGenericElementLoad=function(a,b,c,i,p,k){var f=this,j=!!b,o=j?b.urlMode:e.DocumentImages.elementUrlMode,m=h.ImageRequestHelper.createAjaxSettings(o,c,j?b.ajaxOptions.method:e.DocumentImages.elementAjaxMethod,
i);j||(b=new d.ImageLoader,b.urlMode=o);var l;l=function(d,j){b.preRun.remove(l);var o=false;m&&!e.DocumentFactory.doPrepareAjax(f,p,k,m)&&(o=true);m?h.ImageRequestHelper.setAjaxSettings(b,m):b.url=h.ImageRequestHelper.createFullUrl(c,i);h.ImageRequestHelper.setImageLoaderCallbacks(b,a);if(o){a.reject(null,"Canceled","Canceled").promise();j.cancel=true}};b.preRun.add(l);j||b.run();return a.promise()};b.createAjaxSettings=function(a,b,c,i){if(a===d.ImageLoaderUrlMode.imageUrl)return null;c||(c=e.DocumentImages.elementAjaxMethod);
a={url:b,type:c,method:c};"post"===c.toLowerCase()?(a.contentType="application/json; charset=utf-8",a.data=JSON.stringify(i)):a.data=i;return a};b.setAjaxSettings=function(a,b){var c=a.ajaxOptions,d=b.headers;d&&Object.keys(d).forEach(function(a){c.headers[a]=d[a]});c.method=b.method||b.type;if(c.method)if("get"===c.method.toLowerCase())a.url=h.ImageRequestHelper.createFullUrl(b.url,b.data);else if("post"===c.method.toLowerCase()){if(!d||!d["content-type"]&&!d.contentType)c.headers["content-type"]=
b.contentType;a.url=b.url;c.postData=b.data}};b.setImageLoaderCallbacks=function(a,b){var c=function(a){b.resolve(a.element)},d=function(a){e.DocumentFactory.log(a.error.message);b.reject(null,"error",a.error)},h;h=function(){a.done.remove(c);a.fail.remove(d);a.always.remove(h)};a.done.add(c);a.fail.add(d);a.always.add(h)};return b}();h.ImageRequestHelper=c;c=function(){function b(){}b.formatDate=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getFullYear(),e=a.getHours(),h=11<e?"PM":"AM";12<e&&
(e-=12);0===e&&(e=12);var f=a.getMinutes();10>f&&(f="0"+f);a=a.getSeconds();10>a&&(a="0"+a);return b+"/"+c+"/"+d+" "+e+":"+f+":"+a+" "+h};return b}();h.Formatting=c;c=function(){function b(){}b.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})};return b}();h.Guid=c;c=function(){function b(){}b.copyMatchingProperties=function(a,b,c){Object.getOwnPropertyNames(b).forEach(function(h){if(1<h.length&&
"_"===h.charAt(0)&&"_"!==h.charAt(1)){var p=h.substr(1);if(!(null!=c&&-1!=c.indexOf(p))){if(!a.hasOwnProperty(p))return e.DocumentFactory.log("Missing required property: "+p),!1;var k=b[h],p=a[p];b[h]=k instanceof Date?new Date(Date.parse(p)):k instanceof d.LeadPointD?d.LeadPointD.fromJSON(p):k instanceof d.LeadSizeD?d.LeadSizeD.fromJSON(p):k instanceof d.LeadRectD?d.LeadRectD.fromJSON(p):k instanceof d.Documents.ConvertItem?d.Documents.ConvertItem.fromJson(p):p}}});return!0};return b}();h.PropertyBag=
c;c=function(){function b(){}b.slice=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.byteLength);b=Math.floor(b);c=Math.floor(c);0>b&&(b+=a.byteLength);0>c&&(c+=a.byteLength);b=Math.min(Math.max(0,b),a.byteLength);c=Math.min(Math.max(0,c),a.byteLength);if(0>=c-b)return new ArrayBuffer(0);var d=new ArrayBuffer(c-b),e=new Uint8Array(d),a=new Uint8Array(a,b,c-b);e.set(a);return d};return b}();h.ArrayBufferSlicer=c;c=function(){function b(){}b._sortElementsXY=function(a,b){return a.bounds.top===b.bounds.top?
Math.floor(a.bounds.left-b.bounds.left):Math.floor(a.bounds.top-b.bounds.top)};b._compareElements=function(a,b){return b.bounds.left<a.bounds.left&&(b.bounds.top>a.bounds.top&&b.bounds.top+0.3*b.bounds.height<a.bounds.bottom||b.bounds.bottom>a.bounds.top&&b.bounds.bottom-0.3*b.bounds.height<a.bounds.top||2>=Math.abs(b.bounds.top+b.bounds.height/2-(a.bounds.top+a.bounds.height/2))||b.bounds.top>a.bounds.top&&b.bounds.top<a.bounds.bottom&&b.bounds.right>a.bounds.left&&b.bounds.right<a.bounds.right)};
b._swapElements=function(a,b,c){var d=a[b];a[b]=a[c];a[c]=d};b._sortTextLines=function(a){var c=!1;do{for(var c=!1,d=0;d<=a.length-2;d++){var e=b._compareElements(a[d],a[d+1]);e&&(b._swapElements(a,d,d+1),c=!0)}if(!c)break;c=!1;for(d=a.length-2;0<=d;d--)if(e=b._compareElements(a[d],a[d+1]))b._swapElements(a,d,d+1),c=!0}while(c)};b._markEndOfLine=function(a){a.isEndOfWord=!0;a.isEndOfLine=!0;a.isLineBreak=!0};b._markLineBreak=function(a){a.isEndOfWord=!0;a.isLineBreak=!0};b._setCharactersFlags=function(a){for(var c=
!1,d=[],e=0;e<a.length-1;e++){var h=a[e],k=a[e+1],f=h.bounds.height*b.LINE_MAX_TOLERANCE;if(k.bounds.top+k.bounds.height*b.LINE_MAX_TOLERANCE>=h.bounds.top+h.bounds.height||k.bounds.top>=h.bounds.top+h.bounds.height-f)b._markEndOfLine(h),c=!0,d.push(e);else{var f=h.spaceWidth*b.SPACE_MAX_TOLERANCE,j=k.bounds.left,o=h.bounds.right;Math.ceil(o+f)<Math.floor(j)&&(h.isEndOfWord=!0);Math.ceil(o+6*f)<Math.floor(j)&&(b._markLineBreak(h),d.push(e))}if(c){for(c=0;c<d.length;c++)h=d[c],a[h].bounds.bottom+(a[h].bounds.height+
k.bounds.height)/2<k.bounds.top&&(a[h].isEndOfParagraph=!0);d=[];c=!1}}for(c=0;c<d.length;c++)h=d[c],a[h].isEndOfParagraph=!0;a=a[a.length-1];b._markEndOfLine(a);a.isEndOfParagraph=!0};b.sortCharacters=function(a){if(!a)throw"chars cannot be null";a.length&&(a.sort(b._sortElementsXY),b._sortTextLines(a),b._setCharactersFlags(a))};b.LINE_MAX_TOLERANCE=0.125;b.SPACE_MAX_TOLERANCE=0.33;return b}();h.DocumentTextSorter=c})(e.Internal||(e.Internal={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));

/**************************************************
LEADTOOLS (C) 1991-2017 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Documents.UI.js
// Version:19.0.0.52
(function(){Type.registerNamespace("lt.Documents.UI");window.lt.Documents.UI._lT_VersionNumber=function(){};lt.Documents.UI.DocumentViewerOperation=function(){};lt.Documents.UI.DocumentViewerOperation.prototype={setDocument:0,loadingThumbnails:1,getThumbnail:2,loadingPages:3,getPage:4,runCommand:5,gotoPage:6,itemTypeChanged:7,getText:8,pageTextSelectionChanged:9,textSelectionChanged:10,renderItemPlaceholder:11,renderSelectedText:12,gotoBookmark:13,runLink:14,loadingAnnotations:15,getAnnotations:16,
createAutomation:17,destroyAutomation:18,automationStateChanged:19,selectedTextToReviewObject:20,loadingBookmarks:21,hoverLink:22,printPages:23,pagesAdded:24,pagesRemoved:25,findText:26,renderFoundText:27};lt.Documents.UI.DocumentViewerOperation.registerEnum("lt.Documents.UI.DocumentViewerOperation",!1);lt.Documents.UI.DocumentViewerFindTextStart=function(){};lt.Documents.UI.DocumentViewerFindTextStart.prototype={beginPosition:0,inSelection:1,afterSelection:2,manualPosition:3};lt.Documents.UI.DocumentViewerFindTextStart.registerEnum("lt.Documents.UI.DocumentViewerFindTextStart",
!1);lt.Documents.UI.DocumentViewerSelectTextMode=function(){};lt.Documents.UI.DocumentViewerSelectTextMode.prototype={line:0,word:1,character:2};lt.Documents.UI.DocumentViewerSelectTextMode.registerEnum("lt.Documents.UI.DocumentViewerSelectTextMode",!1);lt.Documents.UI.DocumentViewerLineSelectionMode=function(){};lt.Documents.UI.DocumentViewerLineSelectionMode.prototype={auto:0,columns:1,flowText:2};lt.Documents.UI.DocumentViewerLineSelectionMode.registerEnum("lt.Documents.UI.DocumentViewerLineSelectionMode",
!1);lt.Documents.UI.PrintOrientation=function(){};lt.Documents.UI.PrintOrientation.prototype={portrait:0,landscape:1};lt.Documents.UI.PrintOrientation.registerEnum("lt.Documents.UI.PrintOrientation",!1);lt.Documents.UI.DocumentPrintPageAction=function(){};lt.Documents.UI.DocumentPrintPageAction.prototype={auto:0,remove:1,manual:2};lt.Documents.UI.DocumentPrintPageAction.registerEnum("lt.Documents.UI.DocumentPrintPageAction",!1);lt.Documents.UI.DocumentViewerItemType=function(){};lt.Documents.UI.DocumentViewerItemType.prototype=
{image:0,svg:1};lt.Documents.UI.DocumentViewerItemType.registerEnum("lt.Documents.UI.DocumentViewerItemType",!1);lt.Documents.UI.DocumentViewerAsyncOperation=function(){};lt.Documents.UI.DocumentViewerAsyncOperation._run=function(a,b){if(null==a)throw new lt.ArgumentNullException("operation");setTimeout(function(){try{b(),null!=a.get_done()&&a.get_done()(a)}catch(c){null!=a.get_error()&&a.get_error()(a,c)}finally{null!=a.get_always()&&a.get_always()(a)}},0)};lt.Documents.UI.DocumentViewerAsyncOperation.prototype=
{_userState:null,get_userState:function(){return this._userState},set_userState:function(a){return this._userState=a},_done:null,get_done:function(){return this._done},set_done:function(a){return this._done=a},_error:null,get_error:function(){return this._error},set_error:function(a){return this._error=a},_always:null,get_always:function(){return this._always},set_always:function(a){return this._always=a}};Object.defineProperty(lt.Documents.UI.DocumentViewerAsyncOperation.prototype,"userState",{get:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.get_userState,
set:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.set_userState,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAsyncOperation.prototype,"done",{get:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.get_done,set:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.set_done,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAsyncOperation.prototype,"error",{get:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.get_error,
set:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.set_error,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAsyncOperation.prototype,"always",{get:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.get_always,set:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.set_always,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerAnnotations=function(a){this._documentViewer=a};lt.Documents.UI.DocumentViewerAnnotations._updateContainers=function(a){if(null!=
a.get_containers())for(var b=1,a=ss.IEnumerator.getEnumerator(a.get_containers());a.moveNext();)a.current.set_pageNumber(b++)};lt.Documents.UI.DocumentViewerAnnotations._getRendererKeys=function(a){var b=[],c;for(c in a)b.push(c);return b};lt.Documents.UI.DocumentViewerAnnotations.prototype={_destroy:function(a){a&&(this._stopWorking(),null!=this._automationManager&&(this._automationManager.remove_userModeChanged(ss.Delegate.create(this,this._automationManager_UserModeChanged)),this._automationManager=
null),a=Type.safeCast(this._automationControl,lt.Documents.UI.ImageViewerAutomationControl),null!=a&&a.dispose(),this._automationControl=null)},_documentViewer:null,get_documentViewer:function(){return this._documentViewer},_automationManager:null,get_automationManager:function(){return this._automationManager},_automation:null,get_automation:function(){return this._automation},_automationControl:null,get_automationControl:function(){return this._automationControl},_interactiveMode:null,get_interactiveMode:function(){return this._interactiveMode},
isContainerModified:function(a){if(!this._documentViewer.get_hasDocument())return!1;this._documentViewer._checkPageNumber(a,!0,"pageNumber");if(a)return this._automation.get_containers().get_item(a-1).get_isModified();for(var a=this._documentViewer.get_document().pages.get_count(),b=1;b<=a;b++)if(this._automation.get_containers().get_item(b-1).get_isModified())return!0;return!1},setContainerModified:function(a,b){if(this._documentViewer.get_hasDocument()){this._documentViewer._checkPageNumber(a,!0,
"pageNumber");a&&this._automation.get_containers().get_item(a-1).set_isModified(b);for(var c=this._documentViewer.get_document().pages.get_count(),d=1;d<=c;d++)this._automation.get_containers().get_item(d-1).set_isModified(b)}},_init:function(){var a=new lt.Documents.UI.ImageViewerAutomationControl;a.set__multiContainerMode(1);a.set_imageViewer(this._documentViewer.get_view().get_imageViewer());var b=new lt.Documents.UI.AnnotationsInteractiveMode;b.set_automationControl(a);this._automationControl=
a;this._interactiveMode=b;this._automationManager=new lt.Annotations.Automation.AnnAutomationManager;this._automationManager.set_redactionRealizePassword("");this._automationManager.set_deselectOnDown(!1);this._automationManager.set_forceSelectionModifierKey(!0);this._automationManager.set_endEditDesignerBeforeDraw(!1);this._automationManager.set_restrictDesigners(!0);this._automationManager.add_userModeChanged(ss.Delegate.create(this,this._automationManager_UserModeChanged));this._updateUseRotateThumbs()},
_automationManager_UserModeChanged:function(){this._updateThumbnails(!0)},get_isLoading:function(){return null!=this._annotationsWorker&&this._annotationsWorker.get_isWorking()},_annotationsWorker:null,_workerContainers:null,_startWorking:function(){this._stopWorking();if(this._documentViewer.get_hasDocument()){var a=new lt.Documents.UI.DocumentViewerOperationEventArgs(15,null,null,null,0,!1);this._documentViewer.onOperation(a);if(!a.get_abort()){a=this._documentViewer.get_document();this._setupPageAnnotations(a);
var b=a.pages.get_count();this._workerContainers=Array(b);this._annotationsWorker=new lt.Documents.UI._annotationsWorker;this._annotationsWorker.add_preProcessItem(ss.Delegate.create(this,this._annotationsWorker_PreProcessItem));this._annotationsWorker.add_postProcessItem(ss.Delegate.create(this,this._annotationsWorker_PostProcessItem));this._annotationsWorker.add_completed(ss.Delegate.create(this,this._annotationsWorker_Completed));this._annotationsWorker.start(a)}}},_stopWorking:function(){this._deleteWorker();
if(null!=this._automation){var a=new lt.Documents.UI.DocumentViewerOperationEventArgs(18,null,this._automation,null,0,!1);this._documentViewer.onOperation(a);if(!a.get_abort()){this._automation.remove_currentDesignerChanged(ss.Delegate.create(this,this._automation_CurrentDesignerChanged));this._automation.remove_dragDrop(ss.Delegate.create(this,this._automation_DragDrop));this._automation.remove_activeContainerChanged(ss.Delegate.create(this,this._automation_ActiveContainerChanged));this._automation.remove_afterObjectChanged(ss.Delegate.create(this,
this._automation_AfterObjectChanged));this._automation.remove_afterUndoRedo(ss.Delegate.create(this,this._automation_AfterUndoRedo));this._automation.get_containers().clear();for(var a=-1,b=this._automationManager.get_automations().get_count(),c=0;c<b&&-1===a;c++)this._automationManager.get_automations().get_item(c)===this._automation&&(a=c);-1!==a&&this._automationManager.get_automations().removeAt(a);this._automation=null;this._ensureSelectObject();a=new lt.Documents.UI.DocumentViewerOperationEventArgs(18,
null,null,null,0,!0);this._documentViewer.onOperation(a)}}},_deleteWorker:function(){null!=this._annotationsWorker&&(this._annotationsWorker.stop(),this._annotationsWorker.remove_preProcessItem(ss.Delegate.create(this,this._annotationsWorker_PreProcessItem)),this._annotationsWorker.remove_postProcessItem(ss.Delegate.create(this,this._annotationsWorker_PostProcessItem)),this._annotationsWorker.remove_completed(ss.Delegate.create(this,this._annotationsWorker_Completed)),this._annotationsWorker.dispose(),
this._annotationsWorker=null,this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(15,null,null,null,0,!0)))},_createAutomation:function(){this._deleteWorker();var a=this._documentViewer.get_document();if(null!=a){var b=new lt.Documents.UI.DocumentViewerOperationEventArgs(17,null,null,null,0,!1);this._documentViewer.onOperation(b);b.get_abort()||(this._ensureSelectObject(),this._automation=new lt.Annotations.Automation.AnnAutomation(this._automationManager,this._automationControl),
this._automation.set_enableDragDrop(!0),this._automation.get_containers().clear(),this._automation.add_currentDesignerChanged(ss.Delegate.create(this,this._automation_CurrentDesignerChanged)),this._automation.add_dragDrop(ss.Delegate.create(this,this._automation_DragDrop)),this._automation.add_activeContainerChanged(ss.Delegate.create(this,this._automation_ActiveContainerChanged)),this._automation.add_afterObjectChanged(ss.Delegate.create(this,this._automation_AfterObjectChanged)),this._automation.add_afterUndoRedo(ss.Delegate.create(this,
this._automation_AfterUndoRedo)),this._addPages(lt.Documents.UI._documentViewerHelper.getAsList(a.pages),0),b=new lt.Documents.UI.DocumentViewerOperationEventArgs(17,null,this._automation,null,0,!0),this._documentViewer.onOperation(b),null!=this._documentViewer.get_thumbnails()&&this._documentViewer.get_thumbnails().invalidate(lt.LeadRectD.get_empty()),this._workerContainers=null)}},_pageAnnotationsKey:null,_setupPageAnnotations:function(a){this._pageAnnotationsKey=null!=a?a.documentId+"_annotations_":
null},_getPageContainer:function(a){a=a.customData;return Object.keyExists(a,this._pageAnnotationsKey)?Type.safeCast(a[this._pageAnnotationsKey],lt.Annotations.Core.AnnContainer):null},_setPageContainer:function(a,b){a.customData[this._pageAnnotationsKey]=b},_addPages:function(a,b){if(null!=a&&a.length){this._documentViewer.get_document();var c=b,d=this._documentViewer.get_view().get_imageViewer();d.beginUpdate();this._beginCreateAutomationLoop();for(var e=ss.IEnumerator.getEnumerator(a);e.moveNext();){var g=
e.current,f=g.size,h=g.resolution,i=null;null!=this._workerContainers&&c<this._workerContainers.length&&(i=this._workerContainers[c]);null==i&&(i=this._getPageContainer(g));null==i&&(i=new lt.Annotations.Core.AnnContainer,i.set_size(f),i.get_mapper().mapResolutions(h,h,h,h));this._setPageContainer(g,i);i.get_mapper().set_fontRelativeToDevice(!1);this._automation.get_containers().insert(c,i);c++;this._automation.get_active()||this._automation.set_active(!0)}lt.Documents.UI.DocumentViewerAnnotations._updateContainers(this._automation);
this._endCreateAutomationLoop();d.endUpdate();setTimeout(ss.Delegate.create(this,function(){this._documentViewer.get_view().invalidate(lt.LeadRectD.get_empty())}),0)}},_removePages:function(a,b){if(null!=a&&a.length){this._documentViewer.get_document();var c=a.length,d=this._documentViewer.get_view().get_imageViewer();for(d.beginUpdate();0<c;)this._automation.get_containers().removeAt(b),c--;lt.Documents.UI.DocumentViewerAnnotations._updateContainers(this._automation);d.endUpdate();setTimeout(ss.Delegate.create(this,
function(){this._documentViewer.get_view().invalidate(lt.LeadRectD.get_empty())}),0)}},_annotationsWorker_PreProcessItem:function(){},_annotationsWorker_PostProcessItem:function(a,b){ss.Delegate.create(this,function(a,b){if(!(null==this._annotationsWorker||this._annotationsWorker.get_isCancelPending()||this._annotationsWorker!==b.get__itemsWorker())){var e=b.get_itemIndex();if(e){if(0>e||null==this._workerContainers||e>=this._workerContainers.length)return}else if(null==this._workerContainers)return;
if(e){g=new lt.Documents.UI.DocumentViewerOperationEventArgs(16,null,null,null,e+1,!1);this._documentViewer.onOperation(g);if(g.get_abort())return;g=Type.safeCast(b.get_data1(),lt.Annotations.Core.AnnContainer);this._workerContainers[e]=g;g=null!=g&&null==b.get_error()?new lt.Documents.UI.DocumentViewerOperationEventArgs(16,null,g,null,e+1,!0):new lt.Documents.UI.DocumentViewerOperationEventArgs(16,b.get_error(),null,null,e+1,!0)}else{var g=new lt.Documents.UI.DocumentViewerOperationEventArgs(16,
null,null,null,0,!1);this._documentViewer.onOperation(g);if(g.get_abort())return;e=Type.safeCast(b.get_data1(),Array);if(null!=e)for(g=0;g<e.length;g++)g<this._workerContainers.length&&(this._workerContainers[g]=e[g]);g=null!=e&&null==b.get_error()?new lt.Documents.UI.DocumentViewerOperationEventArgs(16,null,this._workerContainers,null,0,!0):new lt.Documents.UI.DocumentViewerOperationEventArgs(16,b.get_error(),null,null,0,!0)}this._documentViewer.onOperation(g)}})(this,b)},_annotationsWorker_Completed:function(a,
b){if(!(null==this._annotationsWorker||this._annotationsWorker.get_isCancelPending()||this._annotationsWorker!==b.get__itemsWorker())){var c=ss.Delegate.create(this,function(){this._createAutomation()});lt.Documents.UI._invoker.beginInvoke0(this._documentViewer.get_view().get_imageViewer(),c)}},_automation_CurrentDesignerChanged:function(){var a=new lt.Documents.UI.DocumentViewerOperationEventArgs(19,null,null,null,0,!1);this._documentViewer.onOperation(a);if(null!=this._automation.get_currentEditObject())a=
this._automation.getObjectInvalidateRect(this._automation.get_currentEditObject()),this._documentViewer.get_view().get_imageViewer().ensureBoundsVisible(a),this._documentViewer.get_text().hasSelectedText(0)&&this._documentViewer.get_text().clearSelection(0);else{var b=Type.safeCast(this._automation.get_currentDesigner(),lt.Annotations.Designers.AnnDrawDesigner);if(null!=b){var c=Type.safeCast(b,lt.Documents.UI._textReviewDrawDesigner);null!=c&&(a=this._automation.get_activeContainer().get_pageNumber(),
this._documentViewer.get_text().hasSelectedText(a)?(b=Type.safeCast(b.get_targetObject().clone(),lt.Annotations.Core.AnnTextReviewObject),this._automation.endDesigner(),this.selectedTextToReviewObject(a,b)):c.set_documentViewer(this._documentViewer))}}a=new lt.Documents.UI.DocumentViewerOperationEventArgs(19,null,null,null,0,!0);this._documentViewer.onOperation(a)},_automation_DragDrop:function(a,b){null==b.get_targetContainer()&&b.set_allowed(!1)},_automation_ActiveContainerChanged:function(){lt.Documents.UI.DocumentViewerAnnotations._updateContainers(this._automation);
this._automationControl.automationInvalidate(lt.LeadRectD.get_empty())},_automation_AfterObjectChanged:function(a,b){if(null!=b.get_objects()&&b.get_objects().get_count())switch(b.get_changeType()){case lt.Annotations.Automation.AnnObjectChangedType.designerEdit:var c=Type.safeCast(this._automation.get_currentDesigner(),lt.Annotations.Designers.AnnEditDesigner);null!=c&&c.get_isModified()&&(this._internalSetContainerModified(this._automation.get_activeContainer()),this._updateObjectsMetadata(b.get_objects()),
c.set_isModified(!1));break;case lt.Annotations.Automation.AnnObjectChangedType.none:break;default:this._internalSetContainerModified(this._automation.get_activeContainer()),this._updateObjectsMetadata(b.get_objects())}},_internalSetContainerModified:function(a){null!=a&&a.set_isModified(!0)},_automation_AfterUndoRedo:function(){this._updateThumbnails(!1)},_updateObjectsMetadata:function(a){if(null!=a&&a.get_count()){for(var b=lt.Annotations.Core.AnnObject.dateToString(Date.get_now()),c=[lt.Annotations.Core.AnnObject.authorMetadataKey,
lt.Annotations.Core.AnnObject.createdMetadataKey,lt.Annotations.Core.AnnObject.modifiedMetadataKey],b=[this._documentViewer.get_userName(),b,b],d=[!0,!1,!0],a=ss.IEnumerator.getEnumerator(a);a.moveNext();)this._updateObjectMetadata(a.current,c,b,d);this._updateThumbnails(!1)}},_updateObjectMetadata:function(a,b,c,d){var e=Type.safeCast(a,lt.Annotations.Core.AnnSelectionObject);if(null!=e)for(a=ss.IEnumerator.getEnumerator(e.get_selectedObjects());a.moveNext();)this._updateObjectMetadata(a.current,
b,c,d);else for(e=0;e<b.length;e++){var g=b[e];if(d[e]||!Object.keyExists(a.get_metadata(),g)||String.isNullOrEmpty(a.get_metadata()[g]))a.get_metadata()[b[e]]=c[e]}},_updateThumbnails:function(a){null!=this._documentViewer.get_thumbnails()&&null!=this._automationManager&&null!=this._automation&&null!=this._automation.get_activeContainer()&&(a?this._documentViewer.get_thumbnails().get_imageViewer().invalidate(lt.LeadRectD.get_empty()):(a=this._automation.get_activeContainer().get_pageNumber(),this._documentViewer.get_thumbnails().get_imageViewer().invalidateItemByIndex(a-
1)))},initialize:function(){if(null!=this._automationManager){this._automationManager.createDefaultObjects();for(var a=lt.Annotations.Designers.AnnTextReviewDrawDesigner,b=lt.Documents.UI._textReviewDrawDesigner,c=ss.IEnumerator.getEnumerator(this._automationManager.get_objects());c.moveNext();){var d=c.current;null!=d&&d.get_drawDesignerType()===a&&d.set_drawDesignerType(b)}a=this._automationManager.get_renderingEngine();b=lt.Documents.UI.DocumentViewerAnnotations._getRendererKeys(a.get_renderers());
for(b=ss.IEnumerator.getEnumerator(b);b.moveNext();)c=b.current,c=a.get_renderers()[c],d=new lt.Annotations.Rendering.AnnLabelRenderer,d.initialize(a),c.set_labelRenderer(d),c=Type.safeCast(c,lt.Annotations.Rendering.AnnTextObjectRenderer),null!=c&&c.set_flipReverseText(!0)}},_ensureSelectObject:function(){null==this._automationManager||this._automationManager.get_currentObjectId()===lt.Annotations.Core.AnnObject.selectObjectId||this._automationManager.set_currentObjectId(lt.Annotations.Core.AnnObject.selectObjectId)},
_ensureSelectObjectKeepDesigners:function(){if(!(null==this._automationManager||this._automationManager.get_currentObjectId()===lt.Annotations.Core.AnnObject.selectObjectId)){var a=this._automationManager.get_cancelInactiveDesigners();this._automationManager.set_cancelInactiveDesigners(!1);this._automationManager.set_currentObjectId(lt.Annotations.Core.AnnObject.selectObjectId);this._automationManager.set_cancelInactiveDesigners(a)}},groupSelectedObjects:function(a){if(null!=this._automation){var b=
this._automation.get_activeContainer(),b=null!=b?b.get_selectionObject():null;if(null!=b&&1<b.get_selectedObjects().get_count())for(b=ss.IEnumerator.getEnumerator(b.get_selectedObjects());b.moveNext();)b.current.set_groupName(a)}},ungroupSelectedObjects:function(){if(null!=this._automation){var a=this._automation.get_activeContainer(),a=null!=a?a.get_selectionObject():null;null!=a&&1<a.get_selectedObjects().get_count()&&a.ungroup(a.get_selectedObjects().get_item(0).get_groupName())}},_useRotateThumbs:!0,
get_useRotateThumbs:function(){return this._useRotateThumbs},set_useRotateThumbs:function(a){this._useRotateThumbs=a;this._updateUseRotateThumbs();return a},_renderOnThumbnails:!0,get_renderOnThumbnails:function(){return this._renderOnThumbnails},set_renderOnThumbnails:function(a){this._renderOnThumbnails!==a&&(this._renderOnThumbnails=a,null!=this._documentViewer.get_thumbnails()&&this._documentViewer.get_thumbnails().get_imageViewer().invalidate(lt.LeadRectD.get_empty()));return a},_updateUseRotateThumbs:function(){null!=
this._automationManager&&(this._automationManager.set_useRotateThumbs(this._useRotateThumbs),null!=this._automation&&this._automation.get_canSelectNone()&&this._automation.get_automationControl().automationInvalidate(lt.LeadRectD.get_empty()))},_deselect:function(){null==this._automation||Type.canCast(this._automation.get_currentDesigner(),lt.Annotations.Designers.AnnDrawDesigner)||this._automation.get_canSelectNone()&&this._automation.selectObjects(null)},_selectAll:function(a){null!=this._automation&&
this._automation.get_canSelectObjects()&&(a||(a=this._documentViewer.get_currentPageNumber()),this._automation.selectObjects(this._automation.get_containers().get_item(a-1).get_children()))},_paste:function(a){if(null!=this._automation){var b=!1;if(!a.get_isEmpty()){var a=lt.Controls.PrimitivesHelper.toLeadPointD(a),c=this._automation.get_activeContainer();null!=c&&(a=c.get_mapper().pointToContainerCoordinates(a),a.get_isEmpty()||(this._automation.pasteAt(a),b=!0))}b||this._automation.paste()}},_renderThumbnail:function(a,
b){if(!(null==this._documentViewer.get_thumbnails()||null==this._automation||null==this._automation.get_containers()||1>a&&a>=this._automation.get_containers().get_count())){var c=this._documentViewer.get_thumbnails().get_imageViewer(),d=b.get_item(),e=c.getItemImageTransform(d),g=d.get_imageSize();if(!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(g)&&(c=c.getItemViewBounds(d,lt.Controls.ImageViewerItemPart.image,!1),!c.get_isEmpty())){c.set_width(c.get_width()+1);c.set_height(c.get_height()+1);
var d=this._automation.get_containers().get_item(a-1),f=d.get_isVisible();d.set_isVisible(!0);var h=this._automation.get_manager().get_renderingEngine(),i=h.get_renderState();h.set_renderState(lt.Annotations.Core.AnnRenderState.none);var j=b.get_context();h.attach(d,j);var k=lt.Controls.GraphicsHelper.saveContext(j);try{lt.Controls.GraphicsHelper.intersectClip(j,c);lt.Controls.GraphicsHelper.multiplyTransform(j,e);var l=lt.LeadRectD.create(0,0,720*g.get_width()/96,720*g.get_height()/96);h.burnToRectWithDpi(l,
96,96,96,96)}finally{d.get_isVisible()!==f&&d.set_isVisible(f),null!=k&&lt.Controls.GraphicsHelper.restoreContext(j,k),h.get_renderState()!==i&&h.set_renderState(i),h.detach()}}}},selectedTextToReviewObject:function(a,b){if(null==b)throw new lt.ArgumentNullException("textReviewObject");if(!this._documentViewer.get_hasDocument())return!1;var c=this._documentViewer.get_text().getSelectedTextItems(a);if(null==c||!c.length)return!1;var d=new lt.Documents.UI.DocumentViewerOperationEventArgs(20,null,b,
null,a,!1);this._documentViewer.onOperation(d);if(d.get_abort())return!1;var e=this._documentViewer.get_annotations().get_automation(),g=e.get_activeContainer();try{this._setTextReviewRectangles(a,c,b);var f=!g.get_children().contains(b);if(f){e.beginUndo();try{g.get_children().add(b)}finally{e.endUndo()}e.selectObject(b)}var h=new lt.Annotations.Core.AnnObjectCollection;h.add(b);this._updateObjectsMetadata(h);f&&e.invokeAfterObjectChanged(h,lt.Annotations.Automation.AnnObjectChangedType.added);var i=
ss.Delegate.create(this,this._ensureSelectObjectKeepDesigners);lt.Documents.UI._invoker.beginInvoke0(this._documentViewer.get_view().get_imageViewer(),i);d=new lt.Documents.UI.DocumentViewerOperationEventArgs(20,null,b,null,a,!0);this._documentViewer.onOperation(d);this._documentViewer.get_text().clearSelection(a);return!0}catch(j){return d=new lt.Documents.UI.DocumentViewerOperationEventArgs(20,j,null,null,a,!0),this._documentViewer.onOperation(d),!1}},_setTextReviewRectangles:function(a,b,c){var d=
this._documentViewer.get_document(),e=this._automation.get_containers().get_item(a-1),g=this._documentViewer.get_view().get_imageViewer(),a=g.get_items().get_item(a-1),f=null,h=null!=b?b.length:0;0<h&&(f=Array(h));for(var i=0;i<h;i++){var j=lt.Controls.PrimitivesHelper.toLeadRectD(d.rectToPixels(b[i].get_bounds())),j=g.convertRect(a,lt.Controls.ImageViewerCoordinateType.image,lt.Controls.ImageViewerCoordinateType.control,j),j=e.get_mapper().rectToContainerCoordinates(j);f[i]=j}c.setRectangles(f)},
_getModifiedContainers:function(){for(var a=null,b=this._documentViewer.get_document().pages.get_count(),c=1;c<=b;c++){var d=c-1;this._automation.get_containers().get_item(d).get_isModified()&&(null==a&&(a=[]),a.add(this._automation.get_containers().get_item(d)))}return a},_resetModifiedContainers:function(a){if(null!=a)for(a=ss.IEnumerator.getEnumerator(a);a.moveNext();)a.current.set_isModified(!1)},_beginUpdate:function(){if(null!=this._automationControl){var a=Type.safeCast(this._automationControl,
lt.Documents.UI.ImageViewerAutomationControl);null!=a&&a._beginImageViewerItemChanges()}},_endUpdate:function(){if(null!=this._automationControl){var a=Type.safeCast(this._automationControl,lt.Documents.UI.ImageViewerAutomationControl);null!=a&&a._endImageViewerItemChanges()}},dispose:function(){this._destroy(!0)},_beginCreateAutomationLoop:function(){this._automation.beginUpdateContainers()},_endCreateAutomationLoop:function(){this._automation.endUpdateContainers()},_prepareToSave:function(){var a=
this._getModifiedContainers(),b=this._documentViewer.get_document();if(null==a||!a.length)return b.annotations.modifiedContainers=null,!1;new lt.Annotations.Core.AnnCodecs;for(var c=Array(a.length),d=0;d<a.length;d++)c[d]=a[d];b.annotations.modifiedContainers=c;this._resetModifiedContainers(a);return!0}};Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_documentViewer,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"automationManager",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_automationManager,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"automation",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_automation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"automationControl",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_automationControl,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"interactiveMode",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_interactiveMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"isLoading",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_isLoading,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"useRotateThumbs",
{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_useRotateThumbs,set:lt.Documents.UI.DocumentViewerAnnotations.prototype.set_useRotateThumbs,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"renderOnThumbnails",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_renderOnThumbnails,set:lt.Documents.UI.DocumentViewerAnnotations.prototype.set_renderOnThumbnails,enumerable:!0,configurable:!0});lt.Documents.UI.ImageViewerAutomationControl=
function(){this._containerIndex=-1};lt.Documents.UI.ImageViewerAutomationControl._renderContainer=function(a,b,c,d){var e=a.get_context(),a=a.get_clipRectangle().clone();b.attach(c,e);try{var g=lt.LeadRectD.create(a.get_x(),a.get_y(),a.get_width(),a.get_height()),g=c.get_mapper().rectToContainerCoordinates(g);b.render(g,d)}finally{b.detach()}};lt.Documents.UI.ImageViewerAutomationControl.prototype={get__multiContainerMode:function(){return 1},set__multiContainerMode:function(a){return a},_fixWarnings:function(){null!=
this.__automationEnabledChanged&&this.__automationEnabledChanged(null,null);null!=this.__automationGotFocus&&this.__automationGotFocus(null,null);null!=this.__automationLostFocus&&this.__automationLostFocus(null,null)},dispose:function(){this._unhook()},_imageViewer:null,get_imageViewer:function(){return this._imageViewer},set_imageViewer:function(a){this._imageViewer!==a&&(this._unhook(),this._imageViewer=a,this._hook());return a},get_automationScrollOffset:function(){return null!=this._imageViewer?
this._imageViewer.get_scrollOffset():lt.LeadPointD.create(0,0)},_hook:function(){null!=this._imageViewer&&(this._imageViewer.add_propertyChanged(ss.Delegate.create(this,this._imageViewer_PropertyChanged)),this._imageViewer.add_itemChanged(ss.Delegate.create(this,this._imageViewer_ItemChanged)),this._imageViewer.add_activeItemChanged(ss.Delegate.create(this,this._imageViewer_ActiveItemChanged)),this._imageViewer.add_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged)),this._imageViewer.add_postRender(ss.Delegate.create(this,
this._imageViewer_PostRender)))},_unhook:function(){null!=this._imageViewer&&(this._imageViewer.remove_propertyChanged(ss.Delegate.create(this,this._imageViewer_PropertyChanged)),this._imageViewer.remove_itemChanged(ss.Delegate.create(this,this._imageViewer_ItemChanged)),this._imageViewer.remove_activeItemChanged(ss.Delegate.create(this,this._imageViewer_ActiveItemChanged)),this._imageViewer.remove_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged)),this._imageViewer.remove_postRender(ss.Delegate.create(this,
this._imageViewer_PostRender)),null!=this._automationObject&&this._automationObject.remove_activeContainerChanged(ss.Delegate.create(this,this._automationObject_ActiveContainerChanged)))},_automationObject:null,get_automationObject:function(){return this._automationObject},set_automationObject:function(a){null!=this._automationObject&&this._automationObject.remove_activeContainerChanged(ss.Delegate.create(this,this._automationObject_ActiveContainerChanged));this._automationObject=Type.safeCast(a,
lt.Annotations.Automation.AnnAutomation);null!=this._automationObject&&this._automationObject.add_activeContainerChanged(ss.Delegate.create(this,this._automationObject_ActiveContainerChanged));return a},add_automationPointerDown:function(a){this.__automationPointerDown=ss.Delegate.combine(this.__automationPointerDown,a)},remove_automationPointerDown:function(a){this.__automationPointerDown=ss.Delegate.remove(this.__automationPointerDown,a)},__automationPointerDown_handler_get:function(){null==this.__automationPointerDown_handler&&
(this.__automationPointerDown_handler=ss.EventHandler.create(this,this.add_automationPointerDown,this.remove_automationPointerDown));return this.__automationPointerDown_handler},__automationPointerDown:null,__automationPointerDown_handler:null,add_automationPointerMove:function(a){this.__automationPointerMove=ss.Delegate.combine(this.__automationPointerMove,a)},remove_automationPointerMove:function(a){this.__automationPointerMove=ss.Delegate.remove(this.__automationPointerMove,a)},__automationPointerMove_handler_get:function(){null==
this.__automationPointerMove_handler&&(this.__automationPointerMove_handler=ss.EventHandler.create(this,this.add_automationPointerMove,this.remove_automationPointerMove));return this.__automationPointerMove_handler},__automationPointerMove:null,__automationPointerMove_handler:null,add_automationPointerUp:function(a){this.__automationPointerUp=ss.Delegate.combine(this.__automationPointerUp,a)},remove_automationPointerUp:function(a){this.__automationPointerUp=ss.Delegate.remove(this.__automationPointerUp,
a)},__automationPointerUp_handler_get:function(){null==this.__automationPointerUp_handler&&(this.__automationPointerUp_handler=ss.EventHandler.create(this,this.add_automationPointerUp,this.remove_automationPointerUp));return this.__automationPointerUp_handler},__automationPointerUp:null,__automationPointerUp_handler:null,add_automationDoubleClick:function(a){this.__automationDoubleClick=ss.Delegate.combine(this.__automationDoubleClick,a)},remove_automationDoubleClick:function(a){this.__automationDoubleClick=
ss.Delegate.remove(this.__automationDoubleClick,a)},__automationDoubleClick_handler_get:function(){null==this.__automationDoubleClick_handler&&(this.__automationDoubleClick_handler=ss.EventHandler.create(this,this.add_automationDoubleClick,this.remove_automationDoubleClick));return this.__automationDoubleClick_handler},__automationDoubleClick:null,__automationDoubleClick_handler:null,onAutomationPointerDown:function(a){null!=this.__automationPointerDown&&this.__automationPointerDown(this,a)},onAutomationPointerMove:function(a){null!=
this.__automationPointerMove&&this.__automationPointerMove(this,a)},onAutomationPointerUp:function(a){null!=this.__automationPointerUp&&this.__automationPointerUp(this,a)},onAutomationDoubleClick:function(a){null!=this.__automationDoubleClick&&this.__automationDoubleClick(this,a)},get_automationDpiX:function(){return null!=this._imageViewer?this._imageViewer.get_screenDpi().get_width():96},get_automationDpiY:function(){return null!=this._imageViewer?this._imageViewer.get_screenDpi().get_height():
96},get_automationEnabled:function(){return null!=this._imageViewer},add_automationEnabledChanged:function(a){this.__automationEnabledChanged=ss.Delegate.combine(this.__automationEnabledChanged,a)},remove_automationEnabledChanged:function(a){this.__automationEnabledChanged=ss.Delegate.remove(this.__automationEnabledChanged,a)},__automationEnabledChanged_handler_get:function(){null==this.__automationEnabledChanged_handler&&(this.__automationEnabledChanged_handler=ss.EventHandler.create(this,this.add_automationEnabledChanged,
this.remove_automationEnabledChanged));return this.__automationEnabledChanged_handler},__automationEnabledChanged:null,__automationEnabledChanged_handler:null,add_automationGotFocus:function(a){this.__automationGotFocus=ss.Delegate.combine(this.__automationGotFocus,a)},remove_automationGotFocus:function(a){this.__automationGotFocus=ss.Delegate.remove(this.__automationGotFocus,a)},__automationGotFocus_handler_get:function(){null==this.__automationGotFocus_handler&&(this.__automationGotFocus_handler=
ss.EventHandler.create(this,this.add_automationGotFocus,this.remove_automationGotFocus));return this.__automationGotFocus_handler},__automationGotFocus:null,__automationGotFocus_handler:null,add_automationLostFocus:function(a){this.__automationLostFocus=ss.Delegate.combine(this.__automationLostFocus,a)},remove_automationLostFocus:function(a){this.__automationLostFocus=ss.Delegate.remove(this.__automationLostFocus,a)},__automationLostFocus_handler_get:function(){null==this.__automationLostFocus_handler&&
(this.__automationLostFocus_handler=ss.EventHandler.create(this,this.add_automationLostFocus,this.remove_automationLostFocus));return this.__automationLostFocus_handler},__automationLostFocus:null,__automationLostFocus_handler:null,add_automationSizeChanged:function(a){this.__automationSizeChanged=ss.Delegate.combine(this.__automationSizeChanged,a)},remove_automationSizeChanged:function(a){this.__automationSizeChanged=ss.Delegate.remove(this.__automationSizeChanged,a)},__automationSizeChanged_handler_get:function(){null==
this.__automationSizeChanged_handler&&(this.__automationSizeChanged_handler=ss.EventHandler.create(this,this.add_automationSizeChanged,this.remove_automationSizeChanged));return this.__automationSizeChanged_handler},__automationSizeChanged:null,__automationSizeChanged_handler:null,_imageViewer_ItemChanged:function(a,b){switch(b.get_reason()){case lt.Controls.ImageViewerItemChangedReason.url:case lt.Controls.ImageViewerItemChangedReason.image:case lt.Controls.ImageViewerItemChangedReason.imageChanged:case lt.Controls.ImageViewerItemChangedReason.size:case lt.Controls.ImageViewerItemChangedReason.transform:this._needsImageViewerItemChanged=
!0,this._tryImageViewerItemChanged()}},_imageViewerItemChangesCounter:0,_needsImageViewerItemChanged:!1,_beginImageViewerItemChanges:function(){this._imageViewerItemChangesCounter++},_endImageViewerItemChanges:function(){if(!this._imageViewerItemChangesCounter)throw new lt.InvalidOperationException("'EndImageViewerItemChanges' called without a matching 'BeginImageViewerItemChanges'");this._imageViewerItemChangesCounter--;this._tryImageViewerItemChanged()},_tryImageViewerItemChanged:function(){!this._imageViewerItemChangesCounter&&
this._needsImageViewerItemChanged&&(this._needsImageViewerItemChanged=!1,null!=this.__automationTransformChanged&&this.__automationTransformChanged(this,lt.LeadEventArgs.Empty),null!=this.__automationSizeChanged&&this.__automationSizeChanged(this,lt.LeadEventArgs.Empty))},_imageViewer_ActiveItemChanged:function(){this._syncActiveItemContainer(!0)},_automationObject_ActiveContainerChanged:function(){this._syncActiveItemContainer(!1)},_syncActiveItemContainer:function(a){if(!(null==this._automationObject||
null==this._imageViewer)){var b=this._imageViewer.get_items().get_count(),c=this._automationObject.get_containers().get_count();b&&b===c&&(b=this._imageViewer.get_items().indexOf(this._imageViewer.get_activeItem()),c=-1,null!=this._automationObject.get_activeContainer()&&(c=this._automationObject.get_containers().indexOf(this._automationObject.get_activeContainer())),b!==c&&(a?-1!==b&&this._automationObject.set_activeContainer(this._automationObject.get_containers().get_item(b)):-1!==c&&this._imageViewer.set_activeItem(this._imageViewer.get_items().get_item(c))))}},
_getItemForCurrentContainer:function(){return null==this._imageViewer?null:-1!==this._containerIndex?this._containerIndex<this._imageViewer.get_items().get_count()?this._imageViewer.get_items().get_item(this._containerIndex):null:this._imageViewer.get_activeItem()},get_automationTransform:function(){var a=this._getItemForCurrentContainer();return null!=a?this._imageViewer.getItemBounds(a,lt.Controls.ImageViewerItemPart.item).get_isEmpty()?(a=lt.LeadMatrix.get_identity(),a.set_offsetX(-1E5),a.set_offsetY(-1E5),
a):this._imageViewer.getItemImageTransformWithDpi(a,!1):lt.LeadMatrix.get_identity()},add_automationTransformChanged:function(a){this.__automationTransformChanged=ss.Delegate.combine(this.__automationTransformChanged,a)},remove_automationTransformChanged:function(a){this.__automationTransformChanged=ss.Delegate.remove(this.__automationTransformChanged,a)},__automationTransformChanged_handler_get:function(){null==this.__automationTransformChanged_handler&&(this.__automationTransformChanged_handler=
ss.EventHandler.create(this,this.add_automationTransformChanged,this.remove_automationTransformChanged));return this.__automationTransformChanged_handler},__automationTransformChanged:null,__automationTransformChanged_handler:null,_imageViewer_TransformChanged:function(){null!=this.__automationTransformChanged&&this.__automationTransformChanged(this,lt.LeadEventArgs.Empty)},get_automationUseDpi:function(){return null!=this._imageViewer&&this._imageViewer.get_useDpi()},add_automationUseDpiChanged:function(a){this.__automationUseDpiChanged=
ss.Delegate.combine(this.__automationUseDpiChanged,a)},remove_automationUseDpiChanged:function(a){this.__automationUseDpiChanged=ss.Delegate.remove(this.__automationUseDpiChanged,a)},__automationUseDpiChanged_handler_get:function(){null==this.__automationUseDpiChanged_handler&&(this.__automationUseDpiChanged_handler=ss.EventHandler.create(this,this.add_automationUseDpiChanged,this.remove_automationUseDpiChanged));return this.__automationUseDpiChanged_handler},__automationUseDpiChanged:null,__automationUseDpiChanged_handler:null,
_imageViewer_PropertyChanged:function(a,b){switch(b.get_propertyName()){case "UseDpi":null!=this.__automationUseDpiChanged&&this.__automationUseDpiChanged(this,lt.LeadEventArgs.Empty)}},get_automationXResolution:function(){var a=this._getItemForCurrentContainer();return null!=a?a.get_resolution().get_width():96},get_automationYResolution:function(){var a=this._getItemForCurrentContainer();return null!=a?a.get_resolution().get_height():96},automationInvalidate:function(a){null!=this._imageViewer&&
this._imageViewer.invalidate(a)},_antiAlias:!1,get_automationAntiAlias:function(){return this._antiAlias},set_automationAntiAlias:function(a){this._antiAlias=a;null!=this._imageViewer&&this._imageViewer.invalidate(lt.LeadRectD.get_empty());return a},_renderingEngine:null,get_renderingEngine:function(){return this._renderingEngine},set_renderingEngine:function(a){return this._renderingEngine=a},_imageViewer_PostRender:function(a,b){var c=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);
if(null!=c){var d=!1;null!=this._automationObject&&null!=this._automationObject.get_manager()&&(d=this._automationObject.get_manager().get_userMode()===lt.Annotations.Core.AnnUserMode.run);this.get_automationAntiAlias();if(null!=this._getContainersCallback){var e=this._getContainersCallback(),g=b.get_clipRectangle().clone();if(null!=e)for(var f=0;f<e.get_count();f++)if(f<this._imageViewer.get_items().get_count()&&!this._imageViewer.getItemBounds(this._imageViewer.get_items().get_item(f),lt.Controls.ImageViewerItemPart.item).get_isEmpty()){var h=
e.get_item(f),i=this._imageViewer.get_items().get_item(f),j=this._automationObject.getContainerInvalidRect(h,!0);(!j.get_isEmpty()&&j.intersectsWith(g)||!this._imageViewer.getItemViewBounds(i,lt.Controls.ImageViewerItemPart.item,!0).get_isEmpty())&&lt.Documents.UI.ImageViewerAutomationControl._renderContainer(b,c,h,d)}}else h=this._container,null!=h&&lt.Documents.UI.ImageViewerAutomationControl._renderContainer(b,c,h,d)}},_getContainersCallback:null,get_automationGetContainersCallback:function(){return this._getContainersCallback},
set_automationGetContainersCallback:function(a){return this._getContainersCallback=a},get_automationContainerIndex:function(){return this._containerIndex},set_automationContainerIndex:function(a){return this._containerIndex=a},_container:null,automationAttach:function(a){this._container=a},automationDetach:function(){this._container=null},_dataProvider:null,get_automationDataProvider:function(){return this._dataProvider},set_automationDataProvider:function(a){return this._dataProvider=a}};Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,
"imageViewer",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_imageViewer,set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_imageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationScrollOffset",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationScrollOffset,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationObject",
{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationObject,set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_automationObject,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationPointerDown",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationPointerDown_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationPointerMove",
{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationPointerMove_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationPointerUp",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationPointerUp_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationDoubleClick",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationDoubleClick_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationDpiX",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationDpiX,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationDpiY",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationDpiY,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,
"automationEnabled",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationEnabledChanged",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationEnabledChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationGotFocus",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationGotFocus_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationLostFocus",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationLostFocus_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationSizeChanged",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationSizeChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,
"automationTransform",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationTransformChanged",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationTransformChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationUseDpi",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationUseDpi,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationUseDpiChanged",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationUseDpiChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationXResolution",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationXResolution,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,
"automationYResolution",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationYResolution,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationAntiAlias",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationAntiAlias,set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_automationAntiAlias,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,
"renderingEngine",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_renderingEngine,set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_renderingEngine,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationGetContainersCallback",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationGetContainersCallback,set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_automationGetContainersCallback,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationContainerIndex",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationContainerIndex,set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_automationContainerIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationDataProvider",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationDataProvider,
set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_automationDataProvider,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerBookmarks=function(a){this._documentViewer=a};lt.Documents.UI.DocumentViewerBookmarks.prototype={_destroy:function(a){a&&(this._stopWorking(),this._deleteControls())},_documentViewer:null,get_documentViewer:function(){return this._documentViewer},_init:function(a){this._createControls(a)},get_isLoading:function(){return null!=this._bookmarksWorker&&this._bookmarksWorker.get_isWorking()},
_bookmarksWorker:null,_startWorking:function(){this._stopWorking();if(this._documentViewer.get_hasDocument()){var a=this._documentViewer.get_document();if(a.isStructureSupported&&a.structure.isParsed)this._populateBookmarks(a);else{var b=new lt.Documents.UI.DocumentViewerOperationEventArgs(21,null,null,null,0,!1);this._documentViewer.onOperation(b);b.get_abort()||(this._bookmarksWorker=new lt.Documents.UI._bookmarksWorker,this._bookmarksWorker.add_preProcessItem(ss.Delegate.create(this,this._bookmarksWorker_PreProcessItem)),
this._bookmarksWorker.add_postProcessItem(ss.Delegate.create(this,this._bookmarksWorker_PostProcessItem)),this._bookmarksWorker.add_completed(ss.Delegate.create(this,this._bookmarksWorker_Completed)),this._bookmarksWorker.start(a))}}},_stopWorking:function(){this._deleteWorker();this._clearBookmarks()},_addPages:function(){this._documentViewer.get_hasDocument()&&this._populateBookmarks(this._documentViewer.get_document())},_removePages:function(){this._documentViewer.get_hasDocument()&&this._populateBookmarks(this._documentViewer.get_document())},
_deleteWorker:function(){null!=this._bookmarksWorker&&(this._bookmarksWorker.stop(),this._bookmarksWorker.remove_preProcessItem(ss.Delegate.create(this,this._bookmarksWorker_PreProcessItem)),this._bookmarksWorker.remove_postProcessItem(ss.Delegate.create(this,this._bookmarksWorker_PostProcessItem)),this._bookmarksWorker.remove_completed(ss.Delegate.create(this,this._bookmarksWorker_Completed)),this._bookmarksWorker.dispose(),this._bookmarksWorker=null,this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(21,
null,null,null,0,!0)))},_gotoBookmark:function(a,b){var c=this._documentViewer.get_document().pages.getTargetPageNumber(a,b.target.pageNumber);if(c!==b.target.pageNumber){var d=b.clone(!1),e=b.target.clone();e.pageNumber=c;d.target=e;b=d}c=new lt.Documents.UI.DocumentViewerOperationEventArgs(13,null,b,null,0,!1);this._documentViewer.onOperation(c);c.get_abort()||(this._documentViewer.gotoBookmark(b),c=new lt.Documents.UI.DocumentViewerOperationEventArgs(13,null,b,null,0,!0),this._documentViewer.onOperation(c))},
_prepareToSave:function(){},_beginUpdate:function(){},_endUpdate:function(){},_bookmarksWorker_PreProcessItem:function(){},_bookmarksWorker_PostProcessItem:function(a,b){ss.Delegate.create(this,function(a,b){if(!(null==this._bookmarksWorker||this._bookmarksWorker.get_isCancelPending()||this._bookmarksWorker!==b.get__itemsWorker())){var e;null==b.get_error()?this._finishLoadingBookmarks(b.get_data1()):(e=new lt.Documents.UI.DocumentViewerOperationEventArgs(21,b.get_error(),null,null,0,!0),this._documentViewer.onOperation(e))}})(this,
b)},_bookmarksWorker_Completed:function(){},dispose:function(){this._destroy(!0)},_list:null,_treeView:null,get_treeView:function(){return this._treeView},_createControls:function(a){null!=a.get_bookmarksContainer()&&(this._treeView=document.createElement("div"),this._list=document.createElement("ul"),this._treeView.appendChild(this._list),this._treeView.style.width="100%",this._treeView.style.height="100%",this._list.addEventListener("click",ss.Delegate.create(this,this._element_OnClick),!1),a.get_bookmarksContainer().appendChild(this._treeView))},
_deleteControls:function(){null!=this._treeView&&(null!=this._treeView.parentNode&&this._treeView.parentNode.removeChild(this._treeView),this._list.removeEventListener("click",ss.Delegate.create(this,this._element_OnClick),!1),this._treeView=this._list=null)},_populateBookmarks:function(a){if(null!=this._treeView&&(this._clearBookmarks(),a.isStructureSupported&&a.structure.isParsed&&null!=a.structure&&null!=a.structure.bookmarks)){this._addBookmarks(a,a.structure.bookmarks,this._list);for(a=ss.IEnumerator.getEnumerator(a.documents);a.moveNext();){var b=
a.current;b.isStructureSupported&&b.structure.isParsed&&this._addBookmarks(b,b.structure.bookmarks,this._list)}}},_addBookmarks:function(a,b,c){if(null!=b)for(b=ss.IEnumerator.getEnumerator(b);b.moveNext();){var d=b.current,e=a.createElement("li");e.textContent=d.title;c.appendChild(e);var g=new lt.Documents.UI._myDocumentBookmark;g.document=a;g.bookmark=d;e.setAttribute("data-lead",g);g=e;0<d.children.length&&(g=a.createElement("ul"),e.appendChild(g),this._addBookmarks(a,d.children,g))}},_clearBookmarks:function(){if(null!=
this._treeView)for(var a=this._list.childNodes.length-1;0<=a;a--)this._list.removeChild(this._list.childNodes[a])},_element_OnClick:function(a){a=a.target.getAttribute("data-lead");null!=a&&this._gotoBookmark(a.document,a.bookmark)},_finishLoadingBookmarks:function(a){var b=Type.safeCast(a,IDeferred);null!=b&&(a=ss.Delegate.create(this,function(){var a;b.done(ss.Delegate.create(this,function(){null!=this._documentViewer.get_document()&&null!=this._documentViewer.get_document().structure&&this._documentViewer.get_document().structure.isParsed&&
this._populateBookmarks(this._documentViewer.get_document());a=new lt.Documents.UI.DocumentViewerOperationEventArgs(21,null,this._documentViewer.get_document().structure,null,0,!0);this._documentViewer.onOperation(a)}));b.fail(ss.Delegate.create(this,function(b){b=lt.Documents.ServiceError.parseError(b,"error",Type.safeCast(b.statusText,String));a=new lt.Documents.UI.DocumentViewerOperationEventArgs(21,Error(b.isParseError?b.errorThrown:b.detail),null,null,0,!0);this._documentViewer.onOperation(a)}))}),
lt.Documents.UI._invoker.beginInvoke0(null,a))}};Object.defineProperty(lt.Documents.UI.DocumentViewerBookmarks.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerBookmarks.prototype.get_documentViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerBookmarks.prototype,"isLoading",{get:lt.Documents.UI.DocumentViewerBookmarks.prototype.get_isLoading,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerBookmarks.prototype,
"treeView",{get:lt.Documents.UI.DocumentViewerBookmarks.prototype.get_treeView,enumerable:!0,configurable:!0});lt.Documents.UI._myDocumentBookmark=function(){};lt.Documents.UI._myDocumentBookmark.prototype={document:null,bookmark:null};lt.Documents.UI.DocumentViewerCommand=function(){};lt.Documents.UI.DocumentViewerCommand._create=function(a,b,c,d){return lt.Documents.UI.DocumentViewerCommand._doCreate(a,b,c,null,d,!1,!1)};lt.Documents.UI.DocumentViewerCommand._createState=function(a,b,c,d,e){return lt.Documents.UI.DocumentViewerCommand._doCreate(a,
b,c,null,d,!0,e)};lt.Documents.UI.DocumentViewerCommand._createSlow=function(a,b,c,d,e){return lt.Documents.UI.DocumentViewerCommand._doCreate(a,b,c,d,e,!1,!1)};lt.Documents.UI.DocumentViewerCommand._doCreate=function(a,b,c,d,e,g,f){var h=new lt.Documents.UI.DocumentViewerCommand;h._name=a;h._canRunHandler=b;h._runHandler=c;h._isSlowHandler=d;h._tag=e;h._value=null;h._hasState=g;h._state=f;return h};lt.Documents.UI.DocumentViewerCommand.prototype={_name:null,get_name:function(){return this._name},
set_name:function(a){return this._name=a},_canRunHandler:null,get_canRunHandler:function(){return this._canRunHandler},set_canRunHandler:function(a){return this._canRunHandler=a},_runHandler:null,get_runHandler:function(){return this._runHandler},set_runHandler:function(a){return this._runHandler=a},_isSlowHandler:null,get_isSlowHandler:function(){return this._isSlowHandler},set_isSlowHandler:function(a){return this._isSlowHandler=a},_tag:null,get_tag:function(){return this._tag},set_tag:function(a){return this._tag=
a},_value:null,get_value:function(){return this._value},set_value:function(a){return this._value=a},_hasState:!1,get_hasState:function(){return this._hasState},set_hasState:function(a){return this._hasState=a},_state:!1,get_state:function(){return this._state},set_state:function(a){return this._state=a},preRun:function(a,b){if(null==a)throw new lt.ArgumentNullException("documentViewer");var c=new lt.Documents.UI.DocumentViewerOperationEventArgs(5,null,this,b,0,!1);a.onOperation(c);return!c.get_abort()},
postRun:function(a,b){if(null==a)throw new lt.ArgumentNullException("documentViewer");var c=new lt.Documents.UI.DocumentViewerOperationEventArgs(5,null,this,b,0,!0);a.onOperation(c)}};Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"name",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_name,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"canRunHandler",
{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_canRunHandler,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_canRunHandler,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"runHandler",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_runHandler,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_runHandler,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"isSlowHandler",
{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_isSlowHandler,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_isSlowHandler,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"tag",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_tag,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_tag,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"value",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_value,
set:lt.Documents.UI.DocumentViewerCommand.prototype.set_value,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"hasState",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_hasState,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_hasState,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"state",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_state,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_state,
enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerCommands=function(a){this._documentViewer=a};lt.Documents.UI.DocumentViewerCommands.prototype={_commands:null,get__commands:function(){return this._commands},getCommand:function(a){return this._commands[a]},_init:function(){this._commands={};lt.Documents.UI._commandHelper.initCommands(this._commands)},_destroy:function(){Object.clearKeys(this._commands);this._commands=null},_documentViewer:null,get_documentViewer:function(){return this._documentViewer},
canRun:function(a,b){var c=!1;if(Object.keyExists(this._commands,a)){var d=this._commands[a];null!=d.get_canRunHandler()&&(c=d.get_canRunHandler()(this._documentViewer,d,b))}return c},run:function(a,b){if(Object.keyExists(this._commands,a)){var c=this._commands[a];if(null!=c.get_runHandler()&&null!=c.get_canRunHandler()&&c.get_canRunHandler()(this._documentViewer,c,b))return c.get_runHandler()(this._documentViewer,c,b)}return null},isSlow:function(a,b){var c=!1;if(Object.keyExists(this._commands,
a)){var d=this._commands[a];null!=d.get_isSlowHandler()&&(c=d.get_isSlowHandler()(this._documentViewer,d,b))}return c}};Object.defineProperty(lt.Documents.UI.DocumentViewerCommands.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerCommands.prototype.get_documentViewer,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerCreateOptions=function(){this._init()};lt.Documents.UI.DocumentViewerCreateOptions.prototype={_viewContainer:null,get_viewContainer:function(){return this._viewContainer},
set_viewContainer:function(a){return this._viewContainer=a},_thumbnailsContainer:null,get_thumbnailsContainer:function(){return this._thumbnailsContainer},set_thumbnailsContainer:function(a){return this._thumbnailsContainer=a},_bookmarksContainer:null,get_bookmarksContainer:function(){return this._bookmarksContainer},set_bookmarksContainer:function(a){return this._bookmarksContainer=a},_useAnnotations:!0,get_useAnnotations:function(){return this._useAnnotations},set_useAnnotations:function(a){return this._useAnnotations=
a},_init:function(){this._viewCreateOptions=new lt.Controls.ImageViewerCreateOptions(null);this._thumbnailsCreateOptions=new lt.Controls.ImageViewerCreateOptions(null);this._viewCreateOptions.set_useElements(!0);this._thumbnailsCreateOptions.set_useElements(!0);var a=new lt.Controls.ImageViewerElementsModeCreateOptions;a.set_classPrefix("lt-thumb");this._thumbnailsCreateOptions.set_elementsModeOptions(a)},_viewCreateOptions:null,get_viewCreateOptions:function(){return this._viewCreateOptions},_thumbnailsCreateOptions:null,
get_thumbnailsCreateOptions:function(){return this._thumbnailsCreateOptions}};Object.defineProperty(lt.Documents.UI.DocumentViewerCreateOptions.prototype,"viewContainer",{get:lt.Documents.UI.DocumentViewerCreateOptions.prototype.get_viewContainer,set:lt.Documents.UI.DocumentViewerCreateOptions.prototype.set_viewContainer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCreateOptions.prototype,"thumbnailsContainer",{get:lt.Documents.UI.DocumentViewerCreateOptions.prototype.get_thumbnailsContainer,
set:lt.Documents.UI.DocumentViewerCreateOptions.prototype.set_thumbnailsContainer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCreateOptions.prototype,"bookmarksContainer",{get:lt.Documents.UI.DocumentViewerCreateOptions.prototype.get_bookmarksContainer,set:lt.Documents.UI.DocumentViewerCreateOptions.prototype.set_bookmarksContainer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCreateOptions.prototype,"useAnnotations",{get:lt.Documents.UI.DocumentViewerCreateOptions.prototype.get_useAnnotations,
set:lt.Documents.UI.DocumentViewerCreateOptions.prototype.set_useAnnotations,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCreateOptions.prototype,"viewCreateOptions",{get:lt.Documents.UI.DocumentViewerCreateOptions.prototype.get_viewCreateOptions,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCreateOptions.prototype,"thumbnailsCreateOptions",{get:lt.Documents.UI.DocumentViewerCreateOptions.prototype.get_thumbnailsCreateOptions,
enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerDiagnostics=function(a){this._documentViewer=a};lt.Documents.UI.DocumentViewerDiagnostics._hiliteBounds=function(a,b,c,d,e){if(!c.get_isEmpty()&&!(1>c.get_width()||1>c.get_height()))c=lt.Controls.PrimitivesHelper.getCornerPoints(lt.Controls.PrimitivesHelper.toLeadRectD(c)),d.get_isIdentity()||d.transformPoints(c),d=lt.Controls.PrimitivesHelper.getBoundingRect(c),lt.Documents.UI.DocumentViewerDiagnostics._drawAndFill(a,b,c),String.isNullOrEmpty(e)||
lt.Documents.UI.DocumentViewerDiagnostics._drawText(a,e,lt.LeadPointD.create(d.get_x(),d.get_y()))};lt.Documents.UI.DocumentViewerDiagnostics._drawAndFill=function(a,b,c){var d=lt.Documents.UI.DocumentViewerDiagnostics._fills[b],b=lt.Documents.UI.DocumentViewerDiagnostics._strokes[b];if(!(null==d&&null==b)){a.save();null!=d&&(a.fillStyle=d);null!=b&&(a.strokeStyle=b);a.beginPath();for(var e=c.length,g=0;g<e;g++)g?a.lineTo(c[g].get_x(),c[g].get_y()):a.moveTo(c[0].get_x(),c[0].get_y()),g===e-1&&a.lineTo(c[g].get_x(),
c[g].get_y());null!=d&&a.fill();null!=b&&a.stroke();a.restore()}};lt.Documents.UI.DocumentViewerDiagnostics._drawText=function(a,b,c){null==lt.Documents.UI.DocumentViewerDiagnostics._font||null==lt.Documents.UI.DocumentViewerDiagnostics._textColor||(a.save(),a.fillStyle=lt.Documents.UI.DocumentViewerDiagnostics._textColor,a.fillText(b,c.get_x(),c.get_y()),a.restore())};lt.Documents.UI.DocumentViewerDiagnostics.prototype={_documentViewer:null,get_documentViewer:function(){return this._documentViewer},
_showLinks:!1,get_showLinks:function(){return this._showLinks},set_showLinks:function(a){this._showLinks!==a&&(this._showLinks=a,this._update());return a},_showTextCharacters:!1,get_showTextCharacters:function(){return this._showTextCharacters},set_showTextCharacters:function(a){this._showTextCharacters!==a&&(this._showTextCharacters=a,this._update());return a},_update:function(){null!=this._documentViewer.get_view()&&this._documentViewer.get_view().get_imageViewer().invalidate(lt.LeadRectD.get_empty())},
_postRenderViewItem:function(a,b){var c=this._documentViewer.get_document();if(!(null==c||!this.get_showLinks()&&!this.get_showTextCharacters())){var d=b.get_item();if(null!=d){var e=this._documentViewer.get_view();if(null!=e){var g=e.get_imageViewer(),e=g.get_items().indexOf(d)+1,d=g.getItemImageTransform(d);if(this.get_showLinks()&&(g=c.pages.get_item(e-1).getLinks(),null!=g))for(var f=ss.IEnumerator.getEnumerator(g);f.moveNext();)g=c.rectToPixels(f.current.bounds),lt.Documents.UI.DocumentViewerDiagnostics._hiliteBounds(b.get_context(),
0,g,d,null);if(this.get_showTextCharacters()&&(e=this._documentViewer.get_text()._doGetDocumentPageText(e,!1,null,null),null!=e))for(e=ss.IEnumerator.getEnumerator(e.characters);e.moveNext();)f=e.current,g=f.bounds,g=c.rectToPixels(g),f=lt.Documents.UI._documentViewerHelper.getDocumentCharacterCodeAsString(f),lt.Documents.UI.DocumentViewerDiagnostics._hiliteBounds(b.get_context(),0,g,d,f)}}}}};Object.defineProperty(lt.Documents.UI.DocumentViewerDiagnostics.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerDiagnostics.prototype.get_documentViewer,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerDiagnostics.prototype,"showLinks",{get:lt.Documents.UI.DocumentViewerDiagnostics.prototype.get_showLinks,set:lt.Documents.UI.DocumentViewerDiagnostics.prototype.set_showLinks,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerDiagnostics.prototype,"showTextCharacters",{get:lt.Documents.UI.DocumentViewerDiagnostics.prototype.get_showTextCharacters,set:lt.Documents.UI.DocumentViewerDiagnostics.prototype.set_showTextCharacters,
enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewer=function(a){this._usePDFRendering=lt.Documents.UI.DocumentViewer.get_isPDFRenderingSupported();this._usePDFText=lt.Documents.UI.DocumentViewer.get_isPDFRenderingSupported();if(null==a)throw new lt.ArgumentNullException("createOptions");this._commands=new lt.Documents.UI.DocumentViewerCommands(this);this._commands._init();this._text=new lt.Documents.UI.DocumentViewerText(this);null!=a.get_viewContainer()&&(this._view=new lt.Documents.UI.DocumentViewerView(this),
this._view._init(a,Type.safeCast(this._commands.get__commands()["Layout.Vertical"].get_tag(),lt.Controls.ImageViewerViewLayout)));null!=a.get_thumbnailsContainer()&&(this._thumbnails=new lt.Documents.UI.DocumentViewerThumbnails(this),this._thumbnails._init(a));null!=a.get_bookmarksContainer()&&(this._bookmarks=new lt.Documents.UI.DocumentViewerBookmarks(this),this._bookmarks._init(a));a.get_useAnnotations()&&null!=this._view&&(this._annotations=new lt.Documents.UI.DocumentViewerAnnotations(this),
this._annotations._init(a));this._diagnostics=new lt.Documents.UI.DocumentViewerDiagnostics(this);null!=this._view&&this._view._initInteractiveModes("Interactive.SelectText")};lt.Documents.UI.DocumentViewer._disposeDocument=function(a){a.dispose()};lt.Documents.UI.DocumentViewer.get_isPDFRenderingSupported=function(){return"undefined"!==typeof PDFJS&&!!PDFJS.getDocument&&(lt.LTHelper.browser===lt.LTBrowser.chrome||lt.LTHelper.browser===lt.LTBrowser.firefox||lt.LTHelper.browser===lt.LTBrowser.internetExplorer&&
10<=lt.LTHelper.version&&lt.LTHelper.device===lt.LTDevice.desktop||lt.LTHelper.browser===lt.LTBrowser.opera||lt.LTHelper.browser===lt.LTBrowser.safari||lt.LTHelper.browser===lt.LTBrowser.edge&&lt.LTHelper.device===lt.LTDevice.desktop)};lt.Documents.UI.DocumentViewer.prototype={_lastPrintHandler:null,print:function(a){null!=this._lastPrintHandler&&(this._lastPrintHandler.stop(!0),this._lastPrintHandler=null);this._lastPrintHandler=new lt.Documents.UI._documentViewerPrintHandler(this);return this._lastPrintHandler.preparePrint(a)},
openBrowserPrint:function(a,b,c,d){lt.Documents.UI._documentViewerPrintHandler.openBrowserPrint(a,b,c,d,ss.Delegate.create(this,this._postPrintCallback))},_postPrintCallback:function(){try{null!=this._view&&null!=this._view.get_imageViewer()&&this._view.get_imageViewer().invalidate(lt.LeadRectD.get_empty()),null!=this._thumbnails&&null!=this._thumbnails.get_imageViewer()&&this._thumbnails.get_imageViewer().invalidate(lt.LeadRectD.get_empty()),this.get_isUsingPDFRendering()&&this._pdfRenderingHandler.refreshVisiblePages()}catch(a){}},
dispose:function(){null!=this._lastPrintHandler&&(this._lastPrintHandler.stop(!0),this._lastPrintHandler=null);this._destroy(!0)},tag:null,_useAjaxImageLoading:!1,get_useAjaxImageLoading:function(){return this._useAjaxImageLoading},set_useAjaxImageLoading:function(a){return this._useAjaxImageLoading=a},_documentUseAjaxImageLoading:!1,get__documentUseAjaxImageLoading:function(){return this._documentUseAjaxImageLoading},get_usePDFRendering:function(){return this._usePDFRendering},set_usePDFRendering:function(a){return this._usePDFRendering=
a},get_usePDFText:function(){return this._usePDFText},set_usePDFText:function(a){return this._usePDFText=a},_pdfRenderingHandler:null,get_isUsingPDFRendering:function(){return null!=this._pdfRenderingHandler},_tryCreatePDFRendering:function(a){var b=!1;if(null!=this._document&&(this._usePDFRendering||!a&&null!=this._pdfRenderingHandler))if("application/pdf"===this._document.mimeType&&null!=this._document.cacheUri)b=!0;else for(var c=ss.IEnumerator.getEnumerator(this._document.documents);c.moveNext();){var d=
c.current;if("application/pdf"===d.mimeType&&null!=d.cacheUri){b=!0;break}}if((a||!b)&&null!=this._pdfRenderingHandler)this._pdfRenderingHandler.dispose(),this._pdfRenderingHandler=null;return b&&null==this._pdfRenderingHandler?(a=null!=this.get_view()?this.get_view().get_imageViewer():null,b=null!=this.get_thumbnails()?this.get_thumbnails().get_imageViewer():null,this._pdfRenderingHandler=new lt.Documents.UI._pdfRenderingHandler(this._document,a,b,ss.Delegate.create(this,function(a,b,d){this.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(a,
b,null,null,d,!0))})),!0):!1},getPDFRenderingObject:function(a){return null==this._pdfRenderingHandler?null:this._pdfRenderingHandler.getPDFDocument(a)},_updateForNewDocument:function(){this._documentUseAjaxImageLoading=this._useAjaxImageLoading;null!=this._lastPrintHandler&&(this._lastPrintHandler.stop(!0),this._lastPrintHandler=null);this._tryCreatePDFRendering(!0)},prepareToSave:function(){if(!this.get_hasDocument())return!1;var a=!1;null!=this._view&&this._view._prepareToSave();null!=this._thumbnails&&
this._thumbnails._prepareToSave();null!=this._bookmarks&&this._bookmarks._prepareToSave();null!=this._text&&this._text._prepareToSave();null!=this._annotations&&(a=this._annotations._prepareToSave());return a},_destroy:function(a){if(a&&(this.setDocument(null),null!=this._thumbnails&&(this._thumbnails.dispose(),this._thumbnails=null),null!=this._view&&(this._view.dispose(),this._view=null),null!=this._bookmarks&&(this._bookmarks.dispose(),this._bookmarks=null),null!=this._annotations&&(this._annotations.dispose(),
this._annotations=null),null!=this._commands&&(this._commands._destroy(),this._commands=null),null!=this._text&&(this._text.dispose(),this._text=null),null!=this._diagnostics&&(this._diagnostics=null),null!=this._document&&this._autoDisposeDocument))lt.Documents.UI.DocumentViewer._disposeDocument(this._document),this._document=null},_document:null,get_document:function(){return this._document},_autoDisposeDocument:!0,get_autoDisposeDocument:function(){return this._autoDisposeDocument},set_autoDisposeDocument:function(a){return this._autoDisposeDocument=
a},get_hasDocument:function(){return null!=this._document},get_pageCount:function(){return null!=this._document?this._document.pages.get_count():0},_view:null,get_view:function(){return this._view},_thumbnails:null,get_thumbnails:function(){return this._thumbnails},_bookmarks:null,get_bookmarks:function(){return this._bookmarks},_annotations:null,get_annotations:function(){return this._annotations},_commands:null,get_commands:function(){return this._commands},_text:null,get_text:function(){return this._text},
_userName:null,get_userName:function(){return this._userName},set_userName:function(a){return this._userName=a},_diagnostics:null,get_diagnostics:function(){return this._diagnostics},setDocument:function(a){var b=this._document===a,c=new lt.Documents.UI.DocumentViewerOperationEventArgs(0,null,a,null,0,!1);this.onOperation(c);c.get_abort()||(null!=this._thumbnails&&this._thumbnails._stopWorking(!1),null!=this._bookmarks&&this._bookmarks._stopWorking(),null!=this._annotations&&this._annotations._stopWorking(),
null!=this._view&&this._view._stopWorking(),this._text._stopWorking(),null!=this._document&&this._document.pages.remove_collectionChanged(ss.Delegate.create(this,this._documentPages_CollectionChanged)),null!=this._document&&this._autoDisposeDocument&&!b&&lt.Documents.UI.DocumentViewer._disposeDocument(this._document),this._document=a,this._updateForNewDocument(),null!=this._thumbnails&&this._thumbnails._startWorking(),null!=this._bookmarks&&this._bookmarks._startWorking(),null!=this._annotations&&
this._annotations._startWorking(),null!=this._view&&this._view._startWorking(),this._text._startWorking(),c=new lt.Documents.UI.DocumentViewerOperationEventArgs(0,null,a,null,0,!0),this.onOperation(c),null!=this._document&&this._document.pages.add_collectionChanged(ss.Delegate.create(this,this._documentPages_CollectionChanged)))},_documentPages_CollectionChanged:function(a,b){var c=null;if(b.get_action()===lt.NotifyLeadCollectionChangedAction.add){if(c=new lt.Documents.UI.DocumentViewerOperationEventArgs(24,
null,b.get_newStartingIndex(),b.get_newItems(),0,!1),this.onOperation(c),!c.get_abort()){this.beginUpdate();try{for(var d=[],e=ss.IEnumerator.getEnumerator(b.get_newItems());e.moveNext();){var g=e.current;d.add(g)}this._text._addPages(d,b.get_newStartingIndex());var f=this._tryCreatePDFRendering(!1);null!=this._view&&this._view._addPages(d,b.get_newStartingIndex());this.get_isUsingPDFRendering()&&!f&&this._pdfRenderingHandler.addPages(d,b.get_newStartingIndex());null!=this._thumbnails&&this._thumbnails._addPages(d,
b.get_newStartingIndex());null!=this._annotations&&this._annotations._addPages(d,b.get_newStartingIndex());null!=this._bookmarks&&this._bookmarks._addPages(d,b.get_newStartingIndex());c=new lt.Documents.UI.DocumentViewerOperationEventArgs(24,null,b.get_newStartingIndex(),b.get_newItems(),0,!0);this.onOperation(c)}catch(h){c=new lt.Documents.UI.DocumentViewerOperationEventArgs(24,h,b.get_newStartingIndex(),b.get_newItems(),0,!0),this.onOperation(c)}finally{this.endUpdate()}}}else if(b.get_action()===
lt.NotifyLeadCollectionChangedAction.remove||b.get_action()===lt.NotifyLeadCollectionChangedAction.reset)if(c=new lt.Documents.UI.DocumentViewerOperationEventArgs(25,null,b.get_oldStartingIndex(),b.get_newItems(),0,!1),this.onOperation(c),!c.get_abort()){this.beginUpdate();try{for(var d=[],i=ss.IEnumerator.getEnumerator(b.get_newItems());i.moveNext();)g=i.current,d.add(g);this._tryCreatePDFRendering(!1);this._text._removePages(d,b.get_oldStartingIndex());this.get_isUsingPDFRendering()&&this._pdfRenderingHandler.removePages(d,
b.get_oldStartingIndex());null!=this._view&&this._view._removePages(d,b.get_oldStartingIndex());null!=this._thumbnails&&this._thumbnails._removePages(d,b.get_oldStartingIndex());null!=this._annotations&&this._annotations._removePages(d,b.get_oldStartingIndex());null!=this._bookmarks&&this._bookmarks._removePages(d,b.get_oldStartingIndex());c=new lt.Documents.UI.DocumentViewerOperationEventArgs(25,null,b.get_oldStartingIndex(),b.get_newItems(),0,!0);this.onOperation(c)}catch(j){c=new lt.Documents.UI.DocumentViewerOperationEventArgs(25,
j,b.get_oldStartingIndex(),b.get_newItems(),0,!0),this.onOperation(c)}finally{this.endUpdate()}}},_updateCounter:0,get__isUpdating:function(){return!!this._updateCounter},beginUpdate:function(){this._updateCounter++;1===this._updateCounter&&(this._text._beginUpdate(),null!=this._view&&this._view._beginUpdate(),null!=this._thumbnails&&this._thumbnails._beginUpdate(),null!=this._annotations&&this._annotations._beginUpdate(),null!=this._bookmarks&&this._bookmarks._beginUpdate())},endUpdate:function(){if(!this._updateCounter)throw new lt.InvalidOperationException("'EndUpdate' called without a matching 'BeginUpdate'");
this._updateCounter--;this._updateCounter||(this._text._endUpdate(),null!=this._view&&this._view._endUpdate(),null!=this._thumbnails&&this._thumbnails._endUpdate(),null!=this._annotations&&this._annotations._endUpdate(),null!=this._bookmarks&&this._bookmarks._endUpdate())},add_operation:function(a){this.__operation=ss.Delegate.combine(this.__operation,a)},remove_operation:function(a){this.__operation=ss.Delegate.remove(this.__operation,a)},__operation_handler_get:function(){null==this.__operation_handler&&
(this.__operation_handler=ss.EventHandler.create(this,this.add_operation,this.remove_operation));return this.__operation_handler},__operation:null,__operation_handler:null,onOperation:function(a){null!=this.__operation&&this.__operation(this,a);switch(a.get_operation()){case 26:var b=a.get_data1();null!=b&&Type.canCast(b.data,lt.Documents.UI.DocumentViewerCommand)&&(b=b.data,a.get_abort()?b.postRun(this,null):a.get_isPostOperation()&&!a.get_pageNumber()&&b.postRun(this,a.get_data2()));break;case 10:a.get_isPostOperation()&&
null!=this._annotations&&this.get_text().hasSelectedText(0)&&this._annotations._deselect();break;case 9:a.get_isPostOperation()&&this.get_text().get_renderSelection()&&null!=this._view&&(a=a.get_pageNumber(),this._view.get_imageViewer().invalidateItemByIndex(a-1))}},get_currentPageNumber:function(){if(null==this._view)return 0;var a=0,b=this._view.get_imageViewer(),c=b.get_activeItem();null!=c&&(a=b.get_items().indexOf(c)+1);return a},gotoPage:function(a){this._doGotoPage(a,!0,!0)},_doGotoPage:function(a,
b,c){if(null!=this._document){this._checkPageNumber(a,!1,"pageNumber");if(c){var d=new lt.Documents.UI.DocumentViewerOperationEventArgs(6,null,null,null,a,!1);this.onOperation(d);if(d.get_abort())return}var e=d=null,g=a-1;null!=this._view&&(d=this._view.get_imageViewer(),d.disableTransitions(),e=d.get_items().get_item(g),e!==d.get_activeItem()&&d.set_activeItem(e),b&&d.gotoItem(e),d.enableTransitions());null!=this._thumbnails&&(d=this._thumbnails.get_imageViewer(),e=d.get_items().get_item(g),d.get_items().select([e]),
d.ensureItemVisible(e));b&&null!=this._annotations&&null!=this._annotations.get_automation()&&(d=this._annotations.get_automation().get_containers().get_item(g),d!==this._annotations.get_automation().get_activeContainer()&&this._annotations.get_automation().set_activeContainer(d));b&&null!=this.get_text()&&this.get_text().clearLastFindText();c&&(d=new lt.Documents.UI.DocumentViewerOperationEventArgs(6,null,null,null,a,!0),this.onOperation(d))}},gotoBookmark:function(a){if(null==a)throw new lt.ArgumentNullException("bookmark");
null!=this._document&&this.runLinkTarget(a.target)},runLinkTarget:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"linkTarget");this._checkPageNumber(a.pageNumber,!0,"PageNumber");var b=a.pageNumber;b&&a.pageNumber!==this.get_currentPageNumber()&&this.gotoPage(a.pageNumber);null!=this._view&&b&&this._view.runLinkTarget(a)},_checkPageNumber:function(a,b,c){if(!this.get_hasDocument())throw new lt.InvalidOperationException("This operation is not allowed without a valid document");var d=this.get_pageCount();
if(b){if(a&&(1>a||a>d))throw new lt.ArgumentOutOfRangeException(c,a,"Must be a valid page number in the document or 0");}else if(1>a||a>d)throw new lt.ArgumentOutOfRangeException(c,a,"Must be a valid page number in the document");},_postRenderViewItem:function(a,b){null!=this._document&&(null!=this._text&&this._text._postRenderViewItem(a,b),null!=this._diagnostics&&this._diagnostics._postRenderViewItem(a,b))}};Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"useAjaxImageLoading",{get:lt.Documents.UI.DocumentViewer.prototype.get_useAjaxImageLoading,
set:lt.Documents.UI.DocumentViewer.prototype.set_useAjaxImageLoading,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer,"isPDFRenderingSupported",{get:lt.Documents.UI.DocumentViewer.get_isPDFRenderingSupported,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"usePDFRendering",{get:lt.Documents.UI.DocumentViewer.prototype.get_usePDFRendering,set:lt.Documents.UI.DocumentViewer.prototype.set_usePDFRendering,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"usePDFText",{get:lt.Documents.UI.DocumentViewer.prototype.get_usePDFText,set:lt.Documents.UI.DocumentViewer.prototype.set_usePDFText,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"isUsingPDFRendering",{get:lt.Documents.UI.DocumentViewer.prototype.get_isUsingPDFRendering,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"document",
{get:lt.Documents.UI.DocumentViewer.prototype.get_document,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"autoDisposeDocument",{get:lt.Documents.UI.DocumentViewer.prototype.get_autoDisposeDocument,set:lt.Documents.UI.DocumentViewer.prototype.set_autoDisposeDocument,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"hasDocument",{get:lt.Documents.UI.DocumentViewer.prototype.get_hasDocument,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"pageCount",{get:lt.Documents.UI.DocumentViewer.prototype.get_pageCount,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"view",{get:lt.Documents.UI.DocumentViewer.prototype.get_view,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"thumbnails",{get:lt.Documents.UI.DocumentViewer.prototype.get_thumbnails,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,
"bookmarks",{get:lt.Documents.UI.DocumentViewer.prototype.get_bookmarks,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"annotations",{get:lt.Documents.UI.DocumentViewer.prototype.get_annotations,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"commands",{get:lt.Documents.UI.DocumentViewer.prototype.get_commands,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,
"text",{get:lt.Documents.UI.DocumentViewer.prototype.get_text,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"userName",{get:lt.Documents.UI.DocumentViewer.prototype.get_userName,set:lt.Documents.UI.DocumentViewer.prototype.set_userName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"diagnostics",{get:lt.Documents.UI.DocumentViewer.prototype.get_diagnostics,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,
"operation",{get:lt.Documents.UI.DocumentViewer.prototype.__operation_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"currentPageNumber",{get:lt.Documents.UI.DocumentViewer.prototype.get_currentPageNumber,enumerable:!0,configurable:!0});lt.Documents.UI.AnnotationsInteractiveMode=function(){lt.Documents.UI.AnnotationsInteractiveMode.initializeBase(this);this.set_mouseButtons(lt.Controls.MouseButtons.left|lt.Controls.MouseButtons.right);this.set_autoItemMode(lt.Controls.ImageViewerAutoItemMode.autoSet);
this.set_itemPart(lt.Controls.ImageViewerItemPart.image);this.set_workOnBounds(!1)};lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1=function(a,b){var c=lt.LeadPointD.create(a.get_position().get_x(),a.get_position().get_y()),d=lt.Annotations.Core.AnnMouseButton.none;if(b)d=lt.Annotations.Core.AnnMouseButton.left;else if(a.get_mouseButton()===lt.Controls.MouseButtons.left&&(d=lt.Annotations.Core.AnnMouseButton.left),a.get_mouseButton()===lt.Controls.MouseButtons.right)d=lt.Annotations.Core.AnnMouseButton.right;
c=lt.Annotations.Core.AnnPointerEventArgs.create(d,c);c.set_isHandled(a.get_isHandled());return c};lt.Documents.UI.AnnotationsInteractiveMode.prototype={get_id:function(){return 100},_automationControl$1:null,get_automationControl:function(){return this._automationControl$1},set_automationControl:function(a){return this._automationControl$1=a},get_name:function(){return"Annotations"},canStartWork:function(a){return lt.Documents.UI.AnnotationsInteractiveMode.callBaseMethod(this,"canStartWork",[a])&&
null!=this.get_automationControl()},start:function(a){lt.Documents.UI.AnnotationsInteractiveMode.callBaseMethod(this,"start",[a]);a=lt.Documents.UI.AnnotationsInteractiveMode.callBaseMethod(this,"get_interactiveService");a.add_dragStarted(ss.Delegate.create(this,this._interactiveService_DragStarted$1));a.add_dragDelta(ss.Delegate.create(this,this._interactiveService_DragDelta$1));a.add_dragCompleted(ss.Delegate.create(this,this._interactiveService_DragCompleted$1));a.add_tap(ss.Delegate.create(this,
this._interactiveService_Tap$1));a.add_doubleTap(ss.Delegate.create(this,this._interactiveService_DoubleTap$1));a.add_move(ss.Delegate.create(this,this._interactiveService_Move$1))},stop:function(a){if(this.get_isStarted()){var b=lt.Documents.UI.AnnotationsInteractiveMode.callBaseMethod(this,"get_interactiveService");b.remove_dragStarted(ss.Delegate.create(this,this._interactiveService_DragStarted$1));b.remove_dragDelta(ss.Delegate.create(this,this._interactiveService_DragDelta$1));b.remove_dragCompleted(ss.Delegate.create(this,
this._interactiveService_DragCompleted$1));b.remove_tap(ss.Delegate.create(this,this._interactiveService_Tap$1));b.remove_doubleTap(ss.Delegate.create(this,this._interactiveService_DoubleTap$1));b.remove_move(ss.Delegate.create(this,this._interactiveService_Move$1));lt.Documents.UI.AnnotationsInteractiveMode.callBaseMethod(this,"stop",[a])}},_interactiveService_DragStarted$1:function(a,b){if(this.canStartWork(b)&&!b.get_isMouseWheel()){this.onWorkStarted(lt.LeadEventArgs.Empty);var c=lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1(b,
!1);if(!b.get_isHandled()&&(this.get_automationControl().onAutomationPointerDown(c),b.set_isHandled(c.get_isHandled()),!b.get_isHandled()))this.onWorkCompleted(lt.LeadEventArgs.Empty)}},_interactiveService_DragDelta$1:function(a,b){if(this.get_isWorking()){var c=lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1(b,!1);b.get_isHandled()||(this.get_automationControl().onAutomationPointerMove(c),b.set_isHandled(c.get_isHandled()))}},_interactiveService_DragCompleted$1:function(a,b){if(this.get_isWorking()){var c=
lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1(b,!1);b.get_isHandled()||(this.get_automationControl().onAutomationPointerUp(c),b.set_isHandled(c.get_isHandled()),this.onWorkCompleted(lt.LeadEventArgs.Empty))}},_interactiveService_Tap$1:function(a,b){if(!this.get_isWorking()&&this.canStartWork(b)){var c=lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1(b,!1);b.get_isHandled()||(this.get_automationControl().onAutomationPointerUp(c),b.set_isHandled(c.get_isHandled()))}},
_interactiveService_DoubleTap$1:function(a,b){if(this.canStartWork(b)){var c=lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1(b,!0);b.get_isHandled()||(this.onWorkStarted(lt.LeadEventArgs.Empty),this.get_automationControl().onAutomationDoubleClick(c),b.set_isHandled(c.get_isHandled()),this.onWorkCompleted(lt.LeadEventArgs.Empty))}},_interactiveService_Move$1:function(a,b){if(null!=this.get_automationControl()){var c=lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1(b,
!1);this.get_automationControl().onAutomationPointerMove(c)}}};Object.defineProperty(lt.Documents.UI.AnnotationsInteractiveMode.prototype,"id",{get:lt.Documents.UI.AnnotationsInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.AnnotationsInteractiveMode.prototype,"automationControl",{get:lt.Documents.UI.AnnotationsInteractiveMode.prototype.get_automationControl,set:lt.Documents.UI.AnnotationsInteractiveMode.prototype.set_automationControl,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Documents.UI.AnnotationsInteractiveMode.prototype,"name",{get:lt.Documents.UI.AnnotationsInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerPageLinksInteractiveMode=function(a){this._runLinkKeyModifier$1=lt.Controls.Keys.none;this._lastMovePosition$1=lt.LeadPointD.get_empty();this._lastLink$1=new lt.Documents.DocumentLink;lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.initializeBase(this);this._documentViewer$1=
a;this.set_autoItemMode(lt.Controls.ImageViewerAutoItemMode.autoSet);this.set_itemPart(lt.Controls.ImageViewerItemPart.image);this.set_workOnBounds(!0);this.set_isDragMouseWheelEnabled(!1)};lt.Documents.UI.DocumentViewerPageLinksInteractiveMode._checkKeyModifier$1=function(a,b,c){return!a.get_supportsMouse()?!0:c!==lt.Controls.Keys.none?lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),c):lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),lt.Controls.Keys.alt)||
lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),lt.Controls.Keys.control)||lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),lt.Controls.Keys.shift)?!1:!0};lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype={_documentViewer$1:null,get_documentViewer:function(){return this._documentViewer$1},get_name:function(){return"PageLinks"},get_id:function(){return 101},get_runLinkKeyModifier:function(){return this._runLinkKeyModifier$1},set_runLinkKeyModifier:function(a){switch(a){case lt.Controls.Keys.none:case lt.Controls.Keys.alt:case lt.Controls.Keys.shift:case lt.Controls.Keys.control:this._runLinkKeyModifier$1=
a;break;default:throw new lt.ArgumentException("Invalid value","RunLinkKeyModifier");}return a},start:function(a){lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.callBaseMethod(this,"start",[a]);a=lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.callBaseMethod(this,"get_interactiveService");this._isDragging$1=this._canCheckLinks$1=!1;a.get_supportsMouse()&&a.add_move(ss.Delegate.create(this,this._service_Move$1));a.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));
a.add_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));a.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));this._lastMovePosition$1=lt.LeadPointD.get_empty();this._lastLink$1=new lt.Documents.DocumentLink;this._lastLink$1.bounds=lt.LeadRectD.get_empty()},stop:function(a){if(this.get_isStarted()){var b=lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.callBaseMethod(this,"get_interactiveService");b.get_supportsMouse()&&b.remove_move(ss.Delegate.create(this,
this._service_Move$1));b.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));b.remove_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));b.remove_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.callBaseMethod(this,"stop",[a])}},canStartWork:function(a){return lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.callBaseMethod(this,"canStartWork",[a])&&null!=this._documentViewer$1&&this._documentViewer$1.get_hasDocument()},
_service_Move$1:function(a,b){if(this.get_isEnabled()&&!lt.LeadPointD.equals(b.get_position(),this._lastMovePosition$1)&&(this._lastMovePosition$1=b.get_position(),!(null==this._documentViewer$1||!this._documentViewer$1.get_hasDocument()||this._isDragging$1&&!this._canCheckLinks$1))){var c=!1,d=!1,e=0,g=this.get_imageViewer(),f=g.hitTestItem(b.get_position());if(null!=f){var h=this._hitTestLink$1(f,b.get_position());if(c=!h.bounds.get_isEmpty()){if(this._lastLink$1.bounds.get_isEmpty()||!lt.LeadRectD.equals(this._lastLink$1.bounds,
h.bounds))e=g.get_items().indexOf(f)+1,this._lastLink$1=h,d=!0}else this._lastLink$1.bounds.get_isEmpty()||(e=g.get_items().indexOf(f)+1,this._lastLink$1=new lt.Documents.DocumentLink,this._lastLink$1.bounds=lt.LeadRectD.get_empty(),d=!0)}this.get_hitTestState()!==c&&this.set_hitTestState(c);if(d&&(c=null,this._lastLink$1.bounds.get_isEmpty()||(c=this._lastLink$1),d=new lt.Documents.UI.DocumentViewerOperationEventArgs(22,null,c,b,e,!1),this._documentViewer$1.onOperation(d),!d.get_abort()))d=new lt.Documents.UI.DocumentViewerOperationEventArgs(22,
null,c,b,e,!0),this._documentViewer$1.onOperation(d)}},_canCheckLinks$1:!1,_isDragging$1:!1,_service_DragStarted$1:function(a,b){this._canCheckLinks$1=!b.get_isHandled();this._isDragging$1=!0},_service_DragDelta$1:function(a,b){if(this.canStartWork(b)&&lt.Documents.UI.DocumentViewerPageLinksInteractiveMode._checkKeyModifier$1(this.get_interactiveService(),b,this.get_runLinkKeyModifier())&&null!=this._documentViewer$1&&this._documentViewer$1.get_hasDocument()&&this._canCheckLinks$1){var c=Math.abs(b.get_position().get_x()-
b.get_origin().get_x()),d=Math.abs(b.get_position().get_y()-b.get_origin().get_y());this._canCheckLinks$1=2>c&&2>d}},_service_DragCompleted$1:function(a,b){this._isDragging$1=!1;if(this.canStartWork(b)&&lt.Documents.UI.DocumentViewerPageLinksInteractiveMode._checkKeyModifier$1(this.get_interactiveService(),b,this.get_runLinkKeyModifier())&&null!=this._documentViewer$1&&this._documentViewer$1.get_hasDocument()&&this._canCheckLinks$1){var c=this.get_item();if(null!=c&&(c=this._hitTestLink$1(c,b.get_position()),
!c.bounds.get_isEmpty())){var d=new lt.Documents.UI.DocumentViewerOperationEventArgs(14,null,c,b,0,!1);this._documentViewer$1.onOperation(d);d.get_abort()||(c.linkType===lt.Documents.DocumentLinkType.targetPage&&this._documentViewer$1.runLinkTarget(c.target),d=new lt.Documents.UI.DocumentViewerOperationEventArgs(14,null,c,b,0,!0),this._documentViewer$1.onOperation(d),b.set_isHandled(!0),this.onWorkStarted(lt.LeadEventArgs.Empty),this.onWorkCompleted(lt.LeadEventArgs.Empty))}}},_hitTestLink$1:function(a,
b){var c=new lt.Documents.DocumentLink;c.bounds=lt.LeadRectD.get_empty();var d=this.get_imageViewer(),e=d.get_items().indexOf(a)+1,g=this._documentViewer$1.get_document(),e=g.pages.get_item(e-1),f=e.getLinks();if(null==f||!f.length)return c;for(var h=lt.Controls.PrimitivesHelper.toLeadPointD(b),h=d.convertPoint(a,lt.Controls.ImageViewerCoordinateType.control,lt.Controls.ImageViewerCoordinateType.image,h),h=g.pointToDocument(lt.Controls.PrimitivesHelper.toLeadPoint(h)),f=ss.IEnumerator.getEnumerator(f);f.moveNext();)if(d=
f.current,d.bounds.containsPoint(h))return d.linkType===lt.Documents.DocumentLinkType.targetPage&&(c=g.pages.getTargetPageNumber(e.document,d.target.pageNumber),c!==d.target.pageNumber)?(g=d.clone(),e=g.target.clone(),e.pageNumber=c,g.target=e,g):d;return c}};Object.defineProperty(lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype.get_documentViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype,
"name",{get:lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype,"id",{get:lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype,"runLinkKeyModifier",{get:lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype.get_runLinkKeyModifier,
set:lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype.set_runLinkKeyModifier,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerSelectTextInteractiveMode=function(){lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.initializeBase(this);this.set_autoItemMode(lt.Controls.ImageViewerAutoItemMode.autoSet);this.set_itemPart(lt.Controls.ImageViewerItemPart.image);this.set_workOnBounds(!0);this.set_isDragMouseWheelEnabled(!1);this._init$2()};lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype=
{_documentViewer$2:null,get_documentViewer:function(){return this._documentViewer$2},set_documentViewer:function(a){return this._documentViewer$2=a},get_shape:function(){return lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,"get_shape")},set_shape:function(a){if(a!==lt.Controls.ImageViewerRubberBandShape.rectangle)throw new lt.InvalidOperationException("Only rectangle Shape is supported by this interactive mode");lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,
"set_shape",[a]);return a},get_name:function(){return"SelectText"},get_id:function(){return 102},start:function(a){lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,"start",[a]);this.get_isStarted()&&this.get_interactiveService().add_doubleTap(ss.Delegate.create(this,this._interactiveService_DoubleTap$2))},stop:function(a){this.get_isStarted()&&this.get_interactiveService().remove_doubleTap(ss.Delegate.create(this,this._interactiveService_DoubleTap$2));lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,
"stop",[a])},_interactiveService_DoubleTap$2:function(a,b){if(!(null==this._documentViewer$2||null==this.get_item())){var c=this.get_imageViewer().get_items().indexOf(this.get_item())+1,d=lt.LeadPointD.create(b.get_position().get_x()+1,b.get_position().get_y()+1);this._documentViewer$2.get_text()._trySelect(c,lt.Controls.PrimitivesHelper.toLeadPointD(b.get_position()),lt.Controls.PrimitivesHelper.toLeadPointD(d),4,b)}},onRubberBandStarted:function(a){lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,
"onRubberBandStarted",[a]);null==this._documentViewer$2||null==this.get_item()||(a=this.get_imageViewer().get_items().indexOf(this.get_item())+1,this._documentViewer$2.get_text().hasDocumentPageText(a)||this._documentViewer$2.get_text().getDocumentPageText(a))},onRubberBandDelta:function(a){lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,"onRubberBandDelta",[a]);if(!(null==this._documentViewer$2||null==this.get_item())){var b=this.get_imageViewer().get_items().indexOf(this.get_item())+
1;this._documentViewer$2.get_text()._trySelect(b,lt.Controls.PrimitivesHelper.toLeadPointD(a.get_points()[0]),lt.Controls.PrimitivesHelper.toLeadPointD(a.get_points()[1]),3,a.get_interactiveEventArgs())}},onRubberBandCompleted:function(a){lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,"onRubberBandCompleted",[a]);if(!(null==this._documentViewer$2||null==this.get_item())){var b=this.get_imageViewer().get_items().indexOf(this.get_item())+1;a.get_isCanceled()?this._documentViewer$2.get_text().clearSelection(b):
this._documentViewer$2.get_text()._trySelect(b,lt.Controls.PrimitivesHelper.toLeadPointD(a.get_points()[0]),lt.Controls.PrimitivesHelper.toLeadPointD(a.get_points()[1]),4,a.get_interactiveEventArgs())}},_init$2:function(){this.set_borderThickness(0)}};Object.defineProperty(lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype.get_documentViewer,set:lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype.set_documentViewer,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype,"shape",{get:lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype.get_shape,set:lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype.set_shape,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype,"name",{get:lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype.get_name,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype,"id",{get:lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerOperationEventArgs=function(a,b,c,d,e,g){lt.Documents.UI.DocumentViewerOperationEventArgs.initializeBase(this);this._operation$1=a;this._data1$1=c;this._data2$1=d;this._pageNumber$1=e;this._isPostOperation$1=g;this._abort$1=!1;this._error$1=b};lt.Documents.UI.DocumentViewerOperationEventArgs.prototype=
{_operation$1:0,get_operation:function(){return this._operation$1},_error$1:null,get_error:function(){return this._error$1},_data1$1:null,get_data1:function(){return this._data1$1},_data2$1:null,get_data2:function(){return this._data2$1},_pageNumber$1:0,get_pageNumber:function(){return this._pageNumber$1},_isPostOperation$1:!1,get_isPostOperation:function(){return this._isPostOperation$1},_abort$1:!1,get_abort:function(){return this._abort$1},set_abort:function(a){return this._abort$1=a}};Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,
"operation",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_operation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,"error",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_error,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,"data1",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_data1,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,"data2",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_data2,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,"pageNumber",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_pageNumber,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,"isPostOperation",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_isPostOperation,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,"abort",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_abort,set:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.set_abort,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerFindText=function(){this._start=0};lt.Documents.UI.DocumentViewerFindText.prototype={clone:function(){var a=new lt.Documents.UI.DocumentViewerFindText;a._beginPosition=null!=
this._beginPosition?lt.Documents.UI.DocumentViewerTextPosition.create(this._beginPosition.get_pageNumber(),this._beginPosition.get_characterIndex()):null;a._endPosition=null!=this._endPosition?lt.Documents.UI.DocumentViewerTextPosition.create(this._endPosition.get_pageNumber(),this._endPosition.get_characterIndex()):null;a._start=this._start;a._manualStartPosition=null!=this._manualStartPosition?lt.Documents.UI.DocumentViewerTextPosition.create(this._manualStartPosition.get_pageNumber(),this._manualStartPosition.get_characterIndex()):
null;a._text=this._text;a._matchCase=this._matchCase;a._wholeWordsOnly=this._wholeWordsOnly;a._renderResults=this._renderResults;a._findAll=this._findAll;a._selectFirstResult=this._selectFirstResult;a._loop=this._loop;a.data=this.data;return a},_beginPosition:null,get_beginPosition:function(){return this._beginPosition},set_beginPosition:function(a){return this._beginPosition=a},_endPosition:null,get_endPosition:function(){return this._endPosition},set_endPosition:function(a){return this._endPosition=
a},_text:null,get_text:function(){return this._text},set_text:function(a){return this._text=a},_matchCase:!1,get_matchCase:function(){return this._matchCase},set_matchCase:function(a){return this._matchCase=a},_wholeWordsOnly:!1,get_wholeWordsOnly:function(){return this._wholeWordsOnly},set_wholeWordsOnly:function(a){return this._wholeWordsOnly=a},_findAll:!0,get_findAll:function(){return this._findAll},set_findAll:function(a){return this._findAll=a},_loop:!0,get_loop:function(){return this._loop},
set_loop:function(a){return this._loop=a},_renderResults:!0,get_renderResults:function(){return this._renderResults},set_renderResults:function(a){return this._renderResults=a},_selectFirstResult:!0,get_selectFirstResult:function(){return this._selectFirstResult},set_selectFirstResult:function(a){return this._selectFirstResult=a},get_start:function(){return this._start},set_start:function(a){return this._start=a},_manualStartPosition:null,get_manualStartPosition:function(){return this._manualStartPosition},
set_manualStartPosition:function(a){return this._manualStartPosition=a},data:null};Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"beginPosition",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_beginPosition,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_beginPosition,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"endPosition",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_endPosition,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_endPosition,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"text",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_text,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_text,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"matchCase",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_matchCase,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_matchCase,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"wholeWordsOnly",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_wholeWordsOnly,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_wholeWordsOnly,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"findAll",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_findAll,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_findAll,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"loop",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_loop,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_loop,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"renderResults",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_renderResults,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_renderResults,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,
"selectFirstResult",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_selectFirstResult,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_selectFirstResult,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"start",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_start,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_start,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,
"manualStartPosition",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_manualStartPosition,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_manualStartPosition,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerText=function(a){this._lineSelectionMode=0;this._lineKeyModifier=lt.Controls.Keys.none;this._wordKeyModifier=lt.Controls.Keys.alt;this._characterKeyModifier=lt.Controls.Keys.control;this._documentViewer=a;this._findText=new lt.Documents.UI.FindTextStateManager(this)};
lt.Documents.UI.DocumentViewerText._removeLastEndOfLine=function(a){if(String.isNullOrEmpty(a))return a;var b=a.length;2<=b&&"\r"===a[b-2]&&"\n"===a[b-1]&&(a=a.substring(0,b-2));return a};lt.Documents.UI.DocumentViewerText._endsWithEndOfLine=function(a){if(String.isNullOrEmpty(a))return!1;var b=a.length;return 2<=b&&"\r"===a[b-2]&&"\n"===a[b-1]};lt.Documents.UI.DocumentViewerText._getRealLineSelectionMode=function(a,b,c){if(null==a||c)return c;c=a.mimeType;a.hasDocuments&&(c=a.pages.get_item(b-1).document.mimeType);
switch(c){case "application/vnd.ms-excel":case "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return 2;default:return 1}};lt.Documents.UI.DocumentViewerText._updateTextItemSelection=function(a,b,c){for(var d=c.get_firstCharacterIndex(),e=c.get_lastCharacterIndex(),g=-1,f=!1,h=d;h<=e;h++)if(b[h].isLineBreak&&(g=h),a.intersectsWith(b[h].bounds)&&!f&&(-1!==g&&(d=g!==h?g+1:g),f=!0),!a.intersectsWith(b[h].bounds)&&f){if(-1!==g&&(g===h-1||b[h].isLineBreak))e=g;else for(a=h;a<=e;a++)if(b[a].isLineBreak){e=
a;break}break}if(d!==c.get_firstCharacterIndex()||e!==c.get_lastCharacterIndex()){c.set_firstCharacterIndex(d);c.set_lastCharacterIndex(e);c.set_bounds(b[c.get_firstCharacterIndex()].bounds);for(a=c.get_firstCharacterIndex();a<=c.get_lastCharacterIndex();a++)c.set_bounds(lt.LeadRectD.unionRects(c.get_bounds(),b[a].bounds))}};lt.Documents.UI.DocumentViewerText.get_foundTextFill=function(){return lt.Documents.UI.DocumentViewerText._findTextFill};lt.Documents.UI.DocumentViewerText.set_foundTextFill=
function(a){return lt.Documents.UI.DocumentViewerText._findTextFill=a};lt.Documents.UI.DocumentViewerText.get__canRenderFoundText=function(){return null!=lt.Documents.UI.DocumentViewerText.get_foundTextFill()};lt.Documents.UI.DocumentViewerText.get_selectedFill=function(){return lt.Documents.UI.DocumentViewerText._selectedFill};lt.Documents.UI.DocumentViewerText.set_selectedFill=function(a){return lt.Documents.UI.DocumentViewerText._selectedFill=a};lt.Documents.UI.DocumentViewerText.get__canRenderSelectedText=
function(){return null!=lt.Documents.UI.DocumentViewerText.get_selectedFill()};lt.Documents.UI.DocumentViewerText._paintBounds=function(a,b,c){b.inflate(2,2);a.save();a.fillStyle=c;a.fillRect(b.get_x(),b.get_y(),b.get_width(),b.get_height());a.restore()};lt.Documents.UI.DocumentViewerText._nativeCopy=function(){};lt.Documents.UI.DocumentViewerText._checkKeyModifier=function(a,b){return null==a?!1:lt.Controls.InteractiveService.checkKeyModifier(a.get_nativeEvent(),b)};lt.Documents.UI.DocumentViewerText.createFromPDF=
function(a,b,c){(null==a||!a.getTextContent&&a.view)&&c("Not a valid page object");a.getTextContent({normalizeWhitespace:!0,combineTextItems:!1}).then(function(d){var c=null;try{var g=lt.LeadSizeD.create(a.view[2],a.view[3]),c=lt.Documents.DocumentPageText.createFromPDF(g,d);null!=c&&c.buildTextWithMap()}catch(f){}b(c);return null},function(a){c(a)})};lt.Documents.UI.DocumentViewerText.prototype={_destroy:function(a){a&&null!=this._findText&&(this._findText.dispose(),this._findText=null)},_documentViewer:null,
get_documentViewer:function(){return this._documentViewer},get_lineSelectionMode:function(){return this._lineSelectionMode},set_lineSelectionMode:function(a){return this._lineSelectionMode=a},_pageTextKey:null,_isEmptyPageText:!0,_setupPageText:function(a){this._pageTextKey=null!=a?a.documentId+"_pagetext_":null;this._isEmptyPageText=!0},_setPageText:function(a,b,c){null==a||null==this._pageTextKey||(a.pages.get_item(b-1).customData[this._pageTextKey]=c,this._isEmptyPageText=!1)},_deletePageText:function(a){if(!(null==
a||null==this._pageTextKey)){for(a=ss.IEnumerator.getEnumerator(a.pages);a.moveNext();){var b=a.current.customData;Object.keyExists(b,this._pageTextKey)&&delete b[this._pageTextKey]}this._isEmptyPageText=!0}},_hasEmptyPageText:function(){return this._isEmptyPageText},_pageTextContains:function(a,b){var c=a.pages.get_item(b-1);return Object.keyExists(c.customData,this._pageTextKey)},_getPageText:function(a,b){var c=a.pages.get_item(b-1);return Type.safeCast(c.customData[this._pageTextKey],lt.Documents.DocumentPageText)},
_startWorking:function(){this._stopWorking();this._selectedTextItems={};this._setupPageText(this._documentViewer.get_document());this.clearRenderedFoundText();this.clearLastFindText();this._hasAnySelectedText=!1},_stopWorking:function(){this._addOrReplaceSelectedText(0,null);this._hasAnySelectedText=!1;this._deletePageText(this._documentViewer.get_document());this.clearRenderedFoundText();this.clearLastFindText()},_addPages:function(a){null!=a&&a.length&&(this.clearSelection(0),this.clearRenderedFoundText(),
this.clearLastFindText())},_removePages:function(a){null!=a&&a.length&&(this.clearSelection(0),this.clearRenderedFoundText(),this.clearLastFindText())},_postRenderViewItem:function(a,b){if(lt.Documents.UI.DocumentViewerText.get__canRenderFoundText()&&null!=this._findText.get_lastResultsDictionary()){var c=this._findText.get_lastResultsDictionary(),d=b.get_item(),e=this._documentViewer.get_document(),d=d.get_leadIndex()+1;if(Object.keyExists(c,d)){var g=c[d];if(0<g.length){c=new lt.Documents.UI.DocumentViewerOperationEventArgs(27,
null,b,g,d,!1);this._documentViewer.onOperation(c);if(c.get_abort())return;this._doRenderFoundText(e,c);c=new lt.Documents.UI.DocumentViewerOperationEventArgs(12,null,b,g,d,!0);this._documentViewer.onOperation(c)}}}this.get_renderSelection()&&lt.Documents.UI.DocumentViewerText.get__canRenderSelectedText()&&null!=this._selectedTextItems&&(d=b.get_item(),e=this._documentViewer.get_document(),d=d.get_leadIndex()+1,Object.keyExists(this._selectedTextItems,d)&&(g=this._selectedTextItems[d],0<g.length&&
(c=new lt.Documents.UI.DocumentViewerOperationEventArgs(12,null,b,g,d,!1),this._documentViewer.onOperation(c),c.get_abort()||(this._doRenderSelectedText(e,c),c=new lt.Documents.UI.DocumentViewerOperationEventArgs(12,null,b,g,d,!0),this._documentViewer.onOperation(c)))))},_renderSelection:!0,get_renderSelection:function(){return this._renderSelection},set_renderSelection:function(a){return this._renderSelection=a},_autoGetText:!1,get_autoGetText:function(){return this._autoGetText},set_autoGetText:function(a){return this._autoGetText=
a},getDocumentPageText:function(a){return this._doGetDocumentPageText(a,!0,null,null)},getAllDocumentPageText:function(){if(this._documentViewer.get_hasDocument()){var a=this._documentViewer.get_pageCount(),b=new lt.Documents.UI.DocumentViewerOperationEventArgs(8,null,null,null,0,!1);b.set_abort(!1);for(var c=1;c<=a&&!b.get_abort();c++)this._doGetDocumentPageText(c,!0,b,null)}},hasAnyDocumentPageText:function(){if(!this._documentViewer.get_hasDocument())return!1;var a=this._documentViewer.get_document();
if(this._hasEmptyPageText(a))return!1;for(var b=this._documentViewer.get_pageCount(),c=0;c<=b;c++)if(this._pageTextContains(a,c)&&null!=this._getPageText(a,c))return!0;return!1},hasDocumentPageText:function(a){if(!this._documentViewer.get_hasDocument())return!1;var b=this._documentViewer.get_document();if(this._hasEmptyPageText(b))return!1;for(var c=this._documentViewer.get_pageCount(),c=a?a:c,a=a?a:1;a<=c;a++)if(!this._pageTextContains(b,a)||null==this._getPageText(b,a))return!1;return!0},_doGetDocumentPageText:function(a,
b,c,d){null==d&&(d=function(){});if(!this._documentViewer.get_hasDocument())return d(null),null;var e=this._documentViewer.get_document();this._documentViewer._checkPageNumber(a,!1,"pageNumber");if(this._pageTextContains(e,a))return e=this._getPageText(e,a),d(e),e;if(!b)return d(null),null;b=new lt.Documents.UI.DocumentViewerOperationEventArgs(8,null,null,null,a,!1);this._documentViewer.onOperation(b);null!=c&&b.get_abort()&&c.set_abort(!0);if(b.get_abort())return d(null),null;var g=e.pages.get_item(a-
1);if(g.isLocal)return this._finishGetText(null,a,null,c),d(null),null;var f=ss.Delegate.create(this,function(){this._getTextFromService(g,a,c,d)});this._documentViewer.get_isUsingPDFRendering()&&this._documentViewer.get_usePDFText()?lt.Documents.PDFText.getTextForDocumentPage(g,ss.Delegate.create(this,function(b,e){null!=b&&null==e?(this._finishGetText(b,a,null,c),d(b)):f()})):f();return null},_getTextFromService:function(a,b,c,d){a=a.getText(lt.LeadRectD.get_empty());a.done(ss.Delegate.create(this,
function(a){a=Type.safeCast(a,lt.Documents.DocumentPageText);this._finishGetText(a,b,null,c);d(a)}));a.fail(ss.Delegate.create(this,function(a){a=lt.Documents.ServiceError.parseError(a,"error",Type.safeCast(a.statusText,String));this._finishGetText(null,b,Error(a.isParseError?a.errorThrown:a.detail),c);d(null)}))},_finishGetText:function(a,b,c,d){var e=this._documentViewer.get_document();null!=a&&null==c?(a.buildTextWithMap(),this._setPageText(e,b,a),a=new lt.Documents.UI.DocumentViewerOperationEventArgs(8,
null,a,null,b,!0)):(this._setPageText(e,b,new lt.Documents.DocumentPageText([])),a=new lt.Documents.UI.DocumentViewerOperationEventArgs(8,c,null,null,b,!0));this._documentViewer.onOperation(a);null!=d&&a.get_abort()&&d.set_abort(!0)},setDocumentPageText:function(a,b){if(this._documentViewer.get_hasDocument()){this._documentViewer._checkPageNumber(b,!1,"pageNumber");var c=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!1);this._documentViewer.onOperation(c);c.get_abort()||
(c=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,b,!1),this._documentViewer.onOperation(c),c.get_abort()||(c=this._documentViewer.get_document(),this._pageTextContains(c,b)?null!=a?this._setPageText(c,b,a):this._setPageText(c,b,null):null!=a&&this._setPageText(c,b,a),this._addOrReplaceSelectedText(b,null),c=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,b,!0),this._documentViewer.onOperation(c),c=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,
null,null,null,0,!0),this._documentViewer.onOperation(c)))}},_selectedTextItems:null,getSelectedTextItems:function(a){if(!this._documentViewer.get_hasDocument())return null;this._documentViewer._checkPageNumber(a,!1,"pageNumber");return null!=this._selectedTextItems&&Object.keyExists(this._selectedTextItems,a)?this._selectedTextItems[a]:null},setSelectedTextItems:function(a,b){this._doSetSelectedTextItems(a,b)},_doSetSelectedTextItems:function(a,b){if(!this._documentViewer.get_hasDocument())return!1;
this._documentViewer._checkPageNumber(a,!1,"pageNumber");var c=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!1);this._documentViewer.onOperation(c);if(c.get_abort())return!1;c=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,a,!1);this._documentViewer.onOperation(c);if(c.get_abort())return!1;c=null;if(null!=b)for(var c=[],d=0;d<b.length;d++){var e=b[d];null!=e?c.add(e.clone()):c.add(null)}this._addOrReplaceSelectedText(a,c);c=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,
null,null,null,a,!0);this._documentViewer.onOperation(c);c=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!0);this._documentViewer.onOperation(c);return!0},clearSelection:function(a){if(!this._documentViewer.get_hasDocument())return!1;this._documentViewer._checkPageNumber(a,!0,"pageNumber");if(null==this._selectedTextItems)return!1;var b=this._documentViewer.get_pageCount(),c=a?a:1,b=a?a:b,d=!1,e=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!1);
this._documentViewer.onOperation(e);if(e.get_abort())return!1;for(;c<=b;c++){e=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,c,!1);this._documentViewer.onOperation(e);if(e.get_abort())return this._updateHasAnySelectedText(),d;this._doClearSelection(c)&&(d=!0,e=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,c,!0),this._documentViewer.onOperation(e))}a||Object.clearKeys(this._selectedTextItems);this._updateHasAnySelectedText();d&&(e=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,
null,null,null,0,!0),this._documentViewer.onOperation(e));return d},_doClearSelection:function(a){var b=!1;null!=this._selectedTextItems&&Object.keyExists(this._selectedTextItems,a)&&(b=null!=this._selectedTextItems[a]&&0<this._selectedTextItems[a].length,this._selectedTextItems[a].clear(),delete this._selectedTextItems[a]);return b},_addOrReplaceSelectedText:function(a,b){if(null!=this._selectedTextItems){this._hasAnySelectedText=!1;for(var c=this._documentViewer.get_pageCount(),c=a?a:c,d=a?a:1;d<=
c;d++)Object.keyExists(this._selectedTextItems,d)?(this._selectedTextItems[d].clear(),null!=b?this._selectedTextItems[d]=b:delete this._selectedTextItems[d]):null!=b&&(this._selectedTextItems[d]=b);this._updateHasAnySelectedText()}},selectAll:function(a){if(this._documentViewer.get_hasDocument()){this._documentViewer._checkPageNumber(a,!0,"pageNumber");var b=this._documentViewer.get_pageCount(),c=a?a:1,a=a?a:b,b=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!1);this._documentViewer.onOperation(b);
if(!b.get_abort()){for(;c<=a;c++){b=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,c,!1);this._documentViewer.onOperation(b);if(b.get_abort())return;b=this._selectPageText(c,0,-1,!1,4);this._addOrReplaceSelectedText(c,b);b=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,c,!0);this._documentViewer.onOperation(b)}b=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!0);this._documentViewer.onOperation(b)}}},_selectPageText:function(a,
b,c,d){if(-1===b)return null;var e=this._doGetDocumentPageText(a,this.get_autoGetText(),null,null);if(null==e)return null;var g=e.characters;if(!g.length)return null;-1===c&&(c=e.characters.length-1);if(d){for(d=b-1;0<=d&&!g[d].isEndOfWord&&!g[d].isEndOfLine;)d--;for(b=d+1;c<g.length&&!g[c].isEndOfWord&&!g[c].isEndOfLine;)c++}for(var e=g[b].bounds,f=b,h=!0,d=[];b<=c;b++){var i=g[b],e=lt.LeadRectD.unionRects(e,i.bounds);i.isEndOfLine&&(h=new lt.Documents.UI.DocumentViewerTextItem,h.set_pageNumber(a),
h.set_firstCharacterIndex(f),h.set_lastCharacterIndex(b),h.set_bounds(e),d.add(h),h=!1,f=++b,b<=c&&(h=!0,e=g[b].bounds))}h&&(h=new lt.Documents.UI.DocumentViewerTextItem,h.set_pageNumber(a),h.set_firstCharacterIndex(f),h.set_lastCharacterIndex(c),h.set_bounds(e),d.add(h));for(b=0;b<d.length;++b)h=d[b],a=h.get_bounds(),h.set_bounds(a),d[b]=h;return d},selectText:function(a,b){this._internalSelectText(a,b,4)},_internalSelectText:function(a,b,c){if(this._documentViewer.get_hasDocument()&&null!=this._documentViewer.get_view()){var d=
this._documentViewer.get_document();if(lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(a))4===c&&this.clearSelection(0);else{var e=this._documentViewer.get_view().get_imageViewer(),g=e.hitTestItems(lt.Controls.PrimitivesHelper.toLeadRectD(a));if(null==g||!g.length)4===c&&this.clearSelection(0);else{var f=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!1);this._documentViewer.onOperation(f);if(!f.get_abort()){for(g=ss.IEnumerator.getEnumerator(g);g.moveNext();){var f=g.current,
h=[lt.LeadPointD.create(a.get_left(),a.get_top()),lt.LeadPointD.create(a.get_right(),a.get_bottom())];e.convertPoints(f,lt.Controls.ImageViewerCoordinateType.control,lt.Controls.ImageViewerCoordinateType.image,h);var i=lt.Controls.PrimitivesHelper.getBoundingRect(h);if(lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(i))4===c&&this.clearSelection(0);else if(i=d.rectToDocument(lt.Controls.PrimitivesHelper.toLeadRect(i)),f=f.get_leadIndex()+1,h=this._doGetDocumentPageText(f,this.get_autoGetText(),null,
null),null==h||null==h.characters||!h.characters.length)4===c&&this.clearSelection(f);else{for(var h=h.characters,j=null,k=-1,l=-1,n=h.length,m=0;m<n;++m)if(i.intersectsWith(h[m].bounds)){l=k=m;break}for(m=k+1;m<n;++m)i.intersectsWith(h[m].bounds)&&(l=m);n=!1;if(0>k||0>l){m=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,f,!1);this._documentViewer.onOperation(m);if(m.get_abort()){this._updateHasAnySelectedText();return}n=this.clearSelection(0)}if(b){if(-1===k){4===c&&this.clearSelection(f);
continue}for(var o=!0,p=k,m=k;m<=l;++m)o&&!i.intersectsWith(h[m].bounds)?(o=!1,null==j&&(j=[]),j.addRange(this._selectPageText(f,p,m-1,1===b,c))):!o&&i.intersectsWith(h[m].bounds)&&(p=m,o=!0);o&&(null==j&&(j=[]),j.addRange(this._selectPageText(f,p,l,1===b,c)))}else if(j=this._selectPageText(f,k,l,!0,c),2!==lt.Documents.UI.DocumentViewerText._getRealLineSelectionMode(d,f,this.get_lineSelectionMode())&&(i=i.clone(),k=[],null!=j)){for(m=0;m<j.length;m++)l=j[m],i.intersectsWith(l.get_bounds())?(lt.Documents.UI.DocumentViewerText._updateTextItemSelection(i,
h,l),i.intersectsWith(l.get_bounds())&&(i=lt.LeadRectD.unionRects(i,l.get_bounds()))):k.add(m);for(m=k.length-1;0<=m;m--)o=k[m],l=j[o],i.intersectsWith(l.get_bounds())?(lt.Documents.UI.DocumentViewerText._updateTextItemSelection(i,h,l),i.intersectsWith(l.get_bounds())&&(i=lt.LeadRectD.unionRects(i,l.get_bounds()))):j.removeAt(o)}n||(m=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,f,!1),this._documentViewer.onOperation(m));n=this._isSameSelection(j,f);this._addOrReplaceSelectedText(f,
j);n&&(m=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,f,!0),this._documentViewer.onOperation(m))}}f=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!0);this._documentViewer.onOperation(f)}}}}},_isSameSelection:function(a,b){if(null==this._selectedTextItems)return!1;if(!Object.keyExists(this._selectedTextItems,b))return null!=a;var c=this._selectedTextItems[b];if(null==c&&null!=a||null!=c&&null==a)return!0;if(c.length!==a.length)return!1;for(var d=
0;d<c.length;d++){var e=c[d],g=a[d];if(e.get_firstCharacterIndex()!==g.get_firstCharacterIndex()||e.get_lastCharacterIndex()!==g.get_lastCharacterIndex())return!1}return!0},_updateHasAnySelectedText:function(){this._hasAnySelectedText=!1;this._selectedTextEnd=this._selectedTextBegin=null;var a=-1,b=this._selectedTextItems,c;for(c in b){var d=c,e=b[c];null!=e&&0<e.length&&(this._hasAnySelectedText=!0,a=parseInt(d.toString()),null==this._selectedTextBegin&&(this._selectedTextBegin=lt.Documents.UI.DocumentViewerTextPosition.create(a,
e[0].get_firstCharacterIndex())))}-1!==a&&(b=this._selectedTextItems[a],this._selectedTextEnd=lt.Documents.UI.DocumentViewerTextPosition.create(a,b[b.length-1].get_lastCharacterIndex()))},_selectedTextBegin:null,get_selectedTextBegin:function(){return null==this._selectedTextBegin?null:lt.Documents.UI.DocumentViewerTextPosition.create(this._selectedTextBegin.get_pageNumber(),this._selectedTextBegin.get_characterIndex())},_selectedTextEnd:null,get_selectedTextEnd:function(){return null==this._selectedTextEnd?
null:lt.Documents.UI.DocumentViewerTextPosition.create(this._selectedTextEnd.get_pageNumber(),this._selectedTextEnd.get_characterIndex())},_hasAnySelectedText:!1,get_hasAnySelectedText:function(){return this._hasAnySelectedText},hasSelectedText:function(a){if(!this._documentViewer.get_hasDocument())return!1;this._documentViewer._checkPageNumber(a,!0,"pageNumber");if(null==this._selectedTextItems)return!1;if(!a)return this._hasAnySelectedText;for(var b=this._documentViewer.get_pageCount(),b=a?a:b,
c=!1,a=a?a:1;a<=b&&!c;a++)Object.keyExists(this._selectedTextItems,a)&&(c=this._selectedTextItems[a],c=null!=c&&0<c.length);c&&!this._hasAnySelectedText&&(this._hasAnySelectedText=!0);return c},getSelectedText:function(a){if(!this._documentViewer.get_hasDocument())return null;this._documentViewer._checkPageNumber(a,!0,"pageNumber");for(var b=this._documentViewer.get_pageCount(),c=a?a:1,a=a?a:b,b=new ss.StringBuilder,d=!0,e=0;c<=a;c++){var g=b.toString().length;!d&&g!==e&&b.appendLine();e=b.toString().length;
d=this._doGetSelectedText(c,b)}return lt.Documents.UI.DocumentViewerText._removeLastEndOfLine(b.toString())},_doGetSelectedText:function(a,b){var c=this._documentViewer.get_document();if(!Object.keyExists(this._selectedTextItems,a)||!this._pageTextContains(c,a))return!1;var d=this._selectedTextItems[a];if(null==d||!d.length)return!1;c=this._getPageText(c,a).characters;if(null==c||!c.length)return!1;for(var e,g,f=!1,d=ss.IEnumerator.getEnumerator(d);d.moveNext();){g=d.current;e=g.get_firstCharacterIndex();
for(g=g.get_lastCharacterIndex();e<=g;++e){var h=c[e];b.append(h.code);f=!1;h.isEndOfWord&&e<g&&(b.append(" "),f=!1);h.isEndOfLine&&(f=!0,b.appendLine())}}return f},exportText:function(a){if(!this._documentViewer.get_hasDocument())return null;if(!this._documentViewer.get_document().pages.get_count())return"";this._documentViewer._checkPageNumber(a,!0,"pageNumber");for(var b=this._documentViewer.get_pageCount(),c=a?a:1,a=a?a:b,b=new ss.StringBuilder,d=!0;c<=a;c++)d||b.appendLine(),d=this._doGetText(c,
b);return b.toString()},_doGetText:function(a,b){var c=this._doGetDocumentPageText(a,this.get_autoGetText(),null,null);if(null==c||null==c.characters||!c.characters.length)return!1;c=c.text;null!=c&&b.append(c);return lt.Documents.UI.DocumentViewerText._endsWithEndOfLine(c)},copy:function(a){a=this.getSelectedText(a);String.isNullOrEmpty(a)||lt.Documents.UI.DocumentViewerText._nativeCopy(a)},getPageTextItems:function(a,b){if(null==a||null==b)return null;this._documentViewer._checkPageNumber(a.get_pageNumber(),
!1,"pageNumber");this._documentViewer._checkPageNumber(b.get_pageNumber(),!1,"pageNumber");var c=new lt.Documents.UI.DocumentViewerMultiLineTextItem;c.set_textItems([]);for(var d=a.get_pageNumber();d<=b.get_pageNumber();d++){var e=this._doGetDocumentPageText(d,!1,null,null);if(!(null==e||null==e.characters||!e.characters.length)){var g=0,e=e.characters.length-1;d===a.get_pageNumber()&&-1!==a.get_characterIndex()&&(g=a.get_characterIndex());d===b.get_pageNumber()&&-1!==b.get_characterIndex()&&(e=b.get_characterIndex());
g=this._selectPageText(d,g,e,!1,1);if(null!=g)for(g=ss.IEnumerator.getEnumerator(g);g.moveNext();)e=g.current,c.get_textItems().add(e)}}c.get_textItems().length||c.set_textItems(null);return c},_findText:null,get_lastFindText:function(){return null!=this._findText.get_lastFindText()?this._findText.get_lastFindText().clone():null},clearLastFindText:function(){this._findText.clearLast()},clearRenderedFoundText:function(){this._findText.clearRendered();if(null!=this._documentViewer.get_view()){var a=
this._documentViewer.get_view().get_imageViewer();null!=a&&a.invalidate(lt.LeadRectD.get_empty())}},_internalFindTextSynchronously:function(a){return this._findText.findSynchronous(a)},get_lineKeyModifier:function(){return this._lineKeyModifier},set_lineKeyModifier:function(a){switch(a){case lt.Controls.Keys.none:case lt.Controls.Keys.alt:case lt.Controls.Keys.shift:case lt.Controls.Keys.control:this._lineKeyModifier=a;break;default:throw new lt.ArgumentException("Invalid value","LineKeyModifier");
}return a},get_wordKeyModifier:function(){return this._wordKeyModifier},set_wordKeyModifier:function(a){switch(a){case lt.Controls.Keys.none:case lt.Controls.Keys.alt:case lt.Controls.Keys.shift:case lt.Controls.Keys.control:this._wordKeyModifier=a;break;default:throw new lt.ArgumentException("Invalid value","WordKeyModifier");}return a},get_characterKeyModifier:function(){return this._characterKeyModifier},set_characterKeyModifier:function(a){switch(a){case lt.Controls.Keys.none:case lt.Controls.Keys.alt:case lt.Controls.Keys.shift:case lt.Controls.Keys.control:this._characterKeyModifier=
a;break;default:throw new lt.ArgumentException("Invalid value","CharacterKeyModifier");}return a},_trySelect:function(a,b,c,d,e){if(null!=this._documentViewer.get_view()){var g=this._documentViewer.get_view().get_imageViewer();null!=g&&null!=g.get_items().get_item(a-1)&&(a=[b.clone(),c.clone()],a=lt.Controls.PrimitivesHelper.getBoundingRect(a),a.get_isEmpty()||(b=0,lt.Documents.UI.DocumentViewerText._checkKeyModifier(e,this.get_wordKeyModifier())?b=1:lt.Documents.UI.DocumentViewerText._checkKeyModifier(e,
this.get_characterKeyModifier())&&(b=2),this._documentViewer.get_text()._internalSelectText(lt.Controls.PrimitivesHelper.toLeadRect(a),b,d)))}},_prepareToSave:function(){},_beginUpdate:function(){},_endUpdate:function(){},dispose:function(){this._destroy(!0)},find:function(a,b){this._findText.findAsynchronous(a,b)},_doRenderFoundText:function(a,b){for(var c=b.get_data1(),d=c.get_item(),e=b.get_data2(),d=d.get_imageViewer().getItemImageTransform(d),c=c.get_context(),e=ss.IEnumerator.getEnumerator(e);e.moveNext();){var g=
a.rectToPixels(e.current.get_bounds());lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(g)||(g=d.transformRect(g));lt.Documents.UI.DocumentViewerText._paintBounds(c,g,lt.Documents.UI.DocumentViewerText.get_foundTextFill())}},_doRenderSelectedText:function(a,b){for(var c=b.get_data1(),d=c.get_item(),e=b.get_data2(),d=d.get_imageViewer().getItemImageTransform(d),c=c.get_context(),e=ss.IEnumerator.getEnumerator(e);e.moveNext();){var g=a.rectToPixels(e.current.get_bounds());lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(g)||
(g=d.transformRect(g));lt.Documents.UI.DocumentViewerText._paintBounds(c,g,lt.Documents.UI.DocumentViewerText.get_selectedFill())}}};Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerText.prototype.get_documentViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"lineSelectionMode",{get:lt.Documents.UI.DocumentViewerText.prototype.get_lineSelectionMode,set:lt.Documents.UI.DocumentViewerText.prototype.set_lineSelectionMode,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"renderSelection",{get:lt.Documents.UI.DocumentViewerText.prototype.get_renderSelection,set:lt.Documents.UI.DocumentViewerText.prototype.set_renderSelection,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"autoGetText",{get:lt.Documents.UI.DocumentViewerText.prototype.get_autoGetText,set:lt.Documents.UI.DocumentViewerText.prototype.set_autoGetText,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"selectedTextBegin",{get:lt.Documents.UI.DocumentViewerText.prototype.get_selectedTextBegin,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"selectedTextEnd",{get:lt.Documents.UI.DocumentViewerText.prototype.get_selectedTextEnd,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"hasAnySelectedText",{get:lt.Documents.UI.DocumentViewerText.prototype.get_hasAnySelectedText,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"lastFindText",{get:lt.Documents.UI.DocumentViewerText.prototype.get_lastFindText,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"lineKeyModifier",{get:lt.Documents.UI.DocumentViewerText.prototype.get_lineKeyModifier,set:lt.Documents.UI.DocumentViewerText.prototype.set_lineKeyModifier,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,
"wordKeyModifier",{get:lt.Documents.UI.DocumentViewerText.prototype.get_wordKeyModifier,set:lt.Documents.UI.DocumentViewerText.prototype.set_wordKeyModifier,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"characterKeyModifier",{get:lt.Documents.UI.DocumentViewerText.prototype.get_characterKeyModifier,set:lt.Documents.UI.DocumentViewerText.prototype.set_characterKeyModifier,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText,
"foundTextFill",{get:lt.Documents.UI.DocumentViewerText.get_foundTextFill,set:lt.Documents.UI.DocumentViewerText.set_foundTextFill,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText,"selectedFill",{get:lt.Documents.UI.DocumentViewerText.get_selectedFill,set:lt.Documents.UI.DocumentViewerText.set_selectedFill,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerMultiLineTextItem=function(){};lt.Documents.UI.DocumentViewerMultiLineTextItem.prototype={_textItems:null,
get_textItems:function(){return this._textItems},set_textItems:function(a){return this._textItems=a},get_firstPosition:function(){var a=new lt.Documents.UI.DocumentViewerTextPosition;if(null==this._textItems||!this._textItems.length)return a;var b=this._textItems[0];a.set_pageNumber(b.get_pageNumber());a.set_characterIndex(b.get_firstCharacterIndex());return a},get_lastPosition:function(){var a=new lt.Documents.UI.DocumentViewerTextPosition;if(null==this._textItems||!this._textItems.length)return a;
var b=this._textItems[this._textItems.length-1];a.set_pageNumber(b.get_pageNumber());a.set_characterIndex(b.get_lastCharacterIndex());return a},clone:function(){var a=new lt.Documents.UI.DocumentViewerMultiLineTextItem;if(null!=this._textItems){a.set_textItems([]);for(var b=ss.IEnumerator.getEnumerator(this._textItems);b.moveNext();){var c=b.current;a.get_textItems().add(c.clone())}}return a}};Object.defineProperty(lt.Documents.UI.DocumentViewerMultiLineTextItem.prototype,"textItems",{get:lt.Documents.UI.DocumentViewerMultiLineTextItem.prototype.get_textItems,
set:lt.Documents.UI.DocumentViewerMultiLineTextItem.prototype.set_textItems,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerMultiLineTextItem.prototype,"firstPosition",{get:lt.Documents.UI.DocumentViewerMultiLineTextItem.prototype.get_firstPosition,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerMultiLineTextItem.prototype,"lastPosition",{get:lt.Documents.UI.DocumentViewerMultiLineTextItem.prototype.get_lastPosition,enumerable:!0,
configurable:!0});lt.Documents.UI.DocumentViewerTextPosition=function(){this._characterIndex=-1};lt.Documents.UI.DocumentViewerTextPosition.create=function(a,b){var c=new lt.Documents.UI.DocumentViewerTextPosition;c._pageNumber=a;c._characterIndex=b;return c};lt.Documents.UI.DocumentViewerTextPosition.createBeginOfPage=function(a){var b=new lt.Documents.UI.DocumentViewerTextPosition;b._pageNumber=a;b._characterIndex=0;return b};lt.Documents.UI.DocumentViewerTextPosition.createEndOfPage=function(a){var b=
new lt.Documents.UI.DocumentViewerTextPosition;b._pageNumber=a;b._characterIndex=-1;return b};lt.Documents.UI.DocumentViewerTextPosition.isInOrder=function(a,b){return a.get_pageNumber()<b.get_pageNumber()?!0:a.get_pageNumber()===b.get_pageNumber()?-1===b.get_characterIndex()||-1!==a.get_characterIndex()&&a.get_characterIndex()<b.get_characterIndex():!1};lt.Documents.UI.DocumentViewerTextPosition.prototype={_pageNumber:0,get_pageNumber:function(){return this._pageNumber},set_pageNumber:function(a){return this._pageNumber=
a},get_characterIndex:function(){return this._characterIndex},set_characterIndex:function(a){return this._characterIndex=a}};Object.defineProperty(lt.Documents.UI.DocumentViewerTextPosition.prototype,"pageNumber",{get:lt.Documents.UI.DocumentViewerTextPosition.prototype.get_pageNumber,set:lt.Documents.UI.DocumentViewerTextPosition.prototype.set_pageNumber,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerTextPosition.prototype,"characterIndex",{get:lt.Documents.UI.DocumentViewerTextPosition.prototype.get_characterIndex,
set:lt.Documents.UI.DocumentViewerTextPosition.prototype.set_characterIndex,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerTextItem=function(){this._lastCharacterIndex=this._firstCharacterIndex=-1;this._bounds=lt.LeadRectD.get_empty()};lt.Documents.UI.DocumentViewerTextItem.prototype={clone:function(){var a=new lt.Documents.UI.DocumentViewerTextItem;a._firstCharacterIndex=this._firstCharacterIndex;a._lastCharacterIndex=this._lastCharacterIndex;a._pageNumber=this._pageNumber;a._bounds=
this._bounds;return a},_pageNumber:0,get_pageNumber:function(){return this._pageNumber},set_pageNumber:function(a){return this._pageNumber=a},get_firstCharacterIndex:function(){return this._firstCharacterIndex},set_firstCharacterIndex:function(a){return this._firstCharacterIndex=a},get_lastCharacterIndex:function(){return this._lastCharacterIndex},set_lastCharacterIndex:function(a){return this._lastCharacterIndex=a},get_bounds:function(){return this._bounds},set_bounds:function(a){lt.Controls.ControlsHelper.checkIfNull(a,
"Bounds");this._bounds=a.clone();return a}};Object.defineProperty(lt.Documents.UI.DocumentViewerTextItem.prototype,"pageNumber",{get:lt.Documents.UI.DocumentViewerTextItem.prototype.get_pageNumber,set:lt.Documents.UI.DocumentViewerTextItem.prototype.set_pageNumber,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerTextItem.prototype,"firstCharacterIndex",{get:lt.Documents.UI.DocumentViewerTextItem.prototype.get_firstCharacterIndex,set:lt.Documents.UI.DocumentViewerTextItem.prototype.set_firstCharacterIndex,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerTextItem.prototype,"lastCharacterIndex",{get:lt.Documents.UI.DocumentViewerTextItem.prototype.get_lastCharacterIndex,set:lt.Documents.UI.DocumentViewerTextItem.prototype.set_lastCharacterIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerTextItem.prototype,"bounds",{get:lt.Documents.UI.DocumentViewerTextItem.prototype.get_bounds,set:lt.Documents.UI.DocumentViewerTextItem.prototype.set_bounds,
enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerThumbnails=function(a){this._maximumSize=lt.LeadSizeD.create(128,128);this._documentMaximumSize=lt.LeadSizeD.get_empty();this._updateThumbnailImageTagTimer=-1;this._documentViewer=a};lt.Documents.UI.DocumentViewerThumbnails._getThumbnailSize=function(a,b){if(a.get_isEmpty()||!a.get_width()||!a.get_height())return lt.LeadSizeD.create(0,0);var c=parseInt(lt.Documents.Document.documentToPixels(96,a.get_width())),d=parseInt(lt.Documents.Document.documentToPixels(96,
a.get_height())),e=lt.LeadRectD.create(0,0,b.get_width(),b.get_height()),e=lt.Controls.ImageViewer.getDestinationRectangle(c,d,e,lt.Controls.ControlSizeMode.fit,lt.Controls.ControlAlignment.near,lt.Controls.ControlAlignment.near);return 1>e.get_width()||1>e.get_height()?lt.LeadSizeD.create(0,0):lt.LeadSizeD.create(e.get_width(),e.get_height())};lt.Documents.UI.DocumentViewerThumbnails.prototype={_destroy:function(a){a&&(this._stopWorking(!1),null!=this._imageViewer&&(this._imageViewer.remove_selectedItemsChanged(ss.Delegate.create(this,
this._imageViewer_SelectedItemsChanged)),this._imageViewer.remove_postRenderItem(ss.Delegate.create(this,this._imageViewer_PostRenderItem)),this._deleteControls(),this._imageViewer.dispose(),this._imageViewer=null))},_documentViewer:null,get_documentViewer:function(){return this._documentViewer},_imageViewer:null,get_imageViewer:function(){return this._imageViewer},_init:function(a){this._createControls(a);a=new lt.Controls.ImageViewerSelectItemsInteractiveMode;a.set_selectionMode(lt.Controls.ImageViewerSelectionMode.single);
this._imageViewer.get_useElements()&&a.set_autoDisableTransitions(!1);var b=new lt.Controls.ImageViewerPanZoomInteractiveMode;b.set_enableZoom(!1);b.set_doubleTapSizeMode(lt.Controls.ControlSizeMode.none);this._imageViewer.get_useElements()&&b.set_autoDisableTransitions(!1);this._imageViewer.beginUpdate();this._imageViewer.get_interactiveModes().add(a);this._imageViewer.get_interactiveModes().add(b);this._imageViewer.set_tag(this._documentViewer);this._imageViewer.endUpdate();this._imageViewer.add_postRenderItem(ss.Delegate.create(this,
this._imageViewer_PostRenderItem));this._imageViewer.add_selectedItemsChanged(ss.Delegate.create(this,this._imageViewer_SelectedItemsChanged))},_ignoreSelectedChangedCounter:0,_imageViewer_SelectedItemsChanged:function(){if(!(0<this._ignoreSelectedChangedCounter)){var a=this._imageViewer.get_items().getSelected();null==a||1!==a.length||this._documentViewer.gotoPage(this._imageViewer.get_items().indexOf(a[0])+1)}},_ensureSelected:function(a){if(!(null==this._imageViewer||0>a||a>=this._imageViewer.get_items().get_count()))if(a=
this._imageViewer.get_items().get_item(a),!a.get_isSelected()){this._ignoreSelectedChangedCounter++;try{this._imageViewer.get_items().select([a]),this._imageViewer.ensureItemVisible(a)}finally{this._ignoreSelectedChangedCounter--}}},_imageViewer_PostRenderItem:function(a,b){this._currentUseGrids&&this._renderThumbnailFromGrid(b);if(null!=this._documentViewer.get_annotations()&&this._documentViewer.get_annotations().get_renderOnThumbnails()&&null!=b.get_item()){var c=this._imageViewer.get_items().indexOf(b.get_item())+
1;this._documentViewer.get_annotations()._renderThumbnail(c,b)}},_renderThumbnailFromGrid:function(a){if(null!=this._groupLoader){if(this._groupLoader.get_isAborting())return}else if(null==this._grids||!this._grids.length)return;var b=this._documentViewer.get_thumbnails().get_imageViewer(),c=a.get_item(),d=b.getItemImageTransform(c),e=c.get_imageSize();if(!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(e)&&(b=b.getItemViewBounds(c,lt.Controls.ImageViewerItemPart.image,!1),!b.get_isEmpty()&&(b.set_width(b.get_width()+
1),b.set_height(b.get_height()+1),c=this._imageViewer.get_items().indexOf(a.get_item())+1,b=null,b=this._grids,b=lt.Documents.UI._thumbnailsGrid.getGridForPage(b,c),null!=b&&null!=b.get_image()&&(c=lt.Documents.UI._thumbnailsGrid.getGridImageRectForPage(b,c),!c.get_isEmpty())))){var e=lt.LeadRectD.create(0,0,e.get_width(),e.get_height()),g=null;try{d.get_isIdentity()||(g=lt.Controls.GraphicsHelper.saveContext(a.get_context()),lt.Controls.GraphicsHelper.multiplyTransform(a.get_context(),d)),this._renderImage(a.get_context(),
b.get_image(),e,c)}finally{null!=g&&lt.Controls.GraphicsHelper.restoreContext(a.get_context(),g)}}},_initControls:function(){this._imageViewer.beginUpdate();this._imageViewer.set_itemHorizontalAlignment(lt.Controls.ControlAlignment.center);this._imageViewer.set_itemVerticalAlignment(lt.Controls.ControlAlignment.center);this._imageViewer.get_useElements()?this._imageViewer.set_viewHorizontalAlignment(lt.Controls.ControlAlignment.center):(this._imageViewer.set_viewPadding(lt.Controls.PaddingHelper.create(8,
8,8,8)),this._imageViewer.set_imageBorderThickness(1),this._imageViewer.set_itemPadding(lt.Controls.PaddingHelper.create(10,10,10,20)),this._imageViewer.set_selectedItemBackgroundColor(lt.Controls.GraphicsHelper.colorFromString("lightblue")));this._imageViewer.endUpdate()},_groupLoader:null,_useGroupLoader:!1,get__useGroupLoader:function(){return this._useGroupLoader},set__useGroupLoader:function(a){return this._useGroupLoader=a},_workerCount:4,get_workerCount:function(){return this._workerCount},
set_workerCount:function(a){if(this._workerCount!==a){if(1>a)throw new lt.ArgumentOutOfRangeException("WorkerCount",a,"Must be a value greater than or equal to 1");this._workerCount=a;null!=this._groupLoader&&this._groupLoader.get_isWorking()&&this._groupLoader.set_maximumLoadersWorking(this._workerCount)}return a},get_maximumSize:function(){return this._maximumSize.clone()},set_maximumSize:function(a){if(a.get_isEmpty()||!a.get_width()||!a.get_height())throw new lt.ArgumentOutOfRangeException("MaximumSize",
a,"Cannot be size zero or empty");this._maximumSize=a.clone();return a},_lazyLoad:!1,get_lazyLoad:function(){return this._lazyLoad},set_lazyLoad:function(a){if(this._lazyLoad!==a){this._lazyLoad=a;var b=this._documentViewer.get_document();null!=this._groupLoader&&this._groupLoader.get_isWorking()&&null!=b&&b.isReadOnly&&this._groupLoader.set_lazyLoad(this._lazyLoad);this._imageViewer_ScrollOffsetChanged(null,null)}return a},_grids:null,_useGrids:!1,get_useGrids:function(){return this._useGrids},set_useGrids:function(a){return this._useGrids=
a},_gridPixelSize:400,get_gridPixelSize:function(){return this._gridPixelSize},set_gridPixelSize:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("GridPixelSize",a,"Must be a value greater than 0");return this._gridPixelSize=a},_currentUseGrids:!1,get_isLoading:function(){return null!=this._groupLoader&&this._groupLoader.get_isWorking()},_startWorking:function(){this._ignoreSelectedChangedCounter=0;this._stopWorking(!1);this._imageViewer.beginUpdate();this._imageViewer.get_items().clear();
this._imageViewer.reset();this._imageViewer.endUpdate();this._documentMaximumSize=this._maximumSize;var a=this._documentViewer.get_document();null!=a&&null!=a&&a.pages.get_count()&&this._addPages(lt.Documents.UI._documentViewerHelper.getAsList(a.pages),0)},_startLoading:function(a,b){var c=this._documentViewer.get_document(),d=new lt.Documents.UI.DocumentViewerOperationEventArgs(1,null,null,null,0,!1);this._documentViewer.onOperation(d);if(!d.get_abort()){var d=c.isReadOnly,e=this.get__useGroupLoader()||
!d;if((this._currentUseGrids=this.get_useGrids()&&d&&!e)&&this._documentViewer.get_isUsingPDFRendering())this._currentUseGrids=!1;this._startLoading_GroupLoader(c,a,b)}},_startLoading_GroupLoader:function(a,b,c){if(null==this._groupLoader){this._imageViewer.add_scrollOffsetChanged(ss.Delegate.create(this,this._imageViewer_ScrollOffsetChanged));this._imageViewer.add_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged));if(this._currentUseGrids)this._groupLoader=new lt.ImageGroupLoader(this._getThumbnailsGridIterations(a),
this._imageViewer.get_imagesDiv()),this._groupLoader.set_maximumLoadersWorking(1);else{var d=a.isReadOnly?a.pages.get_count():-1;this._groupLoader=new lt.ImageGroupLoader(d,this._imageViewer.get_imagesDiv());this._groupLoader.set_maximumLoadersWorking(this._workerCount)}this._groupLoader.set_lazyLoad(this.get_lazyLoad()||!a.isReadOnly);this._groupLoader.add_allDone(ss.Delegate.create(this,this._groupLoader_AllDone))}if(this._currentUseGrids)this._groupLoadGrid(a);else for(var e=(d=this._documentViewer.get__documentUseAjaxImageLoading())?
lt.ImageLoaderUrlMode.ajaxDataUrl:lt.ImageLoaderUrlMode.imageUrl,g=b;g<b+c;g++){var f=this._imageViewer.get_items().get_item(g),h=a.pages.get_item(g),i=null,j=!h.isLocal;this.get_documentViewer().get_isUsingPDFRendering()&&lt.Documents.PDFRender.canRenderPage(h)&&(j=!1);if(j){var i=new lt.ImageLoader,k=h.getThumbnailImage();i.set_urlMode(e);h=h.getThumbnailImageElement(i);if(d&&"rejected"===h.state()){f=new lt.Documents.UI.DocumentViewerOperationEventArgs(2,Error("Error loading thumbnail"),null,null,
g+1,!0);this._documentViewer.onOperation(f);continue}i.set_url(k);i.add_done(ss.Delegate.create(this,this._imageLoader_Done));i.add_fail(ss.Delegate.create(this,this._imageLoader_Fail));i.add_always(ss.Delegate.create(this,this._imageLoader_Always));i.set_tag(f)}this._groupLoader.load(i,f,g);j||(f=new lt.Documents.UI.DocumentViewerOperationEventArgs(2,null,null,null,g+1,!0),this._documentViewer.onOperation(f))}if((this.get_lazyLoad()||!a.isReadOnly)&&!this._tryUpdateThumbnailImageTags())d=this._imageViewer.get_items().get_count(),
a=Math.min(2*this._workerCount,d)-1,this._currentUseGrids?(b=lt.Documents.UI._thumbnailsGrid.getGridForPage(this._grids,1),a=lt.Documents.UI._thumbnailsGrid.getGridForPage(this._grids,a)):(b=this._imageViewer.get_items().get_item(0),a=this._imageViewer.get_items().get_item(a)),null!=b&&null!=a&&this._groupLoader.setImageTags(b,a)},_imageLoader_Done:function(a){var b=a.get_tag();null!=b.get_imageViewer()&&(a.get_isHTMLImageElement()?b.set_image(a.get_element()):b.set_element(a.get_element()),null!=
b.get_imageViewer()&&(b=b.get_imageViewer().get_items().indexOf(b),this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(2,null,a.get_url(),null,b+1,!0))))},_imageLoader_Fail:function(a){var b=a.get_tag(),b=b.get_imageViewer().get_items().indexOf(b);this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(2,a.get_error(),null,null,b+1,!0))},_imageLoader_Always:function(a){a.remove_done(ss.Delegate.create(this,this._imageLoader_Done));a.remove_fail(ss.Delegate.create(this,
this._imageLoader_Fail));a.remove_always(ss.Delegate.create(this,this._imageLoader_Always))},_addPages:function(a,b){if(null!=a&&a.length){this._imageViewer.beginUpdate();var c=this._documentViewer.get_document(),d=b,e=this.get_imageViewer().get_itemSize().clone();if(e.get_isEmpty()||!e.get_width()&&!e.get_height())e=this._documentMaximumSize;for(var e=lt.LeadRectD.create(0,0,e.get_width(),e.get_height()),g=ss.IEnumerator.getEnumerator(a);g.moveNext();){var f=g.current,h=new lt.Controls.ImageViewerItem,
i=c.sizeToPixels(f.size),i=lt.Controls.ImageViewer.getDestinationRectangle(i.get_width(),i.get_height(),e,lt.Controls.ControlSizeMode.fit,lt.Controls.ControlAlignment.near,lt.Controls.ControlAlignment.near);h.set_imageSize(i.get_size());h.set_tag(f);this._imageViewer.get_items().insert(d,h);d++}this.get_documentViewer().get__isUpdating()?this._needsUpdatePageNumbers=!0:this._updatePageNumbers();this._imageViewer.endUpdate();this._startLoading(b,a.length)}},_removePages:function(a,b){if(null!=a&&a.length){this._imageViewer.beginUpdate();
this._documentViewer.get_document();for(var c=a.length;0<c;){var d=this._imageViewer.get_items().get_item(b);this._imageViewer.get_items().remove(d);null!=this._groupLoader&&this._groupLoader.remove(b);c--}this.get_documentViewer().get__isUpdating()?this._needsUpdatePageNumbers=!0:this._updatePageNumbers();this._imageViewer.endUpdate()}},_needsUpdatePageNumbers:!1,_updatePageNumbers:function(){this._needsUpdatePageNumbers=!1;for(var a=this._documentViewer.get_document(),b=a.pages.get_count(),c=0;c<
b;c++)a.pages.get_item(c),this._imageViewer.get_items().get_item(c).set_text("Page "+(c+1).toString())},_groupLoader_AllDone:function(){var a=ss.Delegate.create(this,function(){this._stopWorking(!0);this.invalidate(lt.LeadRectD.get_empty())});lt.Documents.UI._invoker.beginInvoke0(this._imageViewer,a)},_groupLoadGrid:function(a){for(var b=null,c=null,d=null,e=this._documentViewer.get__documentUseAjaxImageLoading(),g=null,b=ss.Delegate.create(this,function(a){var b=a.get_tag();try{var d;if(a.get_isHTMLImageElement())d=
a.get_element();else throw new lt.InvalidOperationException("Thumbnails Grid requires an Image Element");var c=window.document.createElement("canvas");c.width=d.naturalWidth;c.height=d.naturalHeight;c.getContext("2d").drawImage(d,0,0);b.set_image(c);for(var a=!1,c=null,e=b.get_firstPageNumber();e<=b.get_lastPageNumber()&&!a;e++)1<=e&&e<=this._imageViewer.get_items().get_count()&&(c=this._imageViewer.get_items().get_item(e-1),this._imageViewer.isItemVisible(c,lt.Controls.ImageViewerItemPart.item)&&
(a=!0));a&&this._imageViewer.invalidate(lt.LeadRectD.get_empty());g=new lt.Documents.UI.DocumentViewerOperationEventArgs(2,null,d,null,b.get_lastPageNumber(),!0)}catch(f){g=new lt.Documents.UI.DocumentViewerOperationEventArgs(2,f,null,null,b.get_lastPageNumber(),!0)}}),c=function(a){a=a.get_tag();g=new lt.Documents.UI.DocumentViewerOperationEventArgs(2,Error("Error loading grid"),null,null,a.get_lastPageNumber(),!0)},d=ss.Delegate.create(this,function(a){a.remove_done(b);a.remove_fail(c);a.remove_always(d);
this._documentViewer.onOperation(g)}),f=e?lt.ImageLoaderUrlMode.ajaxDataUrl:lt.ImageLoaderUrlMode.imageUrl,h=0;h<this._grids.length;h++){var i=new lt.ImageLoader;i.set_urlMode(f);if(null==this._groupLoader||this._groupLoader.get_isAborting())break;var j=this._grids[h],k=a.images.getThumbnailsGrid(j.get_firstPageNumber(),j.get_lastPageNumber(),this._gridPixelSize),l=a.images.getThumbnailsGridElement(j.get_firstPageNumber(),j.get_lastPageNumber(),this._gridPixelSize,i);e&&"rejected"===l.state()?(this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(2,
Error("Error loading thumbnail"),null,null,j.get_lastPageNumber(),!0)),i=null):(i.add_done(b),i.add_fail(c),i.add_always(d),i.set_url(k),i.set_tag(j),this._groupLoader.load(i,j,h))}},_getThumbnailsGridIterations:function(a){var b=a.images.thumbnailPixelSize,c=a.pages.get_count(),d=lt.Documents.UI._documentViewerHelper.parseInt(this._gridPixelSize*this._gridPixelSize/(parseInt(b.get_width())*parseInt(b.get_height())));1>d&&(d=1);var e=parseInt(c/d);c%d&&e++;this._grids=[];var g=1,f=0;do{var f=Math.min(c,
g+d-1),h=lt.Documents.UI._documentViewerHelper.parseInt(Math.max(1,0<this._gridPixelSize?this._gridPixelSize/parseInt(b.get_width()):c)),i=lt.Documents.UI._documentViewerHelper.parseInt(c/h);c%h&&i++;if(f>=g){var j=new lt.Documents.UI._thumbnailsGrid;j.set_firstPageNumber(g);j.set_lastPageNumber(f);j.set_image(null);j.set_columns(h);for(var k=0,l=0;l<i&&g<=f;l++){for(var n=0;n<h&&g<=f;n++){var m=a.pages.get_item(g-1).size,m=lt.Documents.UI.DocumentViewerThumbnails._getThumbnailSize(m,b),o=lt.LeadRectD.create(n*
b.get_width(),l*b.get_height(),b.get_width(),b.get_height()),o=lt.Controls.ImageViewer.getDestinationRectangle(parseInt(m.get_width()),parseInt(m.get_height()),o,lt.Controls.ControlSizeMode.fit,lt.Controls.ControlAlignment.center,lt.Controls.ControlAlignment.center);j.get_rects().add(o);g++}k++}j.set_columns(h);j.set_rows(k);this._grids.add(j);g=f+1}}while(f<c);return e},_stopWorking:function(a){a||(lt.Documents.UI._thumbnailsGrid.deleteGrid(this._grids),this._grids=null);null!=this._groupLoader&&
(this._groupLoader.remove_allDone(ss.Delegate.create(this,this._groupLoader_AllDone)),this._groupLoader.dispose(),this._groupLoader=null,this._imageViewer.remove_scrollOffsetChanged(ss.Delegate.create(this,this._imageViewer_ScrollOffsetChanged)),this._imageViewer.remove_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged)),this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(1,null,null,null,0,!0)));this._documentMaximumSize=lt.LeadSizeD.get_empty()},
_doTryUpdateThumbnailImageTags:function(){this._updateThumbnailImageTagTimer=-1;if(this._imageViewer.get_hasSize()){var a=this._imageViewer.getFirstVisibleItem(lt.Controls.ImageViewerItemPart.item),b=this._imageViewer.getLastVisibleItem(lt.Controls.ImageViewerItemPart.item);null==a&&null==b||(this._currentUseGrids&&(a=this._imageViewer.get_items().indexOf(a),b=this._imageViewer.get_items().indexOf(b),-1!==a&&-1!==b?(a=lt.Documents.UI._thumbnailsGrid.getGridForPage(this._grids,a+1),b=lt.Documents.UI._thumbnailsGrid.getGridForPage(this._grids,
b+1)):b=a=!1),null!=this._groupLoader&&null!=a&&null!=b&&this._groupLoader.setImageTags(a,b))}},_tryUpdateThumbnailImageTags:function(){return null!=this._groupLoader&&this._groupLoader.get_isWorking()&&this._imageViewer.get_hasSize()&&null!=this._imageViewer.getFirstVisibleItem(lt.Controls.ImageViewerItemPart.item)?(-1!==this._updateThumbnailImageTagTimer&&clearTimeout(this._updateThumbnailImageTagTimer),this._updateThumbnailImageTagTimer=setTimeout(ss.Delegate.create(this,this._doTryUpdateThumbnailImageTags),
100),!0):!1},_imageViewer_ScrollOffsetChanged:function(){},_imageViewer_TransformChanged:function(){null==this._documentViewer||null==this._imageViewer||this._tryUpdateThumbnailImageTags()},invalidate:function(a){null!=this._imageViewer&&this._imageViewer.invalidate(a)},_prepareToSave:function(){},_beginUpdate:function(){null!=this._imageViewer&&this._imageViewer.beginUpdate()},_endUpdate:function(){this._needsUpdatePageNumbers&&this._updatePageNumbers();null!=this._imageViewer&&this._imageViewer.endUpdate()},
dispose:function(){this._destroy(!0)},_createControls:function(a){if(null!=a.get_thumbnailsContainer()){var b=a.get_thumbnailsCreateOptions();b.set_parentDiv(a.get_thumbnailsContainer());this._imageViewer=new lt.Controls.ImageViewer(b);null==b.get_viewLayout()&&(a=new lt.Controls.ImageViewerVerticalViewLayout,a.set_columns(0),this._imageViewer.set_viewLayout(a));this._useGrids=!0;this._initControls()}},_deleteControls:function(){if(null!=this._imageViewer){var a=this._imageViewer.get_mainDiv();null!=
a&&a.parentNode.removeChild(a)}},_renderImage:function(a,b,c,d){a.drawImage(b,d.get_x(),d.get_y(),d.get_width(),d.get_height(),c.get_x(),c.get_y(),c.get_width(),c.get_height())},_nativeSetItemImage:function(a,b){a.set_url(b)}};Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_documentViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"imageViewer",
{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_imageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"workerCount",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_workerCount,set:lt.Documents.UI.DocumentViewerThumbnails.prototype.set_workerCount,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"maximumSize",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_maximumSize,
set:lt.Documents.UI.DocumentViewerThumbnails.prototype.set_maximumSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"lazyLoad",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_lazyLoad,set:lt.Documents.UI.DocumentViewerThumbnails.prototype.set_lazyLoad,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"useGrids",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_useGrids,
set:lt.Documents.UI.DocumentViewerThumbnails.prototype.set_useGrids,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"gridPixelSize",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_gridPixelSize,set:lt.Documents.UI.DocumentViewerThumbnails.prototype.set_gridPixelSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"isLoading",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_isLoading,
enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerView=function(a){this._updateViewImageTagTimer=-1;this._preferredItemType=this._itemType=0;this._documentViewer=a};lt.Documents.UI.DocumentViewerView._getPageImages=function(a,b,c){a=a.pages.get_item(c);c=[null,null];1===b.get_itemType()&&a.isSvgSupported?(c[0]=a.getSvg(lt.Documents.DocumentGetSvgOptions.none),b.get_useSvgBackImage()&&(c[1]=a.getSvgBackImage(b.get_imageViewer().get_imageBackgroundColor()))):c[0]=a.getImage();return c};
lt.Documents.UI.DocumentViewerView.prototype={_destroy:function(a){a&&(this._stopWorking(),null!=this._imageViewer&&(this._imageViewer.remove_postRenderItem(ss.Delegate.create(this,this._imageViewer_PostRenderItem)),this._imageViewer.remove_scrollOffsetChanged(ss.Delegate.create(this,this._imageViewer_ScrollOffsetChanged)),this._imageViewer.remove_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged)),this._imageViewer.remove_activeItemChanged(ss.Delegate.create(this,this._imageViewer_ActiveItemChanged)),
this._deleteControls(),null!=this._imageViewer&&this._imageViewer.dispose(),this._imageViewer=null))},_documentViewer:null,get_documentViewer:function(){return this._documentViewer},_imageViewer:null,get_imageViewer:function(){return this._imageViewer},_useSvgBackImage:!1,get_useSvgBackImage:function(){return this._useSvgBackImage},set_useSvgBackImage:function(a){return this._useSvgBackImage=a},_init:function(a,b){this._createControls(a,b)},_initInteractiveModes:function(a){var b=this.get_documentViewer().get_commands(),
c=b.get__commands();this._imageViewer.get_interactiveModes().beginUpdate();var d=new lt.Controls.ImageViewerAutoPanInteractiveMode;d.set_panDelay(50);d.set_moveThreshold(1);this._imageViewer.get_interactiveModes().add(d);d=this._documentViewer.get_annotations();null!=d&&(d=d.get_interactiveMode(),this._imageViewer.get_interactiveModes().add(d));d=new lt.Documents.UI.DocumentViewerPageLinksInteractiveMode(this._documentViewer);this._imageViewer.get_interactiveModes().add(d);for(var e in c)d=Type.safeCast(c[e].get_tag(),
lt.Controls.ImageViewerInteractiveMode),null!=d&&(d.set_isEnabled(!1),this._imageViewer.get_interactiveModes().add(d));this._setInteratciveModeCursors();this._imageViewer.get_interactiveModes().endUpdate();c=Type.safeCast(this._imageViewer.get_interactiveModes().findById(102),lt.Documents.UI.DocumentViewerSelectTextInteractiveMode);null!=c&&c.set_documentViewer(this._documentViewer);b.run(a,null)},_setInteratciveModeCursors:function(){for(var a=lt.Documents.UI._documentViewerHelper.getCursor(5),b=
lt.Documents.UI._documentViewerHelper.getCursor(1),c=lt.Documents.UI._documentViewerHelper.getCursor(2),d=lt.Documents.UI._documentViewerHelper.getCursor(3),e=lt.Documents.UI._documentViewerHelper.getCursor(4),g=ss.IEnumerator.getEnumerator(this._imageViewer.get_interactiveModes());g.moveNext();){var f=g.current;switch(f.get_id()){case lt.Controls.ImageViewerInteractiveMode.panZoomModeId:var h=Type.safeCast(f,lt.Controls.ImageViewerPanZoomInteractiveMode);null!=h&&(h.get_enablePan()&&h.get_enableZoom()?
(f.set_idleCursor(a),f.set_workingCursor(b)):h.get_enablePan()&&!h.get_enableZoom()?(f.set_idleCursor(b),f.set_workingCursor(b)):!h.get_enablePan()&&h.get_enableZoom()&&(f.set_idleCursor(d),f.set_workingCursor(d)));break;case lt.Controls.ImageViewerInteractiveMode.zoomToModeId:f.set_idleCursor(c);f.set_workingCursor(c);break;case lt.Controls.ImageViewerInteractiveMode.magnifyGlassModeId:f.set_idleCursor(c);f.set_workingCursor(c);break;case 102:f.set_idleCursor(e);f.set_workingCursor(e);break;case lt.Controls.ImageViewerInteractiveMode.rubberBandModeId:f.set_idleCursor(c);
f.set_workingCursor(c);break;case 101:f.set_hitTestStateCursor(b)}}},_initControls:function(){this._imageViewer.beginUpdate();this._imageViewer.set_viewHorizontalAlignment(lt.Controls.ControlAlignment.center);this._imageViewer.set_viewVerticalAlignment(lt.Controls.ControlAlignment.center);this._imageViewer.set_imageHorizontalAlignment(lt.Controls.ControlAlignment.center);this._imageViewer.set_imageVerticalAlignment(lt.Controls.ControlAlignment.center);this._imageViewer.set_useDpi(!0);this._imageViewer.set_tag(this._documentViewer);
this._imageViewer.add_postRenderItem(ss.Delegate.create(this,this._imageViewer_PostRenderItem));this._imageViewer.add_scrollOffsetChanged(ss.Delegate.create(this,this._imageViewer_ScrollOffsetChanged));this._imageViewer.add_activeItemChanged(ss.Delegate.create(this,this._imageViewer_ActiveItemChanged));this._imageViewer.add_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged));this._imageViewer.get_useElements()?this._imageViewer.set_itemSpacing(lt.LeadSizeD.create(10,10)):
(this._imageViewer.set_imageBorderThickness(1),this._imageViewer.set_imageBackgroundColor(lt.Controls.GraphicsHelper.colorFromString("white")),this._imageViewer.set_itemPadding(lt.Controls.PaddingHelper.create(4,4,4,4)));this._imageViewer.set_maximumScaleFactor(64);this._imageViewer.set_minimumScaleFactor(0.1);this._imageViewer.endUpdate()},_doTryUpdateViewImageTags:function(){this._updateViewImageTagTimer=-1;if(!(null==this._imageGroupLoader&&null==this._backImageGroupLoader)&&this._imageViewer.get_hasSize()){var a=
this._imageViewer.getFirstVisibleItem(lt.Controls.ImageViewerItemPart.item),b=this._imageViewer.getLastVisibleItem(lt.Controls.ImageViewerItemPart.item);null!=a&&null!=b&&(null!=this._imageGroupLoader&&this._imageGroupLoader.get_isWorking()&&this._imageGroupLoader.setImageTags(a,b),null!=this._backImageGroupLoader&&this._backImageGroupLoader.get_isWorking()&&this._backImageGroupLoader.setImageTags(a,b))}},_tryUpdateViewImageTags:function(){return(null!=this._imageGroupLoader&&this._imageGroupLoader.get_isWorking()||
null!=this._backImageGroupLoader&&this._backImageGroupLoader.get_isWorking())&&this._imageViewer.get_hasSize()&&null!=this._imageViewer.getFirstVisibleItem(lt.Controls.ImageViewerItemPart.item)?(-1!==this._updateViewImageTagTimer&&clearTimeout(this._updateViewImageTagTimer),this._updateViewImageTagTimer=setTimeout(ss.Delegate.create(this,this._doTryUpdateViewImageTags),100),!0):!1},_imageGroupLoader_AllDone:function(){this._imageGroupLoader.remove_allDone(ss.Delegate.create(this,this._imageGroupLoader_AllDone));
this._imageGroupLoader.dispose();this._imageGroupLoader=null},_backImageGroupLoader_AllDone:function(){this._backImageGroupLoader.remove_allDone(ss.Delegate.create(this,this._backImageGroupLoader_AllDone));this._backImageGroupLoader.dispose();this._backImageGroupLoader=null},_imageViewer_ScrollOffsetChanged:function(){},_imageViewer_TransformChanged:function(){null==this._documentViewer||null==this._imageViewer||this._tryUpdateViewImageTags()},_ignoreActiveItemChangedCounter:0,_imageViewer_ActiveItemChanged:function(){if(!(0<
this._ignoreActiveItemChangedCounter||null==this._documentViewer||null==this._imageViewer||null==this._documentViewer.get_thumbnails())){var a=this._imageViewer.get_activeItem();if(null!=a){var b=a.get_leadIndex();this._documentViewer.get_thumbnails()._ensureSelected(b);this._documentViewer._doGotoPage(this._imageViewer.get_items().indexOf(a)+1,!1,!0)}}},_imageViewer_PostRenderItem:function(a,b){null!=this._documentViewer&&this._documentViewer._postRenderViewItem(a,b)},_imageGroupLoader:null,_backImageGroupLoader:null,
_useGroupLoader:!1,get__useGroupLoader:function(){return this._useGroupLoader},set__useGroupLoader:function(a){return this._useGroupLoader=a},_workerCount:4,get_workerCount:function(){return this._workerCount},set_workerCount:function(a){if(this._workerCount!==a){if(1>a)throw new lt.ArgumentOutOfRangeException("WorkerCount",a,"Must be a value greater than or equal to 1");this._workerCount=a;null!=this._imageGroupLoader&&this._imageGroupLoader.get_isWorking()&&this._imageGroupLoader.set_maximumLoadersWorking(this._workerCount);
null!=this._backImageGroupLoader&&this._backImageGroupLoader.get_isWorking()&&this._backImageGroupLoader.set_maximumLoadersWorking(this._workerCount)}return a},_lazyLoad:!1,get_lazyLoad:function(){return this._lazyLoad},set_lazyLoad:function(a){this._lazyLoad!==a&&(this._lazyLoad=a,null!=this._imageGroupLoader&&this._imageGroupLoader.get_isWorking()&&this._imageGroupLoader.set_lazyLoad(this._lazyLoad),null!=this._backImageGroupLoader&&this._backImageGroupLoader.get_isWorking()&&this._backImageGroupLoader.set_lazyLoad(this._lazyLoad),
this._imageViewer_ScrollOffsetChanged(null,null));return a},_startWorking:function(){this._doStartWorking(!0)},_doStartWorking:function(a){this._stopWorking();this._imageViewer.beginUpdate();var b=null;null!=this._documentViewer.get_annotations()&&(b=Type.safeCast(this._documentViewer.get_annotations().get_automationControl(),lt.Documents.UI.ImageViewerAutomationControl));null!=b&&b._beginImageViewerItemChanges();if(a)this._imageViewer.get_items().clear(),this._imageViewer.reset();else for(var c=
ss.IEnumerator.getEnumerator(this._imageViewer.get_items());c.moveNext();){var d=c.current,e=d.get_imageSize();d.deleteImage();d.set_size(e);d.set_imageSize(e)}null!=b&&b._endImageViewerItemChanges();this._imageViewer.endUpdate();b=this._documentViewer.get_document();null!=b&&(this._itemType=1===this.get_preferredItemType()&&b.images.isSvgViewingPreferred?1:0,!a&&this.get__useVirtualizer()&&this._reCreateVirtualizer(),(c=null!=b?b.pages.get_count():0)&&(a?this._addPages(lt.Documents.UI._documentViewerHelper.getAsList(b.pages),
0):this._startLoading(0,c)))},_addPages:function(a,b){if(null!=a&&a.length){this._ignoreActiveItemChangedCounter++;this._imageViewer.beginUpdate();try{for(var c=this._documentViewer.get_document(),d=b,e=ss.IEnumerator.getEnumerator(a);e.moveNext();){var g=e.current,f=new lt.Controls.ImageViewerItem,h=c.sizeToPixels(g.size);f.set_resolution(lt.LeadSizeD.create(g.resolution,g.resolution));f.set_imageSize(h);f.set_size(f.get_imageSize());f.set_imageScale(g.imageScale);this._imageViewer.get_items().insert(d,
f);d++}}finally{this._updatePageNumbers(),this._imageViewer.endUpdate(),this._ignoreActiveItemChangedCounter--}this._startLoading(b,a.length)}},_removePages:function(a,b){if(null!=a&&a.length){this._ignoreActiveItemChangedCounter++;this._imageViewer.beginUpdate();try{this._documentViewer.get_document();for(var c=a.length;0<c;){var d=this._imageViewer.get_items().get_item(b);this._imageViewer.get_items().remove(d);null!=this._imageGroupLoader&&this._imageGroupLoader.remove(b);null!=this._backImageGroupLoader&&
this._backImageGroupLoader.remove(b);c--}}finally{this._updatePageNumbers(),this._imageViewer.endUpdate(),this._ignoreActiveItemChangedCounter--}}},_updatePageNumbers:function(){},_startLoading:function(a,b){var c=new lt.Documents.UI.DocumentViewerOperationEventArgs(3,null,null,null,0,!1);this._documentViewer.onOperation(c);if(!c.get_abort()){var c=this._documentViewer.get_document(),d=c.isReadOnly;if(this.get__useVirtualizer())this._reCreateVirtualizer();else{this.get__useGroupLoader();null==this._imageGroupLoader&&
(this._imageGroupLoader=new lt.ImageGroupLoader(!d?-1:b,this._imageViewer.get_imagesDiv()),this._imageGroupLoader.set_maximumLoadersWorking(this._workerCount),this._imageGroupLoader.set_lazyLoad(this._lazyLoad),this._imageGroupLoader.add_allDone(ss.Delegate.create(this,this._imageGroupLoader_AllDone)));null==this._backImageGroupLoader&&(this._backImageGroupLoader=new lt.ImageGroupLoader(!d?-1:b,this._imageViewer.get_imagesDiv()),this._backImageGroupLoader.set_maximumLoadersWorking(this._workerCount),
this._backImageGroupLoader.set_lazyLoad(this._lazyLoad),this._backImageGroupLoader.add_allDone(ss.Delegate.create(this,this._backImageGroupLoader_AllDone)));for(var d=1===this.get_itemType(),e=this._documentViewer.get__documentUseAjaxImageLoading(),g=e?lt.ImageLoaderUrlMode.ajaxDataUrl:lt.ImageLoaderUrlMode.imageUrl,f=lt.Documents.DocumentGetSvgOptions.none,h=a;h<a+b;h++){var i=c.pages.get_item(h),j=this._imageViewer.get_items().get_item(h),k=null,l=null;if(!(null==i||null==j)){var n=!i.isLocal;this.get_documentViewer().get_isUsingPDFRendering()&&
lt.Documents.PDFRender.canRenderPage(i)&&(n=!1);if(n){k=new lt.ImageLoader;k.set_urlMode(g);n=d&&i.isSvgSupported?i.getSvgElement(f,k):i.getImageElement(k);e&&"rejected"===n.state()&&(n=new lt.Documents.UI.DocumentViewerOperationEventArgs(4,Error("Error loading image"),null,null,h+1,!0),this._documentViewer.onOperation(n),k=null);null!=k&&(k.add_done(ss.Delegate.create(this,this._imageLoader_Done)),k.add_fail(ss.Delegate.create(this,this._imageLoader_Fail)),k.add_always(ss.Delegate.create(this,this._imageLoader_Always)),
k.set_tag(j));if(d&&this.get_useSvgBackImage()&&(l=new lt.ImageLoader,l.set_urlMode(g),n=i.getSvgBackImageElement(this.get_imageViewer().get_imageBackgroundColor(),l),e&&"rejected"===n.state()&&(n=new lt.Documents.UI.DocumentViewerOperationEventArgs(4,Error("Error loading image"),null,null,h+1,!0),this._documentViewer.onOperation(n),l=null),null!=l))l.add_done(ss.Delegate.create(this,this._backImageLoader_Done)),l.add_fail(ss.Delegate.create(this,this._backImageLoader_Fail)),l.add_always(ss.Delegate.create(this,
this._backImageLoader_Always)),l.set_tag(j);this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(4,null,k,l,h+1,!1))}}d&&this.get_useSvgBackImage()&&this._backImageGroupLoader.load(l,j,h);this._imageGroupLoader.load(k,j,h);null==i||null==j?(n=new lt.Documents.UI.DocumentViewerOperationEventArgs(4,Error("Error loading image"),null,null,h+1,!0),this._documentViewer.onOperation(n)):i.isLocal&&(n=new lt.Documents.UI.DocumentViewerOperationEventArgs(4,null,null,null,h+
1,!0),this._documentViewer.onOperation(n))}this._lazyLoad&&!this._tryUpdateViewImageTags()&&this._imageViewer.get_hasSize()&&(c=this._imageViewer.get_items().get_item(0),d=this._imageViewer.get_items().get_item(Math.min(this._workerCount,b)-1),null!=c&&null!=d&&(null!=this._imageGroupLoader&&this._imageGroupLoader.get_isWorking()&&this._imageGroupLoader.setImageTags(c,d),null!=this._backImageGroupLoader&&this._backImageGroupLoader.get_isWorking()&&this._backImageGroupLoader.setImageTags(c,d)))}}},
_imageLoader_Done:function(a){var b=a.get_tag();a.get_isHTMLImageElement()?b.set_image(a.get_element()):b.set_element(a.get_element());null!=b.get_imageViewer()&&(b=b.get_imageViewer().get_items().indexOf(b),this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(4,null,a,null,b+1,!0)))},_backImageLoader_Done:function(a){var b=a.get_tag();null!=b.get_imageViewer()&&1!==a.get_width()&&1!==a.get_height()&&(b.set_backImage(a.get_element()),b=b.get_imageViewer().get_items().indexOf(b),
this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(4,null,null,a,b+1,!0)))},_imageLoader_Fail:function(a){var b=a.get_tag();null!=b.get_imageViewer()&&(b=b.get_imageViewer().get_items().indexOf(b),this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(4,a.get_error(),a,null,b+1,!0)))},_backImageLoader_Fail:function(a){var b=a.get_tag();null!=b.get_imageViewer()&&(b=b.get_imageViewer().get_items().indexOf(b),this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(4,
a.get_error(),null,a,b+1,!0)))},_imageLoader_Always:function(a){a.remove_done(ss.Delegate.create(this,this._imageLoader_Done));a.remove_fail(ss.Delegate.create(this,this._imageLoader_Fail));a.remove_always(ss.Delegate.create(this,this._imageLoader_Always))},_backImageLoader_Always:function(a){a.remove_done(ss.Delegate.create(this,this._backImageLoader_Done));a.remove_fail(ss.Delegate.create(this,this._backImageLoader_Fail));a.remove_always(ss.Delegate.create(this,this._backImageLoader_Always))},_stopWorking:function(){if(this.get__useVirtualizer())this._destroyVirtualizer();
else if(null!=this._imageGroupLoader&&(this._imageGroupLoader.remove_allDone(ss.Delegate.create(this,this._imageGroupLoader_AllDone)),this._imageGroupLoader.dispose(),this._imageGroupLoader=null,this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(3,null,null,null,0,!0))),null!=this._backImageGroupLoader)this._backImageGroupLoader.remove_allDone(ss.Delegate.create(this,this._backImageGroupLoader_AllDone)),this._backImageGroupLoader.dispose(),this._backImageGroupLoader=
null},_zoomRatio:1.2,get_zoomRatio:function(){return this._zoomRatio},set_zoomRatio:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("ZoomRatio",a,"Must be a value greater than 0");return this._zoomRatio=a},get_itemType:function(){return this._itemType},get_preferredItemType:function(){return this._preferredItemType},set_preferredItemType:function(a){this._preferredItemType!==a&&(this._preferredItemType=a,this._preferredItemTypeChanged());return a},_preferredItemTypeChanged:function(){if(this._documentViewer.get_hasDocument()){var a=
this._documentViewer.get_document(),b=this.get_preferredItemType(),c=this.get_itemType(),d=c;switch(b){case 1:1!==c&&a.images.isSvgViewingPreferred&&(d=1);break;case 0:c&&(d=0)}d!==c&&(a=new lt.Documents.UI.DocumentViewerOperationEventArgs(7,null,d,null,0,!1),this._documentViewer.onOperation(a),a.get_abort()||(this._itemType=d,this._doStartWorking(!1),a=new lt.Documents.UI.DocumentViewerOperationEventArgs(7,null,d,null,0,!0),this._documentViewer.onOperation(a)))}},runLinkTarget:function(a){lt.Controls.ControlsHelper.checkIfNull(a,
"linkTarget");if(null!=this._imageViewer){var b,c=1;switch(a.pageFitType){case lt.Documents.DocumentPageFitType.fitWidth:b=lt.Controls.ControlSizeMode.fitWidth;break;case lt.Documents.DocumentPageFitType.fitHeight:b=lt.Controls.ControlSizeMode.fitHeight;break;case lt.Documents.DocumentPageFitType.fit:b=lt.Controls.ControlSizeMode.fit;break;case lt.Documents.DocumentPageFitType.fitAlways:b=lt.Controls.ControlSizeMode.fitAlways;break;default:b=lt.Controls.ControlSizeMode.none,0<a.zoomPercent&&100>a.zoomPercent&&
(c=a.zoomPercent/100)}b!==lt.Controls.ControlSizeMode.none&&this._imageViewer.zoom(b,c,this._imageViewer.get_defaultZoomOrigin())}},invalidate:function(a){null!=this._imageViewer&&this._imageViewer.invalidate(a)},_prepareToSave:function(){},_beginUpdate:function(){null!=this._imageViewer&&this._imageViewer.beginUpdate()},_endUpdate:function(){null!=this._imageViewer&&this._imageViewer.endUpdate()},dispose:function(){this._destroy(!0)},_createControls:function(a,b){var c=a.get_viewCreateOptions();
c.set_parentDiv(a.get_viewContainer());c.set_viewLayout(b);this._imageViewer=new lt.Controls.ImageViewer(c);this._imageViewer.add_imageLoading(ss.Delegate.create(this,this._imageViewer_ImageLoading));this.set_useSvgBackImage(!0);this._initControls()},_imageViewer_ImageLoading:function(a,b){b.get_imageLoader().set_urlMode(this._documentViewer.get__documentUseAjaxImageLoading()?lt.ImageLoaderUrlMode.ajaxDataUrl:lt.ImageLoaderUrlMode.imageUrl)},_deleteControls:function(){if(null!=this._imageViewer){this._imageViewer.remove_imageLoading(ss.Delegate.create(this,
this._imageViewer_ImageLoading));var a=this._imageViewer.get_mainDiv();null!=a&&(a.parentNode.removeChild(a),this._imageViewer.dispose(),this._imageViewer=null)}},get__useVirtualizer:function(){return!1},_reCreateVirtualizer:function(){},_destroyVirtualizer:function(){}};Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerView.prototype.get_documentViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,
"imageViewer",{get:lt.Documents.UI.DocumentViewerView.prototype.get_imageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"useSvgBackImage",{get:lt.Documents.UI.DocumentViewerView.prototype.get_useSvgBackImage,set:lt.Documents.UI.DocumentViewerView.prototype.set_useSvgBackImage,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"workerCount",{get:lt.Documents.UI.DocumentViewerView.prototype.get_workerCount,
set:lt.Documents.UI.DocumentViewerView.prototype.set_workerCount,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"lazyLoad",{get:lt.Documents.UI.DocumentViewerView.prototype.get_lazyLoad,set:lt.Documents.UI.DocumentViewerView.prototype.set_lazyLoad,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"zoomRatio",{get:lt.Documents.UI.DocumentViewerView.prototype.get_zoomRatio,set:lt.Documents.UI.DocumentViewerView.prototype.set_zoomRatio,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"itemType",{get:lt.Documents.UI.DocumentViewerView.prototype.get_itemType,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"preferredItemType",{get:lt.Documents.UI.DocumentViewerView.prototype.get_preferredItemType,set:lt.Documents.UI.DocumentViewerView.prototype.set_preferredItemType,enumerable:!0,configurable:!0});lt.Documents.UI.PrintDocumentOptions=
function(){this._pagesList=[];this._pageSize=lt.LeadSizeD.get_empty();this._orientation=0};lt.Documents.UI.PrintDocumentOptions.prototype={_parent:null,get_parent:function(){return this._parent},set_parent:function(a){return this._parent=a},get_pagesList:function(){return this._pagesList},set_pagesList:function(a){return this._pagesList=a},get_pageSize:function(){return this._pageSize},set_pageSize:function(a){if(a.get_isEmpty()||0>=a.get_width()||0>=a.get_height())throw new lt.ArgumentException("Invalid Value",
"PageSize");return this._pageSize=a},get_orientation:function(){return this._orientation},set_orientation:function(a){return this._orientation=a},_usePDFClientRendering:!0,get_usePDFClientRendering:function(){return this._usePDFClientRendering},set_usePDFClientRendering:function(a){return this._usePDFClientRendering=a},_autoDispose:!0,get_autoDispose:function(){return this._autoDispose},set_autoDispose:function(a){return this._autoDispose=a},_autoOpenBrowserPrint:!0,get_autoOpenBrowserPrint:function(){return this._autoOpenBrowserPrint},
set_autoOpenBrowserPrint:function(a){return this._autoOpenBrowserPrint=a},_showAnnotations:!0,get_showAnnotations:function(){return this._showAnnotations},set_showAnnotations:function(a){return this._showAnnotations=a},_removeMargins:!1,get_removeMargins:function(){return this._removeMargins},set_removeMargins:function(a){return this._removeMargins=a},_title:null,get_title:function(){return this._title},set_title:function(a){return this._title=a},_clientRenderSizePixels:2E3,get_clientRenderSizePixels:function(){return this._clientRenderSizePixels},
set_clientRenderSizePixels:function(a){return this._clientRenderSizePixels=a},_imageLoaderImagesHolder:null,get_imageLoaderImagesHolder:function(){return this._imageLoaderImagesHolder},set_imageLoaderImagesHolder:function(a){return this._imageLoaderImagesHolder=a},clone:function(){var a=new lt.Documents.UI.PrintDocumentOptions;if(null!=this._pagesList)for(var b=ss.IEnumerator.getEnumerator(this._pagesList);b.moveNext();)a._pagesList.add(b.current);a._pageSize=null!=this._pageSize?this._pageSize.clone():
null;a._showAnnotations=this._showAnnotations;a._autoDispose=this._autoDispose;a._autoOpenBrowserPrint=this._autoOpenBrowserPrint;a._removeMargins=this._removeMargins;a._orientation=this._orientation;a._title=this._title;a._clientRenderSizePixels=this._clientRenderSizePixels;a._imageLoaderImagesHolder=this._imageLoaderImagesHolder;a._parent=this._parent;a._usePDFClientRendering=this._usePDFClientRendering;return a}};Object.defineProperty(lt.Documents.UI.PrintDocumentOptions.prototype,"parent",{get:lt.Documents.UI.PrintDocumentOptions.prototype.get_parent,
set:lt.Documents.UI.PrintDocumentOptions.prototype.set_parent,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.PrintDocumentOptions.prototype,"pagesList",{get:lt.Documents.UI.PrintDocumentOptions.prototype.get_pagesList,set:lt.Documents.UI.PrintDocumentOptions.prototype.set_pagesList,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.PrintDocumentOptions.prototype,"pageSize",{get:lt.Documents.UI.PrintDocumentOptions.prototype.get_pageSize,set:lt.Documents.UI.PrintDocumentOptions.prototype.set_pageSize,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.PrintDocumentOptions.prototype,"orientation",{get:lt.Documents.UI.PrintDocumentOptions.prototype.get_orientation,set:lt.Documents.UI.PrintDocumentOptions.prototype.set_orientation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.PrintDocumentOptions.prototype,"usePDFClientRendering",{get:lt.Documents.UI.PrintDocumentOptions.prototype.get_usePDFClientRendering,set:lt.Documents.UI.PrintDocumentOptions.prototype.set_usePDFClientRendering,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.PrintDocumentOptions.prototype,"autoDispose",{get:lt.Documents.UI.PrintDocumentOptions.prototype.get_autoDispose,set:lt.Documents.UI.PrintDocumentOptions.prototype.set_autoDispose,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.PrintDocumentOptions.prototype,"autoOpenBrowserPrint",{get:lt.Documents.UI.PrintDocumentOptions.prototype.get_autoOpenBrowserPrint,set:lt.Documents.UI.PrintDocumentOptions.prototype.set_autoOpenBrowserPrint,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.PrintDocumentOptions.prototype,"showAnnotations",{get:lt.Documents.UI.PrintDocumentOptions.prototype.get_showAnnotations,set:lt.Documents.UI.PrintDocumentOptions.prototype.set_showAnnotations,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.PrintDocumentOptions.prototype,"removeMargins",{get:lt.Documents.UI.PrintDocumentOptions.prototype.get_removeMargins,set:lt.Documents.UI.PrintDocumentOptions.prototype.set_removeMargins,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.PrintDocumentOptions.prototype,"title",{get:lt.Documents.UI.PrintDocumentOptions.prototype.get_title,set:lt.Documents.UI.PrintDocumentOptions.prototype.set_title,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.PrintDocumentOptions.prototype,"clientRenderSizePixels",{get:lt.Documents.UI.PrintDocumentOptions.prototype.get_clientRenderSizePixels,set:lt.Documents.UI.PrintDocumentOptions.prototype.set_clientRenderSizePixels,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.PrintDocumentOptions.prototype,"imageLoaderImagesHolder",{get:lt.Documents.UI.PrintDocumentOptions.prototype.get_imageLoaderImagesHolder,set:lt.Documents.UI.PrintDocumentOptions.prototype.set_imageLoaderImagesHolder,enumerable:!0,configurable:!0});lt.Documents.UI._documentViewerPrintHelper=function(){};lt.Documents.UI._documentViewerPrintHelper.createBasicPrintStyle=function(){var a=document.createElement("style");a.type="text/css";
var b,c,d;b={margin:"0",padding:"0","box-sizing":"border-box"};c="@media print {\n"+lt.Documents.UI._documentViewerPrintHelper._createClassText("html, body",b);b={display:"block",overflow:"visible !important","overflow-x":"visible !important","overflow-y":"visible !important"};c+=lt.Documents.UI._documentViewerPrintHelper._createClassText("body",b);lt.LTHelper.browser===lt.LTBrowser.firefox&&(b={display:"block !important",overflow:"visible !important",position:"relative !important"},d=String.format(".{0} *",
lt.Documents.UI._documentViewerPrintHelper.clasS_ROOT),c+=lt.Documents.UI._documentViewerPrintHelper._createClassText(d,b));c+="}\n";b={display:"block",position:"relative"};d=String.format(".{0}",lt.Documents.UI._documentViewerPrintHelper.clasS_ROOT);c+=lt.Documents.UI._documentViewerPrintHelper._createClassText(d,b);b={display:"block",position:"relative"};d=String.format(".{0} .{1}",lt.Documents.UI._documentViewerPrintHelper.clasS_ROOT,lt.Documents.UI._documentViewerPrintHelper.clasS_PAGE);c+=lt.Documents.UI._documentViewerPrintHelper._createClassText(d,
b);b={"page-break-after":"always"};d=String.format(".{0} .{1}:not(.{2})",lt.Documents.UI._documentViewerPrintHelper.clasS_ROOT,lt.Documents.UI._documentViewerPrintHelper.clasS_PAGE,lt.Documents.UI._documentViewerPrintHelper.clasS_PAGE_LAST);c+=lt.Documents.UI._documentViewerPrintHelper._createClassText(d,b);b={display:"block",position:"absolute",top:"0",left:"0","z-index":"1"};d=String.format(".{0} .{1}",lt.Documents.UI._documentViewerPrintHelper.clasS_ROOT,lt.Documents.UI._documentViewerPrintHelper.clasS_ELEMENT);
c+=lt.Documents.UI._documentViewerPrintHelper._createClassText(d,b);b={"-webkit-transform-origin":"top right","-moz-transform-origin":"top right","transform-origin":"top right","-webkit-transform":"rotate(-90deg)","-moz-transform":"rotate(-90deg)",transform:"rotate(-90deg)"};d=String.format(".{0} .{1}.{2}",lt.Documents.UI._documentViewerPrintHelper.clasS_ROOT,lt.Documents.UI._documentViewerPrintHelper.clasS_ELEMENT,lt.Documents.UI._documentViewerPrintHelper.clasS_ROTATE);c+=lt.Documents.UI._documentViewerPrintHelper._createClassText(d,
b);b={display:"block",position:"absolute",top:"0",left:"0","z-index":"2"};d=String.format(".{0} .{1}",lt.Documents.UI._documentViewerPrintHelper.clasS_ROOT,lt.Documents.UI._documentViewerPrintHelper.clasS_ANN);c+=lt.Documents.UI._documentViewerPrintHelper._createClassText(d,b);a.innerHTML=c;return a};lt.Documents.UI._documentViewerPrintHelper.createRemoveMarginPrintStyle=function(){var a=document.createElement("style");a.type="text/css";var b;b=""+lt.Documents.UI._documentViewerPrintHelper._createClassText("@page",
{margin:"0"});a.innerHTML=b;return a};lt.Documents.UI._documentViewerPrintHelper._createClassText=function(a,b){var c="",d;for(d in b)c+=String.format("   {0}: {1};\n",d,b[d]);return String.format("{0} {\n{1}}\n",a,c)};lt.Documents.UI._documentViewerPrintHelper._calcDestRect=function(a,b){var c=b.get_width(),d=b.get_height(),e=a.get_width()/b.get_width(),g=a.get_height()/b.get_height();if(b.get_width()>a.get_width()||b.get_height()>a.get_height())e=Math.min(e,g),c*=e,d*=e;return lt.LeadRectD.create(0,
0,c,d)};lt.Documents.UI._documentViewerPrintHelper.exportAnnotationsAsSvg=function(a,b,c){if(null!=b&&null!=b.get_children()&&0<b.get_children().get_count()){var d=b.get_mapper(),e=lt.Annotations.Core.AnnContainerMapper.createDefault(),g=e.sizeFromContainerCoordinates(b.get_size()),c=lt.Documents.UI._documentViewerPrintHelper._calcDestRect(c,g);e.updateDestinationRectangle(c,g);g=lt.LeadSizeD.create(c.get_right(),c.get_bottom());b.set_mapper(e);e=document.createElement("div");e.style.width=g.get_width()+
"px";e.style.height=g.get_height()+"px";document.body.appendChild(e);a.attach(b,e);for(c=ss.IEnumerator.getEnumerator(b.get_children());c.moveNext();)g=c.current,Object.keyExists(a.get_renderers(),g.get_id())&&(g.get_isSelected()&&g.set_isSelected(!1),a.get_renderers()[g.get_id()].initialize(a),a.get_renderers()[g.get_id()].addObject(g));a.render(lt.LeadRectD.get_empty(),!1);for(c=ss.IEnumerator.getEnumerator(b.get_children());c.moveNext();)g=c.current,Object.keyExists(a.get_renderers(),g.get_id())&&
g.set_stateId(null);document.body.removeChild(e);b.set_mapper(d);e.id="";e.style.top="0";e.style.left="0";e.style.display="block";null!=e.firstChild&&e.firstChild.setAttribute("xmlns","http://www.w3.org/2000/svg");return e}return null};lt.Documents.UI._documentViewerPrintHelper.isSupported=function(){return lt.LTHelper.browser!==lt.LTBrowser.internetExplorer&&lt.LTHelper.browser!==lt.LTBrowser.edge&&"undefined"===window.print?!1:!0};lt.Documents.UI._documentViewerPrintHelper.isIFrameElement=function(a){return null!=
a&&a instanceof HTMLIFrameElement};lt.Documents.UI._documentViewerPrintHelper.isHTMLElement=function(a){return null!=a&&a instanceof HTMLElement};lt.Documents.UI._documentViewerPrintHelper.findRotation=function(a){var b=a.get_size(),c=a.get_printSize(),b=b.get_isEmpty()||b.get_width()<b.get_height()?0:1,c=c.get_isEmpty()||c.get_width()<c.get_height()?0:1;a.set_rotate(c!==b)};lt.Documents.UI._documentViewerPrintHelper.tryCopyImage=function(a,b,c){if(null==a&&null==b&&null==c)return null;null==a&&null!=
b&&(a=b,b=null);var d=null,e=null;if(null!=a)if(c=a.src,null!=b&&!String.isNullOrWhiteSpace(a.src)&&!a.src.trim().indexOf("data:image/png;base64,"))e=c;else{null==lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvas&&(lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvas=document.createElement("canvas"));var d=a.naturalWidth,c=a.naturalHeight,g=lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvasWidth!==d||lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvasHeight!==c;g&&(lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvasWidth=
d,lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvas.width=d,lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvasHeight=c,lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvas.height=c);var f=lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvas.getContext("2d");try{g||f.clearRect(0,0,d,c),null!=b&&f.drawImage(b,0,0,d,c),f.drawImage(a,0,0,d,c)}catch(h){return null}d=lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvas}else d=c;if(null==e&&null==d)return null;if(null==e)try{e=
lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvas.toDataURL("image/png")}catch(i){return null}a=document.createElement("img");a.src=e;return a};lt.Documents.UI.DocumentViewerPrintProgress=function(a,b){this._pagesTotal=a;this._pagesCompleted=b};lt.Documents.UI.DocumentViewerPrintProgress.prototype={_pagesTotal:0,get_pagesTotal:function(){return this._pagesTotal},_pagesCompleted:0,get_pagesCompleted:function(){return this._pagesCompleted}};Object.defineProperty(lt.Documents.UI.DocumentViewerPrintProgress.prototype,
"pagesTotal",{get:lt.Documents.UI.DocumentViewerPrintProgress.prototype.get_pagesTotal,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerPrintProgress.prototype,"pagesCompleted",{get:lt.Documents.UI.DocumentViewerPrintProgress.prototype.get_pagesCompleted,enumerable:!0,configurable:!0});lt.Documents.UI._printIndexData=function(){};lt.Documents.UI._printIndexData.prototype={dataIndex:0,documentPageIndex:0};lt.Documents.UI.DocumentPrintData=function(){this._printStyles=
[];this._pages=[]};lt.Documents.UI.DocumentPrintData.prototype={_options:null,get_options:function(){return this._options},set_options:function(a){return this._options=a},get_printStyles:function(){return this._printStyles},set_printStyles:function(a){return this._printStyles=a},_root:null,get_root:function(){return this._root},set_root:function(a){return this._root=a},get_pages:function(){return this._pages},set_pages:function(a){return this._pages=a},_progress:null,get_progress:function(){return this._progress},
set_progress:function(a){return this._progress=a},buildPrintRoot:function(){var a=document.createElement("div");a.className=lt.Documents.UI._documentViewerPrintHelper.clasS_ROOT;if(null!=this._pages&&0<this._pages.length){for(var b=this._pages.length,c=b-1;0<=c;c--){var d=this._pages[c];if(null!=d&&1!==d.get_action())break}for(c=0;c<b;c++)if(d=this._pages[c],!(null==d||1===d.get_action())){var e=document.createElement("div");e.className=lt.Documents.UI._documentViewerPrintHelper.clasS_PAGE;c===b-
1&&(e.className+=" "+lt.Documents.UI._documentViewerPrintHelper.clasS_PAGE_LAST);var g=d.get_rotate(),f=d.get_printSize();if(g){var h=f.get_width()/f.get_height();1!==h&&(f.get_width()>f.get_height()?(f.set_width(f.get_height()),f.set_height(f.get_width()/h)):(f.set_height(f.get_width()),f.set_width(f.get_height()*h)))}var h=f.get_width()+"px",i=f.get_height()+"px",j="0";g&&(j="-"+d.get_size().get_width()*(f.get_width()/d.get_size().get_height())+"px");e.style.width=h;e.style.height=i;f=d.get_pageElement();
null!=f&&(f.className=lt.Documents.UI._documentViewerPrintHelper.clasS_ELEMENT,g?(f.className+=" "+lt.Documents.UI._documentViewerPrintHelper.clasS_ROTATE,f.style.width="auto",f.style.height=h):(f.style.width="100%",f.style.height="100%"),f.style.position="absolute",f.style.left=j,e.appendChild(f));d=d.get_annotationsElement();null!=d&&(d.className=lt.Documents.UI._documentViewerPrintHelper.clasS_ANN,g?(d.className+=" "+lt.Documents.UI._documentViewerPrintHelper.clasS_ROTATE,d.style.width=i,d.style.height=
h):(d.style.width=h,d.style.height=i),d.style.position="absolute",d.style.left=j,e.appendChild(d));a.appendChild(e)}}null!=this._root&&(null!=this._root.parentNode&&this._root.parentNode.removeChild(this._root),this._root=null);this._root=a},dispose:function(){this._progress=this._options=null;if(null!=this._pages){for(var a=0;a<this._pages.length;a++){var b=this._pages[a];null!=b&&b.dispose();this._pages[a]=null}this._pages=null}if(null!=this._printStyles){for(a=0;a<this._printStyles.length;a++)b=
this._printStyles[a],null!=b&&null!=b.parentNode&&b.parentNode.removeChild(b),this._printStyles[a]=null;this._printStyles=null}null!=this._root&&(null!=this._root.parentNode&&this._root.parentNode.removeChild(this._root),this._root.style.display="none",this._root=this._root.onload=null)}};Object.defineProperty(lt.Documents.UI.DocumentPrintData.prototype,"options",{get:lt.Documents.UI.DocumentPrintData.prototype.get_options,set:lt.Documents.UI.DocumentPrintData.prototype.set_options,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentPrintData.prototype,"printStyles",{get:lt.Documents.UI.DocumentPrintData.prototype.get_printStyles,set:lt.Documents.UI.DocumentPrintData.prototype.set_printStyles,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentPrintData.prototype,"root",{get:lt.Documents.UI.DocumentPrintData.prototype.get_root,set:lt.Documents.UI.DocumentPrintData.prototype.set_root,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentPrintData.prototype,
"pages",{get:lt.Documents.UI.DocumentPrintData.prototype.get_pages,set:lt.Documents.UI.DocumentPrintData.prototype.set_pages,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentPrintData.prototype,"progress",{get:lt.Documents.UI.DocumentPrintData.prototype.get_progress,set:lt.Documents.UI.DocumentPrintData.prototype.set_progress,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentPrintPageData=function(){this._currentDocumentPageIndex=-1;this._action=0;this._printSize=
lt.LeadSizeD.get_empty();this._size=lt.LeadSizeD.get_empty()};lt.Documents.UI.DocumentPrintPageData.prototype={get_action:function(){return this._action},set_action:function(a){return this._action=a},_rotate:!1,get_rotate:function(){return this._rotate},set_rotate:function(a){return this._rotate=a},get_printSize:function(){return this._printSize},set_printSize:function(a){return this._printSize=a},get_size:function(){return this._size},set_size:function(a){return this._size=a},_documentPage:null,
get_documentPage:function(){return this._documentPage},set_documentPage:function(a){return this._documentPage=a},_pageElement:null,get_pageElement:function(){return this._pageElement},set_pageElement:function(a){return this._pageElement=a},_annotationsElement:null,get_annotationsElement:function(){return this._annotationsElement},set_annotationsElement:function(a){return this._annotationsElement=a},dispose:function(){this._action=1;this._rotate=!1;this._printSize=lt.LeadSizeD.get_empty();this._size=
lt.LeadSizeD.get_empty();this._documentPage=null;null!=this._pageElement&&(this._pageElement instanceof HTMLImageElement&&lt.Documents.UI.BlobHelper.tryRevokeUrl(this._pageElement.src),this._pageElement=null);null!=this._annotationsElement&&(this._annotationsElement instanceof HTMLImageElement&&lt.Documents.UI.BlobHelper.tryRevokeUrl(this._annotationsElement.src),this._annotationsElement=null)}};Object.defineProperty(lt.Documents.UI.DocumentPrintPageData.prototype,"action",{get:lt.Documents.UI.DocumentPrintPageData.prototype.get_action,
set:lt.Documents.UI.DocumentPrintPageData.prototype.set_action,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentPrintPageData.prototype,"rotate",{get:lt.Documents.UI.DocumentPrintPageData.prototype.get_rotate,set:lt.Documents.UI.DocumentPrintPageData.prototype.set_rotate,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentPrintPageData.prototype,"printSize",{get:lt.Documents.UI.DocumentPrintPageData.prototype.get_printSize,set:lt.Documents.UI.DocumentPrintPageData.prototype.set_printSize,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentPrintPageData.prototype,"size",{get:lt.Documents.UI.DocumentPrintPageData.prototype.get_size,set:lt.Documents.UI.DocumentPrintPageData.prototype.set_size,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentPrintPageData.prototype,"documentPage",{get:lt.Documents.UI.DocumentPrintPageData.prototype.get_documentPage,set:lt.Documents.UI.DocumentPrintPageData.prototype.set_documentPage,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentPrintPageData.prototype,"pageElement",{get:lt.Documents.UI.DocumentPrintPageData.prototype.get_pageElement,set:lt.Documents.UI.DocumentPrintPageData.prototype.set_pageElement,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentPrintPageData.prototype,"annotationsElement",{get:lt.Documents.UI.DocumentPrintPageData.prototype.get_annotationsElement,set:lt.Documents.UI.DocumentPrintPageData.prototype.set_annotationsElement,
enumerable:!0,configurable:!0});lt.Documents.UI._documentViewerPrintHandler=function(a){this._pagesCompleted=this._pagesTotal=-1;this._documentViewer=a};lt.Documents.UI._documentViewerPrintHandler.openBrowserPrint=function(a,b,c,d,e){if(null==a)throw Error("parent of print elements is null");if(null==b)throw Error("root of print elements is null");var g=lt.Documents.UI._documentViewerPrintHelper.isIFrameElement(a);a.style.display="block";var f=g?a.contentWindow:window,h=g&&lt.LTHelper.browser===lt.LTBrowser.chrome,
i=function(){h&&(a.onload=null);null!=c&&(f.document.title=c);lt.LTHelper.browser===lt.LTBrowser.internetExplorer||lt.LTHelper.browser===lt.LTBrowser.edge?f.document.execCommand("print",!1,null):f.print();null!=e&&e()};if(g)h&&(a.onload=i),setTimeout(function(){f.document.open();for(var a="",c=ss.IEnumerator.getEnumerator(d);c.moveNext();)a=a+String.format("<style>{0}</style>",c.current.innerHTML);f.document.write(String.format("<html dir='ltr' mozdisallowselectionprint='' moznomarginboxes=''><head>{0}</head><body></body></html>",
a));f.document.body.appendChild(b);f.document.close();h||i(null)},500);else{g=document.getElementsByTagName("head");if(null!=g&&0<g.length)for(var j=ss.IEnumerator.getEnumerator(d);j.moveNext();)g[0].appendChild(j.current);a.appendChild(b);setTimeout(function(){i(null)},500)}};lt.Documents.UI._documentViewerPrintHandler.prototype={_printImageGroupLoader:null,_documentViewer:null,_needImagesLoad:!1,_needPDFRendering:!1,_isStopped:!1,_publicData:null,_deferred:null,stop:function(a){this._isStopped=
!0;this._cleanGroupLoader();a&&(this._documentViewer=null,this._pagesTotal=this._pagesCompleted=-1,this._needPDFRendering=this._needImagesLoad=!1,null!=this._publicData&&((null==this._publicData.get_options()||this._publicData.get_options().get_autoDispose())&&this._publicData.dispose(),this._publicData=null),this._deferred=null)},_rejectPrintWithException:function(a){this.stop(!1);if(null!=this._documentViewer)this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(23,
a,this._publicData,null,0,!0));null!=this._deferred&&this._deferred.reject(a)},_updateProgress:function(a){a&&this._pagesCompleted++;null!=this._publicData&&this._publicData.set_progress(new lt.Documents.UI.DocumentViewerPrintProgress(this._pagesTotal,this._pagesCompleted))},preparePrint:function(a){this._deferred=$.Deferred();var b=this._deferred.promise();this._publicData=new lt.Documents.UI.DocumentPrintData;this._publicData.set_options(a);this._pagesCompleted=this._pagesTotal=0;this._updateProgress(!1);
var c=new lt.Documents.UI.DocumentViewerOperationEventArgs(23,null,this._publicData,null,0,!1);this._documentViewer.onOperation(c);if(c.get_abort())return this._rejectPrintWithException(null),b;if(!lt.Documents.UI._documentViewerPrintHelper.isSupported())return this._rejectPrintWithException(Error("this browser does not support printing.")),b;c=this._documentViewer.get_document();if(null==c||!c.pages.get_count())return this._rejectPrintWithException(Error("document must have pages")),b;if(null==a)return this._rejectPrintWithException(new lt.ArgumentNullException("options")),
b;var d=a.get_parent();if(a.get_autoOpenBrowserPrint()&&!lt.Documents.UI._documentViewerPrintHelper.isHTMLElement(d))return this._rejectPrintWithException(Error("cannot print without an HTMLElement as parent")),b;try{this._publicData=new lt.Documents.UI.DocumentPrintData;this._publicData.set_options(a);this._publicData.get_printStyles().add(lt.Documents.UI._documentViewerPrintHelper.createBasicPrintStyle());a.get_removeMargins()&&this._publicData.get_printStyles().add(lt.Documents.UI._documentViewerPrintHelper.createRemoveMarginPrintStyle());
var e=a.get_pageSize(),g=a.get_orientation(),f=a.get_pagesList();if(null!=f&&0<f.length)for(var h=ss.IEnumerator.getEnumerator(f);h.moveNext();){var i=h.current;if(0>i||i>c.pages.get_count()-1)return this._rejectPrintWithException(Error(String.format("Provided page index {0} is outside the range of the document",i))),b}else{f=[];for(h=0;h<c.pages.get_count();h++)f.add(h)}e.get_isEmpty()&&(e=lt.LeadSizeD.create(6120,7920));e=lt.LeadSizeD.create(lt.Documents.Document.documentToPixels(96,e.get_width()),
lt.Documents.Document.documentToPixels(96,e.get_height()));1===g&&(e=lt.LeadSizeD.create(e.get_height(),e.get_width()));this._pagesTotal=f.length;this._pagesCompleted=0;g=[];h=[];null!=this._documentViewer.get_view()&&this._documentViewer.get_view().get_imageViewer().get_items();for(d=0;d<f.length;d++){var i=f[d],j=c.pages.get_item(i),k=c.sizeToPixels(j.size),l=new lt.Documents.UI._printIndexData;l.documentPageIndex=i;var n=new lt.Documents.UI.DocumentPrintPageData;n.set_documentPage(j);n._currentDocumentPageIndex=
i;n.set_size(k);n.set_printSize(e.clone());lt.Documents.UI._documentViewerPrintHelper.findRotation(n);if(j.isLocal){this._updateProgress(!1);var m=new lt.Documents.UI.DocumentViewerOperationEventArgs(23,null,this._publicData,n,i+1,!1);this._documentViewer.onOperation(m);if(m.get_abort())return this._rejectPrintWithException(null),b;this._updateProgress(!0);l.dataIndex=this._publicData.get_pages().length;this._publicData.get_pages().add(n);m=new lt.Documents.UI.DocumentViewerOperationEventArgs(23,
null,this._publicData,n,i+1,!0);this._documentViewer.onOperation(m)}else a.get_usePDFClientRendering()&&this._documentViewer.get_isUsingPDFRendering()&&lt.Documents.PDFRender.canRenderPage(j)?g.add(l):h.add(l),l.dataIndex=this._publicData.get_pages().length,this._publicData.get_pages().add(n)}this._needImagesLoad=0<h.length;this._needPDFRendering=0<g.length;!this._needImagesLoad&&!this._needPDFRendering?this._printReady():(!this._isStopped&&this._needImagesLoad&&this._startImageLoading(h),!this._isStopped&&
this._needPDFRendering&&this._startPDFRendering(g));return this._deferred.promise()}catch(o){return this._isStopped&&(o=null),this._rejectPrintWithException(o),b}},_startImageLoading:function(a){this._updateProgress(!1);var b=new lt.Documents.UI.DocumentViewerOperationEventArgs(3,null,this._publicData,null,0,!1);this._documentViewer.onOperation(b);if(b.get_abort())this._rejectPrintWithException(null);else try{this._printImageGroupLoader=new lt.ImageGroupLoader(a.length,this._publicData.get_options().get_imageLoaderImagesHolder());
this._printImageGroupLoader.set_addAbortedToDoneCount(!0);this._printImageGroupLoader.set_maximumLoadersWorking(null!=this._documentViewer.get_view()?this._documentViewer.get_view().get_workerCount():4);this._printImageGroupLoader.set_lazyLoad(!1);this._printImageGroupLoader.add_allDone(ss.Delegate.create(this,this._allImagesLoaded));var c=null,d=null,e=null,g=null,c=ss.Delegate.create(this,function(a){if(!this._isStopped){var b=a.get_tag(),f=this._publicData.get_pages()[b.dataIndex],b=b.documentPageIndex;
this._updateProgress(!1);var h=new lt.Documents.UI.DocumentViewerOperationEventArgs(23,null,this._publicData,f,b+1,!1);this._documentViewer.onOperation(h);if(h.get_abort())a.remove_preRun(c),a.remove_done(d),a.remove_fail(e),a.remove_always(g),this._rejectPrintWithException(null),a.dispose();else if(f.get_action()||(h=new lt.Documents.UI.DocumentViewerOperationEventArgs(4,null,a,f,b+1,!1),this._documentViewer.onOperation(h)),f.get_action()||h.get_abort()||a.get_isAborted())a.remove_preRun(c),a.remove_done(d),
a.remove_fail(e),a.remove_always(g),a.abort(),this._updateProgress(!0),h=new lt.Documents.UI.DocumentViewerOperationEventArgs(23,null,this._publicData,f,b+1,!0),this._documentViewer.onOperation(h)}}),d=ss.Delegate.create(this,function(a){if(!this._isStopped){var b=a.get_tag(),d=this._publicData.get_pages()[b.dataIndex],b=b.documentPageIndex;d.get_action()||d.set_pageElement(a.get_element());this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(4,null,a,d,b+1,!0))}}),
e=ss.Delegate.create(this,function(a){if(!this._isStopped){var b=a.get_tag();this._publicData.get_pages();b=b.documentPageIndex;this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(4,a.get_error(),a,null,b+1,!0))}}),g=ss.Delegate.create(this,function(a){var b=a.get_tag(),f=this._publicData.get_pages()[b.dataIndex],b=b.documentPageIndex;this._updateProgress(!0);this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(23,null,this._publicData,
f,b+1,!0));null!=a&&(a.remove_preRun(c),a.remove_done(d),a.remove_fail(e),a.remove_always(g))}),f=this._documentViewer.get__documentUseAjaxImageLoading(),h=f?lt.ImageLoaderUrlMode.ajaxDataUrl:lt.ImageLoaderUrlMode.imageUrl;this._documentViewer.get_document();for(b=0;b<a.length;b++){var i=a[b],j=this._publicData.get_pages()[i.dataIndex],k=j.get_documentPage(),l=i.documentPageIndex;if(null==k||null==j){var n=new lt.Documents.UI.DocumentViewerOperationEventArgs(4,Error("Page cannot be loaded"),this._publicData,
j,l+1,!0);this._documentViewer.onOperation(n);if(n.get_abort()){this.stop(!1);this._rejectPrintWithException(null);break}}else{var m=new lt.ImageLoader;m.set_urlMode(h);var o=k.getImageElement(m);if(f&&"rejected"===o.state()){var p=new lt.Documents.UI.DocumentViewerOperationEventArgs(4,Error("Page load was aborted"),this._publicData,j,l+1,!0);this._documentViewer.onOperation(p);if(p.get_abort()){this.stop(!1);this._rejectPrintWithException(null);break}m=null}else m.add_preRun(c),m.add_done(d),m.add_fail(e),
m.add_always(g),m.set_tag(i),this._printImageGroupLoader.load(m,i,b)}}}catch(q){this._isStopped||this._rejectPrintWithException(q)}},_allImagesLoaded:function(){this._isStopped||(this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(3,null,this._publicData,null,0,!0)),this._needImagesLoad=!1,this._cleanGroupLoader(),this._needPDFRendering||this._printReady())},_startPDFRendering:function(a){if(!this._isStopped)if(1>a.length)this._needPDFRendering=!1,this._needImagesLoad||
this._printReady();else{var b=this._documentViewer.get_document(),c=0,d=null,e=null,g=null,f=-1,h=lt.LeadSizeD.get_empty(),i=0,j=0,k=1,l=this._publicData.get_options().get_clientRenderSizePixels(),n=document.createElement("canvas"),m=null,o=ss.Delegate.create(this,function(a){this._isStopped||(e.get_action()||e.set_pageElement(a),m())}),p=ss.Delegate.create(this,function(){this._isStopped||m()}),q=null,q=ss.Delegate.create(this,function(){try{d=a[c];e=this._publicData.get_pages()[d.dataIndex];g=e.get_documentPage();
f=d.documentPageIndex;h=b.sizeToPixels(g.size);j=h.get_width()/h.get_height();i=Math.max(h.get_width(),h.get_height());h.get_width()>h.get_height()?(h.set_width(i),h.set_height(i/j)):(h.set_height(i),h.set_width(i*j));k=-1;l&&(k=l/Math.max(h.get_width(),h.get_height()));this._updateProgress(!1);var x=new lt.Documents.UI.DocumentViewerOperationEventArgs(23,null,this._publicData,e,f+1,!1);this._documentViewer.onOperation(x);x.get_abort()?(q=p=o=m=null,this.stop(!1),this._rejectPrintWithException(null)):
e.get_action()?m():lt.Documents.UI._pdfRenderingHandler._renderPageAsImage(b,g,f,h,k,n,!1,o,p)}catch(A){this._isStopped||this._rejectPrintWithException(A)}}),m=ss.Delegate.create(this,function(){this._updateProgress(!0);this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(23,null,this._publicData,e,f+1,!0));c++;c<a.length?q():(n.width=0,n.height=0,q=p=o=m=null,this._needPDFRendering=!1,this._needImagesLoad||this._printReady())});q()}},_cleanGroupLoader:function(){null!=
this._printImageGroupLoader&&(this._printImageGroupLoader.remove_allDone(ss.Delegate.create(this,this._allImagesLoaded)),this._printImageGroupLoader.get_isWorking()&&!this._printImageGroupLoader.get_isAborting()&&this._printImageGroupLoader.abort(!0),this._printImageGroupLoader.dispose(),this._printImageGroupLoader=null)},_printReady:function(){try{if(this._publicData.get_options().get_showAnnotations()){var a=this._documentViewer.get_annotations();this._documentViewer.get_document();var b=null;null!=
a&&(b=new lt.Annotations.Rendering.AnnSvgRenderingEngine,b.set_resources(a.get_automationManager().get_resources()));for(var c=0;c<this._publicData.get_pages().length;c++){var d=this._publicData.get_pages()[c],e=d._currentDocumentPageIndex;if(!(null==d.get_documentPage()||d.get_action())&&null!=b){var g=a.get_automation().get_containers().get_item(e);d.set_annotationsElement(lt.Documents.UI._documentViewerPrintHelper.exportAnnotationsAsSvg(b,g,d.get_printSize(),this._documentViewer.get_annotations().get_automationManager().get_userMode()===
lt.Annotations.Core.AnnUserMode.run))}}}this._updateProgress(!1);this._publicData.buildPrintRoot()}catch(f){this._isStopped||this._rejectPrintWithException(f);return}a=new lt.Documents.UI.DocumentViewerOperationEventArgs(23,null,this._publicData,null,0,!0);this._documentViewer.onOperation(a);if(a.get_abort())this._deferred.reject(null);else if(this._publicData.get_options().get_autoOpenBrowserPrint()){a=null;try{lt.Documents.UI._documentViewerPrintHandler.openBrowserPrint(this._publicData.get_options().get_parent(),
this._publicData.get_root(),this._publicData.get_options().get_title(),this._publicData.get_printStyles(),ss.Delegate.create(this._documentViewer,this._documentViewer._postPrintCallback))}catch(h){a=h}null!=a?this._deferred.reject(a):this._deferred.resolve(this._publicData)}else this._deferred.resolve(this._publicData)}};lt.Documents.UI.DocumentViewerFactory=function(){};lt.Documents.UI.DocumentViewerFactory.createDocumentViewer=function(a){return new lt.Documents.UI.DocumentViewer(a)};lt.Documents.UI._documentViewerHelper=
function(){};lt.Documents.UI._documentViewerHelper.setItemImage=function(a,b,c){a.set_url(Type.safeCast(b,String));a.set_backImageUrl(Type.safeCast(c,String))};lt.Documents.UI._documentViewerHelper.getDocumentCharacterCodeAsString=function(a){return a.code};lt.Documents.UI._documentViewerHelper.parseInt=function(a){return parseInt(a)};lt.Documents.UI._documentViewerHelper.getCursor=function(a){switch(a){case 1:return"pointer";case 2:return"crosshair";case 3:return"zoom-in";case 4:return"text";case 5:return"default";
default:return"auto"}};lt.Documents.UI._documentViewerHelper.flatSvg=function(){};lt.Documents.UI._documentViewerHelper.getAsList=function(a){if(null==a)return null;for(var b=[],a=ss.IEnumerator.getEnumerator(a);a.moveNext();)b.add(a.current);return b};lt.Documents.UI._invoker=function(){};lt.Documents.UI._invoker.beginInvoke0=function(a,b){b()};lt.Documents.UI._invoker.beginInvoke1=function(a,b,c){b(c)};lt.Documents.UI._invoker.beginInvoke2=function(a,b,c,d){b(c,d)};lt.Documents.UI.BlobHelper=function(){};
lt.Documents.UI.BlobHelper.createImageFromBlob=function(a,b,c){lt.Documents.UI.BlobHelper.supportsToBlob&&a.toBlob(function(a){var e=document.createElement("img"),g=lt.Documents.UI.BlobHelper._urlClass.createObjectURL(a);c?(e.onload=function(){lt.Documents.UI.BlobHelper._urlClass.revokeObjectURL(g);b(e)},e.src=g):(e.src=g,b(e))})};lt.Documents.UI.BlobHelper.tryRevokeUrl=function(a){try{a.indexOf("blob:")||lt.Documents.UI.BlobHelper._urlClass.revokeObjectURL(a)}catch(b){}};lt.Documents.UI._annotationsWorker=
function(){lt.Documents.UI._annotationsWorker.initializeBase(this);this.set_maximumPostProcessingCount(1);this.set_autoPostProcessCompleted(!0)};lt.Documents.UI._annotationsWorker.prototype={destroy:function(a){a&&this.stop();lt.Documents.UI._annotationsWorker.callBaseMethod(this,"destroy",[a])},_document$1:null,start:function(a){this._document$1=a;null!=this._document$1&&this.startWork(1)},stop:function(){this.stopWork();this._document$1=null},processItem:function(a){try{var b=this._document$1.annotations.getAnnotations(!0);
return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,0,b,null,null)}catch(c){return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,null,c)}},completeIteration:function(a,b){var c=a.get_data1();null==c||this.get_isCancelPending()||this!==a.get__itemsWorker()?b(a):(c.done(function(d){try{null!=d?a.set_data1(d):a.set_data1(null),b(a)}catch(c){a.set_data1(null),a.set_error(c),b(a)}}),c.fail(function(d){d=lt.Documents.ServiceError.parseError(d,"error",Type.safeCast(d.statusText,
String));d=d.isParseError?d.errorThrown:d.detail;a.set_data1(null);a.set_error(Error(d));b(a)}))}};lt.Documents.UI._textReviewDrawDesigner=function(a,b,c){this._begin$2=lt.LeadPointD.get_empty();this._end$2=lt.LeadPointD.get_empty();lt.Documents.UI._textReviewDrawDesigner.initializeBase(this,[a,b,c])};lt.Documents.UI._textReviewDrawDesigner.prototype={_documentViewer$2:null,get_documentViewer:function(){return this._documentViewer$2},set_documentViewer:function(a){return this._documentViewer$2=a},
onPointerDown:function(a,b){var c=lt.Documents.UI._textReviewDrawDesigner.callBaseMethod(this,"onPointerDown",[a,b]);if(b.get_button()!==lt.Annotations.Core.AnnMouseButton.left||b.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return c;var d=this._documentViewer$2.get_currentPageNumber();if(this._documentViewer$2.get_text().hasDocumentPageText(d))this.startWorking();else return this._documentViewer$2.get_text().getDocumentPageText(d),c;this._end$2=this._begin$2=b.get_location();return!0},
onPointerMove:function(a,b){if(!this.get_hasStarted()||null==this._documentViewer$2||null==this.get_targetObject()||!this.get_isMouseLeftButtonDown())return!1;var c=b.get_location();if(c.get_x()!==this._end$2.get_x()||c.get_y()!==this._end$2.get_y()){this._end$2=c;if(null!=this._documentViewer$2){var c=this.get_container(),d=c.get_mapper().pointFromContainerCoordinates(this._begin$2,lt.Annotations.Core.AnnFixedStateOperations.none),e=c.get_mapper().pointFromContainerCoordinates(this._end$2,lt.Annotations.Core.AnnFixedStateOperations.none);
this._documentViewer$2.get_text()._trySelect(c.get_pageNumber(),d,e,3,null)}this.working()}return!0},onPointerUp:function(a,b){var c=lt.Documents.UI._textReviewDrawDesigner.callBaseMethod(this,"onPointerUp",[a,b]);if(null==this._documentViewer$2||b.get_button()!==lt.Annotations.Core.AnnMouseButton.left||null==this.get_targetObject())return c;if(null!=this._documentViewer$2){var c=this.get_container(),d=c.get_mapper().pointFromContainerCoordinates(this._begin$2,lt.Annotations.Core.AnnFixedStateOperations.none),
e=c.get_mapper().pointFromContainerCoordinates(this._end$2,lt.Annotations.Core.AnnFixedStateOperations.none);this._documentViewer$2.get_text()._trySelect(c.get_pageNumber(),d,e,4,null);d=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnTextReviewObject);null!=d?this._documentViewer$2.get_annotations().selectedTextToReviewObject(c.get_pageNumber(),d)?this.endWorking():this.cancel():this.cancel()}else this.cancel();this._documentViewer$2=null;return!1}};lt.Documents.UI._bookmarksWorker=
function(){lt.Documents.UI._bookmarksWorker.initializeBase(this);this.set_maximumPostProcessingCount(1);this.set_autoPostProcessCompleted(!0)};lt.Documents.UI._bookmarksWorker.prototype={destroy:function(a){a&&this.stop();lt.Documents.UI._bookmarksWorker.callBaseMethod(this,"destroy",[a])},_document$1:null,start:function(a){this._document$1=a;null!=this._document$1&&this.startWork(1)},stop:function(){this.stopWork();this._document$1=null},processItem:function(a){try{return null!=this._document$1&&
this._document$1.isStructureSupported&&!this._document$1.structure.isParsed?new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,this._document$1.structure.parse(),null,null):new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,null,null)}catch(b){return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,null,b)}},completeIteration:function(){}};lt.Documents.UI._annotationsCommands=function(){};lt.Documents.UI._annotationsCommands.add=function(a){a["Annotations.Undo"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Undo",
function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canUndo()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&f.undo();b.postRun(a,c);return null},null);a["Annotations.Redo"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Redo",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canRedo()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),
f=null!=f?f.get_automation():null;null!=f&&f.redo();b.postRun(a,c);return null},null);a["Annotations.Cut"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Cut",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canCopy()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&(f.copy(),f.deleteSelectedObjects());b.postRun(a,c);return null},null);a["Annotations.Copy"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Copy",
function(a){if(!a.get_hasDocument())return!1;a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canCopy()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&f.get_canCopy()&&f.copy();b.postRun(a,c);return null},null);a["Annotations.Paste"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Paste",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canPaste()},function(a,
b,c){if(!b.preRun(a,c))return null;var f=lt.Documents.UI._commandHelper.getPointParameter(c,lt.LeadPointD.get_empty());a.get_annotations()._paste(f);b.postRun(a,c);return null},null);a["Annotations.Delete"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Delete",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canDeleteObjects()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&f.deleteSelectedObjects();
b.postRun(a,c);return null},null);a["Annotations.SelectAll"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.SelectAll",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canSelectObjects()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),h=lt.Documents.UI._commandHelper.getIntParamater(c,0);f._selectAll(h);b.postRun(a,c);return null},null);a["Annotations.ClearSelection"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.ClearSelection",
function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canSelectNone()},function(a,b,c){if(!b.preRun(a,c))return null;a.get_annotations()._deselect();b.postRun(a,c);return null},null);var b=function(a,b){var c=a.get_annotations(),c=null!=c?c.get_automationManager():null;return null!=c&&c.get_userMode()!==b.get_tag()},c=function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automationManager():null;null!=f&&f.set_userMode(b.get_tag());
b.postRun(a,c);return null};a["Annotations.UserModeDesign"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.UserModeDesign",b,c,lt.Annotations.Core.AnnUserMode.design);a["Annotations.UserModeRun"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.UserModeRun",b,c,lt.Annotations.Core.AnnUserMode.run);a["Annotations.UserModeRender"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.UserModeRender",b,c,lt.Annotations.Core.AnnUserMode.render);a["Annotations.BringToFront"]=
lt.Documents.UI.DocumentViewerCommand._create("Annotations.BringToFront",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canBringToFront()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&f.bringToFront(!1);b.postRun(a,c);return null},null);a["Annotations.SendToBack"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.SendToBack",function(a){a=a.get_annotations();a=null!=a?a.get_automation():
null;return null!=a&&a.get_canSendToBack()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&f.sendToBack(!1);b.postRun(a,c);return null},null);a["Annotations.BringToFirst"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.BringToFirst",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canBringToFirst()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=
f?f.get_automation():null;null!=f&&f.bringToFront(!0);b.postRun(a,c);return null},null);a["Annotations.SendToLast"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.SendToLast",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canSendToLast()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&f.sendToBack(!0);b.postRun(a,c);return null},null);a["Annotations.Flip"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Flip",
function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canFlip()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&f.flip(!1);b.postRun(a,c);return null},null);a["Annotations.Reverse"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Reverse",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canFlip()},function(a,b,c){if(!b.preRun(a,c))return null;
var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&f.flip(!0);b.postRun(a,c);return null},null);a["Annotations.Group"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Group",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canGroup()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),h;h=null!=c?c.toString():String.format("Group");f.groupSelectedObjects(h);b.postRun(a,c);return null},null);a["Annotations.Ungroup"]=
lt.Documents.UI.DocumentViewerCommand._create("Annotations.Ungroup",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canUngroup()},function(a,b,c){if(!b.preRun(a,c))return null;a.get_annotations().ungroupSelectedObjects();b.postRun(a,c);return null},null);a["Annotations.Lock"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Lock",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canLock()},function(a,b,c){if(!b.preRun(a,
c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&f.lock();b.postRun(a,c);return null},null);a["Annotations.Unlock"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Unlock",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canUnlock()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&f.unlock();b.postRun(a,c);return null},null);a["Annotations.ResetRotatePoints"]=
lt.Documents.UI.DocumentViewerCommand._create("Annotations.ResetRotatePoints",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canResetRotatePoints()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&f.resetRotatePoints();b.postRun(a,c);return null},null);a["Annotations.AntiAlias"]=lt.Documents.UI.DocumentViewerCommand._createState("Annotations.AntiAlias",function(a,b){var c=a.get_annotations(),
c=null!=c?c.get_automation():null;return null!=c&&null!=c.get_automationControl()?(b.set_state(c.get_automationControl().get_automationAntiAlias()),!0):!1},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&null!=f.get_automationControl()&&f.get_automationControl().set_automationAntiAlias(!f.get_automationControl().get_automationAntiAlias());b.postRun(a,c);return null},null,!1);a["Annotations.Properties"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Properties",
function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canShowObjectProperties()},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations(),f=null!=f?f.get_automation():null;null!=f&&f.showObjectProperties();b.postRun(a,c);return null},null);a["Annotations.UseRotateThumbs"]=lt.Documents.UI.DocumentViewerCommand._createState("Annotations.UseRotateThumbs",function(a,b){var c=a.get_annotations();if(null==c)return!1;b.set_state(c.get_useRotateThumbs());
return!0},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations();null!=f&&f.set_useRotateThumbs(!f.get_useRotateThumbs());b.postRun(a,c);return null},null,!0);a["Annotations.EnableToolTips"]=lt.Documents.UI.DocumentViewerCommand._createState("Annotations.EnableToolTips",function(a,b){var c=a.get_annotations();if(null==c)return!1;c=c.get_automationManager();return null!=c?(b.set_state(c.get_enableToolTip()),!0):!1},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations();
null!=f&&(f=f.get_automationManager(),null!=f&&f.set_enableToolTip(!f.get_enableToolTip()));b.postRun(a,c);return null},null,!0);a["Annotations.RenderOnThumbnails"]=lt.Documents.UI.DocumentViewerCommand._createState("Annotations.RenderOnThumbnails",function(a,b){var c=a.get_annotations();if(null==c)return!1;b.set_state(c.get_renderOnThumbnails());return!0},function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_annotations();null!=f&&f.set_renderOnThumbnails(!f.get_renderOnThumbnails());b.postRun(a,
c);return null},null,!0)};lt.Documents.UI._commandHelper=function(){};lt.Documents.UI._commandHelper.initCommands=function(a){lt.Documents.UI._textCommands.add(a);lt.Documents.UI._viewCommands.add(a);lt.Documents.UI._pageCommands.add(a);lt.Documents.UI._layoutCommands.add(a);lt.Documents.UI._interactiveCommands.add(a);lt.Documents.UI._annotationsCommands.add(a)};lt.Documents.UI._commandHelper.getDoubleParamater=function(a,b){return null==a?b:a};lt.Documents.UI._commandHelper.getIntParamater=function(a,
b){return null==a?b:a};lt.Documents.UI._commandHelper.getPointParameter=function(a,b){return null==a?b:a};lt.Documents.UI._interactiveCommands=function(){};lt.Documents.UI._interactiveCommands.add=function(a){var b=function(a,b){return!Type.safeCast(b.get_tag(),lt.Controls.ImageViewerInteractiveMode).get_isEnabled()&&null!=a.get_view()},c=function(a,b,c){if(!b.preRun(a,c))return null;var d=Type.safeCast(b.get_tag(),lt.Controls.ImageViewerInteractiveMode),e=a.get_view().get_imageViewer();e.get_interactiveModes().beginUpdate();
for(var k=ss.IEnumerator.getEnumerator(e.get_interactiveModes());k.moveNext();){var l=k.current;switch(l.get_id()){case lt.Controls.ImageViewerInteractiveMode.autoPanModeId:var n=a.get_commands().getCommand("Interactive.AutoPan");l.set_isEnabled(null!=b?n.get_state():!1);break;case 100:case 101:switch(d.get_id()){case lt.Controls.ImageViewerInteractiveMode.magnifyGlassModeId:l.set_isEnabled(!1);break;default:l.set_isEnabled(!0)}break;default:l.set_isEnabled(l===d)}}e.get_interactiveModes().endUpdate();
null!=a.get_annotations()&&a.get_annotations()._ensureSelectObject();b.postRun(a,c);return null},d=new lt.Controls.ImageViewerPanZoomInteractiveMode;d.set_isKeyboardEnabled(!0);a["Interactive.PanZoom"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.PanZoom",b,c,d);d=new lt.Controls.ImageViewerPanZoomInteractiveMode;d.set_enableZoom(!1);d.set_enablePinchZoom(!1);d.set_doubleTapSizeMode(lt.Controls.ControlSizeMode.none);a["Interactive.Pan"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.Pan",
b,c,d);d=new lt.Controls.ImageViewerPanZoomInteractiveMode;d.set_enablePan(!1);d.set_zoomKeyModifier(lt.Controls.Keys.none);d.set_enableZoom(!0);d.set_enablePinchZoom(!0);d.set_doubleTapSizeMode(lt.Controls.ControlSizeMode.none);a["Interactive.Zoom"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.Zoom",b,c,d);var e=new lt.Controls.ImageViewerZoomToInteractiveMode;e.add_workCompleted(function(){var a=Type.safeCast(e.get_imageViewer().get_tag(),lt.Documents.UI.DocumentViewer);null!=a&&a.get_commands().run("Interactive.PanZoom",
null)});a["Interactive.ZoomTo"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.ZoomTo",b,c,e);d=new lt.Controls.ImageViewerMagnifyGlassInteractiveMode;a["Interactive.MagnifyGlass"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.MagnifyGlass",b,c,d);d=new lt.Controls.ImageViewerRubberBandInteractiveMode;a["Interactive.RubberBand"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.RubberBand",b,c,d);d=new lt.Documents.UI.DocumentViewerSelectTextInteractiveMode;a["Interactive.SelectText"]=
lt.Documents.UI.DocumentViewerCommand._create("Interactive.SelectText",b,c,d);a["Interactive.AutoPan"]=lt.Documents.UI.DocumentViewerCommand._createState("Interactive.AutoPan",function(a,b){var c=null;null!=a.get_view().get_imageViewer()&&(c=a.get_view().get_imageViewer().get_interactiveModes().findById(lt.Controls.ImageViewerInteractiveMode.autoPanModeId));return null!=c?(b.set_state(c.get_isEnabled()),!0):!1},function(a,b,c){if(!b.preRun(a,c))return null;var d=null;null!=a.get_view().get_imageViewer()&&
(d=a.get_view().get_imageViewer().get_interactiveModes().findById(lt.Controls.ImageViewerInteractiveMode.autoPanModeId));null!=d&&d.set_isEnabled(!d.get_isEnabled());b.postRun(a,c);return null},null,!0)};lt.Documents.UI._layoutCommands=function(){};lt.Documents.UI._layoutCommands.add=function(a){var b=function(a,b){return null==a.get_view()?!1:a.get_view().get_imageViewer().get_viewLayout()!==b.get_tag()},c=function(a,b,c){if(!b.preRun(a,c))return null;var d=a.get_view().get_imageViewer();d.set_viewLayout(Type.safeCast(b.get_tag(),
lt.Controls.ImageViewerViewLayout));null!=d.get_activeItem()&&d.gotoItem(d.get_activeItem());b.postRun(a,c);a.get_commands().run("View.FitPage",null);return null},d=new lt.Controls.ImageViewerSingleViewLayout,e=new lt.Controls.ImageViewerVerticalViewLayout;e.set_columns(1);var g=new lt.Controls.ImageViewerVerticalViewLayout;g.set_columns(2);var f=new lt.Controls.ImageViewerHorizontalViewLayout;f.set_rows(1);a["Layout.Single"]=lt.Documents.UI.DocumentViewerCommand._create("Layout.Single",b,c,d);a["Layout.Vertical"]=
lt.Documents.UI.DocumentViewerCommand._create("Layout.Vertical",b,c,e);a["Layout.Double"]=lt.Documents.UI.DocumentViewerCommand._create("Layout.Double",b,c,g);a["Layout.Horizontal"]=lt.Documents.UI.DocumentViewerCommand._create("Layout.Horizontal",b,c,f)};lt.Documents.UI._pageCommands=function(){};lt.Documents.UI._pageCommands._getPageNumber=function(a,b){if(!a.get_hasDocument())return 0;switch(b){case 0:return 1;case 2:return a.get_currentPageNumber()-1;case 3:return a.get_currentPageNumber()+1;
case 1:return a.get_pageCount();default:return 1}};lt.Documents.UI._pageCommands.add=function(a){a["Page.GoTo"]=lt.Documents.UI.DocumentViewerCommand._create("Page.GoTo",function(a){var b=null;null!=a.get_view()?b=a.get_view().get_imageViewer():null!=a.get_thumbnails()&&(b=a.get_thumbnails().get_imageViewer());return null==b?!1:1<b.get_items().get_count()},function(a,b,c){if(!b.preRun(a,c))return null;var f=lt.Documents.UI._commandHelper.getIntParamater(c,1);a.gotoPage(f);b.postRun(a,c);return null},
null);var b=function(a,b){var c=a.get_view().get_imageViewer(),f=0<c.get_items().get_count();f&&(f=lt.Documents.UI._pageCommands._getPageNumber(a,b.get_tag()),f=0<f&&f<=c.get_items().get_count()&&f!==a.get_currentPageNumber());return f},c=function(a,b,c){if(!b.preRun(a,c))return null;var f=lt.Documents.UI._pageCommands._getPageNumber(a,b.get_tag());a.gotoPage(f);b.postRun(a,c);return null};a["Page.First"]=lt.Documents.UI.DocumentViewerCommand._create("Page.First",b,c,0);a["Page.Previous"]=lt.Documents.UI.DocumentViewerCommand._create("Page.Previous",
b,c,2);a["Page.Next"]=lt.Documents.UI.DocumentViewerCommand._create("Page.Next",b,c,3);a["Page.Last"]=lt.Documents.UI.DocumentViewerCommand._create("Page.Last",b,c,1)};lt.Documents.UI._textCommands=function(){};lt.Documents.UI._textCommands.add=function(a){a["Text.Copy"]=lt.Documents.UI.DocumentViewerCommand._create("Text.Copy",function(a,b,e){if(!a.get_hasDocument()||!a.get_pageCount())return!1;b=lt.Documents.UI._commandHelper.getIntParamater(e,0);return a.get_text().hasSelectedText(b)},function(a,
b,e){if(!b.preRun(a,e))return null;var g=lt.Documents.UI._commandHelper.getIntParamater(e,0);a.get_text().copy(g);b.postRun(a,e);return null},null);a["Text.SelectAll"]=lt.Documents.UI.DocumentViewerCommand._createSlow("Text.SelectAll",function(a){return a.get_hasDocument()&&0<a.get_pageCount()},function(a,b,e){if(!b.preRun(a,e))return null;var g=lt.Documents.UI._commandHelper.getIntParamater(e,0);a.get_text().selectAll(g);b.postRun(a,e);return null},function(a,b,e){if(!a.get_text().get_autoGetText())return!1;
b=lt.Documents.UI._commandHelper.getIntParamater(e,0);return!a.get_text().hasDocumentPageText(b)},null);a["Text.ClearSelection"]=lt.Documents.UI.DocumentViewerCommand._create("Text.ClearSelection",function(a,b,e){b=lt.Documents.UI._commandHelper.getIntParamater(e,0);return a.get_text().hasSelectedText(b)},function(a,b,e){if(!b.preRun(a,e))return null;var g=lt.Documents.UI._commandHelper.getIntParamater(e,0);a.get_text().clearSelection(g);b.postRun(a,e);return null},null);a["Text.Export"]=lt.Documents.UI.DocumentViewerCommand._createSlow("Text.Export",
function(a){return a.get_hasDocument()&&0<a.get_pageCount()},function(a,b,e){if(!b.preRun(a,e))return null;var g=lt.Documents.UI._commandHelper.getIntParamater(e,0),g=a.get_text().exportText(g);b.postRun(a,e);return g},function(a,b,e){b=lt.Documents.UI._commandHelper.getIntParamater(e,0);return!a.get_text().hasDocumentPageText(b)},null);var b=function(a,b,e){if(b=!a.get_text().hasDocumentPageText(0)){lt.Documents.UI._commandHelper.getIntParamater(e,0);var g=a.get_text().get_lastFindText();null!=g&&
(e=null!=g.get_beginPosition()?g.get_beginPosition().get_pageNumber():0,g=null!=g.get_endPosition()?g.get_endPosition().get_pageNumber():a.get_pageCount(),e===g&&a.get_text().hasDocumentPageText(e)&&(b=!1))}return b};a["Text.FindNext"]=lt.Documents.UI.DocumentViewerCommand._createSlow("Text.FindNext",function(a){return a.get_hasDocument()&&null!=a.get_text().get_lastFindText()},function(a,b,e){if(!b.preRun(a,e))return null;a=a.get_text();e=a.get_lastFindText();if(!lt.Documents.UI.DocumentViewerTextPosition.isInOrder(e.get_beginPosition(),
e.get_endPosition())){var g=e.get_beginPosition();e.set_beginPosition(e.get_endPosition());e.set_endPosition(g)}a.clearRenderedFoundText();e.data=b;a.find(e,null);return null},b,null);a["Text.FindPrevious"]=lt.Documents.UI.DocumentViewerCommand._createSlow("Text.FindPrevious",function(a){return a.get_hasDocument()&&null!=a.get_text().get_lastFindText()},function(a,b){var e=a.get_text(),g=e.get_lastFindText();if(lt.Documents.UI.DocumentViewerTextPosition.isInOrder(g.get_beginPosition(),g.get_endPosition())){var f=
g.get_beginPosition();g.set_beginPosition(g.get_endPosition());g.set_endPosition(f)}e.clearRenderedFoundText();g.data=b;e.find(g,null);return null},b,null);a["Text.Get"]=lt.Documents.UI.DocumentViewerCommand._create("Text.Get",function(a,b,e){if(!a.get_hasDocument()||!a.get_pageCount())return!1;b=lt.Documents.UI._commandHelper.getIntParamater(e,0);return a.get_hasDocument()&&!a.get_text().hasDocumentPageText(b)},function(a,b,e){if(!b.preRun(a,e))return null;var g=lt.Documents.UI._commandHelper.getIntParamater(e,
0);g?a.get_text()._doGetDocumentPageText(g,!0,null,null):a.get_text().getAllDocumentPageText();b.postRun(a,e);return null},null)};lt.Documents.UI._viewCommands=function(){};lt.Documents.UI._viewCommands._addZoom=function(a){var b=function(a,b){var c=a.get_view();if(null==c)return!1;var f=b.get_tag();return f?1===f?c.get_imageViewer().get_scaleFactor()*c.get_zoomRatio()<c.get_imageViewer().get_maximumScaleFactor():!1:c.get_imageViewer().get_scaleFactor()/c.get_zoomRatio()<c.get_imageViewer().get_maximumScaleFactor()},
c=function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_view(),h=f.get_imageViewer(),i=h.get_scaleFactor(),j=b.get_tag();j?1===j&&(i*=f.get_zoomRatio()):i/=f.get_zoomRatio();h.zoom(lt.Controls.ControlSizeMode.none,i,h.get_defaultZoomOrigin());b.postRun(a,c);return null};a["View.ZoomOut"]=lt.Documents.UI.DocumentViewerCommand._create("View.ZoomOut",b,c,0);a["View.ZoomIn"]=lt.Documents.UI.DocumentViewerCommand._create("View.ZoomIn",b,c,1);a["View.ZoomPercentage"]=lt.Documents.UI.DocumentViewerCommand._create("View.ZoomPercentage",
function(a,b,c){if(null==a.get_view())return!1;a=lt.Documents.UI._commandHelper.getDoubleParamater(c,0);return lt.LeadDoubleTools.isZero(a)?!1:!0},function(a,b,c){if(!b.preRun(a,c))return null;var f=lt.Documents.UI._commandHelper.getDoubleParamater(c,0);if(lt.LeadDoubleTools.isZero(f))return null;var h=a.get_view().get_imageViewer();h.zoom(lt.Controls.ControlSizeMode.none,f/100,h.get_defaultZoomOrigin());b.postRun(a,c);return null},1);b=function(a,b){if(null==a.get_view())return!1;var c=a.get_view().get_imageViewer(),
f=b.get_tag();return f===lt.Controls.ControlSizeMode.actualSize?0<c.get_items().get_count()?1!==c.get_scaleFactor():c.get_sizeMode()!==lt.Controls.ControlSizeMode.none&&c.get_sizeMode()!==lt.Controls.ControlSizeMode.actualSize:c.get_sizeMode()!==f};c=function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_view().get_imageViewer(),h=b.get_tag();f.zoom(h,1,f.get_defaultZoomOrigin());b.postRun(a,c);return null};a["View.FitWidth"]=lt.Documents.UI.DocumentViewerCommand._create("View.FitWidth",b,c,lt.Controls.ControlSizeMode.fitWidth);
a["View.FitPage"]=lt.Documents.UI.DocumentViewerCommand._create("View.FitPage",b,c,lt.Controls.ControlSizeMode.fitHeight);a["View.ActualSize"]=lt.Documents.UI.DocumentViewerCommand._create("View.ActualSize",b,c,lt.Controls.ControlSizeMode.actualSize)};lt.Documents.UI._viewCommands._addRotate=function(a){var b=function(a){return null==a.get_view()?!1:!0},c=function(a,b,c){if(!b.preRun(a,c))return null;var f=a.get_view().get_imageViewer(),h=b.get_tag();f.disableTransitions();f.set_rotateAngle(f.get_rotateAngle()+
h);f.enableTransitions();f=a.get_thumbnails();null!=f&&(f.get_imageViewer().disableTransitions(),f.get_imageViewer().set_rotateAngle(f.get_imageViewer().get_rotateAngle()+h),f.get_imageViewer().enableTransitions());a.gotoPage(a.get_currentPageNumber());b.postRun(a,c);return null};a["View.RotateClockwise"]=lt.Documents.UI.DocumentViewerCommand._create("View.RotateClockwise",b,c,90);a["View.RotateCounterClockwise"]=lt.Documents.UI.DocumentViewerCommand._create("View.RotateCounterClockwise",b,c,-90)};
lt.Documents.UI._viewCommands._addMisc=function(a){a["View.ItemType"]=lt.Documents.UI.DocumentViewerCommand._create("View.ItemType",function(a,c,d){return null==a.get_view()?!1:a.get_view().get_itemType()!==d},function(a,c,d){if(!c.preRun(a,d))return null;a.get_view().set_preferredItemType(d);c.postRun(a,d);return null},null)};lt.Documents.UI._viewCommands.add=function(a){lt.Documents.UI._viewCommands._addRotate(a);lt.Documents.UI._viewCommands._addZoom(a);lt.Documents.UI._viewCommands._addMisc(a)};
lt.Documents.UI.FindTextState=function(a){this.startLocation=0;this.pageEndHardLimitCharIndex=this.currentPageEndCharIndex=this.currentPageBeginCharIndex=-1;this.firstSearchResults=[];this.secondSearchResults=[];this.isAsync=a};lt.Documents.UI.FindTextState.prototype={isAsync:!1,resultsHandler:null,options:null,isFindNext:!0,totalSearchBegin:null,totalSearchEnd:null,isDoingSecondSearch:!1,firstSearchBegin:null,firstSearchEnd:null,secondSearchBegin:null,secondSearchEnd:null,currentPageNumber:0,results:null};
lt.Documents.UI.FindTextStateManager=function(a){this._text=a};lt.Documents.UI.FindTextStateManager._isMatch=function(a,b,c){return a===(c?b:b.toLowerCase())};lt.Documents.UI.FindTextStateManager._isSpace=function(a){return" "===a};lt.Documents.UI.FindTextStateManager._backtrackUseHiddenSpaceNext=function(a,b,c,d){var e=null,g=-1;if(b&&0<a)e=c,g=a-1;else if(!b&&a<c.characters.length-1)e=c,g=a+1;else{if(null==d)return!1;e=d;g=b?d.characters.length-1:0}return lt.Documents.UI.FindTextStateManager._useHiddenSpaceNext(e,
g)};lt.Documents.UI.FindTextStateManager._useHiddenSpaceNext=function(a,b){if(0>b)return!1;var c=a.characters[b];if(c.isEndOfLine)switch(c.code){case "-":break;default:return!0}return!1};lt.Documents.UI.FindTextStateManager.prototype={_text:null,dispose:function(){this._text=null;this.clearLast();this.clearRendered()},_lastFindText:null,get_lastFindText:function(){return this._lastFindText},_lastResultsDictionary:null,get_lastResultsDictionary:function(){return this._lastResultsDictionary},clearLast:function(){this._lastFindText=
null},clearRendered:function(){this._lastResultsDictionary=null},_findTextOperationUpdate:function(a,b,c,d,e){a=new lt.Documents.UI.DocumentViewerOperationEventArgs(26,a,null!=b?b.clone():b,c,d,e);this._text.get_documentViewer().onOperation(a);return a.get_abort()},findSynchronous:function(a){return this._beginFind(a,null,!1).results},findAsynchronous:function(a,b){if(null==a)throw new lt.ArgumentNullException("findText");this._beginFind(a,b,!0)},_beginFind:function(a,b,c){c=new lt.Documents.UI.FindTextState(c);
c.options=a.clone();c.resultsHandler=b;if(this._findTextOperationUpdate(null,c.options,null,0,!1))return c;b=this._text.get_documentViewer();if(null==b||!b.get_hasDocument())return this._endFind(c,null),c;var d=b.get_document(),e=d.pages.get_count();if(!e||String.isNullOrEmpty(a.get_text()))return this._endFind(c,null),c;b=lt.Documents.UI.DocumentViewerTextPosition.createBeginOfPage(1);null!=a.get_beginPosition()&&(b=a.get_beginPosition(),-1>b.get_characterIndex()&&b.set_characterIndex(-1));e=lt.Documents.UI.DocumentViewerTextPosition.createEndOfPage(e);
null!=a.get_endPosition()&&(e=a.get_endPosition(),-1>e.get_characterIndex()&&e.set_characterIndex(-1));this._text.get_documentViewer()._checkPageNumber(b.get_pageNumber(),!1,"beginPosition.pageNumber");this._text.get_documentViewer()._checkPageNumber(e.get_pageNumber(),!1,"endPosition.pageNumber");var g=lt.Documents.UI.DocumentViewerTextPosition.isInOrder(b,e);c.isFindNext=g;c.totalSearchBegin=b;c.totalSearchEnd=e;c.isDoingSecondSearch=!1;if(!a.get_start()||(2===a.get_start()||1===a.get_start())&&
!this._text.get_hasAnySelectedText()||3===a.get_start()&&null==a.get_manualStartPosition())c.startLocation=0,c.firstSearchBegin=b,c.firstSearchEnd=e;else if(2===a.get_start()||1===a.get_start()||3===a.get_start()){c.startLocation=a.get_start();var f=this._text.get_selectedTextBegin(),h=this._text.get_selectedTextEnd(),i=null,j=null;if(1===c.startLocation||2===c.startLocation){if(!this._text.hasDocumentPageText(f.get_pageNumber())||!this._text.hasDocumentPageText(h.get_pageNumber()))return this._endFind(c,
new lt.InvalidOperationException("Cannot use selection range for pages without text")),c;1===c.startLocation?(i=g?f:h,d=this._text._getPageText(d,i.get_pageNumber()),f=!i.get_characterIndex(),h=-1===i.get_characterIndex()||i.get_characterIndex()===d.characters.length-1,j=g&&f?lt.Documents.UI.DocumentViewerTextPosition.create(i.get_pageNumber()-1,-1):!g&&h?lt.Documents.UI.DocumentViewerTextPosition.create(i.get_pageNumber()+1,0):lt.Documents.UI.DocumentViewerTextPosition.create(i.get_pageNumber(),
g?i.get_characterIndex()-1:i.get_characterIndex()+1)):2===c.startLocation&&(j=g?h:f,d=this._text._getPageText(d,j.get_pageNumber()),f=!j.get_characterIndex(),h=-1===j.get_characterIndex()||j.get_characterIndex()===d.characters.length-1,i=g&&h?lt.Documents.UI.DocumentViewerTextPosition.create(j.get_pageNumber()+1,0):!g&&f?lt.Documents.UI.DocumentViewerTextPosition.create(j.get_pageNumber()-1,-1):lt.Documents.UI.DocumentViewerTextPosition.create(j.get_pageNumber(),g?j.get_characterIndex()+1:j.get_characterIndex()-
1))}else{i=a.get_manualStartPosition();f=!i.get_characterIndex();h=-1===i.get_characterIndex();if(!f&&!h){d=this._text._getPageText(d,i.get_pageNumber());if(null==d)return this._endFind(c,new lt.InvalidOperationException("Invalid index for manual start position")),c;h=i.get_characterIndex()===d.characters.length-1}j=g&&f?lt.Documents.UI.DocumentViewerTextPosition.create(i.get_pageNumber()-1,-1):!g&&h?lt.Documents.UI.DocumentViewerTextPosition.create(i.get_pageNumber()+1,0):lt.Documents.UI.DocumentViewerTextPosition.create(i.get_pageNumber(),
g?i.get_characterIndex()-1:i.get_characterIndex()+1)}d=g?b:e;f=g?e:b;g?i.get_pageNumber()<d.get_pageNumber()||j.get_pageNumber()<d.get_pageNumber()?(c.firstSearchBegin=b,c.firstSearchEnd=e):j.get_pageNumber()>f.get_pageNumber()||i.get_pageNumber()>f.get_pageNumber()?(c.secondSearchBegin=b,c.secondSearchEnd=e):(c.firstSearchBegin=i,c.firstSearchEnd=e,c.secondSearchBegin=b,c.secondSearchEnd=j):i.get_pageNumber()>f.get_pageNumber()||j.get_pageNumber()>f.get_pageNumber()?(c.firstSearchBegin=b,c.firstSearchEnd=
e):j.get_pageNumber()<d.get_pageNumber()||i.get_pageNumber()<d.get_pageNumber()?(c.secondSearchBegin=b,c.secondSearchEnd=e):(c.firstSearchBegin=i,c.firstSearchEnd=e,c.secondSearchBegin=b,c.secondSearchEnd=j);!a.get_findAll()&&!a.get_loop()&&(c.secondSearchBegin=null,c.secondSearchEnd=null)}if(null==c.firstSearchBegin&&null==c.secondSearchBegin)return this._findTextOperationUpdate(null,c.options,null,0,!0),c;null==c.firstSearchBegin&&(c.isDoingSecondSearch=!0);c.currentPageNumber=!c.isDoingSecondSearch?
c.firstSearchBegin.get_pageNumber():c.secondSearchBegin.get_pageNumber();this._beginFindPage(c);return c},_beginFindPage:function(a){var b=a.currentPageNumber;if(!this._findTextOperationUpdate(null,a.options,null,b,!1)){var c=a.isFindNext,d=a.isDoingSecondSearch,e=a.totalSearchBegin,g=a.totalSearchEnd,f=!d?a.firstSearchBegin:a.secondSearchBegin,h=!d?a.firstSearchEnd:a.secondSearchEnd,d=c?0:-1,i=c?-1:0;b===f.get_pageNumber()&&(d=f.get_characterIndex());b===h.get_pageNumber()&&(i=h.get_characterIndex());
var f=!1,h=-1,j=!1,k=-1;if(c&&b>e.get_pageNumber()||!c&&b<e.get_pageNumber())f=!0,h=c?b-1:b+1;a.pageEndHardLimitCharIndex=c?-1:0;c&&b<g.get_pageNumber()||!c&&b>g.get_pageNumber()?(j=!0,k=c?b+1:b-1,k===g.get_pageNumber()&&(a.pageEndHardLimitCharIndex=g.get_characterIndex())):a.pageEndHardLimitCharIndex=g.get_characterIndex();a.currentPageBeginCharIndex=d;a.currentPageEndCharIndex=i;var c=this._text.get_autoGetText(),l=null,n=null,m=null,e=!a.isAsync;if(a.isAsync){var o=0,p=ss.Delegate.create(this,
function(){o++;o===3&&this._doFindPage(a,l,n,m)});this._text.hasDocumentPageText(b)||!c?(l=this._text._getPageText(this._text.get_documentViewer().get_document(),b),o++):this._text._doGetDocumentPageText(b,c,null,function(a){l=a;p()});f?this._text.hasDocumentPageText(h)||!c?(n=this._text._getPageText(this._text.get_documentViewer().get_document(),h),o++):this._text._doGetDocumentPageText(h,c,null,function(a){n=a;p()}):o++;j?this._text.hasDocumentPageText(k)||!c?(m=this._text._getPageText(this._text.get_documentViewer().get_document(),
k),o++):this._text._doGetDocumentPageText(k,c,null,function(a){m=a;p()}):o++;if(3===o)e=!0;else return}else l=this._text._doGetDocumentPageText(b,c,null,null),f&&(n=this._text._doGetDocumentPageText(h,c,null,null)),j&&(m=this._text._doGetDocumentPageText(k,c,null,null));e&&this._doFindPage(a,l,n,m)}},_doFindPage:function(a,b,c,d){var e=a.options,g=a.currentPageNumber,b=this._searchText(g,a.currentPageBeginCharIndex,a.currentPageEndCharIndex,a.isFindNext,e,b,c,d,a.pageEndHardLimitCharIndex);if(null!=
b){c=!a.isDoingSecondSearch?a.firstSearchResults:a.secondSearchResults;for(d=0;d<b.length;d++)c.add(b[d])}this._findTextOperationUpdate(null,e,b,g,!0);if(!a.options.get_findAll()&&(0<a.firstSearchResults.length||0<a.secondSearchResults.length))this._endFind(a,null);else if(a.isDoingSecondSearch&&a.currentPageNumber===a.secondSearchEnd.get_pageNumber())this._endFind(a,null);else{if(!a.isDoingSecondSearch&&a.currentPageNumber===a.firstSearchEnd.get_pageNumber()){if(null==a.secondSearchBegin||null==
a.secondSearchEnd){this._endFind(a,null);return}a.isDoingSecondSearch=!0;a.currentPageNumber=a.secondSearchBegin.get_pageNumber()}else a.isFindNext?a.currentPageNumber++:a.currentPageNumber--;this._beginFindPage(a)}},_endFind:function(a,b){var c=a.options;if(null==b&&(0<a.firstSearchResults.length||0<a.secondSearchResults.length)){a.results=[];for(var d=0;d<a.firstSearchResults.length;d++)a.results.add(a.firstSearchResults[d]);for(d=0;d<a.secondSearchResults.length;d++)a.results.add(a.secondSearchResults[d])}d=
a.results;if(null==b){this._lastFindText=c.clone();if(c.get_renderResults()&&null!=d){null==this._lastResultsDictionary&&(this._lastResultsDictionary={});for(var e=ss.IEnumerator.getEnumerator(d);e.moveNext();){var g=e.current.clone();if(null!=g.get_textItems())for(g=ss.IEnumerator.getEnumerator(g.get_textItems());g.moveNext();){var f=g.current,h=f.get_pageNumber();Object.keyExists(this._lastResultsDictionary,h)||(this._lastResultsDictionary[h]=[]);this._lastResultsDictionary[h].add(f)}}}this._processFindResults(a)}this._findTextOperationUpdate(b,
c,d,0,!0);null!=a.resultsHandler&&a.resultsHandler(d)},_processFindResults:function(a){var b=a.options,c=a.results,d=a.isFindNext;if(!(null==c||!c.length||!b.get_renderResults()&&!b.get_selectFirstResult()||null==this._text.get_documentViewer().get_view())){var e=this._text.get_documentViewer().get_view().get_imageViewer(),c=ss.Delegate.create(this,function(){e.beginUpdate();try{if(b.get_renderResults(),b.get_selectFirstResult()){var c=0<a.firstSearchResults.length?a.firstSearchResults[0]:null,f=
!1;null!=c&&null!=c.get_textItems()&&0<c.get_textItems().length?f=!0:b.get_loop()&&(c=a.secondSearchResults[0],null!=c&&null!=c.get_textItems()&&0<c.get_textItems().length&&(f=!0));if(f){this._text.clearSelection(0);for(var f=0,f=d?c.get_firstPosition().get_pageNumber():c.get_lastPosition().get_pageNumber(),h={},i=ss.IEnumerator.getEnumerator(c.get_textItems());i.moveNext();){var j=i.current,k=j.get_pageNumber();Object.keyExists(h,k)||(h[k]=[]);h[k].add(j)}for(var l in h){var c=l,n=h[l];null!=n&&
0<n.length&&this._text.setSelectedTextItems(parseInt(c.toString()),n)}for(var m=e.get_items().get_item(f-1),o=lt.LeadRectD.get_empty(),p=ss.IEnumerator.getEnumerator(h[f]);p.moveNext();)j=p.current,j.get_pageNumber()===f&&(o=lt.LeadRectD.unionRects(o,j.get_bounds()));e.set_activeItem(m);e.isItemVisible(m,lt.Controls.ImageViewerItemPart.item)||e.gotoItem(m);o=lt.Controls.PrimitivesHelper.toLeadRectD(this._text.get_documentViewer().get_document().rectToPixels(o));o=e.convertRect(m,lt.Controls.ImageViewerCoordinateType.image,
lt.Controls.ImageViewerCoordinateType.control,o);e.ensureBoundsVisible(o)}}}finally{e.endUpdate()}});lt.Documents.UI._invoker.beginInvoke2(e,c,null,null)}},_searchText:function(a,b,c,d,e,g,f,h,i){if(null==g||null==g.text||null==g.textMap)return null;var j=e.get_text();if(String.isNullOrEmpty(j))return null;e.get_matchCase()||(j=j.toLowerCase());var k=j.length,l=j[d?0:k-1].toString(),n=lt.Documents.UI.FindTextStateManager._isSpace(l);if(n){if(1===k)return null;for(var m=!1,o=1;o<k;o++)if(!lt.Documents.UI.FindTextStateManager._isSpace(j[o].toString())){m=
!0;break}if(!m)return null}var m=g.characters,p=g.text,q=p.length-1,x=-1,A=-1,y=null==h,D=-1,b=Math.min(Math.max(-1,b),m.length-1),c=Math.min(Math.max(-1,c),m.length-1),i=Math.min(Math.max(-1,i),m.length-1),z=-1!==b,w=-1!==c,r=-1!==i;z||(x=q);w||(A=q);r||(D=y?q:h.text.length-1);var t=r&&y;if(z||w||t)for(var H=g.textMap.length,o=0;o<H;o++){var u=g.textMap[o];z&&u===b&&(z=!1,x=o);w&&u===c&&(w=!1,A=o);t&&u===i&&(t=!1,D=o);if(!z&&!w&&!t)break}if(r&&!y){b=g.textMap.length;for(o=0;o<b;o++)if(u=h.textMap[o],
u===i){D=o;break}}i=[];o=[];b=!1;c=n;r=x;for(x=0;5E4>x;){x++;if(d&&r>A)break;else if(!d&&r<A)break;var u=p[r].toString(),v=g.textMap[r];if(!(0>v)||lt.Documents.UI.FindTextStateManager._isSpace(u)){c&&(c=!1,b=lt.Documents.UI.FindTextStateManager._backtrackUseHiddenSpaceNext(v,d,g,f));var s=b,b=lt.Documents.UI.FindTextStateManager._useHiddenSpaceNext(g,v),E=lt.Documents.UI.FindTextStateManager._isSpace(u);if(n&&(s||E)||!E&&lt.Documents.UI.FindTextStateManager._isMatch(l,m[v].code,e.get_matchCase())){H=
!1;t=v;z=u=-1;w=!1;1===k&&(H=!0,u=v,w=!1,z=r);if(1<k){v=0;n&&s&&!E&&(v=1);for(var s=-1,E=!1,K=b,F=-1,B=1;B<k;B++){var G=g;if(d)if(s=r+B-v,F=B,s>q)if(null!=h){if(G=h,s=s-1-q,E=!0,!y&&s>D)break}else break;else{if(y&&s>D)break}else if(s=r-B-v,F=k-1-B,0>s)if(null!=h){if(G=h,s=h.text.length-1-B,E=!0,!y&&s<D)break}else break;else if(y&&s<D)break;var F=j[F].toString(),J=lt.Documents.UI.FindTextStateManager._isSpace(F),C=G.text[s].toString(),I=G.textMap[s];if(!(0>I)||lt.Documents.UI.FindTextStateManager._isSpace(C)){var L=
K,K=lt.Documents.UI.FindTextStateManager._useHiddenSpaceNext(G,I),C=lt.Documents.UI.FindTextStateManager._isSpace(C);-1===t&&!C&&(t=I);if(J&&(L||C)||!C&&lt.Documents.UI.FindTextStateManager._isMatch(F,G.characters[I].code,e.get_matchCase())){if(J&&L&&!C){v++;continue}!J&&!C&&(u=I,w=E,z=s)}else break;B===k-1&&(H=!0)}}}if(H){r=new lt.Documents.UI.DocumentViewerTextPosition;r.set_pageNumber(a);r.set_characterIndex(t);t=new lt.Documents.UI.DocumentViewerTextPosition;w?d?t.set_pageNumber(a+1):t.set_pageNumber(a-
1):t.set_pageNumber(a);t.set_characterIndex(u);d?(i.add(r),o.add(t)):(i.add(t),o.add(r));if(w||!e.get_findAll())break;r=z}}}d?r++:r--}d=i.length;if(!d)return null;f=[];for(j=0;j<d;j++){k=i[j];l=o[j];q=k.get_characterIndex();n=k.get_pageNumber()!==a;m=!n?g:h;A=l.get_characterIndex();p=l.get_pageNumber()!==a;y=!p?g:h;if(e.get_wholeWordsOnly()){if(0<q&&!m.characters[q-1].isEndOfWord)continue;if(!y.characters[A].isEndOfWord)continue}q=new lt.Documents.UI.DocumentViewerMultiLineTextItem;if(!n&&!p)q.set_textItems(this._text._selectPageText(a,
k.get_characterIndex(),l.get_characterIndex(),!1,1));else if(q.set_textItems(this._text._selectPageText(k.get_pageNumber(),k.get_characterIndex(),m.characters.length-1,!1,1)),k=this._text._selectPageText(l.get_pageNumber(),0,l.get_characterIndex(),!1,1),null!=k)for(k=ss.IEnumerator.getEnumerator(k);k.moveNext();)l=k.current,q.get_textItems().add(l);f.add(q)}return f}};Object.defineProperty(lt.Documents.UI.FindTextStateManager.prototype,"lastFindText",{get:lt.Documents.UI.FindTextStateManager.prototype.get_lastFindText,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.FindTextStateManager.prototype,"lastResultsDictionary",{get:lt.Documents.UI.FindTextStateManager.prototype.get_lastResultsDictionary,enumerable:!0,configurable:!0});lt.Documents.UI._thumbnailsGrid=function(){this._rects=[]};lt.Documents.UI._thumbnailsGrid.getGridIndexForPage=function(a,b){var c=-1;if(null!=a&&0<a.length)for(var d=0;d<a.length&&-1===c;d++)b>=a[d].get_firstPageNumber()&&b<=a[d].get_lastPageNumber()&&(c=d);return c};
lt.Documents.UI._thumbnailsGrid.getGridForPage=function(a,b){var c=null;if(null!=a&&0<a.length)for(var d=0;d<a.length&&null==c;d++)b>=a[d].get_firstPageNumber()&&b<=a[d].get_lastPageNumber()&&(c=a[d]);return c};lt.Documents.UI._thumbnailsGrid.getGridImageRectForPage=function(a,b){return a.get_rects()[b-a.get_firstPageNumber()]};lt.Documents.UI._thumbnailsGrid.deleteGrid=function(a){if(null!=a&&a.length)for(;0<a.length;)a[0].dispose(),a.removeAt(0)};lt.Documents.UI._thumbnailsGrid.prototype={_firstPageNumber:0,
get_firstPageNumber:function(){return this._firstPageNumber},set_firstPageNumber:function(a){return this._firstPageNumber=a},_lastPageNumber:0,get_lastPageNumber:function(){return this._lastPageNumber},set_lastPageNumber:function(a){return this._lastPageNumber=a},_rows:0,get_rows:function(){return this._rows},set_rows:function(a){return this._rows=a},_columns:0,get_columns:function(){return this._columns},set_columns:function(a){return this._columns=a},get_rects:function(){return this._rects},_image:null,
get_image:function(){return this._image},set_image:function(a){return this._image=a},_destroy:function(a){a&&(this._image=null)},dispose:function(){this._destroy(!0)}};lt.Documents.UI._thumbnailsWorker=function(a,b,c){lt.Documents.UI._thumbnailsWorker.initializeBase(this);this._useThumbnailsGrid$1=a;this._gridPixelSize$1=b;this._init$1(c)};lt.Documents.UI._thumbnailsWorker._getThumbnailSize=function(a,b){if(a.get_isEmpty()||!a.get_width()||!a.get_height())return lt.LeadSizeD.create(0,0);var c=parseInt(lt.Documents.Document.documentToPixels(96,
a.get_width())),d=parseInt(lt.Documents.Document.documentToPixels(96,a.get_height())),e=lt.LeadRectD.create(0,0,b.get_width(),b.get_height()),e=lt.Controls.ImageViewer.getDestinationRectangle(c,d,e,lt.Controls.ControlSizeMode.fit,lt.Controls.ControlAlignment.near,lt.Controls.ControlAlignment.near);return 1>e.get_width()||1>e.get_height()?lt.LeadSizeD.create(0,0):lt.LeadSizeD.create(e.get_width(),e.get_height())};lt.Documents.UI._thumbnailsWorker.prototype={destroy:function(a){a&&this.stop();lt.Documents.UI._thumbnailsWorker.callBaseMethod(this,
"destroy",[a])},_document$1:null,_useThumbnailsGrid$1:!1,get_useThumbnailsGrid:function(){return this._useThumbnailsGrid$1},_grids$1:null,get_grids:function(){return this._grids$1},set_grids:function(a){this._grids$1=null;return a},_gridPixelSize$1:0,_thumbSize$1:null,start:function(a){this._document$1=a;if(null!=this._document$1&&this._document$1.pages.get_count())if(this._useThumbnailsGrid$1){this._thumbSize$1=a.images.thumbnailPixelSize;var a=this._document$1.pages.get_count(),b=lt.Documents.UI._documentViewerHelper.parseInt(this._gridPixelSize$1*
this._gridPixelSize$1/(parseInt(this._thumbSize$1.get_width())*parseInt(this._thumbSize$1.get_height())));1>b&&(b=1);var c=parseInt(a/b);a%b&&c++;this._grids$1=[];var d=1,e=0;do{var e=Math.min(a,d+b-1),g=lt.Documents.UI._documentViewerHelper.parseInt(Math.max(1,0<this._gridPixelSize$1?this._gridPixelSize$1/parseInt(this._thumbSize$1.get_width()):a)),f=lt.Documents.UI._documentViewerHelper.parseInt(a/g);a%g&&f++;if(e>=d){var h=new lt.Documents.UI._thumbnailsGrid;h.set_firstPageNumber(d);h.set_lastPageNumber(e);
h.set_image(null);h.set_columns(g);for(var i=0,j=0;j<f&&d<=e;j++){for(var k=0;k<g&&d<=e;k++){var l=this._document$1.pages.get_item(d-1).size,l=lt.Documents.UI._thumbnailsWorker._getThumbnailSize(l,this._thumbSize$1),n=lt.LeadRectD.create(k*this._thumbSize$1.get_width(),j*this._thumbSize$1.get_height(),this._thumbSize$1.get_width(),this._thumbSize$1.get_height()),n=lt.Controls.ImageViewer.getDestinationRectangle(parseInt(l.get_width()),parseInt(l.get_height()),n,lt.Controls.ControlSizeMode.fit,lt.Controls.ControlAlignment.center,
lt.Controls.ControlAlignment.center);h.get_rects().add(n);d++}i++}h.set_columns(g);h.set_rows(i);this._grids$1.add(h);d=e+1}}while(e<a);this.startWork(c)}else this.startWork(this._document$1.pages.get_count())},stop:function(){this.stopWork();this._useThumbnailsGrid$1&&null!=this._grids$1&&(this.beginLockGrids(),lt.Documents.UI._thumbnailsGrid.deleteGrid(this._grids$1),this.endLockGrids(),this._grids$1=null);this._document$1=null},_init$1:function(a){this._useThumbnailsGrid$1?(this.set_maximumPostProcessingCount(1),
this.set_autoPostProcessCompleted(!0)):(this.set_maximumPostProcessingCount(a),this.set_autoPostProcessCompleted(!1))},beginLockGrids:function(){},endLockGrids:function(){},startWork:function(a){null!=this._imageLoader$1&&(this._imageLoader$1.dispose(),this._imageLoader$1=null);0<a&&this._useThumbnailsGrid$1&&(this._imageLoader$1=new lt.ImageLoader);lt.Documents.UI._thumbnailsWorker.callBaseMethod(this,"startWork",[a])},workCompleted:function(){this.get_isWorking()&&null!=this._imageLoader$1&&(this._imageLoader$1.dispose(),
this._imageLoader$1=null);lt.Documents.UI._thumbnailsWorker.callBaseMethod(this,"workCompleted")},_imageLoader$1:null,processItem:function(a){try{if(this.get_isCancelPending())return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,null,null);if(this._useThumbnailsGrid$1){var b=this._grids$1[a];this.beginLockGrids();var c=this._document$1.images.getThumbnailsGrid(b.get_firstPageNumber(),b.get_lastPageNumber(),this._gridPixelSize$1);if(null==c)return this.endLockGrids(),new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,
a,null,null,Error("Error getting thumbnails grid"));this._imageLoader$1.set_url(c);return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,this._imageLoader$1,null,null)}var d=this._document$1.pages.get_item(a).getThumbnailImage();return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,d,null,null)}catch(e){return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,null,e)}},completeIteration:function(a,b){if(this._useThumbnailsGrid$1){var c=a.get_data1();if(null==c||
this.get_isCancelPending())b(a);else{var d=null,e=null,g=null,d=ss.Delegate.create(this,function(b){try{var c=this._grids$1[a.get_itemIndex()],d;if(b.get_isHTMLImageElement())d=b.get_element();else throw new lt.InvalidOperationException("Thumbnails Grid requires an Image Element");var e=document.createElement("canvas");e.width=d.naturalWidth;e.height=d.naturalHeight;e.getContext("2d").drawImage(d,0,0);c.set_image(e)}catch(g){a.set_data1(null),a.set_error(g)}}),e=function(){a.set_data1(null);a.set_error(Error("Error loading image"))},
g=function(c){c.remove_done(d);c.remove_fail(e);c.remove_always(g);b(a)};c.add_done(d);c.add_fail(e);c.add_always(g);c.run()}}else b(a)}};lt.Documents.UI._itemsWorkerProcessedEventArgs=function(a,b,c,d,e){lt.Documents.UI._itemsWorkerProcessedEventArgs.initializeBase(this);this._itemsWorker$1=a;this._itemIndex$1=b;this._data1$1=c;this._data2$1=d;this._error$1=e};lt.Documents.UI._itemsWorkerProcessedEventArgs.prototype={_itemsWorker$1:null,get__itemsWorker:function(){return this._itemsWorker$1},_itemIndex$1:0,
get_itemIndex:function(){return this._itemIndex$1},_data1$1:null,get_data1:function(){return this._data1$1},set_data1:function(a){return this._data1$1=a},_data2$1:null,get_data2:function(){return this._data2$1},set_data2:function(a){return this._data2$1=a},_error$1:null,get_error:function(){return this._error$1},set_error:function(a){return this._error$1=a}};lt.Documents.UI._itemWorkerCompletedEventArgs=function(a){lt.Documents.UI._itemWorkerCompletedEventArgs.initializeBase(this);this._itemsWorker$1=
a};lt.Documents.UI._itemWorkerCompletedEventArgs.prototype={_itemsWorker$1:null,get__itemsWorker:function(){return this._itemsWorker$1}};lt.Documents.UI._itemsWorker=function(){};lt.Documents.UI._itemsWorker.prototype={dispose:function(){this.destroy(!0)},destroy:function(a){a&&this.stopWork()},_isBackgroundWorker:!1,get_isBackgroundWorker:function(){return this._isBackgroundWorker},set_isBackgroundWorker:function(a){return this._isBackgroundWorker=a},_visited:null,_visitedCount:0,_timeoutVar:0,_postProcessed:null,
_postProcessingCount:0,_maximumPostProcessingCount:0,get_maximumPostProcessingCount:function(){return this._maximumPostProcessingCount},set_maximumPostProcessingCount:function(a){return this._maximumPostProcessingCount=a},_autoPostProcessCompleted:!1,get_autoPostProcessCompleted:function(){return this._autoPostProcessCompleted},set_autoPostProcessCompleted:function(a){return this._autoPostProcessCompleted=a},_itemCount:0,get_itemCount:function(){return this._itemCount},_isWorking:!1,get_isWorking:function(){return this._isWorking},
_isCancelPending:!1,get_isCancelPending:function(){return this._isCancelPending},set_isCancelPending:function(a){return this._isCancelPending=a},_nextItemIndex:0,get_nextItemIndex:function(){return this._nextItemIndex},set_nextItemIndex:function(a){return this._nextItemIndex=a},startWork:function(a){this.stopWork();this._itemCount=a;this._visited=Array(this._itemCount);this._postProcessed=Array(this._itemCount);this._postProcessingCount=0;this.set_nextItemIndex(0);this._isWorking=!0;this._completedHandlerInvoked=
this._isCancelPending=!1;0<this._itemCount&&this._doWork(null)},stopWork:function(){this.get_isWorking()&&(this.set_isCancelPending(!0),this.workCompleted(),this._isWorking=!1)},workCompleted:function(){},add_preProcessItem:function(a){this.__preProcessItem=ss.Delegate.combine(this.__preProcessItem,a)},remove_preProcessItem:function(a){this.__preProcessItem=ss.Delegate.remove(this.__preProcessItem,a)},__preProcessItem_handler_get:function(){null==this.__preProcessItem_handler&&(this.__preProcessItem_handler=
ss.EventHandler.create(this,this.add_preProcessItem,this.remove_preProcessItem));return this.__preProcessItem_handler},__preProcessItem:null,__preProcessItem_handler:null,add_postProcessItem:function(a){this.__postProcessItem=ss.Delegate.combine(this.__postProcessItem,a)},remove_postProcessItem:function(a){this.__postProcessItem=ss.Delegate.remove(this.__postProcessItem,a)},__postProcessItem_handler_get:function(){null==this.__postProcessItem_handler&&(this.__postProcessItem_handler=ss.EventHandler.create(this,
this.add_postProcessItem,this.remove_postProcessItem));return this.__postProcessItem_handler},__postProcessItem:null,__postProcessItem_handler:null,add_completed:function(a){this.__completed=ss.Delegate.combine(this.__completed,a)},remove_completed:function(a){this.__completed=ss.Delegate.remove(this.__completed,a)},__completed_handler_get:function(){null==this.__completed_handler&&(this.__completed_handler=ss.EventHandler.create(this,this.add_completed,this.remove_completed));return this.__completed_handler},
__completed:null,__completed_handler:null,_getNextItemIndex:function(a){var b=this.get_nextItemIndex();for(1>b&&(b=0);b<a&&this._visited[b];)b++;if(b>=a)for(b=0;b<a&&this._visited[b];)b++;return b},_doWork:function(){this._visitedCount=0;this._timeoutVar=-1;this._timeoutVar=setTimeout(ss.Delegate.create(this,this._iterationHandler),0)},_completedHandlerInvoked:!1,_completedHandler:function(){this._completedHandlerInvoked||(this._completedHandlerInvoked=!0,this.workCompleted(),this._isWorking=!1,null!=
this.__completed&&this.__completed(this,new lt.Documents.UI._itemWorkerCompletedEventArgs(this)))},postProcessCompleted:function(a,b,c,d){var e=!1;d?e=this._postProcessed[a]=!0:c?(this._postProcessingCount--,this._postProcessed[a]||(e=this._postProcessed[a]=!0)):(this._postProcessingCount++,this._postProcessed[a]=!1,1<this._maximumPostProcessingCount&&this._postProcessingCount<this._maximumPostProcessingCount&&(e=this._postProcessed[a]=!0));if(e&&!b){if(this._visitedCount>=this._itemCount)return this._completedHandler(),
!0;this._timeoutVar=setTimeout(ss.Delegate.create(this,this._iterationHandler),0)}return e},postProcessCompleteAll:function(){-1!==this._timeoutVar&&(clearTimeout(this._timeoutVar),this._timeoutVar=-1)},completeIteration:function(a,b){b(a)},_doCompleteIteration:function(a){var b=ss.Delegate.create(this,function(b){this._autoPostProcessCompleted&&this.postProcessCompleted(a.get_itemIndex(),!1,!0,!1);this._visitedCount++;null!=this.__postProcessItem&&this.__postProcessItem(this,b)});this.completeIteration(a,
b)},_iterationHandler:function(){-1!==this._timeoutVar&&(clearTimeout(this._timeoutVar),this._timeoutVar=-1);if(this.get_isCancelPending())this._completedHandler();else{var a=this._getNextItemIndex(this._itemCount);if(a>=this._itemCount)this._completedHandler();else{this._visited[a]=!0;var b=null;null!=this.__preProcessItem&&(b=new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,null,null),this.__preProcessItem(this,b));b=this.processItem(a);this._doCompleteIteration(b)}}}};Object.defineProperty(lt.Documents.UI._itemsWorker.prototype,
"preProcessItem",{get:lt.Documents.UI._itemsWorker.prototype.__preProcessItem_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI._itemsWorker.prototype,"postProcessItem",{get:lt.Documents.UI._itemsWorker.prototype.__postProcessItem_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI._itemsWorker.prototype,"completed",{get:lt.Documents.UI._itemsWorker.prototype.__completed_handler_get,enumerable:!0,configurable:!0});lt.Documents.UI._pdfPageData=
function(){};lt.Documents.UI._pdfPageData.prototype={isForPDF:!1,pageProxy:null,cachePDFDocumentId:null,cachePDFOriginalPageNumber:0,pendingPageLoad:!1,viewData:null,thumbData:null,dispose:function(){this.cachePDFDocumentId=this.pageProxy=null;this.cachePDFOriginalPageNumber=0;null!=this.viewData&&(this.viewData.clean(!0),this.viewData=null);null!=this.thumbData&&(this.thumbData.clean(!0),this.thumbData=null)}};lt.Documents.UI._pdfRenderingHandler=function(a,b,c,d){this.pageData=[];this._document=
a;this._documentViewerOnError=d;this._documentOnError=ss.Delegate.create(this,function(a,b){this._documentViewerOnError(0,Error(String.format("PDF Rendering Document Error: '{0}'",a)),b)});this._viewPageOnError=ss.Delegate.create(this,function(a,b){this._documentViewerOnError(4,Error(String.format("PDF Rendering Page Error: '{0}'",a)),b)});this._thumbnailPageOnError=ss.Delegate.create(this,function(a,b){this._documentViewerOnError(2,Error(String.format("PDF Rendering Thumbnail Error: '{0}'",a)),b)});
this.addPages(lt.Documents.UI._documentViewerHelper.getAsList(a.pages),0);null!=b&&(this._view=new lt.Documents.UI._pdfViewImageViewer(this,b));null!=c&&(this._thumbs=new lt.Documents.UI._pdfThumbnailsImageViewer(this,c))};lt.Documents.UI._pdfRenderingHandler._renderPageAsImage=function(a,b,c,d,e,g,f,h,i){null==b||null==b.document||!lt.Documents.PDFRender.canRenderPage(b)?i():lt.Documents.PDFProxyCache.loadPageFromDocument(b.document,b.originalPageNumber,function(j){if(null==b||null==b.document)return!1;
lt.Documents.UI._pdfRenderingHandler._renderLoadedPageAsImage(a,b,c,j,d,e,g,f,h,i);return!0},function(){i()},function(){i()})};lt.Documents.UI._pdfRenderingHandler._renderLoadedPageAsImage=function(a,b,c,d,e,g,f,h,i,j){a=f.getContext("2d");0>g&&(g=lt.Documents.PDFRender.getDeviceScaling(a));f.width=parseInt(e.get_width()*g);f.height=parseInt(e.get_height()*g);var k=b.document.documentId,l=b.originalPageNumber,c=new lt.Documents.PDFPageRenderer;c.done=function(a,c,d){lt.Documents.PDFProxyCache.releasePage(k,
l);null==b||c||null!=d?j():lt.Documents.UI.BlobHelper.supportsToBlob?lt.Documents.UI.BlobHelper.createImageFromBlob(f,i,h):(c=document.createElement("img"),c.src=f.toDataURL("image/png"),i(c));a.dispose()};c.tryRender(d,a,e.get_width(),e.get_height(),0,0,g)||(c.dispose(),j())};lt.Documents.UI._pdfRenderingHandler.prototype={_document:null,_isDisposed:!1,_view:null,_thumbs:null,_documentViewerOnError:null,_documentOnError:null,_viewPageOnError:null,_thumbnailPageOnError:null,addPages:function(a,b){if(a.length){for(var c=
0;c<a.length;c++){var d=new lt.Documents.UI._pdfPageData;d.isForPDF=lt.Documents.PDFRender.canRenderPage(a[c]);if(d.isForPDF){var e=a[c];d.viewData=new lt.Documents.UI._pdfPageViewData;d.thumbData=new lt.Documents.UI._pdfPageThumbData;d.cachePDFDocumentId=e.document.documentId;d.cachePDFOriginalPageNumber=e.originalPageNumber}this.pageData.insert(b+c,d)}null!=this._view&&null!=this._view.viewer&&this._view.viewer.invalidate(lt.LeadRectD.get_empty());null!=this._thumbs&&null!=this._thumbs.viewer&&
this._thumbs.viewer.invalidate(lt.LeadRectD.get_empty())}},removePages:function(a,b){for(var c=0;c<a.length;c++){var d=b+c,e=this.pageData[d];null!=e&&(e.isForPDF&&(null!=e.pageProxy&&lt.Documents.PDFProxyCache.releasePage(e.cachePDFDocumentId,e.cachePDFOriginalPageNumber),this._disposeItemElement(d)),e.dispose(),this.pageData.removeAt(b))}},getPDFDocument:function(a){return null==a?null:lt.Documents.PDFProxyCache.getExistingDocument(a.documentId)},refreshVisiblePages:function(){null!=this._view&&
this._view.refreshVisiblePages();null!=this._thumbs&&this._thumbs.refreshVisiblePages()},dispose:function(){if(!this._isDisposed){this._isDisposed=!0;null!=this._view&&(this._view.dispose(),this._view=null);null!=this._thumbs&&(this._thumbs.dispose(),this._thumbs=null);if(null!=this.pageData&&null!=this._document)for(var a=0;a<this.pageData.length;a++){var b=this.pageData[a];null!=b&&(b.isForPDF&&(null!=b.pageProxy&&lt.Documents.PDFProxyCache.releasePage(b.cachePDFDocumentId,b.cachePDFOriginalPageNumber),
this._disposeItemElement(a)),b.dispose(),this.pageData[a]=null)}this.pageData=this._document=null}},_disposeItemElement:function(a){if(null!=this._view&&null!=this._view.viewer){var b=this._view.viewer.get_items().get_item(a);null!=b&&b.deleteImage()}null!=this._thumbs&&null!=this._thumbs.viewer&&(b=this._thumbs.viewer.get_items().get_item(a),null!=b&&b.deleteImage())},_loadPageForViewer:function(a,b){var c=this._document.pages.get_item(a-1),d=this.pageData[a-1];if(!(null==d||null==c||!d.isForPDF)){var e=
Type.canCast(b,lt.Documents.UI._pdfViewImageViewer)?this._viewPageOnError:this._thumbnailPageOnError;lt.Documents.PDFProxyCache.loadPageFromDocument(c.document,c.originalPageNumber,ss.Delegate.create(this,function(b){if(this._isDisposed)return!1;d.pendingPageLoad=!1;d.pageProxy=b;null!=this._view&&d.viewData.needsRenderAfterAsync&&(d.viewData.needsRenderAfterAsync=!1,this._view.viewer.invalidateItemByIndex(a-1));null!=this._thumbs&&d.thumbData.needsRenderAfterAsync&&(d.thumbData.needsRenderAfterAsync=
!1,this._thumbs.viewer.invalidateItemByIndex(a-1));return!0}),e,this._documentOnError)}}};lt.Documents.UI._pdfPageBaseData=function(){this.renderer=new lt.Documents.PDFPageRenderer;this.pendingRenderImageHeight=this.pendingRenderImageWidth=this.pendingRenderTimeoutId=-1};lt.Documents.UI._pdfPageBaseData.prototype={needsRenderAfterAsync:!1,pendingRenderItem:null,isItemRemoved:!0,drawCanvas:null,_innerClean:function(a){null!=this.renderer&&(a?(this.renderer.dispose(),this.renderer=null):(this.renderer.done=
null,this.renderer.cancel()));-1!==this.pendingRenderTimeoutId&&(clearTimeout(this.pendingRenderTimeoutId),this.pendingRenderTimeoutId=-1);this.pendingRenderImageHeight=this.pendingRenderImageWidth=-1;this.pendingRenderItem=null;lt.Documents.PDFRender.disposeCanvasElement(this.drawCanvas,!1);this.drawCanvas=null}};lt.Documents.UI._pdfPageViewData=function(){this.backTileRenderer=new lt.Documents.PDFPageRenderer;lt.Documents.UI._pdfPageViewData.initializeBase(this)};lt.Documents.UI._pdfPageViewData.prototype=
{potentialCacheItem:null,renderCache:null,pdfBackTile:null,isElementCanvasVisible:!1,clean:function(a){this._innerClean(a);null!=this.renderCache&&(this.renderCache.dispose(),this.renderCache=null);this.potentialCacheItem=null;null!=this.backTileRenderer&&(a?(this.backTileRenderer.dispose(),this.backTileRenderer=null):(this.backTileRenderer.cancel(),this.backTileRenderer.done=null));this.disposePDFBackTile()},disposePDFBackTile:function(){null!=this.pdfBackTile&&(this.pdfBackTile.dispose(!1),this.pdfBackTile=
null)}};lt.Documents.UI._pdfPageThumbData=function(){lt.Documents.UI._pdfPageThumbData.initializeBase(this)};lt.Documents.UI._pdfPageThumbData.prototype={isComplete:!1,clean:function(a){this._innerClean(a);this.isComplete=!1}};lt.Documents.UI._pdfBaseImageViewer=function(a,b){this._saveInterpolationMode=lt.Controls.InterpolationMode.none;this.renderPageTimeout=lt.LTHelper.device===lt.LTDevice.desktop?25:75;this._handler=a;this.viewer=b;this._saveOwnerDraw=b.get_ownerDraw();this._saveEnableRequestAnimationFrame=
b.get_enableRequestAnimationFrame();this._saveInterpolationMode=b.get_interpolationMode();b.set_ownerDraw(!0);b.set_enableRequestAnimationFrame(!1);b.set_interpolationMode(lt.Controls.InterpolationMode.none);b.add_postRenderItem(ss.Delegate.create(this,this._imageViewer_PostRenderItem));b.add_autoItemElementsAdded(ss.Delegate.create(this,this._imageViewer_ItemAdded));b.add_autoItemElementsRemoved(ss.Delegate.create(this,this._imageViewer_ItemRemoved))};lt.Documents.UI._pdfBaseImageViewer.prototype=
{renderPageTimeout:100,_handler:null,viewer:null,_saveOwnerDraw:!1,_saveEnableRequestAnimationFrame:!1,_isDisposed:!1,_postRenderRecursiveBlock:!1,dispose:function(){this._isDisposed||(this._isDisposed=!0,this.viewer.set_ownerDraw(this._saveOwnerDraw),this.viewer.set_enableRequestAnimationFrame(this._saveEnableRequestAnimationFrame),this.viewer.set_interpolationMode(this._saveInterpolationMode),this.viewer.remove_postRenderItem(ss.Delegate.create(this,this._imageViewer_PostRenderItem)),this.viewer.remove_autoItemElementsAdded(ss.Delegate.create(this,
this._imageViewer_ItemAdded)),this.viewer.remove_autoItemElementsRemoved(ss.Delegate.create(this,this._imageViewer_ItemRemoved)),this._handler=this.viewer=null)},_imageViewer_ItemAdded:function(a,b){if(!(this._isDisposed||null==this._handler)){var c=this._handler.pageData[b.get_item().get_leadIndex()];null!=c&&c.isForPDF&&(this.getSpecificData(c).isItemRemoved=!1)}},_imageViewer_ItemRemoved:function(a,b){if(!(this._isDisposed||null==this._handler)){var c=b.get_item(),d=this._handler.pageData[c.get_leadIndex()];
if(null!=d&&d.isForPDF){var e=this.getSpecificData(d);null==e||e.isItemRemoved||(e.clean(!1),e.isItemRemoved=!0,d.viewData.isItemRemoved&&d.thumbData.isItemRemoved&&null!=d.pageProxy&&(c.get_leadIndex(),lt.Documents.PDFProxyCache.releasePage(d.cachePDFDocumentId,d.cachePDFOriginalPageNumber),d.pageProxy=null))}}},_imageViewer_PostRenderItem:function(a,b){if(!(this._isDisposed||null==this._handler)){var c=b.get_item();if(null!=c){var d=this._handler.pageData[c.get_leadIndex()];if(null!=d&&d.isForPDF){var e=
this.getSpecificData(d);null==e||this._postRenderRecursiveBlock||(this._postRenderRecursiveBlock=!0,e.isItemRemoved&&c.get_imageViewer().isItemVisible(c,lt.Controls.ImageViewerItemPart.item)&&(e.isItemRemoved=!1),d.pendingPageLoad?e.needsRenderAfterAsync=!0:null==d.pageProxy?(e.needsRenderAfterAsync=!0,d.pendingPageLoad=!0,this._handler._loadPageForViewer(c.get_leadIndex()+1,this)):!e.isItemRemoved&&!e.renderer.isTaskCancelling&&(this.createItemElements(c,d),this.renderItem(c,d,!1)),this._postRenderRecursiveBlock=
!1)}}}},refreshVisiblePages:function(){if(!(this._isDisposed||null==this._handler)&&null!=this.viewer&&this.viewer.get_items().get_count()){var a=this.viewer.getFirstVisibleItemIndex(lt.Controls.ImageViewerItemPart.item),b=this.viewer.getLastVisibleItemIndex(lt.Controls.ImageViewerItemPart.item);if(!(-1===a||-1===b)){for(var c=[];a<=b;a++)c.add(this.viewer.get_items().get_item(a));if(c.length)for(b=ss.IEnumerator.getEnumerator(c);b.moveNext();)if(c=b.current,null!=c&&(a=this._handler.pageData[c.get_leadIndex()],
null!=a&&a.isForPDF)){var d=this.getSpecificData(a);if(null!=d&&!this._postRenderRecursiveBlock&&(this._postRenderRecursiveBlock=!0,c.get_imageViewer().isItemVisible(c,lt.Controls.ImageViewerItemPart.item)))d.isItemRemoved&&(d.isItemRemoved=!1),a.pendingPageLoad?d.needsRenderAfterAsync=!0:null==a.pageProxy?(d.needsRenderAfterAsync=!0,a.pendingPageLoad=!0,this._handler._loadPageForViewer(c.get_leadIndex()+1,this)):!d.isItemRemoved&&!d.renderer.isTaskCancelling&&(this.createItemElements(c,a),this.renderItem(c,
a,!0)),this._postRenderRecursiveBlock=!1}}}}};lt.Documents.UI._pdfViewImageViewer=function(a,b){lt.Documents.UI._pdfViewImageViewer.initializeBase(this,[a,b]);this._minDrawCanvasSize$1=lt.LTHelper.device===lt.LTDevice.desktop?1E3:500;this._maxBackCanvasSize$1=lt.LTHelper.device===lt.LTDevice.desktop?1500:700};lt.Documents.UI._pdfViewImageViewer._hideElementCanvas=function(a){a.isElementCanvasVisible&&(a.isElementCanvasVisible=!1,a=a.drawCanvas,a.style.visibility="hidden",a.style.left="0",a.style.top=
"0",a.width=0,a.height=0,String.isNullOrWhiteSpace(a.style.width)||(a.style.width="0"),String.isNullOrWhiteSpace(a.style.height)||(a.style.height="0"),lt.Documents.PDFRender.removeTransitions(a))};lt.Documents.UI._pdfViewImageViewer.createRenderCanvas=function(a){var b=document.createElement("canvas");b.style.position="absolute";b.style.visibility="hidden";b.style.left="0";b.style.top="0";lt.Documents.PDFRender.removeTransitions(b);a.isElementCanvasVisible=!0;a.drawCanvas=b};lt.Documents.UI._pdfViewImageViewer._flipWidthAndHeight$1=
function(a){if(!a.get_isEmpty()){var b=a.get_width();a.set_width(a.get_height());a.set_height(b)}};lt.Documents.UI._pdfViewImageViewer._adjustSize$1=function(a,b,c){var a=lt.LeadRectD.create(0,0,a.get_width(),a.get_height()),d=Math.min(a.get_width(),c)-b.get_width(),c=Math.min(a.get_height(),c)-b.get_height();if(0<d){var e=Math.abs(b.get_left()-a.get_left());e&&(b.get_right()!==a.get_right()?b.set_x(b.get_x()-Math.min(e,d/2)):b.set_x(b.get_x()-d));b.set_width(b.get_width()+d)}0<c&&((d=Math.abs(b.get_top()-
a.get_top()))&&(b.get_bottom()!==a.get_bottom()?b.set_y(b.get_y()-Math.min(d,c/2)):b.set_y(b.get_y()-c)),b.set_height(b.get_height()+c))};lt.Documents.UI._pdfViewImageViewer._correctRotation$1=function(a,b,c,d,e){for(a=parseInt(a.get_rotateAngle());360<=a;)a-=360;for(;0>a;)a+=360;a?90===a?(lt.Documents.UI._pdfViewImageViewer._flipWidthAndHeight$1(e),e.set_x(Math.abs(Math.min(0,c.get_top()-d.get_top()))),e.set_y(Math.abs(Math.max(0,c.get_right()-d.get_right()))),lt.Documents.UI._pdfViewImageViewer._flipWidthAndHeight$1(c)):
180===a?(e.set_x(Math.abs(Math.max(0,c.get_right()-d.get_right()))),e.set_y(Math.abs(Math.max(0,c.get_bottom()-d.get_bottom())))):270===a&&(lt.Documents.UI._pdfViewImageViewer._flipWidthAndHeight$1(e),e.set_x(Math.abs(Math.max(0,c.get_bottom()-d.get_bottom()))),e.set_y(Math.abs(Math.min(0,c.get_left()-d.get_left()))),lt.Documents.UI._pdfViewImageViewer._flipWidthAndHeight$1(c)):(e.set_x(Math.abs(Math.min(0,c.get_left()-d.get_left()))),e.set_y(Math.abs(Math.min(0,c.get_top()-d.get_top()))))};lt.Documents.UI._pdfViewImageViewer.prototype=
{_minDrawCanvasSize$1:0,_maxBackCanvasSize$1:0,_maxBackCanvasQuality$1:0.8,getSpecificData:function(a){return a.viewData},renderItem:function(a,b,c){var d=b.viewData,e=this.viewer.getItemViewBounds(a,lt.Controls.ImageViewerItemPart.image,!1);e.get_width();e.get_height();var g=this.viewer.get_controlSize(),f=lt.LeadRectD.create(0,0,g.get_width(),g.get_height()),g=lt.LeadRectD.intersectRects(e,f);if(!g.get_isEmpty()){lt.Documents.UI._pdfViewImageViewer._correctRotation$1(a,d,e,f,g);lt.Documents.UI._pdfViewImageViewer._adjustSize$1(e,
g,this._minDrawCanvasSize$1);var h=lt.LeadRectD.create(100*(g.get_x()/e.get_width()),100*(g.get_y()/e.get_height()),100*(parseInt(g.get_width())/e.get_width()),100*(parseInt(g.get_height())/e.get_height())),f=new lt.Documents.UI._renderCacheItem;f.imageBoundsArea=parseInt(e.get_width()*e.get_height());f.intersection=g;f.percentIntersection=h;f.isFullCoverageSize=g.get_width()===e.get_width()&&g.get_height()===e.get_height();c=c||d.renderCache.checkCoverage(f,d.potentialCacheItem);f.isFullCoverageSize=
f.intersection.get_width()===e.get_width()&&f.intersection.get_height()===e.get_height();c?d.renderer.isTaskRunning?(d.renderer.cancel(),lt.Documents.UI._pdfViewImageViewer._hideElementCanvas(d),f=d.potentialCacheItem=null):(d.potentialCacheItem=f,this._createBackImage$1(a,b,d,e),d.pendingRenderItem=a,d.pendingRenderImageWidth=e.get_width(),d.pendingRenderImageHeight=e.get_height(),-1===d.pendingRenderTimeoutId&&(d.pendingRenderTimeoutId=setTimeout(ss.Delegate.create(this,function(){d.pendingRenderTimeoutId=
-1;this._renderPDFPage$1(b,d)}),this.renderPageTimeout))):(d.renderer.isTaskRunning||lt.Documents.UI._pdfViewImageViewer._hideElementCanvas(d),f=null)}},_renderPDFPage$1:function(a,b){if(!this._isDisposed&&!(null==b||b.isItemRemoved||b.renderer.isTaskCancelling||null==b.pendingRenderItem)){var c=b.pendingRenderImageWidth,d=b.pendingRenderImageHeight;b.pendingRenderImageHeight=-1;b.pendingRenderImageWidth=-1;var e=b.pendingRenderItem;b.pendingRenderItem=null;var g=b.drawCanvas.getContext("2d");b.drawCanvas.style.left=
b.potentialCacheItem.intersection.get_x().toString()+"px";b.drawCanvas.style.top=b.potentialCacheItem.intersection.get_y().toString()+"px";var f=lt.Documents.PDFRender.getDeviceScaling(g),h=b.potentialCacheItem.intersection.get_width(),i=b.potentialCacheItem.intersection.get_height();1!==f?(b.drawCanvas.width=parseInt(h*f),b.drawCanvas.height=parseInt(i*f),b.drawCanvas.style.width=parseInt(h)+"px",b.drawCanvas.style.height=parseInt(i)+"px"):(b.drawCanvas.width=parseInt(h),b.drawCanvas.height=parseInt(i));
b.isElementCanvasVisible=!0;b.drawCanvas.style.visibility=b.renderCache.get_hasItems()||null!=b.pdfBackTile?"hidden":"visible";b.renderer.done=ss.Delegate.create(this,function(c,d,f){c.done=null;if(this._isDisposed)c.dispose();else if(!b.isItemRemoved)if(d)this.renderItem(e,a,false);else if(f!=null)this._handler._viewPageOnError(f.message,e.get_leadIndex()+1);else{b.renderCache.addItem(b);lt.Documents.UI._pdfViewImageViewer.createRenderCanvas(b);e.get_element().appendChild(b.drawCanvas);lt.Documents.UI._pdfViewImageViewer._hideElementCanvas(b)}});
b.renderer.tryRender(a.pageProxy,g,c,d,b.potentialCacheItem.intersection.get_x(),b.potentialCacheItem.intersection.get_y(),f)}},_createBackImage$1:function(a,b,c,d){if(!(null!=c.pdfBackTile||c.backTileRenderer.isTaskRunning||c.backTileRenderer.isTaskCancelling)){var b=b.pageProxy,e=b.view[2]-b.view[0],g=b.view[3]-b.view[1];if(d.get_width()>d.get_height()&&e<g)var f=e,e=g,g=f;var e=Math.max(e,d.get_width())*this._maxBackCanvasQuality$1,d=Math.max(g,d.get_height())*this._maxBackCanvasQuality$1,h=e,
i=d,d=h/i;1<=d?(h=Math.min(this._maxBackCanvasSize$1,h),i=h/d):(i=Math.min(this._maxBackCanvasSize$1,i),h=i*d);var j=document.createElement("canvas");j.width=parseInt(h);j.height=parseInt(i);d=j.getContext("2d");g=c.backTileRenderer;g.done=ss.Delegate.create(this,function(b,d,e){b.done=null;if(this._isDisposed)b.dispose();else{c.disposePDFBackTile();if(!d)if(e!=null){c.disposePDFBackTile();this._handler._viewPageOnError(e.message,a.get_leadIndex()+1)}else{c.pdfBackTile=new lt.Documents.RenderElement(j);
b=c.pdfBackTile.element;b.style.position="absolute";b.style.left="0";b.style.top="0";b.style.width=parseInt(h)/h*100+"%";b.style.height=parseInt(i)/i*100+"%";lt.Documents.PDFRender.removeTransitions(b);b.setAttribute("back","true");a.get_element().insertBefore(b,a.get_element().firstElementChild);if(c.renderer.isTaskRunning&&c.drawCanvas!=null)c.drawCanvas.style.visibility="hidden"}}});g.tryRender(b,d,h,i,0,0,1)}},createItemElements:function(a,b){var c=b.viewData;if(!c.isItemRemoved&&null==a.get_element()){a.set_resizeElementForView(!0);
var d=document.createElement("div");d.style.overflow="hidden";c.renderCache=new lt.Documents.UI._renderCache(d,b.pageProxy.view[2],b.pageProxy.view[3]);lt.Documents.UI._pdfViewImageViewer.createRenderCanvas(c);d.appendChild(c.drawCanvas);a.set_element(d)}}};lt.Documents.UI._pdfThumbnailsImageViewer=function(a,b){lt.Documents.UI._pdfThumbnailsImageViewer.initializeBase(this,[a,b])};lt.Documents.UI._pdfThumbnailsImageViewer.prototype={getSpecificData:function(a){return a.thumbData},renderItem:function(a,
b,c){var d=b.thumbData,e=this.viewer.getItemViewBounds(a,lt.Controls.ImageViewerItemPart.image,!1);if(!e.get_isEmpty()&&!(d.isComplete&&!c||d.renderer.isTaskRunning))d.pendingRenderItem=a,d.pendingRenderImageWidth=e.get_width(),d.pendingRenderImageHeight=e.get_height(),-1===d.pendingRenderTimeoutId&&(d.pendingRenderTimeoutId=setTimeout(ss.Delegate.create(this,function(){d.pendingRenderTimeoutId=-1;this._renderPDFPage$1(b,d)}),this.renderPageTimeout))},_renderPDFPage$1:function(a,b){if(!this._isDisposed&&
!(null==b||b.isItemRemoved||b.renderer.isTaskCancelling||null==b.pendingRenderItem)){var c=b.pendingRenderImageWidth,d=b.pendingRenderImageHeight;b.pendingRenderImageWidth=-1;b.pendingRenderImageHeight=-1;var e=b.pendingRenderItem;b.pendingRenderItem=null;var g=b.drawCanvas.getContext("2d"),f=a.pageProxy,h=b.renderer;h.done=ss.Delegate.create(this,function(a,c,d){a.done=null;this._isDisposed?a.dispose():c||(null!=d?this._handler._thumbnailPageOnError(d.message,e.get_leadIndex()+1):b.isComplete=!0)});
h.tryRender(f,g,c,d,0,0,1)}},createItemElements:function(a,b){var c=b.thumbData;if(!c.isItemRemoved&&null==a.get_canvas()){c.isComplete=!1;a.set_resizeElementForView(!0);var d=document.createElement("canvas");d.style.position="absolute";d.style.left="0";d.style.top="0";lt.Documents.PDFRender.removeTransitions(d);c.drawCanvas=d;a.set_canvas(d)}}};lt.Documents.UI._renderCacheItem=function(){this.intersection=lt.LeadRectD.get_empty();this.percentIntersection=lt.LeadRectD.get_empty();this.percentMidpoint=
lt.LeadPointD.get_empty();this.zIndex=-1};lt.Documents.UI._renderCacheItem.prototype={imageBoundsArea:0,renderElement:null,isFullCoverageSize:!1,_disposed:!1,dispose:function(){this._disposed||(this._disposed=!0,this.imageBoundsArea=0,null!=this.renderElement&&(this.renderElement.dispose(!0),this.renderElement=null),this.intersection=lt.LeadRectD.get_empty(),this.percentIntersection=lt.LeadRectD.get_empty(),this.percentMidpoint=lt.LeadPointD.get_empty())}};lt.Documents.UI._renderCache=function(a,
b,c){this._toRemove=[];this._toProtect=[];this._parent=a;a=Math.max(b,c);for(b=this._maxItems=0;b<lt.Documents.UI._renderCache._maxRenderBoundaries.length;b++)if(a<=lt.Documents.UI._renderCache._maxRenderBoundaries[b]){this._maxItems=b+1;break}this._maxItems||(this._maxItems=lt.Documents.UI._renderCache._maxRenderBoundaries.length+1);this._cacheItems=Array(this._maxItems)};lt.Documents.UI._renderCache._getSpatialDistance=function(a,b){var c=Math.pow(a.percentMidpoint.get_x()-b.percentMidpoint.get_x(),
2),d=Math.pow(a.percentMidpoint.get_y()-b.percentMidpoint.get_y(),2),e=a.percentIntersection.get_width(),g=b.percentIntersection.get_width(),f=Math.pow(e-g,2),f=Math.sqrt(c+d+f),h=Math.pow(2*e-g,2),h=Math.sqrt(c+d+h),e=Math.pow(3*e-g,2),c=Math.sqrt(c+d+e);return Math.min(f,h,c)};lt.Documents.UI._renderCache.prototype={dispose:function(){if(null!=this._cacheItems){if(null!=this._parent)for(var a=0;a<this._cacheItems.length;a++){var b=this._cacheItems[a];null!=b&&(b.dispose(),this._cacheItems[a]=null)}this._cacheItems=
null}this._parent=null},_parent:null,_maxItems:3,_cacheItems:null,checkCoverage:function(a,b){var c=[],d=[],e,g;if(null!=b&&(b.isFullCoverageSize&&a.imageBoundsArea<=b.imageBoundsArea||a.imageBoundsArea===b.imageBoundsArea&&(g=lt.LeadRectD.intersectRects(b.intersection,a.intersection),lt.LeadRectD.equals(g,a.intersection))))return!1;if(a.imageBoundsArea)for(var f=0;f<this._cacheItems.length;f++)if(e=this._cacheItems[f],null!=e){if(e.isFullCoverageSize&&a.imageBoundsArea<=e.imageBoundsArea)return!1;
if(a.imageBoundsArea===e.imageBoundsArea){g=lt.LeadRectD.intersectRects(e.intersection,a.intersection);if(lt.LeadRectD.equals(g,a.intersection))return!1;g.get_isEmpty()||(c.add(f),d.add(g))}}var f=[],h=[];if(1===this._maxItems)return!0;if(0<c.length){for(var i=-1,j=a.intersection.clone(),k=a.percentIntersection.clone(),l=0;l<c.length;l++)if(i=c[l],e=this._cacheItems[i],g=d[l],lt.LeadRectD.equals(g,e.intersection))f.add(i);else if(g=lt.LeadRectD.intersectRects(j,e.intersection),j.get_top()===g.get_top()&&
j.get_bottom()===g.get_bottom()&&0<g.get_width()?(h.add(i),j.get_left()===g.get_left()?(j=lt.LeadRectD.fromLTRB(e.intersection.get_right(),j.get_top(),j.get_right(),j.get_bottom()),k=lt.LeadRectD.fromLTRB(e.percentIntersection.get_right(),k.get_top(),k.get_right(),k.get_bottom())):j.get_right()===g.get_right()&&(j=lt.LeadRectD.fromLTRB(j.get_left(),j.get_top(),e.intersection.get_left(),j.get_bottom()),k=lt.LeadRectD.fromLTRB(k.get_left(),k.get_top(),e.percentIntersection.get_left(),k.get_bottom()))):
j.get_left()===g.get_left()&&j.get_right()===g.get_right()&&0<g.get_height()&&(h.add(i),j.get_top()===g.get_top()?(j=lt.LeadRectD.fromLTRB(j.get_left(),e.intersection.get_bottom(),j.get_right(),j.get_bottom()),k=lt.LeadRectD.fromLTRB(k.get_left(),e.percentIntersection.get_bottom(),k.get_right(),k.get_bottom())):j.get_bottom()===g.get_bottom()&&(j=lt.LeadRectD.fromLTRB(j.get_left(),j.get_top(),j.get_right(),e.intersection.get_top()),k=lt.LeadRectD.fromLTRB(k.get_left(),k.get_top(),k.get_right(),e.percentIntersection.get_top()))),
!j.get_width()||!j.get_height())return!1;h.length===this._cacheItems.length?h=[]:!j.get_isEmpty()&&!k.get_isEmpty()&&(a.intersection=j,a.percentIntersection=k)}this._toRemove=f;this._toProtect=h;return!0},addItem:function(a){var b=a.potentialCacheItem,c=b.percentIntersection;b.percentMidpoint=lt.LeadPointD.create(c.get_left()+c.get_width()/2,c.get_top()+c.get_height()/2);c=[];if(0<this._toRemove.length)for(var d=0;d<this._toRemove.length;d++){var e=this._toRemove[d];c.add(this._cacheItems[e]);this._cacheItems[e]=
null}var g=-1;if(-1===g)for(d=0;d<this._cacheItems.length;d++)if(e=this._cacheItems[d],null==e){g=d;break}if(-1===g){for(var g=-1,f=0,h=-1,d=0;d<this._cacheItems.length;d++)f<this._toProtect.length&&this._toProtect[f]===d?f++:(e=this._cacheItems[d],null!=e&&(e=lt.Documents.UI._renderCache._getSpatialDistance(b,e),e>=g&&(g=e,h=d)));if(-1===h)throw new lt.InvalidOperationException("PDF Rendering Error - invalid index");c.add(this._cacheItems[h]);this._cacheItems[h]=null;g=h}if(1<this._maxItems)for(d=
0;d<this._cacheItems.length;d++)e=this._cacheItems[d],null!=e&&(f=0,f=0<=b.imageBoundsArea-e.imageBoundsArea?1:2,null!=e.renderElement?e.renderElement.element.style.zIndex=f:e.zIndex=f);this._cacheItems[g]=b;null!=b.renderElement&&(b.renderElement.dispose(!1),b.renderElement=null);b.renderElement=new lt.Documents.RenderElement(a.drawCanvas);a.drawCanvas=null;a=b.renderElement.element;a.style.left="0";a.style.top="0";a.style.width="0";lt.Documents.PDFRender.removeTransitions(a);a.style.zIndex=3;a.style.left=
b.percentIntersection.get_left()+"%";a.style.top=b.percentIntersection.get_top()+"%";a.style.width=b.percentIntersection.get_width()+"%";a.style.height=b.percentIntersection.get_height()+"%";a.style.position="absolute";a.style.visibility="";a.parentNode!==this._parent&&this._parent.appendChild(a);if(0<c.length)for(d=0;d<c.length;d++)b=c[d],null!=b&&(b.dispose(),c[d]=null);this._toRemove=[];this._toProtect=[];return!1},get_hasItems:function(){for(var a=!1,b=0;b<this._cacheItems.length;b++)if(null!=
this._cacheItems[b]){a=!0;break}return a}};lt.Documents.UI._lT_VersionNumber.registerClass("lt.Documents.UI._lT_VersionNumber");lt.Documents.UI.DocumentViewerAsyncOperation.registerClass("lt.Documents.UI.DocumentViewerAsyncOperation");lt.Documents.UI.DocumentViewerAnnotations.registerClass("lt.Documents.UI.DocumentViewerAnnotations",null,ss.IDisposable);lt.Documents.UI.ImageViewerAutomationControl.registerClass("lt.Documents.UI.ImageViewerAutomationControl",null,lt.Annotations.Core.IAnnAutomationControl,
ss.IDisposable);lt.Documents.UI.DocumentViewerBookmarks.registerClass("lt.Documents.UI.DocumentViewerBookmarks",null,ss.IDisposable);lt.Documents.UI._myDocumentBookmark.registerClass("lt.Documents.UI._myDocumentBookmark");lt.Documents.UI.DocumentViewerCommand.registerClass("lt.Documents.UI.DocumentViewerCommand");lt.Documents.UI.DocumentViewerCommands.registerClass("lt.Documents.UI.DocumentViewerCommands");lt.Documents.UI.DocumentViewerCreateOptions.registerClass("lt.Documents.UI.DocumentViewerCreateOptions");
lt.Documents.UI.DocumentViewerDiagnostics.registerClass("lt.Documents.UI.DocumentViewerDiagnostics");lt.Documents.UI.DocumentViewer.registerClass("lt.Documents.UI.DocumentViewer",null,ss.IDisposable);lt.Documents.UI.AnnotationsInteractiveMode.registerClass("lt.Documents.UI.AnnotationsInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.registerClass("lt.Documents.UI.DocumentViewerPageLinksInteractiveMode",lt.Controls.ImageViewerInteractiveMode);
lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.registerClass("lt.Documents.UI.DocumentViewerSelectTextInteractiveMode",lt.Controls.ImageViewerRubberBandInteractiveMode);lt.Documents.UI.DocumentViewerOperationEventArgs.registerClass("lt.Documents.UI.DocumentViewerOperationEventArgs",lt.LeadEventArgs);lt.Documents.UI.DocumentViewerFindText.registerClass("lt.Documents.UI.DocumentViewerFindText");lt.Documents.UI.DocumentViewerText.registerClass("lt.Documents.UI.DocumentViewerText",null,ss.IDisposable);
lt.Documents.UI.DocumentViewerMultiLineTextItem.registerClass("lt.Documents.UI.DocumentViewerMultiLineTextItem");lt.Documents.UI.DocumentViewerTextPosition.registerClass("lt.Documents.UI.DocumentViewerTextPosition");lt.Documents.UI.DocumentViewerTextItem.registerClass("lt.Documents.UI.DocumentViewerTextItem");lt.Documents.UI.DocumentViewerThumbnails.registerClass("lt.Documents.UI.DocumentViewerThumbnails",null,ss.IDisposable);lt.Documents.UI.DocumentViewerView.registerClass("lt.Documents.UI.DocumentViewerView",
null,ss.IDisposable);lt.Documents.UI.PrintDocumentOptions.registerClass("lt.Documents.UI.PrintDocumentOptions");lt.Documents.UI._documentViewerPrintHelper.registerClass("lt.Documents.UI._documentViewerPrintHelper");lt.Documents.UI.DocumentViewerPrintProgress.registerClass("lt.Documents.UI.DocumentViewerPrintProgress");lt.Documents.UI._printIndexData.registerClass("lt.Documents.UI._printIndexData");lt.Documents.UI.DocumentPrintData.registerClass("lt.Documents.UI.DocumentPrintData");lt.Documents.UI.DocumentPrintPageData.registerClass("lt.Documents.UI.DocumentPrintPageData");
lt.Documents.UI._documentViewerPrintHandler.registerClass("lt.Documents.UI._documentViewerPrintHandler");lt.Documents.UI.DocumentViewerFactory.registerClass("lt.Documents.UI.DocumentViewerFactory");lt.Documents.UI._documentViewerHelper.registerClass("lt.Documents.UI._documentViewerHelper");lt.Documents.UI._invoker.registerClass("lt.Documents.UI._invoker");lt.Documents.UI.BlobHelper.registerClass("lt.Documents.UI.BlobHelper");lt.Documents.UI._itemsWorker.registerClass("lt.Documents.UI._itemsWorker",
null,ss.IDisposable);lt.Documents.UI._annotationsWorker.registerClass("lt.Documents.UI._annotationsWorker",lt.Documents.UI._itemsWorker);lt.Documents.UI._textReviewDrawDesigner.registerClass("lt.Documents.UI._textReviewDrawDesigner",lt.Annotations.Designers.AnnDrawDesigner);lt.Documents.UI._bookmarksWorker.registerClass("lt.Documents.UI._bookmarksWorker",lt.Documents.UI._itemsWorker);lt.Documents.UI._annotationsCommands.registerClass("lt.Documents.UI._annotationsCommands");lt.Documents.UI._commandHelper.registerClass("lt.Documents.UI._commandHelper");
lt.Documents.UI._interactiveCommands.registerClass("lt.Documents.UI._interactiveCommands");lt.Documents.UI._layoutCommands.registerClass("lt.Documents.UI._layoutCommands");lt.Documents.UI._pageCommands.registerClass("lt.Documents.UI._pageCommands");lt.Documents.UI._textCommands.registerClass("lt.Documents.UI._textCommands");lt.Documents.UI._viewCommands.registerClass("lt.Documents.UI._viewCommands");lt.Documents.UI.FindTextState.registerClass("lt.Documents.UI.FindTextState");lt.Documents.UI.FindTextStateManager.registerClass("lt.Documents.UI.FindTextStateManager",
null,ss.IDisposable);lt.Documents.UI._thumbnailsGrid.registerClass("lt.Documents.UI._thumbnailsGrid",null,ss.IDisposable,ss.IDisposable);lt.Documents.UI._thumbnailsWorker.registerClass("lt.Documents.UI._thumbnailsWorker",lt.Documents.UI._itemsWorker);lt.Documents.UI._itemsWorkerProcessedEventArgs.registerClass("lt.Documents.UI._itemsWorkerProcessedEventArgs",lt.LeadEventArgs);lt.Documents.UI._itemWorkerCompletedEventArgs.registerClass("lt.Documents.UI._itemWorkerCompletedEventArgs",lt.LeadEventArgs);
lt.Documents.UI._pdfPageData.registerClass("lt.Documents.UI._pdfPageData");lt.Documents.UI._pdfRenderingHandler.registerClass("lt.Documents.UI._pdfRenderingHandler");lt.Documents.UI._pdfPageBaseData.registerClass("lt.Documents.UI._pdfPageBaseData");lt.Documents.UI._pdfPageViewData.registerClass("lt.Documents.UI._pdfPageViewData",lt.Documents.UI._pdfPageBaseData);lt.Documents.UI._pdfPageThumbData.registerClass("lt.Documents.UI._pdfPageThumbData",lt.Documents.UI._pdfPageBaseData);lt.Documents.UI._pdfBaseImageViewer.registerClass("lt.Documents.UI._pdfBaseImageViewer");
lt.Documents.UI._pdfViewImageViewer.registerClass("lt.Documents.UI._pdfViewImageViewer",lt.Documents.UI._pdfBaseImageViewer);lt.Documents.UI._pdfThumbnailsImageViewer.registerClass("lt.Documents.UI._pdfThumbnailsImageViewer",lt.Documents.UI._pdfBaseImageViewer);lt.Documents.UI._renderCacheItem.registerClass("lt.Documents.UI._renderCacheItem");lt.Documents.UI._renderCache.registerClass("lt.Documents.UI._renderCache");lt.Documents.UI._lT_VersionNumber.l_VER_PRODUCT="LEADTOOLS\u00ae for JavaScript";
lt.Documents.UI._lT_VersionNumber.l_VER_COMPANYNAME_STR="LEAD Technologies, Inc.";lt.Documents.UI._lT_VersionNumber.l_VER_LEGALTRADEMARKS_STR="LEADTOOLS\u00ae is a trademark of LEAD Technologies, Inc.";lt.Documents.UI._lT_VersionNumber.l_VER_LEGALCOPYRIGHT_STR="\u00a9 1991-2017 LEAD Technologies, Inc.";lt.Documents.UI._lT_VersionNumber.l_VER_DLLEXT=".dll";lt.Documents.UI._lT_VersionNumber.l_VER_EXEEXT=".exe";lt.Documents.UI._lT_VersionNumber.l_VER_PLATFORM="";lt.Documents.UI._lT_VersionNumber.l_VER_PLATFORM_FOR=
"";lt.Documents.UI._lT_VersionNumber.l_VER_PRODUCTNAME_STR="LEADTOOLS\u00ae for JavaScript";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_XXX="Leadtools.Xxx.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_XXX="LEADTOOLS Xxx";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_KERNEL="lt.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_KERNEL="Leadtools";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS="lt.Controls.dll";
lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS="Controls";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS_UI="lt.Documents.UI.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS_UI="Documents User Interface";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS_MEDICAL="lt.Controls.Medical.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS_MEDICAL="Medical Controls";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS=
"lt.Documents.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS="Documents";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_CORE="lt.Annotations.Core.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_CORE="Annotations Core";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_AUTOMATION="lt.Annotations.Automation.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_AUTOMATION="Annotations Automation";
lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DESIGNERS="lt.Annotations.Designers.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DESIGNERS="Annotations Designers";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_RENDERING="lt.Annotations.Rendering.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_RENDERING="Annotations Rendering";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CCOW=
"Leadtools.Ccow.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CCOW="Leadtools CCOW Library";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DOCUMENTS="Leadtools.Annotations.Documents.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DOCUMENTS="Annotations Documents";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_LEGACY="Leadtools.Annotations.Legacy.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_LEGACY=
"Annotations Legacy";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_JAVASCRIPT="Leadtools.Annotations.JavaScript.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_JAVASCRIPT="JavaScripot Annotations";lt.Documents.UI._lT_VersionNumber.l_VER_PRODUCTVERSION_DOT_STR="19.0.0.0";lt.Documents.UI._lT_VersionNumber.l_VER_FILEVERSION_DOT_STR="19.0.0.52";lt.Documents.UI.DocumentViewerCommands.pageFirst="Page.First";lt.Documents.UI.DocumentViewerCommands.pageNext=
"Page.Next";lt.Documents.UI.DocumentViewerCommands.pagePrevious="Page.Previous";lt.Documents.UI.DocumentViewerCommands.pageLast="Page.Last";lt.Documents.UI.DocumentViewerCommands.pageGoto="Page.GoTo";lt.Documents.UI.DocumentViewerCommands.viewZoomIn="View.ZoomIn";lt.Documents.UI.DocumentViewerCommands.viewZoomOut="View.ZoomOut";lt.Documents.UI.DocumentViewerCommands.viewZoomPercentage="View.ZoomPercentage";lt.Documents.UI.DocumentViewerCommands.viewFitWidth="View.FitWidth";lt.Documents.UI.DocumentViewerCommands.viewFitPage=
"View.FitPage";lt.Documents.UI.DocumentViewerCommands.viewActualSize="View.ActualSize";lt.Documents.UI.DocumentViewerCommands.viewRotateClockwise="View.RotateClockwise";lt.Documents.UI.DocumentViewerCommands.viewRotateCounterClockwise="View.RotateCounterClockwise";lt.Documents.UI.DocumentViewerCommands.viewItemType="View.ItemType";lt.Documents.UI.DocumentViewerCommands.layoutSingle="Layout.Single";lt.Documents.UI.DocumentViewerCommands.layoutVertical="Layout.Vertical";lt.Documents.UI.DocumentViewerCommands.layoutDouble=
"Layout.Double";lt.Documents.UI.DocumentViewerCommands.layoutHorizontal="Layout.Horizontal";lt.Documents.UI.DocumentViewerCommands.interactivePanZoom="Interactive.PanZoom";lt.Documents.UI.DocumentViewerCommands.interactivePan="Interactive.Pan";lt.Documents.UI.DocumentViewerCommands.interactiveZoom="Interactive.Zoom";lt.Documents.UI.DocumentViewerCommands.interactiveZoomTo="Interactive.ZoomTo";lt.Documents.UI.DocumentViewerCommands.interactiveMagnifyGlass="Interactive.MagnifyGlass";lt.Documents.UI.DocumentViewerCommands.interactiveSelectText=
"Interactive.SelectText";lt.Documents.UI.DocumentViewerCommands.interactiveAutoPan="Interactive.AutoPan";lt.Documents.UI.DocumentViewerCommands.interactiveRubberBand="Interactive.RubberBand";lt.Documents.UI.DocumentViewerCommands.textCopy="Text.Copy";lt.Documents.UI.DocumentViewerCommands.textSelectAll="Text.SelectAll";lt.Documents.UI.DocumentViewerCommands.textClearSelection="Text.ClearSelection";lt.Documents.UI.DocumentViewerCommands.textExport="Text.Export";lt.Documents.UI.DocumentViewerCommands.textFindNext=
"Text.FindNext";lt.Documents.UI.DocumentViewerCommands.textFindPrevious="Text.FindPrevious";lt.Documents.UI.DocumentViewerCommands.textGet="Text.Get";lt.Documents.UI.DocumentViewerCommands.annotationsUndo="Annotations.Undo";lt.Documents.UI.DocumentViewerCommands.annotationsRedo="Annotations.Redo";lt.Documents.UI.DocumentViewerCommands.annotationsCut="Annotations.Cut";lt.Documents.UI.DocumentViewerCommands.annotationsCopy="Annotations.Copy";lt.Documents.UI.DocumentViewerCommands.annotationsPaste="Annotations.Paste";
lt.Documents.UI.DocumentViewerCommands.annotationsDelete="Annotations.Delete";lt.Documents.UI.DocumentViewerCommands.annotationsSelectAll="Annotations.SelectAll";lt.Documents.UI.DocumentViewerCommands.annotationsClearSelection="Annotations.ClearSelection";lt.Documents.UI.DocumentViewerCommands.annotationsUserModeDesign="Annotations.UserModeDesign";lt.Documents.UI.DocumentViewerCommands.annotationsUserModeRun="Annotations.UserModeRun";lt.Documents.UI.DocumentViewerCommands.annotationsUserModeRender=
"Annotations.UserModeRender";lt.Documents.UI.DocumentViewerCommands.annotationsBringToFront="Annotations.BringToFront";lt.Documents.UI.DocumentViewerCommands.annotationsSendToBack="Annotations.SendToBack";lt.Documents.UI.DocumentViewerCommands.annotationsBringToFirst="Annotations.BringToFirst";lt.Documents.UI.DocumentViewerCommands.annotationsSendToLast="Annotations.SendToLast";lt.Documents.UI.DocumentViewerCommands.annotationsFlip="Annotations.Flip";lt.Documents.UI.DocumentViewerCommands.annotationsReverse=
"Annotations.Reverse";lt.Documents.UI.DocumentViewerCommands.annotationsGroup="Annotations.Group";lt.Documents.UI.DocumentViewerCommands.annotationsUngroup="Annotations.Ungroup";lt.Documents.UI.DocumentViewerCommands.annotationsLock="Annotations.Lock";lt.Documents.UI.DocumentViewerCommands.annotationsUnlock="Annotations.Unlock";lt.Documents.UI.DocumentViewerCommands.annotationsResetRotatePoints="Annotations.ResetRotatePoints";lt.Documents.UI.DocumentViewerCommands.annotationsAntiAlias="Annotations.AntiAlias";
lt.Documents.UI.DocumentViewerCommands.annotationsProperties="Annotations.Properties";lt.Documents.UI.DocumentViewerCommands.annotationsUseRotateThumbs="Annotations.UseRotateThumbs";lt.Documents.UI.DocumentViewerCommands.annotationsEnableToolTips="Annotations.EnableToolTips";lt.Documents.UI.DocumentViewerCommands.annotationsRenderOnThumbnails="Annotations.RenderOnThumbnails";lt.Documents.UI.DocumentViewerDiagnostics._fills=["rgba(0,0,0,0.25)","rgba(255,255,255,0.25)"];lt.Documents.UI.DocumentViewerDiagnostics._strokes=
["rgba(255,255,255,0.5)","rgba(0,0,0,0.5)"];lt.Documents.UI.DocumentViewerDiagnostics._textColor="yellow";lt.Documents.UI.DocumentViewerDiagnostics._font="10px sans-serif";lt.Documents.UI.DocumentViewer.annotationsInteractiveModeId=100;lt.Documents.UI.DocumentViewer.pageLinksInteractiveModeId=101;lt.Documents.UI.DocumentViewer.selectTextInteractiveModeId=102;lt.Documents.UI.DocumentViewerText._findTextFill="rgba(153,76,0,0.22)";lt.Documents.UI.DocumentViewerText._selectedFill="rgba(0,0,0,0.3)";lt.Documents.UI._documentViewerPrintHelper.prinT_RESOLUTION=
96;lt.Documents.UI._documentViewerPrintHelper.clasS_NAMESPACE="_ltprint_";lt.Documents.UI._documentViewerPrintHelper.clasS_ROOT="root";lt.Documents.UI._documentViewerPrintHelper.clasS_PAGE="page";lt.Documents.UI._documentViewerPrintHelper.clasS_PAGE_LAST="page_last";lt.Documents.UI._documentViewerPrintHelper.clasS_ELEMENT="el";lt.Documents.UI._documentViewerPrintHelper.clasS_ANN="ann";lt.Documents.UI._documentViewerPrintHelper.clasS_ROTATE="rotate";lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvas=
null;lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvasWidth=-1;lt.Documents.UI._documentViewerPrintHelper._dataUrlCanvasHeight=-1;lt.Documents.UI._documentViewerPrintHelper.clasS_ROOT="_ltprint_"+lt.Documents.UI._documentViewerPrintHelper.clasS_ROOT;lt.Documents.UI._documentViewerPrintHelper.clasS_PAGE="_ltprint_"+lt.Documents.UI._documentViewerPrintHelper.clasS_PAGE;lt.Documents.UI._documentViewerPrintHelper.clasS_PAGE_LAST="_ltprint_"+lt.Documents.UI._documentViewerPrintHelper.clasS_PAGE_LAST;
lt.Documents.UI._documentViewerPrintHelper.clasS_ELEMENT="_ltprint_"+lt.Documents.UI._documentViewerPrintHelper.clasS_ELEMENT;lt.Documents.UI._documentViewerPrintHelper.clasS_ROTATE="_ltprint_"+lt.Documents.UI._documentViewerPrintHelper.clasS_ROTATE;lt.Documents.UI._documentViewerPrintHelper.clasS_ANN="_ltprint_"+lt.Documents.UI._documentViewerPrintHelper.clasS_ANN;lt.Documents.UI.BlobHelper.supportsToBlob=!!HTMLCanvasElement.prototype.toBlob&&(!!window.URL||!!window.webkitURL);lt.Documents.UI.BlobHelper._urlClass=
window.URL||window.webkitURL;lt.Documents.UI.FindTextStateManager._whitespaceRegex=RegExp(/\s/);lt.Documents.UI._renderCache._maxRenderBoundaries=[400,700,1100,2200,5E3]})();


var PrintPageUnits;
(function (PrintPageUnits) {
    PrintPageUnits[PrintPageUnits["inches"] = 0] = "inches";
    PrintPageUnits[PrintPageUnits["millimeters"] = 1] = "millimeters";
})(PrintPageUnits || (PrintPageUnits = {}));

var PageOption;
(function (PageOption) {
    PageOption[PageOption["All"] = 0] = "All";
    PageOption[PageOption["Current"] = 1] = "Current";
    PageOption[PageOption["Select"] = 2] = "Select";
})(PageOption || (PageOption = {}));


var PrintPageSize = (function () {
    function PrintPageSize(name, width, height, unit) {
        var unitsPerInch = lt.Documents.Document.unitsPerInch;
        this._name = name;
        this._size = lt.LeadSizeD.create(width, height);
        this._units = unit;
        if (this._units === PrintPageUnits.inches) {
            this._documentUnits = lt.LeadSizeD.create(this._size.width * unitsPerInch, this._size.height * unitsPerInch);
        }
        else {
            this._documentUnits = lt.LeadSizeD.create(this._size.width / 25.4 * unitsPerInch, this._size.height / 25.4 * unitsPerInch);
        }
    }
    Object.defineProperty(PrintPageSize.prototype, "name", {
        get: function () { return this._name; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PrintPageSize.prototype, "size", {
        get: function () { return this._size; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PrintPageSize.prototype, "units", {
        get: function () { return this._units; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PrintPageSize.prototype, "documentUnits", {
        get: function () { return this._documentUnits; },
        enumerable: true,
        configurable: true
    });
    PrintPageSize.prototype.toString = function () {
        var unit = this._units === PrintPageUnits.inches ? "in" : "mm";
        return this._name + " (" + this._size.width + " x " + this._size.height + " " + unit + ")";
    };
    return PrintPageSize;
}());

//and here I call this one to popup the print dialog
var PrintDlg = (function () {
    function PrintDlg() {
        this._title = null;
        // Create shortcuts for the dialog UI elements 
        this.dialogUI = {
            dialog: "#printDialog",
            pageOptionRadioBtnsGroup: "input[name=pageOption]",
            currentPageLabel: "#printCurrentPageLabel",
            orientationSelectElement: "#orientation",
            pageSizeSelectElement: "#pageSize",
            showAnnotationsCheckbox: "#showAnnotations",
            removeMarginsContainer: "#removeMarginsContainer",
            removeMarginsCheckbox: "#removeMargins",
            pagesTextInput: "#pages",
            printBtn: "#doPrint"
        };
        this._sizes = [];
        this._sizes = [
            // Normal Inches Sizes
            new PrintPageSize("Letter", 8.5, 11, PrintPageUnits.inches),
            new PrintPageSize("Legal", 8.5, 14, PrintPageUnits.inches),
            new PrintPageSize("Foolscap", 8, 13, PrintPageUnits.inches),
            new PrintPageSize("Tabloid", 11, 17, PrintPageUnits.inches),
            // A Page Sizes
            new PrintPageSize("A0", 841, 1189, PrintPageUnits.millimeters),
            new PrintPageSize("A1", 594, 841, PrintPageUnits.millimeters),
            new PrintPageSize("A2", 420, 594, PrintPageUnits.millimeters),
            new PrintPageSize("A3", 297, 420, PrintPageUnits.millimeters),
            new PrintPageSize("A4", 210, 297, PrintPageUnits.millimeters),
            // Arch Page Sizes
            new PrintPageSize("Arch A", 9, 12, PrintPageUnits.inches),
            new PrintPageSize("Arch B", 12, 18, PrintPageUnits.inches),
            new PrintPageSize("Arch C", 18, 24, PrintPageUnits.inches),
            new PrintPageSize("Arch D", 24, 36, PrintPageUnits.inches),
            new PrintPageSize("Arch E", 36, 48, PrintPageUnits.inches),
            new PrintPageSize("Arch E1", 30, 42, PrintPageUnits.inches),
            new PrintPageSize("Arch E2", 26, 38, PrintPageUnits.inches),
            new PrintPageSize("Arch E3", 27, 39, PrintPageUnits.inches),
        ];
        this.Init();
    }
    Object.defineProperty(PrintDlg.prototype, "printClick", {
        set: function (value) { this._printClick = value; },
        enumerable: true,
        configurable: true
    });
    PrintDlg.prototype.Init = function () {
        $(this.dialogUI.pagesTextInput).bind("click", $.proxy(this.pagesTextInput_Click, this));
        $(this.dialogUI.printBtn).bind("click", $.proxy(this.printBtn_Click, this));
        if (lt.LTHelper.browser === lt.LTBrowser.safari) {
            // RemoveMargins will have no effect in safari, so let's just hide it.
            $(this.dialogUI.removeMarginsContainer).hide();
        }
        // Add all the page sizes
        var $select = $(this.dialogUI.pageSizeSelectElement);
        $select.html("");
        this._sizes.forEach(function (entry) {
            var toString = entry.toString();
            var $option = $(document.createElement("option")).text(toString).val(toString);
            $select.append($option);
        });
    };
    PrintDlg.prototype.show = function (doc, currentPageNumber, orientation) {
        this._title = doc.name || null;
        this._pageCount = leadtools.documentViewer.pageCount;
        this._currentPageNumber = currentPageNumber;
        $(this.dialogUI.currentPageLabel).text(" (Page " + currentPageNumber + ")");
        $(this.dialogUI.orientationSelectElement).val(orientation.toString());
        $(this.dialogUI.dialog).modal();
    };
    PrintDlg.prototype.pagesTextInput_Click = function (e) {
        $(this.dialogUI.pageOptionRadioBtnsGroup).prop('checked', false);
        $(this.dialogUI.pageOptionRadioBtnsGroup + "[value=" + PageOption.Select + "]").prop('checked', true);
    };
    PrintDlg.prototype.validateInput = function (input) {
        input = input.trim();
        if (input.search(new RegExp("(([0-9]|[,*])+-?)")) == 0) {
            // Start and end with a number
            if (input.search(new RegExp("^([0-9])")) == 0 && input.search(new RegExp("([0-9]$)")) != -1) {
                return true;
            }
            return false;
        }
        return false;
    };
    PrintDlg.prototype.validatePageNumbersRange = function (pageNumbers) {
        for (var i = 0; i < pageNumbers.length; i++) {
            if (pageNumbers[i] > leadtools.documentViewer.pageCount)
                return false;
        }
        return true;
    };
    PrintDlg.prototype.parseInput = function (input) {
        var inputArray = input.split(",");
        var pageNumbers = new Array();
        for (var index in inputArray) {
            if (inputArray.hasOwnProperty(index)) {
                // Add range
                if (inputArray[index].indexOf("-") != -1) {
                    var start = parseInt(inputArray[index].split("-")[0]);
                    var end = parseInt(inputArray[index].split("-")[1]);
                    for (var i = start; i <= end; i++) {
                        if (pageNumbers.indexOf(i) == -1) {
                            pageNumbers.push(i);
                        }
                    }
                }
                else {
                    // Add a single page
                    if (pageNumbers.indexOf(i) == -1) {
                        var pageNum = inputArray[index].trim();
                        pageNumbers.push(parseInt(pageNum));
                    }
                }
            }
        }
        return pageNumbers;
    };
    PrintDlg.prototype.printBtn_Click = function (e) {
        //clear input range;
        var options = new lt.Documents.UI.PrintDocumentOptions();
        var pageOption = $(this.dialogUI.pageOptionRadioBtnsGroup).filter(':checked').val();
        if (pageOption != PageOption.All) {
            if (pageOption == PageOption.Current) {
                var curpage = this._currentPageNumber - 1;
                options.pagesList.push(curpage);
            }
            else {
                var input = $(this.dialogUI.pagesTextInput).val();
                var isValidInput = this.validateInput(input);
                if (isValidInput) {
                    var pageNumbers = this.parseInput(input);
                    var inRange = this.validatePageNumbersRange(pageNumbers);
                    if (inRange) {
                        for (var i = 0; i < pageNumbers.length; i++) {
                            options.pagesList.push(pageNumbers[i] - 1);
                        }
                    }
                    else {
                        //window.alert("Out of range.\nPlease enter a page number between 1 and " + this._pageCount);
                        //showAjaxReturnMessage(vrHTMLViewerRes["msgPrtOutofRange"] + " " + this._pageCount, "w");
                        $(this.dialogUI.pagesTextInput).val("");
                        return;
                    }
                }
                else {
                    //window.alert("Please enter a valid page range.");
                    showAjaxReturnMessage(vrHTMLViewerRes["msgPrtValidpagerange"], "w");
                    $(this.dialogUI.pagesTextInput).val("");
                    return;
                }
            }
        }
        // Uncomment to manage client rendering pixel size (more pixels means more memory usage - default is 2000px, recommended max is 4000)
        //options.clientRenderSizePixels = 4000;
        var printElement = "";
        if (lt.LTHelper.OS == lt.LTOS.android && lt.LTHelper.browser == lt.LTBrowser.chrome) {
            // For Android Chrome: use the printDIV instead of iframe element - window.print prints the whole screen regardless
            printElement = document.getElementById("printDiv");
        }
        else {
            // Use iframe element directly
            printElement = document.getElementById("printFrame");
            if (lt.LTHelper.OS == lt.LTOS.iOS && printElement) {
                // Prevent issues with iOS post-print UI
                printElement.style.position = "relative";
            }
        }

        options.title = this._title;
        options.orientation = parseInt($(this.dialogUI.orientationSelectElement).val());
        var selectedIndex = parseInt($(this.dialogUI.pageSizeSelectElement).prop("selectedIndex"));
        var entry = this._sizes[selectedIndex];
        options.pageSize = entry.documentUnits;
        options.showAnnotations = $(this.dialogUI.showAnnotationsCheckbox).is(":checked");
        options.removeMargins = $(this.dialogUI.removeMarginsCheckbox).is(":checked");
        $(this.dialogUI.dialog).modal("hide");
        $("#spinningWheel").show();
        options.parent = printElement;
        var printProgress = leadtools.documentViewer.print(options).done(function (data) {
            $("#spinningWheel").hide();
        }).fail(function (err) {
            //showAjaxReturnMessage(err, "e");
            $("#spinningWheel").hide();
            //window.alert(err);
        })
    };
    return PrintDlg;
}());